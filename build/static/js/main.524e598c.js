/*! For license information please see main.524e598c.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},199:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=t.prototype,i=function(e){return e&&(e.indexOf?e:e.s)},o=function(e,t,n,r,o){var s=e.name?e:e.$locale(),a=i(s[t]),A=i(s[n]),c=a||A.map((function(e){return e.slice(0,r)}));if(!o)return c;var l=s.weekStart;return c.map((function(e,t){return c[(t+(l||0))%7]}))},s=function(){return n.Ls[n.locale()]},a=function(e,t){return e.formats[t]||function(e){return e.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}(e.formats[t.toUpperCase()])},A=function(){var e=this;return{months:function(t){return t?t.format("MMMM"):o(e,"months")},monthsShort:function(t){return t?t.format("MMM"):o(e,"monthsShort","months",3)},firstDayOfWeek:function(){return e.$locale().weekStart||0},weekdays:function(t){return t?t.format("dddd"):o(e,"weekdays")},weekdaysMin:function(t){return t?t.format("dd"):o(e,"weekdaysMin","weekdays",2)},weekdaysShort:function(t){return t?t.format("ddd"):o(e,"weekdaysShort","weekdays",3)},longDateFormat:function(t){return a(e.$locale(),t)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};r.localeData=function(){return A.bind(this)()},n.localeData=function(){var e=s();return{firstDayOfWeek:function(){return e.weekStart||0},weekdays:function(){return n.weekdays()},weekdaysShort:function(){return n.weekdaysShort()},weekdaysMin:function(){return n.weekdaysMin()},months:function(){return n.months()},monthsShort:function(){return n.monthsShort()},longDateFormat:function(t){return a(e,t)},meridiem:e.meridiem,ordinal:e.ordinal}},n.months=function(){return o(s(),"months")},n.monthsShort=function(){return o(s(),"monthsShort","months",3)},n.weekdays=function(e){return o(s(),"weekdays",null,null,e)},n.weekdaysShort=function(e){return o(s(),"weekdaysShort","weekdays",3,e)},n.weekdaysMin=function(e){return o(s(),"weekdaysMin","weekdays",2,e)}}}()},310:(e,t,n)=>{var r=n(1817),i=n(5990),o=n(6140);e.exports=function(e){return"function"!=typeof e.constructor||o(e)?{}:r(i(e))}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},449:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Set]"==r(e)}},474:(e,t,n)=>{var r=n(3204),i=n(8122),o=n(6571);e.exports=function(e){return o(e)?r(e,!0):i(e)}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},640:function(e){e.exports=function(){"use strict";var e="minute",t=/[+-]\d\d(?::?\d\d)?/g,n=/([+-]|\d\d)/g;return function(r,i,o){var s=i.prototype;o.utc=function(e){return new i({date:e,utc:!0,args:arguments})},s.utc=function(t){var n=o(this.toDate(),{locale:this.$L,utc:!0});return t?n.add(this.utcOffset(),e):n},s.local=function(){return o(this.toDate(),{locale:this.$L,utc:!1})};var a=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),a.call(this,e)};var A=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else A.call(this)};var c=s.utcOffset;s.utcOffset=function(r,i){var o=this.$utils().u;if(o(r))return this.$u?0:o(this.$offset)?c.call(this):this.$offset;if("string"==typeof r&&(r=function(e){void 0===e&&(e="");var r=e.match(t);if(!r)return null;var i=(""+r[0]).match(n)||["-",0,0],o=i[0],s=60*+i[1]+ +i[2];return 0===s?0:"+"===o?s:-s}(r),null===r))return this;var s=Math.abs(r)<=16?60*r:r,a=this;if(i)return a.$offset=s,a.$u=0===r,a;if(0!==r){var A=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(a=this.local().add(s+A,e)).$offset=s,a.$x.$localOffset=A}else a=this.utc();return a};var l=s.format;s.format=function(e){var t=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return l.call(this,t)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var u=s.toDate;s.toDate=function(e){return"s"===e&&this.$offset?o(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():u.call(this)};var d=s.diff;s.diff=function(e,t,n){if(e&&this.$u===e.$u)return d.call(this,e,t,n);var r=this.local(),i=o(e).local();return d.call(r,i,t,n)}}}()},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},726:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,o,s,a){var A=-1,c=t.length;for(o||(o=i),a||(a=[]);++A<c;){var l=t[A];n>0&&o(l)?n>1?e(l,n-1,o,s,a):r(a,l):s||(a[a.length]=l)}return a}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),o=n(9841),s=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,A=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=a.test(e);return n||A.test(e)?c(e.slice(2),n?2:8):s.test(e)?NaN:+e}},819:(e,t,n)=>{var r=n(755);e.exports=function(e){return(null==e?0:e.length)?r(e,1):[]}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),o=n(9194),s=n(6686);e.exports=function(e,t,n){if(!s(n))return!1;var a=typeof t;return!!("number"==a?i(n)&&o(t,n.length):"string"==a&&t in n)&&r(n[t],e)}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1104:(e,t,n)=>{var r=n(6614),i=n(8673);e.exports=function(e,t){return e&&r(t,i(t),e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!A.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:a.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},1163:(e,t,n)=>{var r=n(5647),i=n(3211),o=n(929),s=n(474),a=Object.prototype,A=a.hasOwnProperty,c=r((function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&o(t[0],t[1],c)&&(r=1);++n<r;)for(var l=t[n],u=s(l),d=-1,h=u.length;++d<h;){var f=u[d],p=e[f];(void 0===p||i(p,a[f])&&!A.call(e,f))&&(e[f]=l[f])}return e}));e.exports=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),o=n(6832),s=o&&o.isTypedArray,a=s?i(s):r;e.exports=a},1295:(e,t,n)=>{var r=n(9812),i=r?r.prototype:void 0,o=i?i.valueOf:void 0;e.exports=function(e){return o?Object(o.call(e)):{}}},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1488:(e,t,n)=>{var r=n(149),i=n(7132),o=n(8140),s=n(5324),a=n(6614),A=n(6761),c=n(5857),l=n(8592),u=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=s(t,e),c||(c=t.length>1),t})),a(e,l(e),n),c&&(n=i(n,7,A));for(var u=t.length;u--;)o(n,t[u]);return n}));e.exports=u},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},1516:(e,t,n)=>{var r=n(2929);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},1525:function(e){e.exports=function(){"use strict";return function(e,t,n){t.prototype.isBetween=function(e,t,r,i){var o=n(e),s=n(t),a="("===(i=i||"()")[0],A=")"===i[1];return(a?this.isAfter(o,r):!this.isBefore(o,r))&&(A?this.isBefore(s,r):!this.isAfter(s,r))||(a?this.isBefore(o,r):!this.isAfter(o,r))&&(A?this.isAfter(s,r):!this.isBefore(s,r))}}}()},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1676:(e,t,n)=>{var r=n(2969),i=n(3871);e.exports=function(e,t){return t.length<2?e:r(e,i(t,0,-1))}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),o=n(9096);e.exports=function(e,t){var n={};return t=o(t,3),i(e,(function(e,i,o){r(n,i,t(e,i,o))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1817:(e,t,n)=>{var r=n(6686),i=Object.create,o=function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=o},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},1980:e=>{e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2285:e=>{var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var a,A=[],c=!1,l=-1;function u(){c&&a&&(c=!1,a.length?A=a.concat(A):l=-1,A.length&&d())}function d(){if(!c){var e=s(u);c=!0;for(var t=A.length;t;){for(a=A,A=[];++l<t;)a&&a[l].run();l=-1,t=A.length}a=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function f(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];A.push(new h(e,t)),1!==A.length||c||s(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=f,r.addListener=f,r.once=f,r.off=f,r.removeListener=f,r.removeAllListeners=f,r.emit=f,r.prependListener=f,r.prependOnceListener=f,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),o=n(2761),s=Function.prototype,a=Object.prototype,A=s.toString,c=a.hasOwnProperty,l=A.call(Object);e.exports=function(e){if(!o(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==l}},2330:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,s=r.useEffect,a=r.useLayoutEffect,A=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return a((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),s((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),A(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},2520:(e,t,n)=>{var r=n(5816),i=n(9096),o=n(9140),s=Math.max;e.exports=function(e,t,n){var a=null==e?0:e.length;if(!a)return-1;var A=null==n?0:o(n);return A<0&&(A=s(a+A,0)),r(e,i(t,3),A)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),o=n(9096),s=n(8883),a=n(320),A=n(7574),c=n(5893),l=n(3279),u=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return u(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[l];var d=-1;t=r(t,A(o));var h=s(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++d,value:e}}));return a(h,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(s.test(e)||!o.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2717:(e,t,n)=>{var r=n(726),i=n(1817),o=n(4664),s=n(9096),a=n(5990),A=n(4052),c=n(4543),l=n(1629),u=n(6686),d=n(1268);e.exports=function(e,t,n){var h=A(e),f=h||c(e)||d(e);if(t=s(t,4),null==n){var p=e&&e.constructor;n=f?h?new p:[]:u(e)&&l(p)?i(a(e)):{}}return(f?r:o)(e,(function(e,r,i){return t(n,e,r,i)})),n}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function A(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},f={};function p(e,t,n,r,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!u.call(f,e)||!u.call(h,e)&&(d.test(e)?f[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,v);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),C=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),U=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var Q=Symbol.iterator;function P(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=Q&&e[Q]||e["@@iterator"])?e:null}var O,N=Object.assign;function D(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var M=!1;function L(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var A="\n"+i[s].replace(" at new "," at ");return e.displayName&&A.includes("<anonymous>")&&(A=A.replace("<anonymous>",e.displayName)),A}}while(1<=s&&0<=a);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function H(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function j(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case B:return"Fragment";case C:return"Portal";case E:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case U:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case F:return null!==(t=e.displayName||null)?t:j(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return j(e(t))}catch(n){}}return null}function K(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return j(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function W(e,t){var n=t.checked;return N({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return N({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function oe(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ae(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,ue=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=N({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Be=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),Ce(e.stateNode,e.type,t))}}function ke(e){Be?Se?Se.push(e):Se=[e]:Be=e}function xe(){if(Be){var e=Be,t=Se;if(Se=Be=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Ue=!1;function Fe(e,t,n){if(Ue)return e(t,n);Ue=!0;try{return Te(e,t,n)}finally{Ue=!1,(null!==Be||null!==Se)&&(Ie(),xe())}}function _e(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Re=!1;if(l)try{var Qe={};Object.defineProperty(Qe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Qe,Qe),window.removeEventListener("test",Qe,Qe)}catch(le){Re=!1}function Pe(e,t,n,r,i,o,s,a,A){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Oe=!1,Ne=null,De=!1,Me=null,Le={onError:function(e){Oe=!0,Ne=e}};function He(e,t,n,r,i,o,s,a,A){Oe=!1,Ne=null,Pe.apply(Le,arguments)}function je(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ke(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(je(e)!==e)throw Error(o(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=je(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ve(i),e;if(s===r)return Ve(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,A=i.child;A;){if(A===n){a=!0,n=i,r=s;break}if(A===r){a=!0,r=i,n=s;break}A=A.sibling}if(!a){for(A=s.child;A;){if(A===n){a=!0,n=s,r=i;break}if(A===r){a=!0,r=s,n=i;break}A=A.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,ze=i.unstable_cancelCallback,We=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/At|0)|0},at=Math.log,At=Math.LN2;var ct=64,lt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~i;0!==a?r=ut(a):0!==(o&=s)&&(r=ut(o))}else 0!==(s=n&~i)?r=ut(s):0!==o&&(r=ut(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-st(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Ct,Bt,St,Et,kt=!1,xt=[],Tt=null,It=null,Ut=null,Ft=new Map,_t=new Map,Rt=[],Qt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ut=null;break;case"pointerover":case"pointerout":Ft.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":_t.delete(t.pointerId)}}function Ot(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Nt(e){var t=vi(e.target);if(null!==t){var n=je(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ke(n)))return e.blockedOn=t,void Et(e.priority,(function(){Bt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Mt(e,t,n){Dt(e)&&n.delete(t)}function Lt(){kt=!1,null!==Tt&&Dt(Tt)&&(Tt=null),null!==It&&Dt(It)&&(It=null),null!==Ut&&Dt(Ut)&&(Ut=null),Ft.forEach(Mt),_t.forEach(Mt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lt)))}function jt(e){function t(t){return Ht(t,e)}if(0<xt.length){Ht(xt[0],e);for(var n=1;n<xt.length;n++){var r=xt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Ht(Tt,e),null!==It&&Ht(It,e),null!==Ut&&Ht(Ut,e),Ft.forEach(t),_t.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Nt(n),null===n.blockedOn&&Rt.shift()}var Kt=w.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,r){var i=yt,o=Kt.transition;Kt.transition=null;try{yt=1,Gt(e,t,n,r)}finally{yt=i,Kt.transition=o}}function $t(e,t,n,r){var i=yt,o=Kt.transition;Kt.transition=null;try{yt=4,Gt(e,t,n,r)}finally{yt=i,Kt.transition=o}}function Gt(e,t,n,r){if(Vt){var i=Wt(e,t,n,r);if(null===i)Vr(e,t,r,zt,n),Pt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return It=Ot(It,e,t,n,r,i),!0;case"mouseover":return Ut=Ot(Ut,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ft.set(o,Ot(Ft.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,_t.set(o,Ot(_t.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Pt(e,r),4&t&&-1<Qt.indexOf(e)){for(;null!==i;){var o=yi(i);if(null!==o&&bt(o),null===(o=Wt(e,t,n,r))&&Vr(e,t,r,zt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var zt=null;function Wt(e,t,n,r){if(zt=null,null!==(e=vi(e=be(r))))if(null===(t=je(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ke(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return N(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,An,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),un=N({},cn,{view:0,detail:0}),dn=on(un),hn=N({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==An&&(An&&"mousemove"===e.type?(sn=e.screenX-An.screenX,an=e.screenY-An.screenY):an=sn=0,An=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=on(hn),pn=on(N({},hn,{dataTransfer:0})),gn=on(N({},un,{relatedTarget:0})),mn=on(N({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=N({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=on(vn),wn=on(N({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bn[e])&&!!t[e]}function En(){return Sn}var kn=N({},un,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),xn=on(kn),Tn=on(N({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=on(N({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Un=on(N({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Fn=N({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_n=on(Fn),Rn=[9,13,27,32],Qn=l&&"CompositionEvent"in window,Pn=null;l&&"documentMode"in document&&(Pn=document.documentMode);var On=l&&"TextEvent"in window&&!Pn,Nn=l&&(!Qn||Pn&&8<Pn&&11>=Pn),Dn=String.fromCharCode(32),Mn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function qn(e,t,n,r){ke(r),0<(t=$r(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Gn=null;function zn(e){Dr(e,0)}function Wn(e){if(G(wi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Gn=$n=null)}function nr(e){if("value"===e.propertyName&&Wn(Gn)){var t=[];qn(t,Gn,e,be(e)),Fe(zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Wn(Gn)}function or(e,t){if("click"===e)return Wn(t)}function sr(e,t){if("input"===e||"change"===e)return Wn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Ar(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!u.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=z((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var s=lr(n,r);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,vr=null,yr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==gr||gr!==z(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&Ar(vr,r)||(vr=r,0<(r=$r(mr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Br={},Sr={};function Er(e){if(Br[e])return Br[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Br[e]=n[t];return e}l&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var kr=Er("animationend"),xr=Er("animationiteration"),Tr=Er("animationstart"),Ir=Er("transitionend"),Ur=new Map,Fr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _r(e,t){Ur.set(e,t),A(t,[e])}for(var Rr=0;Rr<Fr.length;Rr++){var Qr=Fr[Rr];_r(Qr.toLowerCase(),"on"+(Qr[0].toUpperCase()+Qr.slice(1)))}_r(kr,"onAnimationEnd"),_r(xr,"onAnimationIteration"),_r(Tr,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),A("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),A("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),A("onBeforeInput",["compositionend","keypress","textInput","paste"]),A("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),A("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Pr));function Nr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,s,a,A,c){if(He.apply(this,arguments),Oe){if(!Oe)throw Error(o(198));var l=Ne;Oe=!1,Ne=null,De||(De=!0,Me=l)}}(r,t,void 0,e),e.currentTarget=null}function Dr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],A=a.instance,c=a.currentTarget;if(a=a.listener,A!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=A}else for(s=0;s<r.length;s++){if(A=(a=r[s]).instance,c=a.currentTarget,a=a.listener,A!==o&&i.isPropagationStopped())break e;Nr(i,a,c),o=A}}}if(De)throw e=Me,De=!1,Me=null,e}function Mr(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||(Kr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),Kr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Hr]){e[Hr]=!0,s.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Lr("selectionchange",!1,t))}}function Kr(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=$t;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=r.return;null!==s;){var A=s.tag;if((3===A||4===A)&&((A=s.stateNode.containerInfo)===i||8===A.nodeType&&A.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=vi(a)))return;if(5===(A=s.tag)||6===A){r=o=s;continue e}a=a.parentNode}}r=r.return}Fe((function(){var r=o,i=be(n),s=[];e:{var a=Ur.get(e);if(void 0!==a){var A=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":A=xn;break;case"focusin":c="focus",A=gn;break;case"focusout":c="blur",A=gn;break;case"beforeblur":case"afterblur":A=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=In;break;case kr:case xr:case Tr:A=mn;break;case Ir:A=Un;break;case"scroll":A=dn;break;case"wheel":A=_n;break;case"copy":case"cut":case"paste":A=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Tn}var l=0!==(4&t),u=!l&&"scroll"===e,d=l?null!==a?a+"Capture":null:a;l=[];for(var h,f=r;null!==f;){var p=(h=f).stateNode;if(5===h.tag&&null!==p&&(h=p,null!==d&&(null!=(p=_e(f,d))&&l.push(qr(f,p,h)))),u)break;f=f.return}0<l.length&&(a=new A(a,c,null,n,i),s.push({event:a,listeners:l}))}}if(0===(7&t)){if(A="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(A||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,A?(A=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(u=je(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(A=null,c=r),A!==c)){if(l=fn,p="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,p="onPointerLeave",d="onPointerEnter",f="pointer"),u=null==A?a:wi(A),h=null==c?a:wi(c),(a=new l(p,f+"leave",A,n,i)).target=u,a.relatedTarget=h,p=null,vi(i)===r&&((l=new l(d,f+"enter",c,n,i)).target=h,l.relatedTarget=u,p=l),u=p,A&&c)e:{for(d=c,f=0,h=l=A;h;h=Gr(h))f++;for(h=0,p=d;p;p=Gr(p))h++;for(;0<f-h;)l=Gr(l),f--;for(;0<h-f;)d=Gr(d),h--;for(;f--;){if(l===d||null!==d&&l===d.alternate)break e;l=Gr(l),d=Gr(d)}l=null}else l=null;null!==A&&zr(s,a,A,l,!1),null!==c&&null!==u&&zr(s,u,c,l,!0)}if("select"===(A=(a=r?wi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===A&&"file"===a.type)var g=Jn;else if(Vn(a))if(Yn)g=sr;else{g=ir;var m=rr}else(A=a.nodeName)&&"input"===A.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=or);switch(g&&(g=g(e,r))?qn(s,g,n,i):(m&&m(e,a,r),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=r?wi(r):window,e){case"focusin":(Vn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,vr=null);break;case"focusout":vr=mr=gr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,wr(s,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":wr(s,n,i)}var v;if(Qn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else jn?Ln(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(Nn&&"ko"!==n.locale&&(jn||"onCompositionStart"!==y?"onCompositionEnd"===y&&jn&&(v=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(m=$r(r,y)).length&&(y=new wn(y,e,null,n,i),s.push({event:y,listeners:m}),v?y.data=v:null!==(v=Hn(n))&&(y.data=v))),(v=On?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Mn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Qn&&Ln(e,t)?(e=en(),Zt=Xt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),s.push({event:i,listeners:r}),i.data=v))}Dr(s,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=_e(e,n))&&r.unshift(qr(e,o,i)),null!=(o=_e(e,t))&&r.push(qr(e,o,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var o=t._reactName,s=[];null!==n&&n!==r;){var a=n,A=a.alternate,c=a.stateNode;if(null!==A&&A===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(A=_e(n,o))&&s.unshift(qr(n,A,a)):i||null!=(A=_e(n,o))&&s.push(qr(n,A,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Wr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Wr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function Ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void jt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);jt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ui=Math.random().toString(36).slice(2),di="__reactFiber$"+ui,hi="__reactProps$"+ui,fi="__reactContainer$"+ui,pi="__reactEvents$"+ui,gi="__reactListeners$"+ui,mi="__reactHandles$"+ui;function vi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[hi]||null}var Ci=[],Bi=-1;function Si(e){return{current:e}}function Ei(e){0>Bi||(e.current=Ci[Bi],Ci[Bi]=null,Bi--)}function ki(e,t){Bi++,Ci[Bi]=e.current,e.current=t}var xi={},Ti=Si(xi),Ii=Si(!1),Ui=xi;function Fi(e,t){var n=e.type.contextTypes;if(!n)return xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function _i(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){Ei(Ii),Ei(Ti)}function Qi(e,t,n){if(Ti.current!==xi)throw Error(o(168));ki(Ti,t),ki(Ii,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,K(e)||"Unknown",i));return N({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xi,Ui=Ti.current,ki(Ti,e),ki(Ii,Ii.current),!0}function Ni(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Pi(e,t,Ui),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ii),Ei(Ti),ki(Ti,e)):Ei(Ii),ki(Ii,n)}var Di=null,Mi=!1,Li=!1;function Hi(e){null===Di?Di=[e]:Di.push(e)}function ji(){if(!Li&&null!==Di){Li=!0;var e=0,t=yt;try{var n=Di;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Di=null,Mi=!1}catch(i){throw null!==Di&&(Di=Di.slice(e+1)),Ge(Ze,ji),i}finally{yt=t,Li=!1}}return null}var Ki=[],Vi=0,qi=null,$i=0,Gi=[],zi=0,Wi=null,Ji=1,Yi="";function Xi(e,t){Ki[Vi++]=$i,Ki[Vi++]=qi,qi=e,$i=t}function Zi(e,t,n){Gi[zi++]=Ji,Gi[zi++]=Yi,Gi[zi++]=Wi,Wi=e;var r=Ji;e=Yi;var i=32-st(r)-1;r&=~(1<<i),n+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Ji=1<<32-st(t)+i|n<<i|r,Yi=o+e}else Ji=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===qi;)qi=Ki[--Vi],Ki[Vi]=null,$i=Ki[--Vi],Ki[Vi]=null;for(;e===Wi;)Wi=Gi[--zi],Gi[zi]=null,Yi=Gi[--zi],Gi[zi]=null,Ji=Gi[--zi],Gi[zi]=null}var no=null,ro=null,io=!1,oo=null;function so(e,t){var n=Fc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ao(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Wi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Fc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function Ao(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!ao(e,t)){if(Ao(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&ao(e,t)?so(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(Ao(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function uo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(Ao(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function fo(){ro=no=null,io=!1}function po(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function vo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function yo(e){return(0,e._init)(e._payload)}function wo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function A(e,t,n,r){return null===t||6!==t.tag?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===B?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===_&&yo(o)===t.type)?((r=i(t,n.props)).ref=mo(e,t,n),r.return=e,r):((r=Qc(n.type,n.key,n.props,null,e.mode,r)).ref=mo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function u(e,t,n,r,o){return null===t||7!==t.tag?((t=Pc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Nc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Qc(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case C:return(t=Dc(t,e.mode,n)).return=e,t;case _:return d(e,(0,t._init)(t._payload),n)}if(te(t)||P(t))return(t=Pc(t,e.mode,n,null)).return=e,t;vo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:A(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case C:return n.key===i?l(e,t,n,r):null;case _:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||P(n))return null!==i?null:u(e,t,n,r,null);vo(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return A(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||P(r))return u(t,e=e.get(n)||null,r,i,null);vo(t,r)}return null}function p(i,o,a,A){for(var c=null,l=null,u=o,p=o=0,g=null;null!==u&&p<a.length;p++){u.index>p?(g=u,u=null):g=u.sibling;var m=h(i,u,a[p],A);if(null===m){null===u&&(u=g);break}e&&u&&null===m.alternate&&t(i,u),o=s(m,o,p),null===l?c=m:l.sibling=m,l=m,u=g}if(p===a.length)return n(i,u),io&&Xi(i,p),c;if(null===u){for(;p<a.length;p++)null!==(u=d(i,a[p],A))&&(o=s(u,o,p),null===l?c=u:l.sibling=u,l=u);return io&&Xi(i,p),c}for(u=r(i,u);p<a.length;p++)null!==(g=f(u,i,p,a[p],A))&&(e&&null!==g.alternate&&u.delete(null===g.key?p:g.key),o=s(g,o,p),null===l?c=g:l.sibling=g,l=g);return e&&u.forEach((function(e){return t(i,e)})),io&&Xi(i,p),c}function g(i,a,A,c){var l=P(A);if("function"!==typeof l)throw Error(o(150));if(null==(A=l.call(A)))throw Error(o(151));for(var u=l=null,p=a,g=a=0,m=null,v=A.next();null!==p&&!v.done;g++,v=A.next()){p.index>g?(m=p,p=null):m=p.sibling;var y=h(i,p,v.value,c);if(null===y){null===p&&(p=m);break}e&&p&&null===y.alternate&&t(i,p),a=s(y,a,g),null===u?l=y:u.sibling=y,u=y,p=m}if(v.done)return n(i,p),io&&Xi(i,g),l;if(null===p){for(;!v.done;g++,v=A.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,g),null===u?l=v:u.sibling=v,u=v);return io&&Xi(i,g),l}for(p=r(i,p);!v.done;g++,v=A.next())null!==(v=f(p,i,g,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?g:v.key),a=s(v,a,g),null===u?l=v:u.sibling=v,u=v);return e&&p.forEach((function(e){return t(i,e)})),io&&Xi(i,g),l}return function e(r,o,s,A){if("object"===typeof s&&null!==s&&s.type===B&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var c=s.key,l=o;null!==l;){if(l.key===c){if((c=s.type)===B){if(7===l.tag){n(r,l.sibling),(o=i(l,s.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&yo(c)===l.type){n(r,l.sibling),(o=i(l,s.props)).ref=mo(r,l,s),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}s.type===B?((o=Pc(s.props.children,r.mode,A,s.key)).return=r,r=o):((A=Qc(s.type,s.key,s.props,null,r.mode,A)).ref=mo(r,o,s),A.return=r,r=A)}return a(r);case C:e:{for(l=s.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){n(r,o.sibling),(o=i(o,s.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Dc(s,r.mode,A)).return=r,r=o}return a(r);case _:return e(r,o,(l=s._init)(s._payload),A)}if(te(s))return p(r,o,s,A);if(P(s))return g(r,o,s,A);vo(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,s)).return=r,r=o):(n(r,o),(o=Nc(s,r.mode,A)).return=r,r=o),a(r)):n(r,o)}}var bo=wo(!0),Co=wo(!1),Bo=Si(null),So=null,Eo=null,ko=null;function xo(){ko=Eo=So=null}function To(e){var t=Bo.current;Ei(Bo),e._currentValue=t}function Io(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Uo(e,t){So=e,ko=Eo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ya=!0),e.firstContext=null)}function Fo(e){var t=e._currentValue;if(ko!==e)if(e={context:e,memoizedValue:t,next:null},null===Eo){if(null===So)throw Error(o(308));Eo=e,So.dependencies={lanes:0,firstContext:e}}else Eo=Eo.next=e;return t}var _o=null;function Ro(e){null===_o?_o=[e]:_o.push(e)}function Qo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ro(t)):(n.next=i.next,i.next=n),t.interleaved=n,Po(e,r)}function Po(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Oo=!1;function No(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Mo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Lo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&TA)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Po(e,n)}return null===(i=r.interleaved)?(t.next=t,Ro(r)):(t.next=i.next,i.next=t),r.interleaved=t,Po(e,n)}function Ho(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ko(e,t,n,r){var i=e.updateQueue;Oo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var A=a,c=A.next;A.next=null,null===s?o=c:s.next=c,s=A;var l=e.alternate;null!==l&&((a=(l=l.updateQueue).lastBaseUpdate)!==s&&(null===a?l.firstBaseUpdate=c:a.next=c,l.lastBaseUpdate=A))}if(null!==o){var u=i.baseState;for(s=0,l=c=A=null,a=o;;){var d=a.lane,h=a.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,p=a;switch(d=t,h=n,p.tag){case 1:if("function"===typeof(f=p.payload)){u=f.call(h,u,d);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=p.payload)?f.call(h,u,d):f)||void 0===d)break e;u=N({},u,d);break e;case 2:Oo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===l?(c=l=h,A=u):l=l.next=h,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(A=u),i.baseState=A,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);OA|=s,e.lanes=s,e.memoizedState=u}}function Vo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var qo={},$o=Si(qo),Go=Si(qo),zo=Si(qo);function Wo(e){if(e===qo)throw Error(o(174));return e}function Jo(e,t){switch(ki(zo,t),ki(Go,e),ki($o,qo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ae(null,"");break;default:t=Ae(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei($o),ki($o,t)}function Yo(){Ei($o),Ei(Go),Ei(zo)}function Xo(e){Wo(zo.current);var t=Wo($o.current),n=Ae(t,e.type);t!==n&&(ki(Go,e),ki($o,n))}function Zo(e){Go.current===e&&(Ei($o),Ei(Go))}var es=Si(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var is=w.ReactCurrentDispatcher,os=w.ReactCurrentBatchConfig,ss=0,as=null,As=null,cs=null,ls=!1,us=!1,ds=0,hs=0;function fs(){throw Error(o(321))}function ps(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,i),us){s=0;do{if(us=!1,ds=0,25<=s)throw Error(o(301));s+=1,cs=As=null,t.updateQueue=null,is.current=ta,e=n(r,i)}while(us)}if(is.current=Xs,t=null!==As&&null!==As.next,ss=0,cs=As=as=null,ls=!1,t)throw Error(o(300));return e}function ms(){var e=0!==ds;return ds=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===cs?as.memoizedState=cs=e:cs=cs.next=e,cs}function ys(){if(null===As){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=As.next;var t=null===cs?as.memoizedState:cs.next;if(null!==t)cs=t,As=e;else{if(null===e)throw Error(o(310));e={memoizedState:(As=e).memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},null===cs?as.memoizedState=cs=e:cs=cs.next=e}return cs}function ws(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=As,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var A=a=null,c=null,l=s;do{var u=l.lane;if((ss&u)===u)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(A=c=d,a=r):c=c.next=d,as.lanes|=u,OA|=u}l=l.next}while(null!==l&&l!==s);null===c?a=r:c.next=A,ar(r,t.memoizedState)||(ya=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,as.lanes|=s,OA|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Cs(e){var t=ys(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);ar(s,t.memoizedState)||(ya=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Bs(){}function Ss(e,t){var n=as,r=ys(),i=t(),s=!ar(r.memoizedState,i);if(s&&(r.memoizedState=i,ya=!0),r=r.queue,Os(xs.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==cs&&1&cs.memoizedState.tag){if(n.flags|=2048,Fs(9,ks.bind(null,n,r,i,t),void 0,null),null===IA)throw Error(o(349));0!==(30&ss)||Es(n,t,i)}return i}function Es(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Ts(t)&&Is(e)}function xs(e,t,n){return n((function(){Ts(t)&&Is(e)}))}function Ts(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Is(e){var t=Po(e,1);null!==t&&nc(t,e,1,-1)}function Us(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=zs.bind(null,as,e),[t.memoizedState,e]}function Fs(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _s(){return ys().memoizedState}function Rs(e,t,n,r){var i=vs();as.flags|=e,i.memoizedState=Fs(1|t,n,void 0,void 0===r?null:r)}function Qs(e,t,n,r){var i=ys();r=void 0===r?null:r;var o=void 0;if(null!==As){var s=As.memoizedState;if(o=s.destroy,null!==r&&ps(r,s.deps))return void(i.memoizedState=Fs(t,n,o,r))}as.flags|=e,i.memoizedState=Fs(1|t,n,o,r)}function Ps(e,t){return Rs(8390656,8,e,t)}function Os(e,t){return Qs(2048,8,e,t)}function Ns(e,t){return Qs(4,2,e,t)}function Ds(e,t){return Qs(4,4,e,t)}function Ms(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ls(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Qs(4,4,Ms.bind(null,t,e),n)}function Hs(){}function js(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ks(e,t){var n=ys();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ps(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ya=!0),e.memoizedState=n):(ar(n,t)||(n=pt(),as.lanes|=n,OA|=n,e.baseState=!0),t)}function qs(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=os.transition;os.transition={};try{e(!1),t()}finally{yt=n,os.transition=r}}function $s(){return ys().memoizedState}function Gs(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ws(e))Js(t,n);else if(null!==(n=Qo(e,t,n,r))){nc(n,e,r,ec()),Ys(n,t,r)}}function zs(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ws(e))Js(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,s)){var A=t.interleaved;return null===A?(i.next=i,Ro(t)):(i.next=A.next,A.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Qo(e,t,i,r))&&(nc(n,e,r,i=ec()),Ys(n,t,r))}}function Ws(e){var t=e.alternate;return e===as||null!==t&&t===as}function Js(e,t){us=ls=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ys(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Fo,useCallback:fs,useContext:fs,useEffect:fs,useImperativeHandle:fs,useInsertionEffect:fs,useLayoutEffect:fs,useMemo:fs,useReducer:fs,useRef:fs,useState:fs,useDebugValue:fs,useDeferredValue:fs,useTransition:fs,useMutableSource:fs,useSyncExternalStore:fs,useId:fs,unstable_isNewReconciler:!1},Zs={readContext:Fo,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Fo,useEffect:Ps,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Rs(4194308,4,Ms.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Rs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Rs(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Us,useDebugValue:Hs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Us(!1),t=e[0];return e=qs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,i=vs();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===IA)throw Error(o(349));0!==(30&ss)||Es(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Ps(xs.bind(null,r,s,e),[e]),r.flags|=2048,Fs(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=IA.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-st(Ji)-1)).toString(32)+n),0<(n=ds++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Fo,useCallback:js,useContext:Fo,useEffect:Os,useImperativeHandle:Ls,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Ks,useReducer:bs,useRef:_s,useState:function(){return bs(ws)},useDebugValue:Hs,useDeferredValue:function(e){return Vs(ys(),As.memoizedState,e)},useTransition:function(){return[bs(ws)[0],ys().memoizedState]},useMutableSource:Bs,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1},ta={readContext:Fo,useCallback:js,useContext:Fo,useEffect:Os,useImperativeHandle:Ls,useInsertionEffect:Ns,useLayoutEffect:Ds,useMemo:Ks,useReducer:Cs,useRef:_s,useState:function(){return Cs(ws)},useDebugValue:Hs,useDeferredValue:function(e){var t=ys();return null===As?t.memoizedState=e:Vs(t,As.memoizedState,e)},useTransition:function(){return[Cs(ws)[0],ys().memoizedState]},useMutableSource:Bs,useSyncExternalStore:Ss,useId:$s,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=N({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:N({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&je(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Ho(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Mo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Lo(e,o,i))&&(nc(t,e,i,r),Ho(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Mo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Lo(e,i,r))&&(nc(t,e,r,n),Ho(t,e,r))}};function oa(e,t,n,r,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Ar(n,r)||!Ar(i,o))}function sa(e,t,n){var r=!1,i=xi,o=t.contextType;return"object"===typeof o&&null!==o?o=Fo(o):(i=_i(t)?Ui:Ti.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Fi(e,i):xi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function Aa(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},No(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Fo(o):(o=_i(t)?Ui:Ti.current,i.context=Fi(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(ra(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Ko(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ca(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function la(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ua(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,n){(n=Mo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){VA||(VA=!0,qA=r),ua(0,t)},n}function fa(e,t,n){(n=Mo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ua(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ua(0,t),"function"!==typeof r&&(null===$A?$A=new Set([this]):$A.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pa(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Mo(-1,1)).tag=2,Lo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var va=w.ReactCurrentOwner,ya=!1;function wa(e,t,n,r){t.child=null===e?Co(t,null,n,r):bo(t,e.child,n,r)}function ba(e,t,n,r,i){n=n.render;var o=t.ref;return Uo(t,i),r=gs(e,t,n,r,o,i),n=ms(),null===e||ya?(io&&n&&eo(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||_c(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ba(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Ar)(s,r)&&e.ref===t.ref)return Va(e,t,i)}return t.flags|=1,(e=Rc(o,r)).ref=t.ref,e.return=t,t.child=e}function Ba(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Ar(o,r)&&e.ref===t.ref){if(ya=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Va(e,t,i);0!==(131072&e.flags)&&(ya=!0)}}return ka(e,t,n,r,i)}function Sa(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(RA,_A),_A|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(RA,_A),_A|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(RA,_A),_A|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(RA,_A),_A|=r;return wa(e,t,i,n),t.child}function Ea(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,i){var o=_i(n)?Ui:Ti.current;return o=Fi(t,o),Uo(t,i),n=gs(e,t,n,r,o,i),r=ms(),null===e||ya?(io&&r&&eo(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Va(e,t,i))}function xa(e,t,n,r,i){if(_i(n)){var o=!0;Oi(t)}else o=!1;if(Uo(t,i),null===t.stateNode)Ka(e,t),sa(t,n,r),Aa(t,n,r,i),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var A=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Fo(c):c=Fi(t,c=_i(n)?Ui:Ti.current);var l=n.getDerivedStateFromProps,u="function"===typeof l||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||A!==c)&&aa(t,s,r,c),Oo=!1;var d=t.memoizedState;s.state=d,Ko(t,r,s,i),A=t.memoizedState,a!==r||d!==A||Ii.current||Oo?("function"===typeof l&&(ra(t,n,l,r),A=t.memoizedState),(a=Oo||oa(t,n,a,r,d,A,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=A),s.props=r,s.state=A,s.context=c,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Do(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:na(t.type,a),s.props=c,u=t.pendingProps,d=s.context,"object"===typeof(A=n.contextType)&&null!==A?A=Fo(A):A=Fi(t,A=_i(n)?Ui:Ti.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==u||d!==A)&&aa(t,s,r,A),Oo=!1,d=t.memoizedState,s.state=d,Ko(t,r,s,i);var f=t.memoizedState;a!==u||d!==f||Ii.current||Oo?("function"===typeof h&&(ra(t,n,h,r),f=t.memoizedState),(c=Oo||oa(t,n,c,r,d,f,A)||!1)?(l||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,A),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,A)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=A,r=c):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ta(e,t,n,r,o,i)}function Ta(e,t,n,r,i,o){Ea(e,t);var s=0!==(128&t.flags);if(!r&&!s)return i&&Ni(t,n,!1),Va(e,t,o);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,a,o)):wa(e,t,a,o),t.memoizedState=r.state,i&&Ni(t,n,!0),t.child}function Ia(e){var t=e.stateNode;t.pendingContext?Qi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Qi(0,t.context,!1),Jo(e,t.containerInfo)}function Ua(e,t,n,r,i){return fo(),po(i),t.flags|=256,wa(e,t,n,r),t.child}var Fa,_a,Ra,Qa,Pa={dehydrated:null,treeContext:null,retryLane:0};function Oa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Na(e,t,n){var r,i=t.pendingProps,s=es.current,a=!1,A=0!==(128&t.flags);if((r=A)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),ki(es,1&s),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(A=i.children,e=i.fallback,a?(i=t.mode,a=t.child,A={mode:"hidden",children:A},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=A):a=Oc(A,i,0,null),e=Pc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Oa(n),t.memoizedState=Pa,e):Da(t,A));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,i,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ma(e,t,a,r=la(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Oc({mode:"visible",children:r.children},i,0,null),(s=Pc(s,i,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&bo(t,e.child,null,a),t.child.memoizedState=Oa(a),t.memoizedState=Pa,s);if(0===(1&t.mode))return Ma(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var A=r.dgst;return r=A,Ma(e,t,a,r=la(s=Error(o(419)),r,void 0))}if(A=0!==(a&e.childLanes),ya||A){if(null!==(r=IA)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,Po(e,i),nc(r,e,i,-1))}return pc(),Ma(e,t,a,r=la(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xc.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(Gi[zi++]=Ji,Gi[zi++]=Yi,Gi[zi++]=Wi,Ji=e.id,Yi=e.overflow,Wi=t),t=Da(t,r.children),t.flags|=4096,t)}(e,t,A,i,r,s,n);if(a){a=i.fallback,A=t.mode,r=(s=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&A)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Rc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Rc(r,a):(a=Pc(a,A,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,A=null===(A=e.child.memoizedState)?Oa(n):{baseLanes:A.baseLanes|n,cachePool:null,transitions:A.transitions},a.memoizedState=A,a.childLanes=e.childLanes&~n,t.memoizedState=Pa,i}return e=(a=e.child).sibling,i=Rc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Da(e,t){return(t=Oc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ma(e,t,n,r){return null!==r&&po(r),bo(t,e.child,null,n),(e=Da(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function La(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Io(e.return,t,n)}function Ha(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ja(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&La(e,n,t);else if(19===e.tag)La(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(es,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ha(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ha(t,!0,n,null,o);break;case"together":Ha(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ka(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),OA|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function qa(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return _i(t.type)&&Ri(),$a(t),null;case 3:return r=t.stateNode,Yo(),Ei(Ii),Ei(Ti),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(uo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sc(oo),oo=null))),_a(e,t),$a(t),null;case 5:Zo(t);var i=Wo(zo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ra(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return $a(t),null}if(e=Wo($o.current),uo(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[di]=t,r[hi]=s,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(i=0;i<Pr.length;i++)Mr(Pr[i],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":J(r,s),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Mr("invalid",r);break;case"textarea":ie(r,s),Mr("invalid",r)}for(var A in ve(n,s),i=null,s)if(s.hasOwnProperty(A)){var c=s[A];"children"===A?"string"===typeof c?r.textContent!==c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(A)&&null!=c&&"onScroll"===A&&Mr("scroll",r)}switch(n){case"input":$(r),Z(r,s,!0);break;case"textarea":$(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{A=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=A.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=A.createElement(n,{is:r.is}):(e=A.createElement(n),"select"===n&&(A=e,r.multiple?A.multiple=!0:r.size&&(A.size=r.size))):e=A.createElementNS(e,n),e[di]=t,e[hi]=r,Fa(e,t,!1,!1),t.stateNode=e;e:{switch(A=ye(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),i=r;break;case"iframe":case"object":case"embed":Mr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Pr.length;i++)Mr(Pr[i],e);i=r;break;case"source":Mr("error",e),i=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),i=r;break;case"details":Mr("toggle",e),i=r;break;case"input":J(e,r),i=W(e,r),Mr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=N({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Mr("invalid",e)}for(s in ve(n,i),c=i)if(c.hasOwnProperty(s)){var l=c[s];"style"===s?ge(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&ue(e,l):"children"===s?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Mr("scroll",e):null!=l&&y(e,s,l,A))}switch(n){case"input":$(e),Z(e,r,!1);break;case"textarea":$(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Qa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=Wo(zo.current),Wo($o.current),uo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(s=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $a(t),null;case 13:if(Ei(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),fo(),t.flags|=98560,s=!1;else if(s=uo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else fo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),s=!1}else null!==oo&&(sc(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===QA&&(QA=3):pc())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Yo(),_a(e,t),null===e&&jr(t.stateNode.containerInfo),$a(t),null;case 10:return To(t.type._context),$a(t),null;case 19:if(Ei(es),null===(s=t.memoizedState))return $a(t),null;if(r=0!==(128&t.flags),null===(A=s.rendering))if(r)qa(s,!1);else{if(0!==QA||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(A=ts(e))){for(t.flags|=128,qa(s,!1),null!==(r=A.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(A=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=A.childLanes,s.lanes=A.lanes,s.child=A.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=A.memoizedProps,s.memoizedState=A.memoizedState,s.updateQueue=A.updateQueue,s.type=A.type,e=A.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>jA&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(A))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),qa(s,!0),null===s.tail&&"hidden"===s.tailMode&&!A.alternate&&!io)return $a(t),null}else 2*Ye()-s.renderingStartTime>jA&&1073741824!==n&&(t.flags|=128,r=!0,qa(s,!1),t.lanes=4194304);s.isBackwards?(A.sibling=t.child,t.child=A):(null!==(n=s.last)?n.sibling=A:t.child=A,s.last=A)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,n=es.current,ki(es,r?1&n|2:1&n),t):($a(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&_A)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function za(e,t){switch(to(t),t.tag){case 1:return _i(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ei(Ii),Ei(Ti),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ei(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(es),null;case 4:return Yo(),null;case 10:return To(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Fa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},_a=function(){},Ra=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wo($o.current);var o,s=null;switch(n){case"input":i=W(e,i),r=W(e,r),s=[];break;case"select":i=N({},i,{value:void 0}),r=N({},r,{value:void 0}),s=[];break;case"textarea":i=re(e,i),r=re(e,r),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ve(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var A=i[l];for(o in A)A.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(a.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(A=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==A&&(null!=c||null!=A))if("style"===l)if(A){for(o in A)!A.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&A[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,A=A?A.__html:void 0,null!=c&&A!==c&&(s=s||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(a.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Mr("scroll",e),s||A===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(t.updateQueue=l)&&(t.flags|=4)}},Qa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Wa=!1,Ja=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sc(e,t,r)}else n.current=null}function eA(e,t,n){try{n()}catch(r){Sc(e,t,r)}}var tA=!1;function nA(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eA(t,n,o)}i=i.next}while(i!==r)}}function rA(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iA(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oA(e){var t=e.alternate;null!==t&&(e.alternate=null,oA(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[pi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sA(e){return 5===e.tag||3===e.tag||4===e.tag}function aA(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function AA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(AA(e,t,n),e=e.sibling;null!==e;)AA(e,t,n),e=e.sibling}function cA(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cA(e,t,n),e=e.sibling;null!==e;)cA(e,t,n),e=e.sibling}var lA=null,uA=!1;function dA(e,t,n){for(n=n.child;null!==n;)hA(e,t,n),n=n.sibling}function hA(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||Za(n,t);case 6:var r=lA,i=uA;lA=null,dA(e,t,n),uA=i,null!==(lA=r)&&(uA?(e=lA,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lA.removeChild(n.stateNode));break;case 18:null!==lA&&(uA?(e=lA,n=n.stateNode,8===e.nodeType?Ai(e.parentNode,n):1===e.nodeType&&Ai(e,n),jt(e)):Ai(lA,n.stateNode));break;case 4:r=lA,i=uA,lA=n.stateNode.containerInfo,uA=!0,dA(e,t,n),lA=r,uA=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&eA(n,t,s),i=i.next}while(i!==r)}dA(e,t,n);break;case 1:if(!Ja&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sc(n,t,a)}dA(e,t,n);break;case 21:dA(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,dA(e,t,n),Ja=r):dA(e,t,n);break;default:dA(e,t,n)}}function fA(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ya),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function pA(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,A=a;e:for(;null!==A;){switch(A.tag){case 5:lA=A.stateNode,uA=!1;break e;case 3:case 4:lA=A.stateNode.containerInfo,uA=!0;break e}A=A.return}if(null===lA)throw Error(o(160));hA(s,a,i),lA=null,uA=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){Sc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gA(t,e),t=t.sibling}function gA(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pA(t,e),mA(e),4&r){try{nA(3,e,e.return),rA(3,e)}catch(g){Sc(e,e.return,g)}try{nA(5,e,e.return)}catch(g){Sc(e,e.return,g)}}break;case 1:pA(t,e),mA(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(pA(t,e),mA(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Sc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,A=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===A&&"radio"===s.type&&null!=s.name&&Y(i,s),ye(A,a);var l=ye(A,s);for(a=0;a<c.length;a+=2){var u=c[a],d=c[a+1];"style"===u?ge(i,d):"dangerouslySetInnerHTML"===u?ue(i,d):"children"===u?de(i,d):y(i,u,d,l)}switch(A){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(i,!!s.multiple,f,!1):h!==!!s.multiple&&(null!=s.defaultValue?ne(i,!!s.multiple,s.defaultValue,!0):ne(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(g){Sc(e,e.return,g)}}break;case 6:if(pA(t,e),mA(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Sc(e,e.return,g)}}break;case 3:if(pA(t,e),mA(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{jt(t.containerInfo)}catch(g){Sc(e,e.return,g)}break;case 4:default:pA(t,e),mA(e);break;case 13:pA(t,e),mA(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(HA=Ye())),4&r&&fA(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(l=Ja)||u,pA(t,e),Ja=l):pA(t,e),mA(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!u&&0!==(1&e.mode))for(Xa=e,u=e.child;null!==u;){for(d=Xa=u;null!==Xa;){switch(f=(h=Xa).child,h.tag){case 0:case 11:case 14:case 15:nA(4,h,h.return);break;case 1:Za(h,h.return);var p=h.stateNode;if("function"===typeof p.componentWillUnmount){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Sc(r,n,g)}}break;case 5:Za(h,h.return);break;case 22:if(null!==h.memoizedState){bA(d);continue}}null!==f?(f.return=h,Xa=f):bA(d)}u=u.sibling}e:for(u=null,d=e;;){if(5===d.tag){if(null===u){u=d;try{i=d.stateNode,l?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(A=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,A.style.display=pe("display",a))}catch(g){Sc(e,e.return,g)}}}else if(6===d.tag){if(null===u)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Sc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:pA(t,e),mA(e),4&r&&fA(e);case 21:}}function mA(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sA(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cA(e,aA(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;AA(e,aA(e),s);break;default:throw Error(o(161))}}catch(a){Sc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vA(e,t,n){Xa=e,yA(e,t,n)}function yA(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&r){var s=null!==i.memoizedState||Wa;if(!s){var a=i.alternate,A=null!==a&&null!==a.memoizedState||Ja;a=Wa;var c=Ja;if(Wa=s,(Ja=A)&&!c)for(Xa=i;null!==Xa;)A=(s=Xa).child,22===s.tag&&null!==s.memoizedState?CA(i):null!==A?(A.return=s,Xa=A):CA(i);for(;null!==o;)Xa=o,yA(o,t,n),o=o.sibling;Xa=i,Wa=a,Ja=c}wA(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):wA(e)}}function wA(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||rA(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vo(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vo(t,a,n)}break;case 5:var A=t.stateNode;if(null===n&&4&t.flags){n=A;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var u=l.memoizedState;if(null!==u){var d=u.dehydrated;null!==d&&jt(d)}}}break;default:throw Error(o(163))}Ja||512&t.flags&&iA(t)}catch(h){Sc(t,t.return,h)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function bA(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function CA(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rA(4,t)}catch(A){Sc(t,n,A)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(A){Sc(t,i,A)}}var o=t.return;try{iA(t)}catch(A){Sc(t,o,A)}break;case 5:var s=t.return;try{iA(t)}catch(A){Sc(t,s,A)}}}catch(A){Sc(t,t.return,A)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var BA,SA=Math.ceil,EA=w.ReactCurrentDispatcher,kA=w.ReactCurrentOwner,xA=w.ReactCurrentBatchConfig,TA=0,IA=null,UA=null,FA=0,_A=0,RA=Si(0),QA=0,PA=null,OA=0,NA=0,DA=0,MA=null,LA=null,HA=0,jA=1/0,KA=null,VA=!1,qA=null,$A=null,GA=!1,zA=null,WA=0,JA=0,YA=null,XA=-1,ZA=0;function ec(){return 0!==(6&TA)?Ye():-1!==XA?XA:XA=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&TA)&&0!==FA?FA&-FA:null!==go.transition?(0===ZA&&(ZA=pt()),ZA):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<JA)throw JA=0,YA=null,Error(o(185));mt(e,n,r),0!==(2&TA)&&e===IA||(e===IA&&(0===(2&TA)&&(NA|=n),4===QA&&ac(e,FA)),rc(e,r),1===n&&0===TA&&0===(1&t.mode)&&(jA=Ye()+500,Mi&&ji()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,A=i[s];-1===A?0!==(a&n)&&0===(a&r)||(i[s]=ht(a,t)):A<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var r=dt(e,e===IA?FA:0);if(0===r)null!==n&&ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&ze(n),1===t)0===e.tag?function(e){Mi=!0,Hi(e)}(Ac.bind(null,e)):Hi(Ac.bind(null,e)),si((function(){0===(6&TA)&&ji()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ic(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(XA=-1,ZA=0,0!==(6&TA))throw Error(o(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===IA?FA:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=TA;TA|=2;var s=fc();for(IA===e&&FA===t||(KA=null,jA=Ye()+500,dc(e,t));;)try{vc();break}catch(A){hc(e,A)}xo(),EA.current=s,TA=i,null!==UA?t=0:(IA=null,FA=0,t=QA)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=PA,dc(e,0),ac(e,r),rc(e,Ye()),n;if(6===t)ac(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ar(o(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(s=ft(e))&&(r=s,t=oc(e,s))),1===t))throw n=PA,dc(e,0),ac(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bc(e,LA,KA);break;case 3:if(ac(e,r),(130023424&r)===r&&10<(t=HA+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,LA,KA),t);break}bc(e,LA,KA);break;case 4:if(ac(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>i&&(i=a),r&=~s}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*SA(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,LA,KA),r);break}bc(e,LA,KA);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=MA;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=LA,LA=n,null!==t&&sc(t)),e}function sc(e){null===LA?LA=e:LA.push.apply(LA,e)}function ac(e,t){for(t&=~DA,t&=~NA,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function Ac(e){if(0!==(6&TA))throw Error(o(327));Cc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=PA,dc(e,0),ac(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,LA,KA),rc(e,Ye()),null}function cc(e,t){var n=TA;TA|=1;try{return e(t)}finally{0===(TA=n)&&(jA=Ye()+500,Mi&&ji())}}function lc(e){null!==zA&&0===zA.tag&&0===(6&TA)&&Cc();var t=TA;TA|=1;var n=xA.transition,r=yt;try{if(xA.transition=null,yt=1,e)return e()}finally{yt=r,xA.transition=n,0===(6&(TA=t))&&ji()}}function uc(){_A=RA.current,Ei(RA)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==UA)for(n=UA.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:Yo(),Ei(Ii),Ei(Ti),rs();break;case 5:Zo(r);break;case 4:Yo();break;case 13:case 19:Ei(es);break;case 10:To(r.type._context);break;case 22:case 23:uc()}n=n.return}if(IA=e,UA=e=Rc(e.current,null),FA=_A=t,QA=0,PA=null,DA=NA=OA=0,LA=MA=null,null!==_o){for(t=0;t<_o.length;t++)if(null!==(r=(n=_o[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var s=o.next;o.next=i,r.next=s}n.pending=r}_o=null}return e}function hc(e,t){for(;;){var n=UA;try{if(xo(),is.current=Xs,ls){for(var r=as.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ls=!1}if(ss=0,cs=As=as=null,us=!1,ds=0,kA.current=null,null===n||null===n.return){QA=1,PA=t,UA=null;break}e:{var s=e,a=n.return,A=n,c=t;if(t=FA,A.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,u=A,d=u.tag;if(0===(1&u.mode)&&(0===d||11===d||15===d)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,ma(f,a,A,0,t),1&f.mode&&pa(s,l,t),c=l;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){pa(s,l,t),pc();break e}c=Error(o(426))}else if(io&&1&A.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,A,0,t),po(ca(c,A));break e}}s=c=ca(c,A),4!==QA&&(QA=2),null===MA?MA=[s]:MA.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,jo(s,ha(0,c,t));break e;case 1:A=c;var v=s.type,y=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===$A||!$A.has(y)))){s.flags|=65536,t&=-t,s.lanes|=t,jo(s,fa(s,A,t));break e}}s=s.return}while(null!==s)}wc(n)}catch(w){t=w,UA===n&&null!==n&&(UA=n=n.return);continue}break}}function fc(){var e=EA.current;return EA.current=Xs,null===e?Xs:e}function pc(){0!==QA&&3!==QA&&2!==QA||(QA=4),null===IA||0===(268435455&OA)&&0===(268435455&NA)||ac(IA,FA)}function gc(e,t){var n=TA;TA|=2;var r=fc();for(IA===e&&FA===t||(KA=null,dc(e,t));;)try{mc();break}catch(i){hc(e,i)}if(xo(),TA=n,EA.current=r,null!==UA)throw Error(o(261));return IA=null,FA=0,QA}function mc(){for(;null!==UA;)yc(UA)}function vc(){for(;null!==UA&&!We();)yc(UA)}function yc(e){var t=BA(e.alternate,e,_A);e.memoizedProps=e.pendingProps,null===t?wc(e):UA=t,kA.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,_A)))return void(UA=n)}else{if(null!==(n=za(n,t)))return n.flags&=32767,void(UA=n);if(null===e)return QA=6,void(UA=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(UA=t);UA=t=e}while(null!==t);0===QA&&(QA=5)}function bc(e,t,n){var r=yt,i=xA.transition;try{xA.transition=null,yt=1,function(e,t,n,r){do{Cc()}while(null!==zA);if(0!==(6&TA))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-st(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,s),e===IA&&(UA=IA=null,FA=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||GA||(GA=!0,Ic(tt,(function(){return Cc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=xA.transition,xA.transition=null;var a=yt;yt=1;var A=TA;TA|=4,kA.current=null,function(e,t){if(ei=Vt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(b){n=null;break e}var a=0,A=-1,c=-1,l=0,u=0,d=e,h=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(A=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)h=d,d=f;for(;;){if(d===e)break t;if(h===n&&++l===i&&(A=a),h===s&&++u===r&&(c=a),null!==(f=d.nextSibling))break;h=(d=h).parentNode}d=f}n=-1===A||-1===c?null:{start:A,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Vt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,m=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),m);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(b){Sc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}p=tA,tA=!1}(e,n),gA(n,e),fr(ti),Vt=!!ei,ti=ei=null,e.current=n,vA(n,e,i),Je(),TA=A,yt=a,xA.transition=s}else e.current=n;if(GA&&(GA=!1,zA=e,WA=i),s=e.pendingLanes,0===s&&($A=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(VA)throw VA=!1,e=qA,qA=null,e;0!==(1&WA)&&0!==e.tag&&Cc(),s=e.pendingLanes,0!==(1&s)?e===YA?JA++:(JA=0,YA=e):JA=0,ji()}(e,t,n,r)}finally{xA.transition=i,yt=r}return null}function Cc(){if(null!==zA){var e=wt(WA),t=xA.transition,n=yt;try{if(xA.transition=null,yt=16>e?16:e,null===zA)var r=!1;else{if(e=zA,zA=null,WA=0,0!==(6&TA))throw Error(o(331));var i=TA;for(TA|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var A=s.deletions;if(null!==A){for(var c=0;c<A.length;c++){var l=A[c];for(Xa=l;null!==Xa;){var u=Xa;switch(u.tag){case 0:case 11:case 15:nA(8,u,s)}var d=u.child;if(null!==d)d.return=u,Xa=d;else for(;null!==Xa;){var h=(u=Xa).sibling,f=u.return;if(oA(u),u===l){Xa=null;break}if(null!==h){h.return=f,Xa=h;break}Xa=f}}}var p=s.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nA(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var y=e.current;for(Xa=y;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=y;null!==Xa;){if(0!==(2048&(A=Xa).flags))try{switch(A.tag){case 0:case 11:case 15:rA(9,A)}}catch(C){Sc(A,A.return,C)}if(A===a){Xa=null;break e}var b=A.sibling;if(null!==b){b.return=A.return,Xa=b;break e}Xa=A.return}}if(TA=i,ji(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(C){}r=!0}return r}finally{yt=n,xA.transition=t}}return!1}function Bc(e,t,n){e=Lo(e,t=ha(0,t=ca(n,t),1),1),t=ec(),null!==e&&(mt(e,1,t),rc(e,t))}function Sc(e,t,n){if(3===e.tag)Bc(e,e,n);else for(;null!==t;){if(3===t.tag){Bc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$A||!$A.has(r))){t=Lo(t,e=fa(t,e=ca(n,e),1),1),e=ec(),null!==t&&(mt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,IA===e&&(FA&n)===n&&(4===QA||3===QA&&(130023424&FA)===FA&&500>Ye()-HA?dc(e,0):DA|=n),rc(e,t)}function kc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Po(e,t))&&(mt(e,t,n),rc(e,n))}function xc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kc(e,n)}function Ic(e,t){return Ge(e,t)}function Uc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fc(e,t,n,r){return new Uc(e,t,n,r)}function _c(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Fc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qc(e,t,n,r,i,s){var a=2;if(r=e,"function"===typeof e)_c(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case B:return Pc(n.children,i,s,t);case S:a=8,i|=8;break;case E:return(e=Fc(12,n,t,2|i)).elementType=E,e.lanes=s,e;case I:return(e=Fc(13,n,t,i)).elementType=I,e.lanes=s,e;case U:return(e=Fc(19,n,t,i)).elementType=U,e.lanes=s,e;case R:return Oc(n,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case x:a=9;break e;case T:a=11;break e;case F:a=14;break e;case _:a=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Fc(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Pc(e,t,n,r){return(e=Fc(7,e,r,t)).lanes=n,e}function Oc(e,t,n,r){return(e=Fc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Nc(e,t,n){return(e=Fc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Fc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lc(e,t,n,r,i,o,s,a,A){return e=new Mc(e,t,n,a,A),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Fc(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},No(o),e}function Hc(e){if(!e)return xi;e:{if(je(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(_i(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(_i(n))return Pi(e,n,t)}return t}function jc(e,t,n,r,i,o,s,a,A){return(e=Lc(n,r,!0,e,0,o,0,a,A)).context=Hc(null),n=e.current,(o=Mo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Lo(n,o,i),e.current.lanes=i,mt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),s=tc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Mo(o,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Lo(i,t,s))&&(nc(e,i,s,o),Ho(e,i,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $c(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}BA=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)ya=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ya=!1,function(e,t,n){switch(t.tag){case 3:Ia(t),fo();break;case 5:Xo(t);break;case 1:_i(t.type)&&Oi(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(Bo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Na(e,t,n):(ki(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);ki(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return ja(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return Va(e,t,n)}(e,t,n);ya=0!==(131072&e.flags)}else ya=!1,io&&0!==(1048576&t.flags)&&Zi(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ka(e,t),e=t.pendingProps;var i=Fi(t,Ti.current);Uo(t,n),i=gs(null,t,r,e,i,n);var s=ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_i(r)?(s=!0,Oi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,No(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,Aa(t,r,e,n),t=Ta(null,t,r,!0,s,n)):(t.tag=0,io&&s&&eo(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ka(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return _c(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===F)return 14}return 2}(r),e=na(r,e),i){case 0:t=ka(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=ba(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,na(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,ka(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ia(t),null===e)throw Error(o(387));r=t.pendingProps,i=(s=t.memoizedState).element,Do(e,t),Ko(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ua(e,t,r,n,i=ca(Error(o(423)),t));break e}if(r!==i){t=Ua(e,t,r,n,i=ca(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Co(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fo(),r===i){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xo(t),null===e&&co(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==s&&ni(r,s)&&(t.flags|=32),Ea(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&co(t),null;case 13:return Na(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bo(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ba(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,ki(Bo,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===i.children&&!Ii.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var A=s.dependencies;if(null!==A){a=s.child;for(var c=A.firstContext;null!==c;){if(c.context===r){if(1===s.tag){(c=Mo(-1,n&-n)).tag=2;var l=s.updateQueue;if(null!==l){var u=(l=l.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Io(s.return,n,t),A.lanes|=n;break}c=c.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=n,null!==(A=a.alternate)&&(A.lanes|=n),Io(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Uo(t,n),r=r(i=Fo(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),Ca(e,t,r,i=na(r.type,i),n);case 15:return Ba(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),Ka(e,t),t.tag=1,_i(r)?(e=!0,Oi(t)):e=!1,Uo(t,n),sa(t,r,i),Aa(t,r,i,n),Ta(null,t,r,!0,e,n);case 19:return ja(e,t,n);case 22:return Sa(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function zc(e){this._internalRoot=e}function Wc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Vc(s);a.call(e)}}Kc(t,s,e,i)}else s=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(s);o.call(e)}}var s=jc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),lc(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Vc(A);a.call(e)}}var A=Lc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=A,e[fi]=A.current,jr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,A,n,r)})),A}(n,t,e,i,r);return Vc(s)}Wc.prototype.render=zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Wc.prototype.unmount=zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[fi]=null}},Wc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Nt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ye()),0===(6&TA)&&(jA=Ye()+500,ji()))}break;case 13:lc((function(){var t=Po(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),$c(e,1)}},Ct=function(e){if(13===e.tag){var t=Po(e,134217728);if(null!==t)nc(t,e,134217728,ec());$c(e,134217728)}},Bt=function(e){if(13===e.tag){var t=tc(e),n=Po(e,t);if(null!==n)nc(n,e,t,ec());$c(e,t)}},St=function(){return yt},Et=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},Ce=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(o(90));G(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=cc,Ie=lc;var el={usingClientEntryPoint:!1,Events:[yi,wi,bi,ke,xe,cc]},tl={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),ot=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:C,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=jc(t,null,e,1,null!=n?n:null,i,0,s,a),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Wc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(o(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2740:e=>{"use strict";e.exports=function(e,t,n,r,i,o,s,a){if(!e){var A;if(void 0===t)A=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,s,a],l=0;(A=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw A.framesToPop=1,A}}},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,A=r(function(){return arguments}())?r:function(e){return i(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=A},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),o=n(4052),s=n(4543),a=n(9194),A=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),l=!n&&i(e),u=!n&&!l&&s(e),d=!n&&!l&&!u&&A(e),h=n||l||u||d,f=h?r(e.length,String):[],p=f.length;for(var g in e)!t&&!c.call(e,g)||h&&("length"==g||u&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,p))||f.push(g);return f}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),o=n(7303);e.exports=function(e){return function(t,n,s){return s&&"number"!=typeof s&&i(t,n,s)&&(n=s=void 0),t=o(t),void 0===n?(n=t,t=0):n=o(n),s=void 0===s?t<n?1:-1:o(s),r(t,n,s,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3516:e=>{e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),o=n(8114);e.exports=function(e,t,n,s,a,A){var c=1&n,l=e.length,u=t.length;if(l!=u&&!(c&&u>l))return!1;var d=A.get(e),h=A.get(t);if(d&&h)return d==t&&h==e;var f=-1,p=!0,g=2&n?new r:void 0;for(A.set(e,t),A.set(t,e);++f<l;){var m=e[f],v=t[f];if(s)var y=c?s(v,m,f,t,e,A):s(m,v,f,e,t,A);if(void 0!==y){if(y)continue;p=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(m===e||a(m,e,n,s,A)))return g.push(t)}))){p=!1;break}}else if(m!==v&&!a(m,v,n,s,A)){p=!1;break}}return A.delete(e),A.delete(t),p}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,r(s)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),o=n(2597),s=n(914);e.exports=function(e){return o(e)?r(s(e)):i(e)}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,s=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=s},4121:function(e,t,n){var r;!function(i,o){"use strict";var s="function",a="undefined",A="object",c="string",l="major",u="model",d="name",h="type",f="vendor",p="version",g="architecture",m="console",v="mobile",y="tablet",w="smarttv",b="wearable",C="embedded",B="Amazon",S="Apple",E="ASUS",k="BlackBerry",x="Browser",T="Chrome",I="Firefox",U="Google",F="Huawei",_="LG",R="Microsoft",Q="Motorola",P="Opera",O="Samsung",N="Sharp",D="Sony",M="Xiaomi",L="Zebra",H="Facebook",j="Chromium OS",K="Mac OS",V=" Browser",q=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},$=function(e,t){return typeof e===c&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===a?e:e.substring(0,500)},W=function(e,t){for(var n,r,i,a,c,l,u=0;u<t.length&&!c;){var d=t[u],h=t[u+1];for(n=r=0;n<d.length&&!c&&d[n];)if(c=d[n++].exec(e))for(i=0;i<h.length;i++)l=c[++r],typeof(a=h[i])===A&&a.length>0?2===a.length?typeof a[1]==s?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?typeof a[1]!==s||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):o:this[a[0]]=l?a[1].call(this,l,a[2]):o:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):o):this[a]=l||o;u+=2}},J=function(e,t){for(var n in t)if(typeof t[n]===A&&t[n].length>0){for(var r=0;r<t[n].length;r++)if($(t[n][r],e))return"?"===n?o:n}else if($(t[n],e))return"?"===n?o:n;return t.hasOwnProperty("*")?t["*"]:e},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},X={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[p,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[p,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,p],[/opios[\/ ]+([\w\.]+)/i],[p,[d,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[p,[d,P+" GX"]],[/\bopr\/([\w\.]+)/i],[p,[d,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[p,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[p,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,p],[/quark(?:pc)?\/([-\w\.]+)/i],[p,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[p,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[p,[d,"UC"+x]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[p,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[p,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[p,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[p,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[p,[d,"Smart Lenovo "+x]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+x],p],[/\bfocus\/([\w\.]+)/i],[p,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[p,[d,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[p,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[p,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[p,[d,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[p,[d,"MIUI"+V]],[/fxios\/([\w\.-]+)/i],[p,[d,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[p,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],p],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+V],p],[/samsungbrowser\/([\w\.]+)/i],[p,[d,O+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[p,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],p],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,p],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[p,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,H],p],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,p],[/\bgsa\/([\w\.]+) .*safari\//i],[p,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[p,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[p,[d,T+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,T+" WebView"],p],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[p,[d,"Android "+x]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,p],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[p,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[p,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[p,J,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,p],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],p],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,p],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[p,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[p,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[p,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,G]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,"",G]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,G]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[f,O],[h,y]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[f,O],[h,v]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[f,S],[h,v]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,S],[h,y]],[/(macintosh);/i],[u,[f,S]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[f,N],[h,v]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[f,"Honor"],[h,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[f,F],[h,y]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[f,F],[h,v]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[f,M],[h,v]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[f,M],[h,y]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[f,"OPPO"],[h,v]],[/\b(opd2\d{3}a?) bui/i],[u,[f,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[f,"Vivo"],[h,v]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[f,"Realme"],[h,v]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[f,Q],[h,v]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[f,Q],[h,y]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[f,_],[h,y]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[f,_],[h,v]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[f,"Lenovo"],[h,y]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[f,"Nokia"],[h,v]],[/(pixel c)\b/i],[u,[f,U],[h,y]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[f,U],[h,v]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,D],[h,v]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[f,D],[h,y]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[f,"OnePlus"],[h,v]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[f,B],[h,y]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[f,B],[h,v]],[/(playbook);[-\w\),; ]+(rim)/i],[u,f,[h,y]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[f,k],[h,v]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[f,E],[h,y]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[f,E],[h,v]],[/(nexus 9)/i],[u,[f,"HTC"],[h,y]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[u,/_/g," "],[h,v]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[f,"TCL"],[h,y]],[/(itel) ((\w+))/i],[[f,G],u,[h,J,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[f,"Acer"],[h,y]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[f,"Meizu"],[h,v]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[f,"Ulefone"],[h,v]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[f,"Energizer"],[h,v]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[f,"Cat"],[h,v]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[f,"Smartfren"],[h,v]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[f,"Nothing"],[h,v]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[f,u,[h,v]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,u,[h,y]],[/(surface duo)/i],[u,[f,R],[h,y]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[f,"Fairphone"],[h,v]],[/(u304aa)/i],[u,[f,"AT&T"],[h,v]],[/\bsie-(\w*)/i],[u,[f,"Siemens"],[h,v]],[/\b(rct\w+) b/i],[u,[f,"RCA"],[h,y]],[/\b(venue[\d ]{2,7}) b/i],[u,[f,"Dell"],[h,y]],[/\b(q(?:mv|ta)\w+) b/i],[u,[f,"Verizon"],[h,y]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[f,"Barnes & Noble"],[h,y]],[/\b(tm\d{3}\w+) b/i],[u,[f,"NuVision"],[h,y]],[/\b(k88) b/i],[u,[f,"ZTE"],[h,y]],[/\b(nx\d{3}j) b/i],[u,[f,"ZTE"],[h,v]],[/\b(gen\d{3}) b.+49h/i],[u,[f,"Swiss"],[h,v]],[/\b(zur\d{3}) b/i],[u,[f,"Swiss"],[h,y]],[/\b((zeki)?tb.*\b) b/i],[u,[f,"Zeki"],[h,y]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],u,[h,y]],[/\b(ns-?\w{0,9}) b/i],[u,[f,"Insignia"],[h,y]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[f,"NextBook"],[h,y]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],u,[h,v]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],u,[h,v]],[/\b(ph-1) /i],[u,[f,"Essential"],[h,v]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[f,"Envizen"],[h,y]],[/\b(trio[-\w\. ]+) b/i],[u,[f,"MachSpeed"],[h,y]],[/\btu_(1491) b/i],[u,[f,"Rotor"],[h,y]],[/(shield[\w ]+) b/i],[u,[f,"Nvidia"],[h,y]],[/(sprint) (\w+)/i],[f,u,[h,v]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,R],[h,v]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,L],[h,y]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,L],[h,v]],[/smart-tv.+(samsung)/i],[f,[h,w]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,O],[h,w]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,_],[h,w]],[/(apple) ?tv/i],[f,[u,S+" TV"],[h,w]],[/crkey/i],[[u,T+"cast"],[f,U],[h,w]],[/droid.+aft(\w+)( bui|\))/i],[u,[f,B],[h,w]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[f,N],[h,w]],[/(bravia[\w ]+)( bui|\))/i],[u,[f,D],[h,w]],[/(mitv-\w{5}) bui/i],[u,[f,M],[h,w]],[/Hbbtv.*(technisat) (.*);/i],[f,u,[h,w]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,z],[u,z],[h,w]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,w]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,u,[h,m]],[/droid.+; (shield) bui/i],[u,[f,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[u,[f,D],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[f,R],[h,m]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[f,O],[h,b]],[/((pebble))app/i],[f,u,[h,b]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[f,S],[h,b]],[/droid.+; (glass) \d/i],[u,[f,U],[h,b]],[/droid.+; (wt63?0{2,3})\)/i],[u,[f,L],[h,b]],[/droid.+; (glass) \d/i],[u,[f,U],[h,b]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,u,[h,b]],[/; (quest( \d| pro)?)/i],[u,[f,H],[h,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[h,C]],[/(aeobc)\b/i],[u,[f,B],[h,C]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[h,v]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,y]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,y]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,v]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[p,[d,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[d,p],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[p,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,p],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[p,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,p],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[p,J,Y]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[p,J,Y],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[p,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,K],[p,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[p,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,p],[/\(bb(10);/i],[p,[d,k]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[p,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[p,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[p,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[p,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[p,[d,T+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,j],p],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,p],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],p],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,p]]},Z=function(e,t){if(typeof e===A&&(t=e,e=o),!(this instanceof Z))return new Z(e,t).getResult();var n=typeof i!==a&&i.navigator?i.navigator:o,r=e||(n&&n.userAgent?n.userAgent:""),m=n&&n.userAgentData?n.userAgentData:o,w=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(X,t):X,b=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[d]=o,t[p]=o,W.call(t,r,w.browser),t[l]=typeof(e=t[p])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:o,b&&n&&n.brave&&typeof n.brave.isBrave==s&&(t[d]="Brave"),t},this.getCPU=function(){var e={};return e[g]=o,W.call(e,r,w.cpu),e},this.getDevice=function(){var e={};return e[f]=o,e[u]=o,e[h]=o,W.call(e,r,w.device),b&&!e[h]&&m&&m.mobile&&(e[h]=v),b&&"Macintosh"==e[u]&&n&&typeof n.standalone!==a&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[h]=y),e},this.getEngine=function(){var e={};return e[d]=o,e[p]=o,W.call(e,r,w.engine),e},this.getOS=function(){var e={};return e[d]=o,e[p]=o,W.call(e,r,w.os),b&&!e[d]&&m&&m.platform&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,j).replace(/macos/i,K)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?z(e,500):e,this},this.setUA(r),this};Z.VERSION="1.0.40",Z.BROWSER=q([d,p,l]),Z.CPU=q([g]),Z.DEVICE=q([u,f,h,m,v,w,y,b,C]),Z.ENGINE=Z.OS=q([d,p]),typeof t!==a?(e.exports&&(t=e.exports=Z),t.UAParser=Z):n.amdO?(r=function(){return Z}.call(t,n,t,e))===o||(e.exports=r):typeof i!==a&&(i.UAParser=Z);var ee=typeof i!==a&&(i.jQuery||i.Zepto);if(ee&&!ee.ua){var te=new Z;ee.ua=te.getResult(),ee.ua.get=function(){return te.getUA()},ee.ua.set=function(e){te.setUA(e);var t=te.getResult();for(var n in t)ee.ua[n]=t[n]}}}("object"===typeof window?window:this)},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),A=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var w=y.prototype=new v;w.constructor=y,p(w,m.prototype),w.isPureReactComponent=!0;var b=Array.isArray,C=Object.prototype.hasOwnProperty,B={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)C.call(t,i)&&!S.hasOwnProperty(i)&&(o[i]=t[i]);var A=arguments.length-2;if(1===A)o.children=r;else if(1<A){for(var c=Array(A),l=0;l<A;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in A=e.defaultProps)void 0===o[i]&&(o[i]=A[i]);return{$$typeof:n,type:e,key:s,ref:a,props:o,_owner:B.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var A=!1;if(null===e)A=!0;else switch(a){case"string":case"number":A=!0;break;case"object":switch(e.$$typeof){case n:case r:A=!0}}if(A)return s=s(A=e),e=""===o?"."+T(A,0):o,b(s)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),I(s,t,i,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||A&&A.key===s.key?"":(""+s.key).replace(x,"$&/")+"/")+e)),t.push(s)),1;if(A=0,o=""===o?".":o+":",b(e))for(var c=0;c<e.length;c++){var l=o+T(a=e[c],c);A+=I(a,t,i,l,s)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(a=e.next()).done;)A+=I(a=a.value,t,i,l=o+T(a,c++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return A}function U(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function F(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},R={transition:null},Q={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:R,ReactCurrentOwner:B};function P(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:U,forEach:function(e,t,n){U(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return U(e,(function(){t++})),t},toArray:function(e){return U(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Q,t.act=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=B.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var A=e.type.defaultProps;for(c in t)C.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==A?A[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){A=Array(c);for(var l=0;l<c;l++)A[l]=arguments[l+2];i.children=A}return{$$typeof:n,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:A,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:F}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=P,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},4353:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=a?a(n):new e.constructor(n);return e.copy(r),r}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4443:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(t,n,r){var i=n.prototype,o=i.format;r.en.formats=e,i.format=function(t){void 0===t&&(t="YYYY-MM-DDTHH:mm:ssZ");var n=this.$locale().formats,r=function(t,n){return t.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(t,r,i){var o=i&&i.toUpperCase();return r||n[i]||e[i]||n[o].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,t,n){return t||n.slice(1)}))}))}(t,void 0===n?{}:n);return o.call(this,r)}}}()},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=a(e),s=o[0],A=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,s,A)),l=0,u=A>0?s-4:s;for(n=0;n<u;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===A&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===A&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],s=16383,a=0,c=r-i;a<c;a+=s)o.push(A(e,a,a+s>c?c:a+s));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=o[s],r[o.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function A(e,t,r){for(var i,o,s=[],a=t;a<r;a+=3)i=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},4462:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)}}}()},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),o=t&&!t.nodeType&&t,s=o&&e&&!e.nodeType&&e,a=s&&s.exports===o?r.Buffer:void 0,A=(a?a.isBuffer:void 0)||i;e.exports=A},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,o=i.hasOwnProperty,s=i.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var r=!0}catch(A){}var i=s.call(e);return r&&(t?e[a]=n:delete e[a]),i}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),o=n(438),s=n(9394),a=n(6874);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}A.prototype.clear=r,A.prototype.delete=i,A.prototype.get=o,A.prototype.has=s,A.prototype.set=a,e.exports=A},5029:(e,t,n)=>{var r=n(6989),i=n(3097),o=n(3366),s=n(2597),a=n(9417),A=n(1310),c=n(914);e.exports=function(e,t){return s(e)&&a(t)?A(c(e),t):function(n){var s=i(n,e);return void 0===s&&s===t?o(n,e):r(t,s,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5119:(e,t,n)=>{var r=n(6614),i=n(474);e.exports=function(e,t){return e&&r(t,i(t),e)}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},n.apply(this,arguments)};function r(e,t,n,r){function i(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,o){function s(e){try{A(r.next(e))}catch(Nt){o(Nt)}}function a(e){try{A(r.throw(e))}catch(Nt){o(Nt)}}function A(e){e.done?n(e.value):i(e.value).then(s,a)}A((r=r.apply(e,t||[])).next())}))}function i(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(e){return function(t){return A([e,t])}}function A(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(Nt){o=[6,Nt],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function o(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}for(var s=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,i){return new e(this.left+t,this.top+n,this.width+r,this.height+i)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find((function(e){return 0!==e.width}));return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),a=function(e,t){return s.fromClientRect(e,t.getBoundingClientRect())},A=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),i=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new s(0,0,r,i)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var s=e[i];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p="undefined"===typeof Uint8Array?[]:new Uint8Array(256),g=0;g<f.length;g++)p[f.charCodeAt(g)]=g;for(var m=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=p[e.charCodeAt(t)],r=p[e.charCodeAt(t+1)],i=p[e.charCodeAt(t+2)],o=p[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&o;return c},v=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},y=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},w=5,b=11,C=2,B=65536>>w,S=(1<<w)-1,E=B+(1024>>w)+32,k=65536>>b,x=(1<<b-w)-1,T=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},I=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},U=function(e,t){var n=m(e),r=Array.isArray(n)?y(n):new Uint32Array(n),i=Array.isArray(n)?v(n):new Uint16Array(n),o=24,s=T(i,o/2,r[4]/2),a=2===r[5]?T(i,(o+r[4])/2):I(r,Math.ceil((o+r[4])/4));return new F(r[0],r[1],r[2],r[3],s,a)},F=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>w])<<C)+(e&S),this.data[t];if(e<=65535)return t=((t=this.index[B+(e-55296>>w)])<<C)+(e&S),this.data[t];if(e<this.highStart)return t=E-k+(e>>b),t=this.index[t],t+=e>>w&x,t=((t=this.index[t])<<C)+(e&S),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",R="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Q=0;Q<_.length;Q++)R[_.charCodeAt(Q)]=Q;var P=50,O=1,N=2,D=3,M=4,L=5,H=7,j=8,K=9,V=10,q=11,$=12,G=13,z=14,W=15,J=16,Y=17,X=18,Z=19,ee=20,te=21,ne=22,re=23,ie=24,oe=25,se=26,ae=27,Ae=28,ce=29,le=30,ue=31,de=32,he=33,fe=34,pe=35,ge=36,me=37,ve=38,ye=39,we=40,be=41,Ce=42,Be=43,Se=[9001,65288],Ee="!",ke="\xd7",xe="\xf7",Te=U("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ie=[le,ge],Ue=[O,N,D,L],Fe=[V,j],_e=[ae,se],Re=Ue.concat(Fe),Qe=[ve,ye,we,fe,pe],Pe=[W,G],Oe=function(e,t){void 0===t&&(t="strict");var n=[],r=[],i=[];return e.forEach((function(e,o){var s=Te.get(e);if(s>P?(i.push(!0),s-=P):i.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(o),n.push(J);if(s===M||s===q){if(0===o)return r.push(o),n.push(le);var a=n[o-1];return-1===Re.indexOf(a)?(r.push(r[o-1]),n.push(a)):(r.push(o),n.push(le))}return r.push(o),s===ue?n.push("strict"===t?te:me):s===Ce||s===ce?n.push(le):s===Be?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(me):n.push(le):void n.push(s)})),[r,n,i]},Ne=function(e,t,n,r){var i=r[n];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){if((A=r[++o])===t)return!0;if(A!==V)break}if(i===V)for(o=n;o>0;){var s=r[--o];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){var A;if((A=r[++a])===t)return!0;if(A!==V)break}if(s!==V)break}return!1},De=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==V)return r;n--}return 0},Me=function(e,t,n,r,i){if(0===n[r])return ke;var o=r-1;if(Array.isArray(i)&&!0===i[o])return ke;var s=o-1,a=o+1,A=t[o],c=s>=0?t[s]:0,l=t[a];if(A===N&&l===D)return ke;if(-1!==Ue.indexOf(A))return Ee;if(-1!==Ue.indexOf(l))return ke;if(-1!==Fe.indexOf(l))return ke;if(De(o,t)===j)return xe;if(Te.get(e[o])===q)return ke;if((A===de||A===he)&&Te.get(e[a])===q)return ke;if(A===H||l===H)return ke;if(A===K)return ke;if(-1===[V,G,W].indexOf(A)&&l===K)return ke;if(-1!==[Y,X,Z,ie,Ae].indexOf(l))return ke;if(De(o,t)===ne)return ke;if(Ne(re,ne,o,t))return ke;if(Ne([Y,X],te,o,t))return ke;if(Ne($,$,o,t))return ke;if(A===V)return xe;if(A===re||l===re)return ke;if(l===J||A===J)return xe;if(-1!==[G,W,te].indexOf(l)||A===z)return ke;if(c===ge&&-1!==Pe.indexOf(A))return ke;if(A===Ae&&l===ge)return ke;if(l===ee)return ke;if(-1!==Ie.indexOf(l)&&A===oe||-1!==Ie.indexOf(A)&&l===oe)return ke;if(A===ae&&-1!==[me,de,he].indexOf(l)||-1!==[me,de,he].indexOf(A)&&l===se)return ke;if(-1!==Ie.indexOf(A)&&-1!==_e.indexOf(l)||-1!==_e.indexOf(A)&&-1!==Ie.indexOf(l))return ke;if(-1!==[ae,se].indexOf(A)&&(l===oe||-1!==[ne,W].indexOf(l)&&t[a+1]===oe)||-1!==[ne,W].indexOf(A)&&l===oe||A===oe&&-1!==[oe,Ae,ie].indexOf(l))return ke;if(-1!==[oe,Ae,ie,Y,X].indexOf(l))for(var u=o;u>=0;){if((d=t[u])===oe)return ke;if(-1===[Ae,ie].indexOf(d))break;u--}if(-1!==[ae,se].indexOf(l))for(u=-1!==[Y,X].indexOf(A)?s:o;u>=0;){var d;if((d=t[u])===oe)return ke;if(-1===[Ae,ie].indexOf(d))break;u--}if(ve===A&&-1!==[ve,ye,fe,pe].indexOf(l)||-1!==[ye,fe].indexOf(A)&&-1!==[ye,we].indexOf(l)||-1!==[we,pe].indexOf(A)&&l===we)return ke;if(-1!==Qe.indexOf(A)&&-1!==[ee,se].indexOf(l)||-1!==Qe.indexOf(l)&&A===ae)return ke;if(-1!==Ie.indexOf(A)&&-1!==Ie.indexOf(l))return ke;if(A===ie&&-1!==Ie.indexOf(l))return ke;if(-1!==Ie.concat(oe).indexOf(A)&&l===ne&&-1===Se.indexOf(e[a])||-1!==Ie.concat(oe).indexOf(l)&&A===X)return ke;if(A===be&&l===be){for(var h=n[o],f=1;h>0&&t[--h]===be;)f++;if(f%2!==0)return ke}return A===de&&l===he?ke:xe},Le=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Oe(e,t.lineBreak),r=n[0],i=n[1],o=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(i=i.map((function(e){return-1!==[oe,le,Ce].indexOf(e)?me:e})));var s="keep-all"===t.wordBreak?o.map((function(t,n){return t&&e[n]>=19968&&e[n]<=40959})):void 0;return[r,i,s]},He=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===Ee,this.start=n,this.end=r}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),je=function(e,t){var n=c(e),r=Le(n,t),i=r[0],o=r[1],s=r[2],a=n.length,A=0,l=0;return{next:function(){if(l>=a)return{done:!0,value:null};for(var e=ke;l<a&&(e=Me(n,o,i,++l,s))===ke;);if(e!==ke||l===a){var t=new He(n,e,A,l);return A=l,{value:t,done:!1}}return{done:!0,value:null}}}},Ke=1,Ve=2,qe=4,$e=8,Ge=10,ze=47,We=92,Je=9,Ye=32,Xe=34,Ze=61,et=35,tt=36,nt=37,rt=39,it=40,ot=41,st=95,at=45,At=33,ct=60,lt=62,ut=64,dt=91,ht=93,ft=61,pt=123,gt=63,mt=125,vt=124,yt=126,wt=128,bt=65533,Ct=42,Bt=43,St=44,Et=58,kt=59,xt=46,Tt=0,It=8,Ut=11,Ft=14,_t=31,Rt=127,Qt=-1,Pt=48,Ot=97,Nt=101,Dt=102,Mt=117,Lt=122,Ht=65,jt=69,Kt=70,Vt=85,qt=90,$t=function(e){return e>=Pt&&e<=57},Gt=function(e){return e>=55296&&e<=57343},zt=function(e){return $t(e)||e>=Ht&&e<=Kt||e>=Ot&&e<=Dt},Wt=function(e){return e>=Ot&&e<=Lt},Jt=function(e){return e>=Ht&&e<=qt},Yt=function(e){return Wt(e)||Jt(e)},Xt=function(e){return e>=wt},Zt=function(e){return e===Ge||e===Je||e===Ye},en=function(e){return Yt(e)||Xt(e)||e===st},tn=function(e){return en(e)||$t(e)||e===at},nn=function(e){return e>=Tt&&e<=It||e===Ut||e>=Ft&&e<=_t||e===Rt},rn=function(e,t){return e===We&&t!==Ge},on=function(e,t,n){return e===at?en(t)||rn(t,n):!!en(e)||!(e!==We||!rn(e,t))},sn=function(e,t,n){return e===Bt||e===at?!!$t(t)||t===xt&&$t(n):$t(e===xt?t:e)},an=function(e){var t=0,n=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(n=-1),t++);for(var r=[];$t(e[t]);)r.push(e[t++]);var i=r.length?parseInt(l.apply(void 0,r),10):0;e[t]===xt&&t++;for(var o=[];$t(e[t]);)o.push(e[t++]);var s=o.length,a=s?parseInt(l.apply(void 0,o),10):0;e[t]!==jt&&e[t]!==Nt||t++;var A=1;e[t]!==Bt&&e[t]!==at||(e[t]===at&&(A=-1),t++);for(var c=[];$t(e[t]);)c.push(e[t++]);var u=c.length?parseInt(l.apply(void 0,c),10):0;return n*(i+a*Math.pow(10,-s))*Math.pow(10,A*u)},An={type:2},cn={type:3},ln={type:4},un={type:13},dn={type:8},hn={type:21},fn={type:9},pn={type:10},gn={type:11},mn={type:12},vn={type:14},yn={type:23},wn={type:1},bn={type:25},Cn={type:24},Bn={type:26},Sn={type:27},En={type:28},kn={type:29},xn={type:31},Tn={type:32},In=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==Tn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Xe:return this.consumeStringToken(Xe);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var i=on(t,n,r)?Ve:Ke;return{type:5,value:this.consumeName(),flags:i}}break;case tt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case it:return An;case ot:return cn;case Ct:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),vn;break;case Bt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case St:return ln;case at:var o=e,s=this.peekCodePoint(0),a=this.peekCodePoint(1);if(sn(o,s,a))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(on(o,s,a))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(s===at&&a===lt)return this.consumeCodePoint(),this.consumeCodePoint(),Cn;break;case xt:if(sn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ze:if(this.peekCodePoint(0)===Ct)for(this.consumeCodePoint();;){var A=this.consumeCodePoint();if(A===Ct&&(A=this.consumeCodePoint())===ze)return this.consumeToken();if(A===Qt)return this.consumeToken()}break;case Et:return Bn;case kt:return Sn;case ct:if(this.peekCodePoint(0)===At&&this.peekCodePoint(1)===at&&this.peekCodePoint(2)===at)return this.consumeCodePoint(),this.consumeCodePoint(),bn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(on(c,u,d))return{type:7,value:this.consumeName()};break;case dt:return En;case We:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case ht:return kn;case ft:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),dn;break;case pt:return gn;case mt:return mn;case Mt:case Vt:var h=this.peekCodePoint(0),f=this.peekCodePoint(1);return h!==Bt||!zt(f)&&f!==gt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case vt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===vt)return this.consumeCodePoint(),hn;break;case yt:if(this.peekCodePoint(0)===Ze)return this.consumeCodePoint(),pn;break;case Qt:return Tn}return Zt(e)?(this.consumeWhiteSpace(),xn):$t(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();zt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===gt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Pt:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return e===gt?Kt:e}))),16)};var r=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===at&&zt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var i=[];zt(t)&&i.length<6;)i.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(l.apply(void 0,i),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===it?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===it?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Xe){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===ot)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),yn)}for(;;){var r=this.consumeCodePoint();if(r===Qt||r===ot)return{type:22,value:l.apply(void 0,e)};if(Zt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Qt||this.peekCodePoint(0)===ot?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),yn);if(r===Xe||r===rt||r===it||nn(r))return this.consumeBadUrlRemnants(),yn;if(r===We){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),yn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;Zt(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===ot||e===Qt)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=l.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===Qt||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===Ge)return this._value.splice(0,n),wn;if(r===We){var i=this._value[n+1];i!==Qt&&void 0!==i&&(i===Ge?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,i)&&(t+=this.consumeStringSlice(n),t+=l(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=qe,n=this.peekCodePoint(0);for(n!==Bt&&n!==at||e.push(this.consumeCodePoint());$t(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===xt&&$t(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=$e;$t(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var i=this.peekCodePoint(2);if((n===jt||n===Nt)&&((r===Bt||r===at)&&$t(i)||$t(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=$e;$t(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[an(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),i=this.peekCodePoint(1),o=this.peekCodePoint(2);return on(r,i,o)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(zt(e)){for(var t=l(e);zt(this.peekCodePoint(0))&&t.length<6;)t+=l(this.consumeCodePoint());Zt(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||Gt(n)||n>1114111?bt:n}return e===Qt?bt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=l(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),Un=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new In;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Mn(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Tn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Fn=function(e){return 15===e.type},_n=function(e){return 17===e.type},Rn=function(e){return 20===e.type},Qn=function(e){return 0===e.type},Pn=function(e,t){return Rn(e)&&e.value===t},On=function(e){return 31!==e.type},Nn=function(e){return 31!==e.type&&4!==e.type},Dn=function(e){var t=[],n=[];return e.forEach((function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)})),n.length&&t.push(n),t},Mn=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Ln=function(e){return 17===e.type||15===e.type},Hn=function(e){return 16===e.type||Ln(e)},jn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Kn={type:17,number:0,flags:qe},Vn={type:16,number:50,flags:qe},qn={type:16,number:100,flags:qe},$n=function(e,t,n){var r=e[0],i=e[1];return[Gn(r,t),Gn("undefined"!==typeof i?i:r,n)]},Gn=function(e,t){if(16===e.type)return e.number/100*t;if(Fn(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},zn="deg",Wn="grad",Jn="rad",Yn="turn",Xn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case zn:return Math.PI*t.number/180;case Wn:return Math.PI/200*t.number;case Jn:return t.number;case Yn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},Zn=function(e){return 15===e.type&&(e.unit===zn||e.unit===Wn||e.unit===Jn||e.unit===Yn)},er=function(e){switch(e.filter(Rn).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Kn,Kn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Kn,qn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qn,qn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qn,Kn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=lr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),1)}if(4===t.value.length){r=t.value.substring(0,1),i=t.value.substring(1,2),o=t.value.substring(2,3);var s=t.value.substring(3,4);return or(parseInt(r+r,16),parseInt(i+i,16),parseInt(o+o,16),parseInt(s+s,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),1);if(8===t.value.length)return r=t.value.substring(0,2),i=t.value.substring(2,4),o=t.value.substring(4,6),s=t.value.substring(6,8),or(parseInt(r,16),parseInt(i,16),parseInt(o,16),parseInt(s,16)/255)}if(20===t.type){var a=dr[t.value.toUpperCase()];if("undefined"!==typeof a)return a}return dr.TRANSPARENT}},rr=function(e){return 0===(255&e)},ir=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,i=255&e>>24;return t<255?"rgba("+i+","+r+","+n+","+t/255+")":"rgb("+i+","+r+","+n+")"},or=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},sr=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},ar=function(e,t){var n=t.filter(Nn);if(3===n.length){var r=n.map(sr),i=r[0],o=r[1],s=r[2];return or(i,o,s,1)}if(4===n.length){var a=n.map(sr),A=(i=a[0],o=a[1],s=a[2],a[3]);return or(i,o,s,A)}return 0};function Ar(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(Nn),r=n[0],i=n[1],o=n[2],s=n[3],a=(17===r.type?tr(r.number):Xn.parse(e,r))/(2*Math.PI),A=Hn(i)?i.number/100:0,c=Hn(o)?o.number/100:0,l="undefined"!==typeof s&&Hn(s)?Gn(s,1):1;if(0===A)return or(255*c,255*c,255*c,1);var u=c<=.5?c*(A+1):c+A-c*A,d=2*c-u,h=Ar(d,u,a+1/3),f=Ar(d,u,a),p=Ar(d,u,a-1/3);return or(255*h,255*f,255*p,l)},lr={hsl:cr,hsla:cr,rgb:ar,rgba:ar},ur=function(e,t){return nr.parse(e,Un.create(t).parseComponentValue())},dr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hr={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Rn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},pr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Hn(r)?{color:n,stop:r}:{color:n,stop:null}},gr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Kn),null===r.stop&&(r.stop=qn);for(var i=[],o=0,s=0;s<e.length;s++){var a=e[s].stop;if(null!==a){var A=Gn(a,t);A>o?i.push(A):i.push(o),o=A}else i.push(null)}var c=null;for(s=0;s<i.length;s++){var l=i[s];if(null===l)null===c&&(c=s);else if(null!==c){for(var u=s-c,d=(l-i[c-1])/(u+1),h=1;h<=u;h++)i[c+h-1]=d*h;c=null}}return e.map((function(e,n){return{color:e.color,stop:Math.max(Math.min(1,i[n]/t),0)}}))},mr=function(e,t,n){var r=t/2,i=n/2,o=Gn(e[0],t)-r,s=i-Gn(e[1],n);return(Math.atan2(s,o)+2*Math.PI)%(2*Math.PI)},vr=function(e,t,n){var r="number"===typeof e?e:mr(e,t,n),i=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),o=t/2,s=n/2,a=i/2,A=Math.sin(r-Math.PI/2)*a,c=Math.cos(r-Math.PI/2)*a;return[i,o-c,o+c,s-A,s+A]},yr=function(e,t){return Math.sqrt(e*e+t*t)},wr=function(e,t,n,r,i){return[[0,0],[0,t],[e,0],[e,t]].reduce((function(e,t){var o=t[0],s=t[1],a=yr(n-o,r-s);return(i?a<e.optimumDistance:a>e.optimumDistance)?{optimumCorner:t,optimumDistance:a}:e}),{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},br=function(e,t,n,r,i){var o=0,s=0;switch(e.size){case 0:0===e.shape?o=s=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.min(Math.abs(t),Math.abs(t-r)),s=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(0===e.shape)o=s=Math.min(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){var a=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(t),Math.abs(t-r)),A=wr(r,i,t,n,!0),c=A[0],l=A[1];s=a*(o=yr(c-t,(l-n)/a))}break;case 1:0===e.shape?o=s=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-i)):1===e.shape&&(o=Math.max(Math.abs(t),Math.abs(t-r)),s=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(0===e.shape)o=s=Math.max(yr(t,n),yr(t,n-i),yr(t-r,n),yr(t-r,n-i));else if(1===e.shape){a=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(t),Math.abs(t-r));var u=wr(r,i,t,n,!1);c=u[0],l=u[1],s=a*(o=yr(c-t,(l-n)/a))}}return Array.isArray(e.size)&&(o=Gn(e.size[0],r),s=2===e.size.length?Gn(e.size[1],i):o),[o,s]},Cr=function(e,t){var n=tr(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&-1!==["top","left","right","bottom"].indexOf(o.value))return void(n=er(t));if(Zn(o))return void(n=(Xn.parse(e,o)+tr(270))%tr(360))}var s=pr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},Br="closest-side",Sr="farthest-side",Er="closest-corner",kr="farthest-corner",xr="circle",Tr="ellipse",Ir="cover",Ur="contain",Fr=function(e,t){var n=0,r=3,i=[],o=[];return Dn(t).forEach((function(t,s){var a=!0;if(0===s?a=t.reduce((function(e,t){if(Rn(t))switch(t.value){case"center":return o.push(Vn),!1;case"top":case"left":return o.push(Kn),!1;case"right":case"bottom":return o.push(qn),!1}else if(Hn(t)||Ln(t))return o.push(t),!1;return e}),a):1===s&&(a=t.reduce((function(e,t){if(Rn(t))switch(t.value){case xr:return n=0,!1;case Tr:return n=1,!1;case Ur:case Br:return r=0,!1;case Sr:return r=1,!1;case Er:return r=2,!1;case Ir:case kr:return r=3,!1}else if(Ln(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)),a){var A=pr(e,t);i.push(A)}})),{size:r,shape:n,stops:i,position:o,type:2}},_r=function(e){return 1===e.type},Rr=function(e){return 2===e.type},Qr={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Nr[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Pr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Nr[e.name])}var Or,Nr={"linear-gradient":function(e,t){var n=tr(180),r=[];return Dn(t).forEach((function(t,i){if(0===i){var o=t[0];if(20===o.type&&"to"===o.value)return void(n=er(t));if(Zn(o))return void(n=Xn.parse(e,o))}var s=pr(e,t);r.push(s)})),{angle:n,stops:r,type:1}},"-moz-linear-gradient":Cr,"-ms-linear-gradient":Cr,"-o-linear-gradient":Cr,"-webkit-linear-gradient":Cr,"radial-gradient":function(e,t){var n=0,r=3,i=[],o=[];return Dn(t).forEach((function(t,s){var a=!0;if(0===s){var A=!1;a=t.reduce((function(e,t){if(A)if(Rn(t))switch(t.value){case"center":return o.push(Vn),e;case"top":case"left":return o.push(Kn),e;case"right":case"bottom":return o.push(qn),e}else(Hn(t)||Ln(t))&&o.push(t);else if(Rn(t))switch(t.value){case xr:return n=0,!1;case Tr:return n=1,!1;case"at":return A=!0,!1;case Br:return r=0,!1;case Ir:case Sr:return r=1,!1;case Ur:case Er:return r=2,!1;case kr:return r=3,!1}else if(Ln(t)||Hn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e}),a)}if(a){var c=pr(e,t);i.push(c)}})),{size:r,shape:n,stops:i,position:o,type:2}},"-moz-radial-gradient":Fr,"-ms-radial-gradient":Fr,"-o-radial-gradient":Fr,"-webkit-radial-gradient":Fr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],i=1,o=0,s=3,a=[];return Dn(t).forEach((function(t,n){var o=t[0];if(0===n){if(Rn(o)&&"linear"===o.value)return void(i=1);if(Rn(o)&&"radial"===o.value)return void(i=2)}if(18===o.type)if("from"===o.name){var s=nr.parse(e,o.values[0]);r.push({stop:Kn,color:s})}else if("to"===o.name)s=nr.parse(e,o.values[0]),r.push({stop:qn,color:s});else if("color-stop"===o.name){var a=o.values.filter(Nn);if(2===a.length){s=nr.parse(e,a[1]);var A=a[0];_n(A)&&r.push({stop:{type:16,number:100*A.number,flags:A.flags},color:s})}}})),1===i?{angle:(n+tr(180))%tr(360),stops:r,type:i}:{size:s,shape:o,stops:r,position:a,type:i}}},Dr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter((function(e){return Nn(e)&&Pr(e)})).map((function(t){return Qr.parse(e,t)}))}},Mr={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map((function(e){if(Rn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Lr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Hn)})).map(jn)}},Hr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(Rn).map((function(e){return e.value})).join(" ")})).map(jr)}},jr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Or||(Or={}));var Kr,Vr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Dn(t).map((function(e){return e.filter(qr)}))}},qr=function(e){return Rn(e)||Hn(e)},$r=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},Gr=$r("top"),zr=$r("right"),Wr=$r("bottom"),Jr=$r("left"),Yr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return jn(t.filter(Hn))}}},Xr=Yr("top-left"),Zr=Yr("top-right"),ei=Yr("bottom-right"),ti=Yr("bottom-left"),ni=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},ri=ni("top"),ii=ni("right"),oi=ni("bottom"),si=ni("left"),ai=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}}},Ai=ai("top"),ci=ai("right"),li=ai("bottom"),ui=ai("left"),di={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hi={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fi={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Rn).reduce((function(e,t){return e|pi(t.value)}),0)}},pi=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},gi={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mi={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Kr||(Kr={}));var vi,yi={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Kr.STRICT:Kr.NORMAL}},wi={name:"line-height",initialValue:"normal",prefix:!1,type:4},bi=function(e,t){return Rn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Hn(e)?Gn(e,t):t},Ci={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Qr.parse(e,t)}},Bi={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Si={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Ei=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},ki=Ei("top"),xi=Ei("right"),Ti=Ei("bottom"),Ii=Ei("left"),Ui={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Rn).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},Fi={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},_i=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ri=_i("top"),Qi=_i("right"),Pi=_i("bottom"),Oi=_i("left"),Ni={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Di={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Mi={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:dr.TRANSPARENT,offsetX:Kn,offsetY:Kn,blur:Kn},r=0,i=0;i<t.length;i++){var o=t[i];Ln(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:n.blur=o,r++):n.color=nr.parse(e,o)}return n}))}},Li={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Hi={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=ji[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},ji={matrix:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===t.length?t:null},matrix3d:function(e){var t=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),n=t[0],r=t[1];t[2],t[3];var i=t[4],o=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var s=t[12],a=t[13];return t[14],t[15],16===t.length?[n,r,i,o,s,a]:null}},Ki={type:16,number:50,flags:qe},Vi=[Ki,Ki],qi={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Hn);return 2!==n.length?Vi:[n[0],n[1]]}},$i={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(vi||(vi={}));for(var Gi={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return vi.BREAK_ALL;case"keep-all":return vi.KEEP_ALL;default:return vi.NORMAL}}},zi={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(_n(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Wi={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Ji={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:1}},Yi={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Xi={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Rn).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},Zi={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach((function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}})),n.length&&r.push(n.join(" ")),r.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},eo={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},to={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return _n(t)?t.number:Rn(t)&&"bold"===t.value?700:400}},no={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Rn).map((function(e){return e.value}))}},ro={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},io=function(e,t){return 0!==(e&t)},oo={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},so={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],i=t.filter(On),o=0;o<i.length;o++){var s=i[o],a=i[o+1];if(20===s.type){var A=a&&_n(a)?a.number:1;r.push({counter:s.value,increment:A})}}return r}},ao={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(On),i=0;i<r.length;i++){var o=r[i],s=r[i+1];if(Rn(o)&&"none"!==o.value){var a=s&&_n(s)?s.number:0;n.push({counter:o.value,reset:a})}}return n}},Ao={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map((function(t){return Wi.parse(e,t)}))}},co={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],i=t.filter(Qn);if(i.length%2!==0)return null;for(var o=0;o<i.length;o+=2){var s=i[o].value,a=i[o+1].value;r.push({open:s,close:a})}return r}},lo=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},uo={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Pn(t[0],"none")?[]:Dn(t).map((function(t){for(var n={color:255,offsetX:Kn,offsetY:Kn,blur:Kn,spread:Kn,inset:!1},r=0,i=0;i<t.length;i++){var o=t[i];Pn(o,"inset")?n.inset=!0:Ln(o)?(0===r?n.offsetX=o:1===r?n.offsetY=o:2===r?n.blur=o:n.spread=o,r++):n.color=nr.parse(e,o)}return n}))}},ho={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Rn).forEach((function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}})),n.forEach((function(e){-1===r.indexOf(e)&&r.push(e)})),r}},fo={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},po={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Fn(t)?t.number:0}},go=function(){function e(e,t){var n,r;this.animationDuration=yo(e,Ao,t.animationDuration),this.backgroundClip=yo(e,hr,t.backgroundClip),this.backgroundColor=yo(e,fr,t.backgroundColor),this.backgroundImage=yo(e,Dr,t.backgroundImage),this.backgroundOrigin=yo(e,Mr,t.backgroundOrigin),this.backgroundPosition=yo(e,Lr,t.backgroundPosition),this.backgroundRepeat=yo(e,Hr,t.backgroundRepeat),this.backgroundSize=yo(e,Vr,t.backgroundSize),this.borderTopColor=yo(e,Gr,t.borderTopColor),this.borderRightColor=yo(e,zr,t.borderRightColor),this.borderBottomColor=yo(e,Wr,t.borderBottomColor),this.borderLeftColor=yo(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=yo(e,Xr,t.borderTopLeftRadius),this.borderTopRightRadius=yo(e,Zr,t.borderTopRightRadius),this.borderBottomRightRadius=yo(e,ei,t.borderBottomRightRadius),this.borderBottomLeftRadius=yo(e,ti,t.borderBottomLeftRadius),this.borderTopStyle=yo(e,ri,t.borderTopStyle),this.borderRightStyle=yo(e,ii,t.borderRightStyle),this.borderBottomStyle=yo(e,oi,t.borderBottomStyle),this.borderLeftStyle=yo(e,si,t.borderLeftStyle),this.borderTopWidth=yo(e,Ai,t.borderTopWidth),this.borderRightWidth=yo(e,ci,t.borderRightWidth),this.borderBottomWidth=yo(e,li,t.borderBottomWidth),this.borderLeftWidth=yo(e,ui,t.borderLeftWidth),this.boxShadow=yo(e,uo,t.boxShadow),this.color=yo(e,di,t.color),this.direction=yo(e,hi,t.direction),this.display=yo(e,fi,t.display),this.float=yo(e,gi,t.cssFloat),this.fontFamily=yo(e,Zi,t.fontFamily),this.fontSize=yo(e,eo,t.fontSize),this.fontStyle=yo(e,ro,t.fontStyle),this.fontVariant=yo(e,no,t.fontVariant),this.fontWeight=yo(e,to,t.fontWeight),this.letterSpacing=yo(e,mi,t.letterSpacing),this.lineBreak=yo(e,yi,t.lineBreak),this.lineHeight=yo(e,wi,t.lineHeight),this.listStyleImage=yo(e,Ci,t.listStyleImage),this.listStylePosition=yo(e,Bi,t.listStylePosition),this.listStyleType=yo(e,Si,t.listStyleType),this.marginTop=yo(e,ki,t.marginTop),this.marginRight=yo(e,xi,t.marginRight),this.marginBottom=yo(e,Ti,t.marginBottom),this.marginLeft=yo(e,Ii,t.marginLeft),this.opacity=yo(e,Ji,t.opacity);var i=yo(e,Ui,t.overflow);this.overflowX=i[0],this.overflowY=i[i.length>1?1:0],this.overflowWrap=yo(e,Fi,t.overflowWrap),this.paddingTop=yo(e,Ri,t.paddingTop),this.paddingRight=yo(e,Qi,t.paddingRight),this.paddingBottom=yo(e,Pi,t.paddingBottom),this.paddingLeft=yo(e,Oi,t.paddingLeft),this.paintOrder=yo(e,ho,t.paintOrder),this.position=yo(e,Di,t.position),this.textAlign=yo(e,Ni,t.textAlign),this.textDecorationColor=yo(e,Yi,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=yo(e,Xi,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=yo(e,Mi,t.textShadow),this.textTransform=yo(e,Li,t.textTransform),this.transform=yo(e,Hi,t.transform),this.transformOrigin=yo(e,qi,t.transformOrigin),this.visibility=yo(e,$i,t.visibility),this.webkitTextStrokeColor=yo(e,fo,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=yo(e,po,t.webkitTextStrokeWidth),this.wordBreak=yo(e,Gi,t.wordBreak),this.zIndex=yo(e,zi,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return io(this.display,4)||io(this.display,33554432)||io(this.display,268435456)||io(this.display,536870912)||io(this.display,67108864)||io(this.display,134217728)},e}(),mo=function(){function e(e,t){this.content=yo(e,oo,t.content),this.quotes=yo(e,co,t.quotes)}return e}(),vo=function(){function e(e,t){this.counterIncrement=yo(e,so,t.counterIncrement),this.counterReset=yo(e,ao,t.counterReset)}return e}(),yo=function(e,t,n){var r=new In,i=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(i);var o=new Un(r.read());switch(t.type){case 2:var s=o.parseComponentValue();return t.parse(e,Rn(s)?s.value:t.initialValue);case 0:return t.parse(e,o.parseComponentValue());case 1:return t.parse(e,o.parseComponentValues());case 4:return o.parseComponentValue();case 3:switch(t.format){case"angle":return Xn.parse(e,o.parseComponentValue());case"color":return nr.parse(e,o.parseComponentValue());case"image":return Qr.parse(e,o.parseComponentValue());case"length":var a=o.parseComponentValue();return Ln(a)?a:Kn;case"length-percentage":var A=o.parseComponentValue();return Hn(A)?A:Kn;case"time":return Wi.parse(e,o.parseComponentValue())}}},wo="data-html2canvas-debug",bo=function(e){switch(e.getAttribute(wo)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},Co=function(e,t){var n=bo(e);return 1===n||t===n},Bo=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,Co(t,3),this.styles=new go(e,window.getComputedStyle(t,null)),la(t)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=a(this.context,t),Co(t,4)&&(this.flags|=16)}return e}(),So="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Eo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ko="undefined"===typeof Uint8Array?[]:new Uint8Array(256),xo=0;xo<Eo.length;xo++)ko[Eo.charCodeAt(xo)]=xo;for(var To=function(e){var t,n,r,i,o,s=.75*e.length,a=e.length,A=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(s):new Array(s),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<a;t+=4)n=ko[e.charCodeAt(t)],r=ko[e.charCodeAt(t+1)],i=ko[e.charCodeAt(t+2)],o=ko[e.charCodeAt(t+3)],l[A++]=n<<2|r>>4,l[A++]=(15&r)<<4|i>>2,l[A++]=(3&i)<<6|63&o;return c},Io=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Uo=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Fo=5,_o=11,Ro=2,Qo=65536>>Fo,Po=(1<<Fo)-1,Oo=Qo+(1024>>Fo)+32,No=65536>>_o,Do=(1<<_o-Fo)-1,Mo=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Lo=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ho=function(e,t){var n=To(e),r=Array.isArray(n)?Uo(n):new Uint32Array(n),i=Array.isArray(n)?Io(n):new Uint16Array(n),o=24,s=Mo(i,o/2,r[4]/2),a=2===r[5]?Mo(i,(o+r[4])/2):Lo(r,Math.ceil((o+r[4])/4));return new jo(r[0],r[1],r[2],r[3],s,a)},jo=function(){function e(e,t,n,r,i,o){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=i,this.data=o}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Fo])<<Ro)+(e&Po),this.data[t];if(e<=65535)return t=((t=this.index[Qo+(e-55296>>Fo)])<<Ro)+(e&Po),this.data[t];if(e<this.highStart)return t=Oo-No+(e>>_o),t=this.index[t],t+=e>>Fo&Do,t=((t=this.index[t])<<Ro)+(e&Po),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vo="undefined"===typeof Uint8Array?[]:new Uint8Array(256),qo=0;qo<Ko.length;qo++)Vo[Ko.charCodeAt(qo)]=qo;var $o,Go=1,zo=2,Wo=3,Jo=4,Yo=5,Xo=7,Zo=8,es=9,ts=10,ns=11,rs=12,is=13,os=14,ss=15,as=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var o=e.charCodeAt(n++);56320===(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),n--)}else t.push(i)}return t},As=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],i=-1,o="";++i<n;){var s=e[i];s<=65535?r.push(s):(s-=65536,r.push(55296+(s>>10),s%1024+56320)),(i+1===n||r.length>16384)&&(o+=String.fromCharCode.apply(String,r),r.length=0)}return o},cs=Ho(So),ls="\xd7",us="\xf7",ds=function(e){return cs.get(e)},hs=function(e,t,n){var r=n-2,i=t[r],o=t[n-1],s=t[n];if(o===zo&&s===Wo)return ls;if(o===zo||o===Wo||o===Jo)return us;if(s===zo||s===Wo||s===Jo)return us;if(o===Zo&&-1!==[Zo,es,ns,rs].indexOf(s))return ls;if((o===ns||o===es)&&(s===es||s===ts))return ls;if((o===rs||o===ts)&&s===ts)return ls;if(s===is||s===Yo)return ls;if(s===Xo)return ls;if(o===Go)return ls;if(o===is&&s===os){for(;i===Yo;)i=t[--r];if(i===os)return ls}if(o===ss&&s===ss){for(var a=0;i===ss;)a++,i=t[--r];if(a%2===0)return ls}return us},fs=function(e){var t=as(e),n=t.length,r=0,i=0,o=t.map(ds);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=ls;r<n&&(e=hs(t,o,++r))===ls;);if(e!==ls||r===n){var s=As.apply(null,t.slice(i,r));return i=r,{value:s,done:!1}}return{done:!0,value:null}}}},ps=function(e){for(var t,n=fs(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},gs=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),o=Math.round(i.height);if(e.body.removeChild(r),o===t)return!0}}return!1},ms=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,i=c(r.data).map((function(e){return l(e)})),o=0,s={},a=i.every((function(e,t){n.setStart(r,o),n.setEnd(r,o+e.length);var i=n.getBoundingClientRect();o+=e.length;var a=i.x>s.x||i.y>s.y;return s=i,0===t||a}));return e.body.removeChild(t),a},vs=function(){return"undefined"!==typeof(new Image).crossOrigin},ys=function(){return"string"===typeof(new XMLHttpRequest).responseType},ws=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Nt){return!1}return!0},bs=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},Cs=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,o=t.toDataURL();i.src=o;var s=Bs(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),Ss(s).then((function(t){r.drawImage(t,0,0);var i=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var s=e.createElement("div");return s.style.backgroundImage="url("+o+")",s.style.height=n+"px",bs(i)?Ss(Bs(n,n,0,0,s)):Promise.reject(!1)})).then((function(e){return r.drawImage(e,0,0),bs(r.getImageData(0,0,n,n).data)})).catch((function(){return!1}))},Bs=function(e,t,n,r,i){var o="http://www.w3.org/2000/svg",s=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return s.setAttributeNS(null,"width",e.toString()),s.setAttributeNS(null,"height",t.toString()),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",n.toString()),a.setAttributeNS(null,"y",r.toString()),a.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(a),a.appendChild(i),s},Ss=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Es={get SUPPORT_RANGE_BOUNDS(){var e=gs(document);return Object.defineProperty(Es,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Es.SUPPORT_RANGE_BOUNDS&&ms(document);return Object.defineProperty(Es,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=ws(document);return Object.defineProperty(Es,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?Cs(document):Promise.resolve(!1);return Object.defineProperty(Es,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=vs();return Object.defineProperty(Es,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=ys();return Object.defineProperty(Es,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Es,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Es,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},ks=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),xs=function(e,t,n,r){var i=_s(t,n),o=[],a=0;return i.forEach((function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Es.SUPPORT_RANGE_BOUNDS){var i=Is(r,a,t.length).getClientRects();if(i.length>1){var A=Us(t),c=0;A.forEach((function(t){o.push(new ks(t,s.fromDOMRectList(e,Is(r,c+a,t.length).getClientRects()))),c+=t.length}))}else o.push(new ks(t,s.fromDOMRectList(e,i)))}else{var l=r.splitText(t.length);o.push(new ks(t,Ts(e,r))),r=l}else Es.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));a+=t.length})),o},Ts=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var i=t.parentNode;if(i){i.replaceChild(r,t);var o=a(e,r);return r.firstChild&&i.replaceChild(r.firstChild,r),o}}return s.EMPTY},Is=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(e,t),i.setEnd(e,t+n),i},Us=function(e){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return ps(e)},Fs=function(e,t){if(Es.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map((function(e){return e.segment}))}return Qs(e,t)},_s=function(e,t){return 0!==t.letterSpacing?Us(e):Fs(e,t)},Rs=[32,160,4961,65792,65793,4153,4241],Qs=function(e,t){for(var n,r=je(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),i=[],o=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach((function(e){-1===Rs.indexOf(e)?r+=l(e):(r.length&&i.push(r),i.push(l(e)),r="")})),r.length&&i.push(r)}};!(n=r.next()).done;)o();return i},Ps=function(){function e(e,t,n){this.text=Os(t.data,n.textTransform),this.textBounds=xs(e,this.text,n,t)}return e}(),Os=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Ns,Ds);case 2:return e.toUpperCase();default:return e}},Ns=/(^|\s|:|-|\(|\))([a-z])/g,Ds=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Ms=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(Bo),Ls=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(Bo),Hs=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=new XMLSerializer,o=a(t,n);return n.setAttribute("width",o.width+"px"),n.setAttribute("height",o.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(i.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(Bo),js=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Bo),Ks=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(Bo),Vs=[{type:15,flags:0,unit:"px",number:3}],qs=[{type:16,flags:0,number:50}],$s=function(e){return e.width>e.height?new s(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new s(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Gs=function(e){var t=e.type===Js?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},zs="checkbox",Ws="radio",Js="password",Ys=707406591,Xs=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Gs(n),r.type!==zs&&r.type!==Ws||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=$s(r.bounds)),r.type){case zs:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Vs;break;case Ws:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=qs}return r}return t(n,e),n}(Bo),Zs=function(e){function n(t,n){var r=e.call(this,t,n)||this,i=n.options[n.selectedIndex||0];return r.value=i&&i.text||"",r}return t(n,e),n}(Bo),ea=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(Bo),ta=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=oa(t,n.contentWindow.document.documentElement);var i=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):dr.TRANSPARENT,o=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):dr.TRANSPARENT;r.backgroundColor=rr(i)?rr(o)?r.styles.backgroundColor:o:i}}catch(Nt){}return r}return t(n,e),n}(Bo),na=["OL","UL","MENU"],ra=function(e,t,n,r){for(var i=t.firstChild,o=void 0;i;i=o)if(o=i.nextSibling,Aa(i)&&i.data.trim().length>0)n.textNodes.push(new Ps(e,i,n.styles));else if(ca(i))if(ka(i)&&i.assignedNodes)i.assignedNodes().forEach((function(t){return ra(e,t,n,r)}));else{var s=ia(e,i);s.styles.isVisible()&&(sa(i,s,r)?s.flags|=4:aa(s.styles)&&(s.flags|=2),-1!==na.indexOf(i.tagName)&&(s.flags|=8),n.elements.push(s),i.slot,i.shadowRoot?ra(e,i.shadowRoot,s,r):Sa(i)||ga(i)||Ea(i)||ra(e,i,s,r))}},ia=function(e,t){return wa(t)?new Ms(e,t):va(t)?new Ls(e,t):ga(t)?new Hs(e,t):da(t)?new js(e,t):ha(t)?new Ks(e,t):fa(t)?new Xs(e,t):Ea(t)?new Zs(e,t):Sa(t)?new ea(e,t):ba(t)?new ta(e,t):new Bo(e,t)},oa=function(e,t){var n=ia(e,t);return n.flags|=4,ra(e,t,n,n),n},sa=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||ma(e)&&n.styles.isTransparent()},aa=function(e){return e.isPositioned()||e.isFloating()},Aa=function(e){return e.nodeType===Node.TEXT_NODE},ca=function(e){return e.nodeType===Node.ELEMENT_NODE},la=function(e){return ca(e)&&"undefined"!==typeof e.style&&!ua(e)},ua=function(e){return"object"===typeof e.className},da=function(e){return"LI"===e.tagName},ha=function(e){return"OL"===e.tagName},fa=function(e){return"INPUT"===e.tagName},pa=function(e){return"HTML"===e.tagName},ga=function(e){return"svg"===e.tagName},ma=function(e){return"BODY"===e.tagName},va=function(e){return"CANVAS"===e.tagName},ya=function(e){return"VIDEO"===e.tagName},wa=function(e){return"IMG"===e.tagName},ba=function(e){return"IFRAME"===e.tagName},Ca=function(e){return"STYLE"===e.tagName},Ba=function(e){return"SCRIPT"===e.tagName},Sa=function(e){return"TEXTAREA"===e.tagName},Ea=function(e){return"SELECT"===e.tagName},ka=function(e){return"SLOT"===e.tagName},xa=function(e){return e.tagName.indexOf("-")>0},Ta=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach((function(e){return t.counters[e].pop()}))},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,i=!0;null!==n&&n.forEach((function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(i=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)}));var o=[];return i&&r.forEach((function(e){var n=t.counters[e.counter];o.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)})),o},e}(),Ia={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ua={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Fa={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},_a={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Ra=function(e,t,n,r,i,o){return e<t||e>n?$a(e,i,o.length>0):r.integers.reduce((function(t,n,i){for(;e>=n;)e-=n,t+=r.values[i];return t}),"")+o},Qa=function(e,t,n,r){var i="";do{n||e--,i=r(e)+i,e/=t}while(e*t>=t);return i},Pa=function(e,t,n,r,i){var o=n-t+1;return(e<0?"-":"")+(Qa(Math.abs(e),o,r,(function(e){return l(Math.floor(e%o)+t)}))+i)},Oa=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Qa(Math.abs(e),r,!1,(function(e){return t[Math.floor(e%r)]}))+n},Na=1,Da=2,Ma=4,La=8,Ha=function(e,t,n,r,i,o){if(e<-9999||e>9999)return $a(e,4,i.length>0);var s=Math.abs(e),a=i;if(0===s)return t[0]+a;for(var A=0;s>0&&A<=4;A++){var c=s%10;0===c&&io(o,Na)&&""!==a?a=t[c]+a:c>1||1===c&&0===A||1===c&&1===A&&io(o,Da)||1===c&&1===A&&io(o,Ma)&&e>100||1===c&&A>1&&io(o,La)?a=t[c]+(A>0?n[A-1]:"")+a:1===c&&A>0&&(a=n[A-1]+a),s=Math.floor(s/10)}return(e<0?r:"")+a},ja="\u5341\u767e\u5343\u842c",Ka="\u62fe\u4f70\u4edf\u842c",Va="\u30de\u30a4\u30ca\u30b9",qa="\ub9c8\uc774\ub108\uc2a4",$a=function(e,t,n){var r=n?". ":"",i=n?"\u3001":"",o=n?", ":"",s=n?" ":"";switch(t){case 0:return"\u2022"+s;case 1:return"\u25e6"+s;case 2:return"\u25fe"+s;case 5:var a=Pa(e,48,57,!0,r);return a.length<4?"0"+a:a;case 4:return Oa(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case 6:return Ra(e,1,3999,Ia,3,r).toLowerCase();case 7:return Ra(e,1,3999,Ia,3,r);case 8:return Pa(e,945,969,!1,r);case 9:return Pa(e,97,122,!1,r);case 10:return Pa(e,65,90,!1,r);case 11:return Pa(e,1632,1641,!0,r);case 12:case 49:return Ra(e,1,9999,Ua,3,r);case 35:return Ra(e,1,9999,Ua,3,r).toLowerCase();case 13:return Pa(e,2534,2543,!0,r);case 14:case 30:return Pa(e,6112,6121,!0,r);case 15:return Oa(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case 16:return Oa(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case 17:case 48:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ja,"\u8ca0",i,Da|Ma|La);case 47:return Ha(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ka,"\u8ca0",i,Na|Da|Ma|La);case 42:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",ja,"\u8d1f",i,Da|Ma|La);case 41:return Ha(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ka,"\u8d1f",i,Na|Da|Ma|La);case 26:return Ha(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Va,i,0);case 25:return Ha(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Va,i,Na|Da|Ma);case 31:return Ha(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",qa,o,Na|Da|Ma);case 33:return Ha(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",qa,o,0);case 32:return Ha(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",qa,o,Na|Da|Ma);case 18:return Pa(e,2406,2415,!0,r);case 20:return Ra(e,1,19999,_a,3,r);case 21:return Pa(e,2790,2799,!0,r);case 22:return Pa(e,2662,2671,!0,r);case 22:return Ra(e,1,10999,Fa,3,r);case 23:return Oa(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Oa(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Pa(e,3302,3311,!0,r);case 28:return Oa(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case 29:return Oa(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case 34:return Pa(e,3792,3801,!0,r);case 37:return Pa(e,6160,6169,!0,r);case 38:return Pa(e,4160,4169,!0,r);case 39:return Pa(e,2918,2927,!0,r);case 40:return Pa(e,1776,1785,!0,r);case 43:return Pa(e,3046,3055,!0,r);case 44:return Pa(e,3174,3183,!0,r);case 45:return Pa(e,3664,3673,!0,r);case 46:return Pa(e,3872,3881,!0,r);default:return Pa(e,48,57,!0,r)}},Ga="data-html2canvas-ignore",za=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new Ta,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,o=Ja(e,t);if(!o.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,A=o.contentWindow,c=A.document,l=Za(o).then((function(){return r(n,void 0,void 0,(function(){var e,n;return i(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(iA),A&&(A.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||A.scrollY===t.top&&A.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(A.scrollX-t.left,A.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Xa(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(c,n)})).then((function(){return o}))]:[2,o]}}))}))}));return c.open(),c.write(nA(document.doctype)+"<html></html>"),rA(this.referenceElement.ownerDocument,s,a),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(e){if(Co(e,2),va(e))return this.createCanvasClone(e);if(ya(e))return this.createVideoClone(e);if(Ca(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return wa(t)&&(wa(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),xa(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tA(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce((function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e}),""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Nt){if(this.context.logger.error("Unable to access cssRules property",Nt),"SecurityError"!==Nt.name)throw Nt}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Nt){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var i=e.getContext("2d"),o=r.getContext("2d");if(o)if(!this.options.allowTaint&&i)o.putImageData(i.getImageData(0,0,e.width,e.height),0,0);else{var s=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(s){var a=s.getContextAttributes();!1===(null===a||void 0===a?void 0:a.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}o.drawImage(e,0,0)}return r}catch(Nt){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Nt){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){ca(t)&&(Ba(t)||t.hasAttribute(Ga)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&ca(t)&&Ca(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,i=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;i;i=i.nextSibling)if(ca(i)&&ka(i)&&"function"===typeof i.assignedNodes){var o=i.assignedNodes();o.length&&o.forEach((function(e){return r.appendChildNode(t,e,n)}))}else this.appendChildNode(t,i,n)},e.prototype.cloneNode=function(e,t){if(Aa(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&ca(e)&&(la(e)||ua(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var i=n.getComputedStyle(e),o=n.getComputedStyle(e,":before"),s=n.getComputedStyle(e,":after");this.referenceElement===e&&la(r)&&(this.clonedReferenceElement=r),ma(r)&&lA(r);var a=this.counters.parse(new vo(this.context,i)),A=this.resolvePseudoContent(e,r,o,$o.BEFORE);xa(e)&&(t=!0),ya(e)||this.cloneChildNodes(e,r,t),A&&r.insertBefore(A,r.firstChild);var c=this.resolvePseudoContent(e,r,s,$o.AFTER);return c&&r.appendChild(c),this.counters.pop(a),(i&&(this.options.copyStyles||ua(e))&&!ba(e)||t)&&tA(i,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Sa(e)||Ea(e))&&(Sa(r)||Ea(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var i=this;if(n){var o=n.content,s=t.ownerDocument;if(s&&o&&"none"!==o&&"-moz-alt-content"!==o&&"none"!==n.display){this.counters.parse(new vo(this.context,n));var a=new mo(this.context,n),A=s.createElement("html2canvaspseudoelement");tA(n,A),a.content.forEach((function(t){if(0===t.type)A.appendChild(s.createTextNode(t.value));else if(22===t.type){var n=s.createElement("img");n.src=t.value,n.style.opacity="1",A.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Rn);r.length&&A.appendChild(s.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var o=t.values.filter(Nn),c=o[0],l=o[1];if(c&&Rn(c)){var u=i.counters.getCounterValue(c.value),d=l&&Rn(l)?Si.parse(i.context,l.value):3;A.appendChild(s.createTextNode($a(u,d,!1)))}}else if("counters"===t.name){var h=t.values.filter(Nn),f=(c=h[0],h[1]);if(l=h[2],c&&Rn(c)){var p=i.counters.getCounterValues(c.value),g=l&&Rn(l)?Si.parse(i.context,l.value):3,m=f&&0===f.type?f.value:"",v=p.map((function(e){return $a(e,g,!1)})).join(m);A.appendChild(s.createTextNode(v))}}}else if(20===t.type)switch(t.value){case"open-quote":A.appendChild(s.createTextNode(lo(a.quotes,i.quoteDepth++,!0)));break;case"close-quote":A.appendChild(s.createTextNode(lo(a.quotes,--i.quoteDepth,!1)));break;default:A.appendChild(s.createTextNode(t.value))}})),A.className=aA+" "+AA;var c=r===$o.BEFORE?" "+aA:" "+AA;return ua(t)?t.className.baseValue+=c:t.className+=c,A}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}($o||($o={}));var Wa,Ja=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(Ga,"true"),e.body.appendChild(n),n},Ya=function(e){return new Promise((function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()}))},Xa=function(e){return Promise.all([].slice.call(e.images,0).map(Ya))},Za=function(e){return new Promise((function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval((function(){i.body.childNodes.length>0&&"complete"===i.readyState&&(clearInterval(n),t(e))}),50)}}))},eA=["all","d","content"],tA=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===eA.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nA=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rA=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},iA=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},oA=":before",sA=":after",aA="___html2canvas___pseudoelement_before",AA="___html2canvas___pseudoelement_after",cA='{\n    content: "" !important;\n    display: none !important;\n}',lA=function(e){uA(e,"."+aA+oA+cA+"\n         ."+AA+sA+cA)},uA=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},dA=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),hA=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:wA(e)||mA(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s=this;return i(this,(function(i){switch(i.label){case 0:return t=dA.isSameOrigin(e),n=!vA(e)&&!0===this._options.useCORS&&Es.SUPPORT_CORS_IMAGES&&!t,r=!vA(e)&&!t&&!wA(e)&&"string"===typeof this._options.proxy&&Es.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||vA(e)||wA(e)||r||n?(o=e,r?[4,this.proxy(o)]:[3,2]):[2];case 1:o=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(yA(o)||n)&&(r.crossOrigin="anonymous"),r.src=o,!0===r.complete&&setTimeout((function(){return e(r)}),500),s._options.imageTimeout>0&&setTimeout((function(){return t("Timed out ("+s._options.imageTimeout+"ms) loading image")}),s._options.imageTimeout)}))];case 3:return[2,i.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise((function(i,o){var s=Es.SUPPORT_RESPONSE_TYPE?"blob":"text",a=new XMLHttpRequest;a.onload=function(){if(200===a.status)if("text"===s)i(a.response);else{var e=new FileReader;e.addEventListener("load",(function(){return i(e.result)}),!1),e.addEventListener("error",(function(e){return o(e)}),!1),e.readAsDataURL(a.response)}else o("Failed to proxy resource "+r+" with status code "+a.status)},a.onerror=o;var A=n.indexOf("?")>-1?"&":"?";if(a.open("GET",""+n+A+"url="+encodeURIComponent(e)+"&responseType="+s),"text"!==s&&a instanceof XMLHttpRequest&&(a.responseType=s),t._options.imageTimeout){var c=t._options.imageTimeout;a.timeout=c,a.ontimeout=function(){return o("Timed out ("+c+"ms) proxying "+r)}}a.send()}))},e}(),fA=/^data:image\/svg\+xml/i,pA=/^data:image\/.*;base64,/i,gA=/^data:image\/.*/i,mA=function(e){return Es.SUPPORT_SVG_DRAWING||!bA(e)},vA=function(e){return gA.test(e)},yA=function(e){return pA.test(e)},wA=function(e){return"blob"===e.substr(0,4)},bA=function(e){return"svg"===e.substr(-3).toLowerCase()||fA.test(e)},CA=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),BA=function(e,t,n){return new CA(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},SA=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=BA(this.start,this.startControl,t),i=BA(this.startControl,this.endControl,t),o=BA(this.endControl,this.end,t),s=BA(r,i,t),a=BA(i,o,t),A=BA(s,a,t);return n?new e(this.start,r,s,A):new e(A,a,o,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),EA=function(e){return 1===e.type},kA=function(){function e(e){var t=e.styles,n=e.bounds,r=$n(t.borderTopLeftRadius,n.width,n.height),i=r[0],o=r[1],s=$n(t.borderTopRightRadius,n.width,n.height),a=s[0],A=s[1],c=$n(t.borderBottomRightRadius,n.width,n.height),l=c[0],u=c[1],d=$n(t.borderBottomLeftRadius,n.width,n.height),h=d[0],f=d[1],p=[];p.push((i+a)/n.width),p.push((h+l)/n.width),p.push((o+f)/n.height),p.push((A+u)/n.height);var g=Math.max.apply(Math,p);g>1&&(i/=g,o/=g,a/=g,A/=g,l/=g,u/=g,h/=g,f/=g);var m=n.width-a,v=n.height-u,y=n.width-l,w=n.height-f,b=t.borderTopWidth,C=t.borderRightWidth,B=t.borderBottomWidth,S=t.borderLeftWidth,E=Gn(t.paddingTop,e.bounds.width),k=Gn(t.paddingRight,e.bounds.width),x=Gn(t.paddingBottom,e.bounds.width),T=Gn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=i>0||o>0?xA(n.left+S/3,n.top+b/3,i-S/3,o-b/3,Wa.TOP_LEFT):new CA(n.left+S/3,n.top+b/3),this.topRightBorderDoubleOuterBox=i>0||o>0?xA(n.left+m,n.top+b/3,a-C/3,A-b/3,Wa.TOP_RIGHT):new CA(n.left+n.width-C/3,n.top+b/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?xA(n.left+y,n.top+v,l-C/3,u-B/3,Wa.BOTTOM_RIGHT):new CA(n.left+n.width-C/3,n.top+n.height-B/3),this.bottomLeftBorderDoubleOuterBox=h>0||f>0?xA(n.left+S/3,n.top+w,h-S/3,f-B/3,Wa.BOTTOM_LEFT):new CA(n.left+S/3,n.top+n.height-B/3),this.topLeftBorderDoubleInnerBox=i>0||o>0?xA(n.left+2*S/3,n.top+2*b/3,i-2*S/3,o-2*b/3,Wa.TOP_LEFT):new CA(n.left+2*S/3,n.top+2*b/3),this.topRightBorderDoubleInnerBox=i>0||o>0?xA(n.left+m,n.top+2*b/3,a-2*C/3,A-2*b/3,Wa.TOP_RIGHT):new CA(n.left+n.width-2*C/3,n.top+2*b/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?xA(n.left+y,n.top+v,l-2*C/3,u-2*B/3,Wa.BOTTOM_RIGHT):new CA(n.left+n.width-2*C/3,n.top+n.height-2*B/3),this.bottomLeftBorderDoubleInnerBox=h>0||f>0?xA(n.left+2*S/3,n.top+w,h-2*S/3,f-2*B/3,Wa.BOTTOM_LEFT):new CA(n.left+2*S/3,n.top+n.height-2*B/3),this.topLeftBorderStroke=i>0||o>0?xA(n.left+S/2,n.top+b/2,i-S/2,o-b/2,Wa.TOP_LEFT):new CA(n.left+S/2,n.top+b/2),this.topRightBorderStroke=i>0||o>0?xA(n.left+m,n.top+b/2,a-C/2,A-b/2,Wa.TOP_RIGHT):new CA(n.left+n.width-C/2,n.top+b/2),this.bottomRightBorderStroke=l>0||u>0?xA(n.left+y,n.top+v,l-C/2,u-B/2,Wa.BOTTOM_RIGHT):new CA(n.left+n.width-C/2,n.top+n.height-B/2),this.bottomLeftBorderStroke=h>0||f>0?xA(n.left+S/2,n.top+w,h-S/2,f-B/2,Wa.BOTTOM_LEFT):new CA(n.left+S/2,n.top+n.height-B/2),this.topLeftBorderBox=i>0||o>0?xA(n.left,n.top,i,o,Wa.TOP_LEFT):new CA(n.left,n.top),this.topRightBorderBox=a>0||A>0?xA(n.left+m,n.top,a,A,Wa.TOP_RIGHT):new CA(n.left+n.width,n.top),this.bottomRightBorderBox=l>0||u>0?xA(n.left+y,n.top+v,l,u,Wa.BOTTOM_RIGHT):new CA(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=h>0||f>0?xA(n.left,n.top+w,h,f,Wa.BOTTOM_LEFT):new CA(n.left,n.top+n.height),this.topLeftPaddingBox=i>0||o>0?xA(n.left+S,n.top+b,Math.max(0,i-S),Math.max(0,o-b),Wa.TOP_LEFT):new CA(n.left+S,n.top+b),this.topRightPaddingBox=a>0||A>0?xA(n.left+Math.min(m,n.width-C),n.top+b,m>n.width+C?0:Math.max(0,a-C),Math.max(0,A-b),Wa.TOP_RIGHT):new CA(n.left+n.width-C,n.top+b),this.bottomRightPaddingBox=l>0||u>0?xA(n.left+Math.min(y,n.width-S),n.top+Math.min(v,n.height-B),Math.max(0,l-C),Math.max(0,u-B),Wa.BOTTOM_RIGHT):new CA(n.left+n.width-C,n.top+n.height-B),this.bottomLeftPaddingBox=h>0||f>0?xA(n.left+S,n.top+Math.min(w,n.height-B),Math.max(0,h-S),Math.max(0,f-B),Wa.BOTTOM_LEFT):new CA(n.left+S,n.top+n.height-B),this.topLeftContentBox=i>0||o>0?xA(n.left+S+T,n.top+b+E,Math.max(0,i-(S+T)),Math.max(0,o-(b+E)),Wa.TOP_LEFT):new CA(n.left+S+T,n.top+b+E),this.topRightContentBox=a>0||A>0?xA(n.left+Math.min(m,n.width+S+T),n.top+b+E,m>n.width+S+T?0:a-S+T,A-(b+E),Wa.TOP_RIGHT):new CA(n.left+n.width-(C+k),n.top+b+E),this.bottomRightContentBox=l>0||u>0?xA(n.left+Math.min(y,n.width-(S+T)),n.top+Math.min(v,n.height+b+E),Math.max(0,l-(C+k)),u-(B+x),Wa.BOTTOM_RIGHT):new CA(n.left+n.width-(C+k),n.top+n.height-(B+x)),this.bottomLeftContentBox=h>0||f>0?xA(n.left+S+T,n.top+w,Math.max(0,h-(S+T)),f-(B+x),Wa.BOTTOM_LEFT):new CA(n.left+S+T,n.top+n.height-(B+x))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Wa||(Wa={}));var xA=function(e,t,n,r,i){var o=(Math.sqrt(2)-1)/3*4,s=n*o,a=r*o,A=e+n,c=t+r;switch(i){case Wa.TOP_LEFT:return new SA(new CA(e,c),new CA(e,c-a),new CA(A-s,t),new CA(A,t));case Wa.TOP_RIGHT:return new SA(new CA(e,t),new CA(e+s,t),new CA(A,c-a),new CA(A,c));case Wa.BOTTOM_RIGHT:return new SA(new CA(A,t),new CA(A,t+a),new CA(e+s,c),new CA(e,c));case Wa.BOTTOM_LEFT:default:return new SA(new CA(A,c),new CA(A-s,c),new CA(e,t+a),new CA(e,t))}},TA=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},IA=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},UA=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},FA=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),_A=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),RA=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),QA=function(e){return 0===e.type},PA=function(e){return 1===e.type},OA=function(e){return 2===e.type},NA=function(e,t){return e.length===t.length&&e.some((function(e,n){return e===t[n]}))},DA=function(e,t,n,r,i){return e.map((function(e,o){switch(o){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+i);case 3:return e.add(t,n+i)}return e}))},MA=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),LA=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new kA(this.container),this.container.styles.opacity<1&&this.effects.push(new RA(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,i=this.container.styles.transform;this.effects.push(new FA(n,r,i))}if(0!==this.container.styles.overflowX){var o=TA(this.curves),s=UA(this.curves);NA(o,s)?this.effects.push(new _A(o,6)):(this.effects.push(new _A(o,2)),this.effects.push(new _A(s,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var i=n.effects.filter((function(e){return!PA(e)}));if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,i),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var o=TA(n.curves),s=UA(n.curves);NA(o,s)||r.unshift(new _A(s,6))}}else r.unshift.apply(r,i);n=n.parent}return r.filter((function(t){return io(t.target,e)}))},e}(),HA=function(e,t,n,r){e.container.elements.forEach((function(i){var o=io(i.flags,4),s=io(i.flags,2),a=new LA(i,e);io(i.styles.display,2048)&&r.push(a);var A=io(i.flags,8)?[]:r;if(o||s){var c=o||i.styles.isPositioned()?n:t,l=new MA(a);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var u=i.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some((function(e,t){return u>e.element.container.styles.zIndex.order?(d=t,!1):d>0})),c.negativeZIndex.splice(d,0,l)}else if(u>0){var h=0;c.positiveZIndex.some((function(e,t){return u>=e.element.container.styles.zIndex.order?(h=t+1,!1):h>0})),c.positiveZIndex.splice(h,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else i.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);HA(a,l,o?l:n,A)}else i.styles.isInlineLevel()?t.inlineLevel.push(a):t.nonInlineLevel.push(a),HA(a,t,n,A);io(i.flags,8)&&jA(i,A)}))},jA=function(e,t){for(var n=e instanceof Ks?e.start:1,r=e instanceof Ks&&e.reversed,i=0;i<t.length;i++){var o=t[i];o.container instanceof js&&"number"===typeof o.container.value&&0!==o.container.value&&(n=o.container.value),o.listValue=$a(n,o.container.styles.listStyleType,!0),n+=r?-1:1}},KA=function(e){var t=new LA(e,null),n=new MA(t),r=[];return HA(t,n,n,r),jA(t.container,r),n},VA=function(e,t){switch(t){case 0:return WA(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return WA(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return WA(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return WA(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},qA=function(e,t){switch(t){case 0:return WA(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return WA(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return WA(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return WA(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},$A=function(e,t){switch(t){case 0:return WA(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return WA(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return WA(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return WA(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},GA=function(e,t){switch(t){case 0:return zA(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return zA(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return zA(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return zA(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},zA=function(e,t){var n=[];return EA(e)?n.push(e.subdivide(.5,!1)):n.push(e),EA(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},WA=function(e,t,n,r){var i=[];return EA(e)?i.push(e.subdivide(.5,!1)):i.push(e),EA(n)?i.push(n.subdivide(.5,!0)):i.push(n),EA(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),EA(t)?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i},JA=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},YA=function(e){var t=e.styles,n=e.bounds,r=Gn(t.paddingLeft,n.width),i=Gn(t.paddingRight,n.width),o=Gn(t.paddingTop,n.width),s=Gn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,o+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+i),-(t.borderTopWidth+t.borderBottomWidth+o+s))},XA=function(e,t){return 0===e?t.bounds:2===e?YA(t):JA(t)},ZA=function(e,t){return 0===e?t.bounds:2===e?YA(t):JA(t)},ec=function(e,t,n){var r=XA(ic(e.styles.backgroundOrigin,t),e),i=ZA(ic(e.styles.backgroundClip,t),e),o=rc(ic(e.styles.backgroundSize,t),n,r),s=o[0],a=o[1],A=$n(ic(e.styles.backgroundPosition,t),r.width-s,r.height-a);return[oc(ic(e.styles.backgroundRepeat,t),A,o,r,i),Math.round(r.left+A[0]),Math.round(r.top+A[1]),s,a]},tc=function(e){return Rn(e)&&e.value===Or.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],i=t[1],o=t[2],s=e[0],a=e[1];if(!s)return[0,0];if(Hn(s)&&a&&Hn(a))return[Gn(s,n.width),Gn(a,n.height)];var A=nc(o);if(Rn(s)&&(s.value===Or.CONTAIN||s.value===Or.COVER))return nc(o)?n.width/n.height<o!==(s.value===Or.COVER)?[n.width,n.width/o]:[n.height*o,n.height]:[n.width,n.height];var c=nc(r),l=nc(i),u=c||l;if(tc(s)&&(!a||tc(a)))return c&&l?[r,i]:A||u?u&&A?[c?r:i*o,l?i:r/o]:[c?r:n.width,l?i:n.height]:[n.width,n.height];if(A){var d=0,h=0;return Hn(s)?d=Gn(s,n.width):Hn(a)&&(h=Gn(a,n.height)),tc(s)?d=h*o:a&&!tc(a)||(h=d/o),[d,h]}var f=null,p=null;if(Hn(s)?f=Gn(s,n.width):a&&Hn(a)&&(p=Gn(a,n.height)),null===f||a&&!tc(a)||(p=c&&l?f/r*i:n.height),null!==p&&tc(s)&&(f=c&&l?p/i*r:n.width),null!==f&&null!==p)return[f,p];throw new Error("Unable to calculate background-size for element")},ic=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},oc=function(e,t,n,r,i){var o=t[0],s=t[1],a=n[0],A=n[1];switch(e){case 2:return[new CA(Math.round(r.left),Math.round(r.top+s)),new CA(Math.round(r.left+r.width),Math.round(r.top+s)),new CA(Math.round(r.left+r.width),Math.round(A+r.top+s)),new CA(Math.round(r.left),Math.round(A+r.top+s))];case 3:return[new CA(Math.round(r.left+o),Math.round(r.top)),new CA(Math.round(r.left+o+a),Math.round(r.top)),new CA(Math.round(r.left+o+a),Math.round(r.height+r.top)),new CA(Math.round(r.left+o),Math.round(r.height+r.top))];case 1:return[new CA(Math.round(r.left+o),Math.round(r.top+s)),new CA(Math.round(r.left+o+a),Math.round(r.top+s)),new CA(Math.round(r.left+o+a),Math.round(r.top+s+A)),new CA(Math.round(r.left+o),Math.round(r.top+s+A))];default:return[new CA(Math.round(i.left),Math.round(i.top)),new CA(Math.round(i.left+i.width),Math.round(i.top)),new CA(Math.round(i.left+i.width),Math.round(i.height+i.top)),new CA(Math.round(i.left),Math.round(i.height+i.top))]}},sc="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",ac="Hidden Text",Ac=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),i=this._document.createElement("span"),o=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",o.appendChild(n),r.src=sc,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",i.style.fontFamily=e,i.style.fontSize=t,i.style.margin="0",i.style.padding="0",i.appendChild(this._document.createTextNode(ac)),n.appendChild(i),n.appendChild(r);var s=r.offsetTop-i.offsetTop+2;n.removeChild(i),n.appendChild(this._document.createTextNode(ac)),n.style.lineHeight="normal",r.style.verticalAlign="super";var a=r.offsetTop-n.offsetTop+2;return o.removeChild(n),{baseline:s,middle:a}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),lc=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new Ac(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return t.applyEffect(e)}))},n.prototype.applyEffect=function(e){this.ctx.save(),OA(e)&&(this.ctx.globalAlpha=e.opacity),QA(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),PA(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},n.prototype.renderNode=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return io(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Us(e.text).reduce((function(t,i){return r.ctx.fillText(i,t,e.bounds.top+n),t+r.ctx.measureText(i).width}),e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),n=gc(e.fontFamily).join(", "),r=Fn(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,(function(){var n,r,o,s,a,A,c,l,u=this;return i(this,(function(i){return n=this.createFontStyle(t),r=n[0],o=n[1],s=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",a=this.fontMetrics.getMetrics(o,s),A=a.baseline,c=a.middle,l=t.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(n){switch(n){case 0:u.ctx.fillStyle=ir(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,A);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach((function(n){u.ctx.shadowColor=ir(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,A)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=ir(t.textDecorationColor||t.color),t.textDecorationLine.forEach((function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+A),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=ir(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+A)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=YA(e),i=UA(t);this.path(i),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,(function(){var t,r,o,a,A,c,l,u,d,h,f,p,g,m,v,y,w,b;return i(this,(function(i){switch(i.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,o=t.styles,a=0,A=t.textNodes,i.label=1;case 1:return a<A.length?(c=A[a],[4,this.renderTextNode(c,o)]):[3,4];case 2:i.sent(),i.label=3;case 3:return a++,[3,1];case 4:if(!(t instanceof Ms))return[3,8];i.label=5;case 5:return i.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,8];case 7:return i.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ls&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Hs))return[3,12];i.label=9;case 9:return i.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return v=i.sent(),this.renderReplacedElement(t,r,v),[3,12];case 11:return i.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ta&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:l=i.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),i.label=14;case 14:if(t instanceof Xs&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===zs?t.checked&&(this.ctx.save(),this.path([new CA(t.bounds.left+.39363*u,t.bounds.top+.79*u),new CA(t.bounds.left+.16*u,t.bounds.top+.5549*u),new CA(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new CA(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new CA(t.bounds.left+.72983*u,t.bounds.top+.23*u),new CA(t.bounds.left+.84*u,t.bounds.top+.34085*u),new CA(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=ir(Ys),this.ctx.fill(),this.ctx.restore()):t.type===Ws&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=ir(Ys),this.ctx.fill(),this.ctx.restore())),dc(t)&&t.value.length){switch(d=this.createFontStyle(o),w=d[0],h=d[1],f=this.fontMetrics.getMetrics(w,h).baseline,this.ctx.font=w,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),b=YA(t),p=0,t.styles.textAlign){case 1:p+=b.width/2;break;case 2:p+=b.width}g=b.add(p,0,0,-b.height/2+1),this.ctx.save(),this.path([new CA(b.left,b.top),new CA(b.left+b.width,b.top),new CA(b.left+b.width,b.top+b.height),new CA(b.left,b.top+b.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ks(t.value,g),o.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!io(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(m=t.styles.listStyleImage).type)return[3,18];v=void 0,y=m.url,i.label=15;case 15:return i.trys.push([15,17,,18]),[4,this.context.cache.match(y)];case 16:return v=i.sent(),this.ctx.drawImage(v,t.bounds.left-(v.width+10),t.bounds.top),[3,18];case 17:return i.sent(),this.context.logger.error("Error loading list-style-image "+y),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(w=this.createFontStyle(o)[0],this.ctx.font=w,this.ctx.fillStyle=ir(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",b=new s(t.bounds.left,t.bounds.top+Gn(t.styles.paddingTop,t.bounds.width),t.bounds.width,bi(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ks(e.listValue,b),o.letterSpacing,bi(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),i.label=20;case 20:return[2]}}))}))},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a,A,c,l,u,d,h,f,p,g;return i(this,(function(i){switch(i.label){case 0:return io(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:i.sent(),t=0,n=e.negativeZIndex,i.label=2;case 2:return t<n.length?(g=n[t],[4,this.renderStack(g)]):[3,5];case 3:i.sent(),i.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:i.sent(),r=0,o=e.nonInlineLevel,i.label=7;case 7:return r<o.length?(g=o[r],[4,this.renderNode(g)]):[3,10];case 8:i.sent(),i.label=9;case 9:return r++,[3,7];case 10:s=0,a=e.nonPositionedFloats,i.label=11;case 11:return s<a.length?(g=a[s],[4,this.renderStack(g)]):[3,14];case 12:i.sent(),i.label=13;case 13:return s++,[3,11];case 14:A=0,c=e.nonPositionedInlineLevel,i.label=15;case 15:return A<c.length?(g=c[A],[4,this.renderStack(g)]):[3,18];case 16:i.sent(),i.label=17;case 17:return A++,[3,15];case 18:l=0,u=e.inlineLevel,i.label=19;case 19:return l<u.length?(g=u[l],[4,this.renderNode(g)]):[3,22];case 20:i.sent(),i.label=21;case 21:return l++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,i.label=23;case 23:return d<h.length?(g=h[d],[4,this.renderStack(g)]):[3,26];case 24:i.sent(),i.label=25;case 25:return d++,[3,23];case 26:f=0,p=e.positiveZIndex,i.label=27;case 27:return f<p.length?(g=p[f],[4,this.renderStack(g)]):[3,30];case 28:i.sent(),i.label=29;case 29:return f++,[3,27];case 30:return[2]}}))}))},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach((function(e,n){var r=EA(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),EA(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var i=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return i.width=Math.max(1,t),i.height=Math.max(1,n),i.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),i},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a;return i(this,(function(A){switch(A.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var o,s,a,A,c,l,u,d,h,f,p,g,m,v,y,w,b,C,B,S,E,k,x,T,I,U,F,_,R,Q,P;return i(this,(function(i){switch(i.label){case 0:if(0!==n.type)return[3,5];o=void 0,s=n.url,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,r.context.cache.match(s)];case 2:return o=i.sent(),[3,4];case 3:return i.sent(),r.context.logger.error("Error loading background-image "+s),[3,4];case 4:return o&&(a=ec(e,t,[o.width,o.height,o.width/o.height]),w=a[0],k=a[1],x=a[2],B=a[3],S=a[4],v=r.ctx.createPattern(r.resizeImage(o,B,S),"repeat"),r.renderRepeat(w,v,k,x)),[3,6];case 5:_r(n)?(A=ec(e,t,[null,null,null]),w=A[0],k=A[1],x=A[2],B=A[3],S=A[4],c=vr(n.angle,B,S),l=c[0],u=c[1],d=c[2],h=c[3],f=c[4],(p=document.createElement("canvas")).width=B,p.height=S,g=p.getContext("2d"),m=g.createLinearGradient(u,h,d,f),gr(n.stops,l).forEach((function(e){return m.addColorStop(e.stop,ir(e.color))})),g.fillStyle=m,g.fillRect(0,0,B,S),B>0&&S>0&&(v=r.ctx.createPattern(p,"repeat"),r.renderRepeat(w,v,k,x))):Rr(n)&&(y=ec(e,t,[null,null,null]),w=y[0],b=y[1],C=y[2],B=y[3],S=y[4],E=0===n.position.length?[Vn]:n.position,k=Gn(E[0],B),x=Gn(E[E.length-1],S),T=br(n,k,x,B,S),I=T[0],U=T[1],I>0&&U>0&&(F=r.ctx.createRadialGradient(b+k,C+x,0,b+k,C+x,I),gr(n.stops,2*I).forEach((function(e){return F.addColorStop(e.stop,ir(e.color))})),r.path(w),r.ctx.fillStyle=F,I!==U?(_=e.bounds.left+.5*e.bounds.width,R=e.bounds.top+.5*e.bounds.height,P=1/(Q=U/I),r.ctx.save(),r.ctx.translate(_,R),r.ctx.transform(1,0,0,Q,0,0),r.ctx.translate(-_,-R),r.ctx.fillRect(b,P*(C-R)+R,B,S*P),r.ctx.restore()):r.ctx.fill())),i.label=6;case 6:return t--,[2]}}))},r=this,o=0,s=e.styles.backgroundImage.slice(0).reverse(),A.label=1;case 1:return o<s.length?(a=s[o],[5,n(a)]):[3,4];case 2:A.sent(),A.label=3;case 3:return o++,[3,1];case 4:return[2]}}))}))},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,(function(){return i(this,(function(r){return this.path(VA(n,t)),this.ctx.fillStyle=ir(e),this.ctx.fill(),[2]}))}))},n.prototype.renderDoubleBorder=function(e,t,n,o){return r(this,void 0,void 0,(function(){var r,s;return i(this,(function(i){switch(i.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,o)]:[3,2];case 1:return i.sent(),[2];case 2:return r=qA(o,n),this.path(r),this.ctx.fillStyle=ir(e),this.ctx.fill(),s=$A(o,n),this.path(s),this.ctx.fill(),[2]}}))}))},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,(function(){var t,n,r,o,s,a,A,c,l=this;return i(this,(function(i){switch(i.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],o=hc(ic(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(o),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=ir(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:i.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach((function(t){l.ctx.save();var n=TA(e.curves),r=t.inset?0:lc,i=DA(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(l.path(n),l.ctx.clip(),l.mask(i)):(l.mask(n),l.ctx.clip(),l.path(i)),l.ctx.shadowOffsetX=t.offsetX.number+r,l.ctx.shadowOffsetY=t.offsetY.number,l.ctx.shadowColor=ir(t.color),l.ctx.shadowBlur=t.blur.number,l.ctx.fillStyle=t.inset?ir(t.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),i.label=2;case 2:s=0,a=0,A=r,i.label=3;case 3:return a<A.length?0!==(c=A[a]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,s,e.curves,2)]:[3,11]:[3,13];case 4:return i.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,s,e.curves,3)];case 6:return i.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,s,e.curves)];case 8:return i.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,s,e.curves)];case 10:i.sent(),i.label=11;case 11:s++,i.label=12;case 12:return a++,[3,3];case 13:return[2]}}))}))},n.prototype.renderDashedDottedBorder=function(e,t,n,o,s){return r(this,void 0,void 0,(function(){var r,a,A,c,l,u,d,h,f,p,g,m,v,y,w,b;return i(this,(function(i){return this.ctx.save(),r=GA(o,n),a=VA(o,n),2===s&&(this.path(a),this.ctx.clip()),EA(a[0])?(A=a[0].start.x,c=a[0].start.y):(A=a[0].x,c=a[0].y),EA(a[1])?(l=a[1].end.x,u=a[1].end.y):(l=a[1].x,u=a[1].y),d=0===n||2===n?Math.abs(A-l):Math.abs(c-u),this.ctx.beginPath(),3===s?this.formatPath(r):this.formatPath(a.slice(0,2)),h=t<3?3*t:2*t,f=t<3?2*t:t,3===s&&(h=t,f=t),p=!0,d<=2*h?p=!1:d<=2*h+f?(h*=g=d/(2*h+f),f*=g):(m=Math.floor((d+f)/(h+f)),v=(d-m*h)/(m-1),f=(y=(d-(m+1)*h)/m)<=0||Math.abs(f-v)<Math.abs(f-y)?v:y),p&&(3===s?this.ctx.setLineDash([0,h+f]):this.ctx.setLineDash([h,f])),3===s?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=ir(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===s&&(EA(a[0])&&(w=a[3],b=a[0],this.ctx.beginPath(),this.formatPath([new CA(w.end.x,w.end.y),new CA(b.start.x,b.start.y)]),this.ctx.stroke()),EA(a[1])&&(w=a[1],b=a[2],this.ctx.beginPath(),this.formatPath([new CA(w.end.x,w.end.y),new CA(b.start.x,b.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=KA(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},n}(cc),dc=function(e){return e instanceof ea||e instanceof Zs||e instanceof Xs&&e.type!==Ws&&e.type!==zs},hc=function(e,t){switch(e){case 0:return TA(t);case 2:return IA(t);default:return UA(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},pc=["-apple-system","system-ui"],gc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===pc.indexOf(e)})):e},mc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,(function(){var t,n;return i(this,(function(r){switch(r.label){case 0:return t=Bs(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,vc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ir(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},n}(cc),vc=function(e){return new Promise((function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},yc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,o([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,o([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),wc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new yc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new hA(this,t)}return e.instanceCount=1,e}(),bc=function(e,t){return void 0===t&&(t={}),Cc(e,t)};"undefined"!==typeof window&&dA.setContext(window);var Cc=function(e,t){return r(void 0,void 0,void 0,(function(){var r,o,c,l,u,d,h,f,p,g,m,v,y,w,b,C,B,S,E,k,x,T,I,U,F,_,R,Q,P,O,N,D,M,L,H,j,K,V;return i(this,(function(i){switch(i.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(o=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(T=t.allowTaint)&&void 0!==T&&T,imageTimeout:null!==(I=t.imageTimeout)&&void 0!==I?I:15e3,proxy:t.proxy,useCORS:null!==(U=t.useCORS)&&void 0!==U&&U},l=n({logging:null===(F=t.logging)||void 0===F||F,cache:t.cache},c),u={windowWidth:null!==(_=t.windowWidth)&&void 0!==_?_:o.innerWidth,windowHeight:null!==(R=t.windowHeight)&&void 0!==R?R:o.innerHeight,scrollX:null!==(Q=t.scrollX)&&void 0!==Q?Q:o.pageXOffset,scrollY:null!==(P=t.scrollY)&&void 0!==P?P:o.pageYOffset},d=new s(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new wc(l,d),f=null!==(O=t.foreignObjectRendering)&&void 0!==O&&O,p={allowTaint:null!==(N=t.allowTaint)&&void 0!==N&&N,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),g=new za(h,e,p),(m=g.clonedReferenceElement)?[4,g.toIFrame(r,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=i.sent(),y=ma(m)||pa(m)?A(m.ownerDocument):a(h,m),w=y.width,b=y.height,C=y.left,B=y.top,S=Bc(h,m,t.backgroundColor),E={canvas:t.canvas,backgroundColor:S,scale:null!==(M=null!==(D=t.scale)&&void 0!==D?D:o.devicePixelRatio)&&void 0!==M?M:1,x:(null!==(L=t.x)&&void 0!==L?L:0)+C,y:(null!==(H=t.y)&&void 0!==H?H:0)+B,width:null!==(j=t.width)&&void 0!==j?j:Math.ceil(w),height:null!==(K=t.height)&&void 0!==K?K:Math.ceil(b)},f?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(h,E).render(m)]):[3,3];case 2:return k=i.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+C+","+B+" with size "+w+"x"+b+" using computed rendering"),h.logger.debug("Starting DOM parsing"),x=oa(h,m),S===x.styles.backgroundColor&&(x.styles.backgroundColor=dr.TRANSPARENT),h.logger.debug("Starting renderer for element at "+E.x+","+E.y+" with size "+E.width+"x"+E.height),[4,new uc(h,E).render(x)];case 4:k=i.sent(),i.label=5;case 5:return(null===(V=t.removeContainer)||void 0===V||V)&&(za.destroy(v)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,k]}}))}))},Bc=function(e,t,n){var r=t.ownerDocument,i=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):dr.TRANSPARENT,o=r.body?ur(e,getComputedStyle(r.body).backgroundColor):dr.TRANSPARENT,s="string"===typeof n?ur(e,n):null===n?dr.TRANSPARENT:4294967295;return t===r.documentElement?rr(i)?rr(o)?s:o:i:s};return bc}()},5324:(e,t,n)=>{var r=n(4052),i=n(2597),o=n(4079),s=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(s(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),o=n(2761),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!s[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),o=n(793),s=n(7760),a=n(3892),A=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=A,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var o=arguments,s=-1,a=i(o.length-t,0),A=Array(a);++s<a;)A[s]=o[t+s];s=-1;for(var c=Array(t+1);++s<t;)c[s]=o[s];return c[t]=n(A),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),o=n(6350);e.exports=function(e,t){return o(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,a){var A=1&n,c=r(e),l=c.length;if(l!=r(t).length&&!A)return!1;for(var u=l;u--;){var d=c[u];if(!(A?d in t:i.call(t,d)))return!1}var h=a.get(e),f=a.get(t);if(h&&f)return h==t&&f==e;var p=!0;a.set(e,t),a.set(t,e);for(var g=A;++u<l;){var m=e[d=c[u]],v=t[d];if(o)var y=A?o(v,m,d,t,e,a):o(m,v,d,e,t,a);if(!(void 0===y?m===v||s(m,v,n,o,a):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var w=e.constructor,b=t.constructor;w==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof b&&b instanceof b||(p=!1)}return a.delete(e),a.delete(t),p}},5791:(e,t,n)=>{var r=n(6924),i=n(2761);e.exports=function(e){return i(e)&&"[object Map]"==r(e)}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}},5857:(e,t,n)=>{var r=n(819),i=n(5636),o=n(6350);e.exports=function(e){return o(i(e,void 0,r),e+"")}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,o=e.criteria,s=t.criteria,a=o.length,A=n.length;++i<a;){var c=r(o[i],s[i]);if(c)return i>=A?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,o=Object(t),s=r(t),a=s.length;a--;){var A=s[e?a:++i];if(!1===n(o[A],A,o))break}return t}}},5921:(e,t,n)=>{var r=n(449),i=n(7574),o=n(6832),s=o&&o.isSet,a=s?i(s):r;e.exports=a},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6321:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},6326:(e,t,n)=>{var r=n(8895),i=n(5990),o=n(9621),s=n(7828),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:s;e.exports=a},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6382:(e,t,n)=>{"use strict";const r=n(4445),i=n(6900),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=A,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,A.prototype),t}function A(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return u(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!A.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|p(e,t);let r=a(n);const i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return h(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return h(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return A.from(r,t,n);const i=function(e){if(A.isBuffer(e)){const t=0|f(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||J(e.length)?a(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return A.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e){return l(e),a(e<0?0:0|f(e))}function d(e){const t=e.length<0?0:0|f(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,A.prototype),r}function f(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function p(e,t){if(A.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(i)return r?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return U(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return T(this,t,n);case"latin1":case"binary":return I(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function m(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),J(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=A.from(t,r)),A.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){let o,s=1,a=e.length,A=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,A/=2,n/=2}function c(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let r=-1;for(o=n;o<a;o++)if(c(e,o)===c(t,-1===r?0:o-r)){if(-1===r&&(r=o),o-r+1===A)return r*s}else-1!==r&&(o-=o-r),r=-1}else for(n+A>a&&(n=a-A),o=n;o>=0;o--){let n=!0;for(let r=0;r<A;r++)if(c(e,o+r)!==c(t,r)){n=!1;break}if(n)return o}return-1}function w(e,t,n,r){n=Number(n)||0;const i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;const o=t.length;let s;for(r>o/2&&(r=o/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(J(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return z($(t,e.length-n),e,n,r)}function C(e,t,n,r){return z(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function B(e,t,n,r){return z(G(t),e,n,r)}function S(e,t,n,r){return z(function(e,t){let n,r,i;const o=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);const r=[];let i=t;for(;i<n;){const t=e[i];let o=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=n){let n,r,a,A;switch(s){case 1:t<128&&(o=t);break;case 2:n=e[i+1],128===(192&n)&&(A=(31&t)<<6|63&n,A>127&&(o=A));break;case 3:n=e[i+1],r=e[i+2],128===(192&n)&&128===(192&r)&&(A=(15&t)<<12|(63&n)<<6|63&r,A>2047&&(A<55296||A>57343)&&(o=A));break;case 4:n=e[i+1],r=e[i+2],a=e[i+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(A=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,A>65535&&A<1114112&&(o=A))}}null===o?(o=65533,s=1):o>65535&&(o-=65536,r.push(o>>>10&1023|55296),o=56320|1023&o),r.push(o),i+=s}return function(e){const t=e.length;if(t<=x)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=x));return n}(r)}A.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),A.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(A.prototype,"parent",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.buffer}}),Object.defineProperty(A.prototype,"offset",{enumerable:!0,get:function(){if(A.isBuffer(this))return this.byteOffset}}),A.poolSize=8192,A.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(A.prototype,Uint8Array.prototype),Object.setPrototypeOf(A,Uint8Array),A.alloc=function(e,t,n){return function(e,t,n){return l(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},A.allocUnsafe=function(e){return u(e)},A.allocUnsafeSlow=function(e){return u(e)},A.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==A.prototype},A.compare=function(e,t){if(W(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=A.from(t,t.offset,t.byteLength)),!A.isBuffer(e)||!A.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},A.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return A.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=A.allocUnsafe(t);let i=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))i+t.length>r.length?(A.isBuffer(t)||(t=A.from(t)),t.copy(r,i)):Uint8Array.prototype.set.call(r,t,i);else{if(!A.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,i)}i+=t.length}return r},A.byteLength=p,A.prototype._isBuffer=!0,A.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},A.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},A.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},A.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?k(this,0,e):g.apply(this,arguments)},A.prototype.toLocaleString=A.prototype.toString,A.prototype.equals=function(e){if(!A.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===A.compare(this,e)},A.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(A.prototype[o]=A.prototype.inspect),A.prototype.compare=function(e,t,n,r,i){if(W(e,Uint8Array)&&(e=A.from(e,e.offset,e.byteLength)),!A.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;let o=(i>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(o,s),c=this.slice(r,i),l=e.slice(t,n);for(let A=0;A<a;++A)if(c[A]!==l[A]){o=c[A],s=l[A];break}return o<s?-1:s<o?1:0},A.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},A.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},A.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},A.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return B(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const x=4096;function T(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function I(e,t,n){let r="";n=Math.min(e.length,n);for(let i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function U(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let i="";for(let o=t;o<n;++o)i+=Y[e[o]];return i}function F(e,t,n){const r=e.slice(t,n);let i="";for(let o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function _(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function R(e,t,n,r,i,o){if(!A.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function Q(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function P(e,t,n,r,i){j(t,r,i,e,n,7);let o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function O(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||O(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function D(e,t,n,r,o){return t=+t,n>>>=0,o||O(e,0,n,8),i.write(e,t,n,r,52,8),n+8}A.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,A.prototype),r},A.prototype.readUintLE=A.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return r},A.prototype.readUintBE=A.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e+--t],i=1;for(;t>0&&(i*=256);)r+=this[e+--t]*i;return r},A.prototype.readUint8=A.prototype.readUInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),this[e]},A.prototype.readUint16LE=A.prototype.readUInt16LE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]|this[e+1]<<8},A.prototype.readUint16BE=A.prototype.readUInt16BE=function(e,t){return e>>>=0,t||_(e,2,this.length),this[e]<<8|this[e+1]},A.prototype.readUint32LE=A.prototype.readUInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},A.prototype.readUint32BE=A.prototype.readUInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},A.prototype.readBigUInt64LE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(i)<<BigInt(32))})),A.prototype.readBigUInt64BE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),A.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=this[e],i=1,o=0;for(;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},A.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||_(e,t,this.length);let r=t,i=1,o=this[e+--r];for(;r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},A.prototype.readInt8=function(e,t){return e>>>=0,t||_(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},A.prototype.readInt16LE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},A.prototype.readInt16BE=function(e,t){e>>>=0,t||_(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},A.prototype.readInt32LE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},A.prototype.readInt32BE=function(e,t){return e>>>=0,t||_(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},A.prototype.readBigInt64LE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),A.prototype.readBigInt64BE=X((function(e){K(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||V(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),A.prototype.readFloatLE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!0,23,4)},A.prototype.readFloatBE=function(e,t){return e>>>=0,t||_(e,4,this.length),i.read(this,e,!1,23,4)},A.prototype.readDoubleLE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!0,52,8)},A.prototype.readDoubleBE=function(e,t){return e>>>=0,t||_(e,8,this.length),i.read(this,e,!1,52,8)},A.prototype.writeUintLE=A.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},A.prototype.writeUintBE=A.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){R(this,e,t,n,Math.pow(2,8*n)-1,0)}let i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},A.prototype.writeUint8=A.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,255,0),this[t]=255&e,t+1},A.prototype.writeUint16LE=A.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeUint16BE=A.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeUint32LE=A.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},A.prototype.writeUint32BE=A.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigUInt64LE=X((function(e){return Q(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeBigUInt64BE=X((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),A.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=0,o=1,s=0;for(this[t]=255&e;++i<n&&(o*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},A.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);R(this,e,t,n,r-1,-r)}let i=n-1,o=1,s=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/o|0)-s&255;return t+n},A.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},A.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},A.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},A.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},A.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||R(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},A.prototype.writeBigInt64LE=X((function(e){return Q(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeBigInt64BE=X((function(e){return P(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),A.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},A.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},A.prototype.writeDoubleLE=function(e,t,n){return D(this,e,t,!0,n)},A.prototype.writeDoubleBE=function(e,t,n){return D(this,e,t,!1,n)},A.prototype.copy=function(e,t,n,r){if(!A.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},A.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!A.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(i=t;i<n;++i)this[i]=e;else{const o=A.isBuffer(e)?e:A.from(e,r),s=o.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<n-t;++i)this[i+t]=o[i%s]}return this};const M={};function L(e,t,n){M[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function H(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function j(e,t,n,r,i,o){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let i;throw i=o>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(o+1)}${r}`:`>= -(2${r} ** ${8*(o+1)-1}${r}) and < 2 ** ${8*(o+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new M.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,n){K(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||V(t,e.length-(n+1))}(r,i,o)}function K(e,t){if("number"!==typeof e)throw new M.ERR_INVALID_ARG_TYPE(t,"number",e)}function V(e,t,n){if(Math.floor(e)!==e)throw K(e,n),new M.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new M.ERR_BUFFER_OUT_OF_BOUNDS;throw new M.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}L("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),L("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),L("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,i=n;return Number.isInteger(n)&&Math.abs(n)>2**32?i=H(String(n)):"bigint"===typeof n&&(i=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(i=H(i)),i+="n"),r+=` It must be ${t}. Received ${i}`,r}),RangeError);const q=/[^+/0-9A-Za-z-_]/g;function $(e,t){let n;t=t||1/0;const r=e.length;let i=null;const o=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function z(e,t,n,r){let i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function J(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let i=0;i<16;++i)t[r+i]=e[n]+e[i]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),o=n(9987),s=n(5752),a=n(6924),A=n(4052),c=n(4543),l=n(1268),u="[object Arguments]",d="[object Array]",h="[object Object]",f=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,p,g,m){var v=A(e),y=A(t),w=v?d:a(e),b=y?d:a(t),C=(w=w==u?h:w)==h,B=(b=b==u?h:b)==h,S=w==b;if(S&&c(e)){if(!c(t))return!1;v=!0,C=!1}if(S&&!C)return m||(m=new r),v||l(e)?i(e,t,n,p,g,m):o(e,t,w,n,p,g,m);if(!(1&n)){var E=C&&f.call(e,"__wrapped__"),k=B&&f.call(t,"__wrapped__");if(E||k){var x=E?e.value():e,T=k?t.value():t;return m||(m=new r),g(x,T,n,p,m)}}return!!S&&(m||(m=new r),s(e,t,n,p,g,m))}},6440:e=>{"use strict";var t=function(){};e.exports=t},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var o=n.length,s=t?o:-1,a=Object(n);(t?s--:++s<o)&&!1!==i(a[s],s,a););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,o){var s=n.length,a=s,A=!o;if(null==e)return!a;for(e=Object(e);s--;){var c=n[s];if(A&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++s<a;){var l=(c=n[s])[0],u=e[l],d=c[1];if(A&&c[2]){if(void 0===u&&!(l in e))return!1}else{var h=new r;if(o)var f=o(u,d,l,e,t,h);if(!(void 0===f?i(d,u,3,o,h):f))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),o=16-(i-r);if(r=i,o>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,o=e===e,s=r(e),a=void 0!==t,A=null===t,c=t===t,l=r(t);if(!A&&!l&&!s&&e>t||s&&a&&c&&!A&&!l||i&&a&&c||!n&&c||!o)return 1;if(!i&&!s&&!l&&e<t||l&&n&&o&&!i&&!s||A&&n&&o||!a&&o||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6605:(e,t,n)=>{var r=n(6321),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},s=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1){var s=t.names[i];t.name?r.push(n[t.name][s]):r.push(n[t.names[i]])}else r.push(n[t.name]);return o.apply(null,r)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],A=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||a,i=t.innerOrder||A,o=[];return n.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(s(t,n,e))}))}))})),e.media.forEach((function(e){o.push(s("m",r.m[0],e)),i.forEach((function(t){r[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(s(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(s(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"}},6614:(e,t,n)=>{var r=n(8420),i=n(1775);e.exports=function(e,t,n,o){var s=!n;n||(n={});for(var a=-1,A=t.length;++a<A;){var c=t[a],l=o?o(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),s?i(n,c,l):r(n,c,l)}return n}},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6761:(e,t,n)=>{var r=n(2322);e.exports=function(e){return r(e)?void 0:e}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),o=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!i||s.length<199)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(s)}return n.set(e,t),this.size=n.size,this}},6806:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,s=o&&o.exports===i&&r.process,a=function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(t){}}();e.exports=a},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6900:(e,t)=>{t.read=function(e,t,n,r,i){var o,s,a=8*i-r-1,A=(1<<a)-1,c=A>>1,l=-7,u=n?i-1:0,d=n?-1:1,h=e[t+u];for(u+=d,o=h&(1<<-l)-1,h>>=-l,l+=a;l>0;o=256*o+e[t+u],u+=d,l-=8);for(s=o&(1<<-l)-1,o>>=-l,l+=r;l>0;s=256*s+e[t+u],u+=d,l-=8);if(0===o)o=1-c;else{if(o===A)return s?NaN:1/0*(h?-1:1);s+=Math.pow(2,r),o-=c}return(h?-1:1)*s*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var s,a,A,c=8*o-i-1,l=(1<<c)-1,u=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,f=r?1:-1,p=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(A=Math.pow(2,-s))<1&&(s--,A*=2),(t+=s+u>=1?d/A:d*Math.pow(2,1-u))*A>=2&&(s++,A/=2),s+u>=l?(a=0,s=l):s+u>=1?(a=(t*A-1)*Math.pow(2,i),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,i),s=0));i>=8;e[n+h]=255&a,h+=f,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+h]=255&s,h+=f,s/=256,c-=8);e[n+h-f]|=128*p}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),o=n(6095),s=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":s&&s in Object(e)?i(e):o(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),o=n(5387),s=n(2070),a=n(6600),A=n(6913),c=n(6996),l="[object Map]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",f="[object DataView]",p=c(r),g=c(i),m=c(o),v=c(s),y=c(a),w=A;(r&&w(new r(new ArrayBuffer(1)))!=f||i&&w(new i)!=l||o&&w(o.resolve())!=u||s&&w(new s)!=d||a&&w(new a)!=h)&&(w=function(e){var t=A(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case p:return f;case g:return l;case m:return u;case v:return d;case y:return h}return t}),e.exports=w},6954:(e,t,n)=>{var r=n(1629),i=n(7857),o=n(6686),s=n(6996),a=/^\[object .+?Constructor\]$/,A=Function.prototype,c=Object.prototype,l=A.toString,u=c.hasOwnProperty,d=RegExp("^"+l.call(u).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:a).test(s(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,s,e,a))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7084:(e,t,n)=>{var r=n(3871),i=n(929),o=n(9140),s=Math.ceil,a=Math.max;e.exports=function(e,t,n){t=(n?i(e,t,n):void 0===t)?1:a(o(t),0);var A=null==e?0:e.length;if(!A||t<1)return[];for(var c=0,l=0,u=Array(s(A/t));c<A;)u[l++]=r(e,c,c+=t);return u}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),o=n(4052),s=r?r.isConcatSpreadable:void 0;e.exports=function(e){return o(e)||i(e)||!!(s&&e&&e[s])}},7132:(e,t,n)=>{var r=n(5538),i=n(726),o=n(8420),s=n(1104),a=n(5119),A=n(4353),c=n(1980),l=n(8124),u=n(9075),d=n(9395),h=n(8592),f=n(6924),p=n(8268),g=n(8630),m=n(310),v=n(4052),y=n(4543),w=n(7887),b=n(6686),C=n(5921),B=n(8673),S=n(474),E="[object Arguments]",k="[object Function]",x="[object Object]",T={};T[E]=T["[object Array]"]=T["[object ArrayBuffer]"]=T["[object DataView]"]=T["[object Boolean]"]=T["[object Date]"]=T["[object Float32Array]"]=T["[object Float64Array]"]=T["[object Int8Array]"]=T["[object Int16Array]"]=T["[object Int32Array]"]=T["[object Map]"]=T["[object Number]"]=T[x]=T["[object RegExp]"]=T["[object Set]"]=T["[object String]"]=T["[object Symbol]"]=T["[object Uint8Array]"]=T["[object Uint8ClampedArray]"]=T["[object Uint16Array]"]=T["[object Uint32Array]"]=!0,T["[object Error]"]=T[k]=T["[object WeakMap]"]=!1,e.exports=function e(t,n,I,U,F,_){var R,Q=1&n,P=2&n,O=4&n;if(I&&(R=F?I(t,U,F,_):I(t)),void 0!==R)return R;if(!b(t))return t;var N=v(t);if(N){if(R=p(t),!Q)return c(t,R)}else{var D=f(t),M=D==k||"[object GeneratorFunction]"==D;if(y(t))return A(t,Q);if(D==x||D==E||M&&!F){if(R=P||M?{}:m(t),!Q)return P?u(t,a(R,t)):l(t,s(R,t))}else{if(!T[D])return F?t:{};R=g(t,D,Q)}}_||(_=new r);var L=_.get(t);if(L)return L;_.set(t,R),C(t)?t.forEach((function(r){R.add(e(r,n,I,r,t,_))})):w(t)&&t.forEach((function(r,i){R.set(i,e(r,n,I,i,t,_))}));var H=N?void 0:(O?P?h:d:P?S:B)(t);return i(H||t,(function(r,i){H&&(r=t[i=r]),o(R,i,e(r,n,I,i,t,_))})),R}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),o=n(4190),s=n(1946),a=n(1714);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}A.prototype.clear=r,A.prototype.delete=i,A.prototype.get=o,A.prototype.has=s,A.prototype.set=a,e.exports=A},7227:function(e){e.exports=function(){"use strict";return function(e,t,n){var r=function(e,t){if(!t||!t.length||1===t.length&&!t[0]||1===t.length&&Array.isArray(t[0])&&!t[0].length)return null;var n;1===t.length&&t[0].length>0&&(t=t[0]),n=(t=t.filter((function(e){return e})))[0];for(var r=1;r<t.length;r+=1)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n};n.max=function(){var e=[].slice.call(arguments,0);return r("isAfter",e)},n.min=function(){var e=[].slice.call(arguments,0);return r("isBefore",e)}}}()},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,s=i>>>1;r<s;){var a=2*(r+1)-1,A=e[a],c=a+1,l=e[c];if(0>o(A,n))c<i&&0>o(l,A)?(e[r]=l,e[c]=n,r=c):(e[r]=A,e[a]=n,r=a);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,A=a.now();t.unstable_now=function(){return a.now()-A}}var c=[],l=[],u=1,d=null,h=3,f=!1,p=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(g=!1,w(e),!p)if(null!==r(c))p=!0,R(C);else{var t=r(l);null!==t&&Q(b,t.startTime-e)}}function C(e,n){p=!1,g&&(g=!1,v(k),k=-1),f=!0;var o=h;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var s=d.callback;if("function"===typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var A=!0;else{var u=r(l);null!==u&&Q(b,u.startTime-n),A=!1}return A}finally{d=null,h=o,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,S=!1,E=null,k=-1,x=5,T=-1;function I(){return!(t.unstable_now()-T<x)}function U(){if(null!==E){var e=t.unstable_now();T=e;var n=!0;try{n=E(!0,e)}finally{n?B():(S=!1,E=null)}}else S=!1}if("function"===typeof y)B=function(){y(U)};else if("undefined"!==typeof MessageChannel){var F=new MessageChannel,_=F.port2;F.port1.onmessage=U,B=function(){_.postMessage(null)}}else B=function(){m(U,0)};function R(e){E=e,S||(S=!0,B())}function Q(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(C))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:u++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(v(k),k=-1):g=!0,Q(b,o-s))):(e.sortIndex=a,n(c,e),p||f||(p=!0,R(C))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},7237:(e,t,n)=>{"use strict";e.exports=n(8365)},7251:(e,t,n)=>{var r=n(8724),i=n(7160),o=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),o=n(5647),s=n(929),a=o((function(e,t){if(null==e)return[];var n=t.length;return n>1&&s(e,t[0],t[1])?t=[]:n>2&&s(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=a},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7887:(e,t,n)=>{var r=n(5791),i=n(7574),o=n(6832),s=o&&o.isMap,a=s?i(s):r;e.exports=a},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8122:(e,t,n)=>{var r=n(6686),i=n(6140),o=n(3516),s=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=i(e),n=[];for(var a in e)("constructor"!=a||!t&&s.call(e,a))&&n.push(a);return n}},8124:(e,t,n)=>{var r=n(6614),i=n(9621);e.exports=function(e,t){return r(e,i(e),t)}},8140:(e,t,n)=>{var r=n(5324),i=n(4065),o=n(1676),s=n(914);e.exports=function(e,t){return t=r(t,e),null==(e=o(e,t))||delete e[s(i(t))]}},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8268:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var n=e.length,r=new e.constructor(n);return n&&"string"==typeof e[0]&&t.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),o=n(3279),s=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=s},8365:(e,t,n)=>{"use strict";var r=n(5043);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,s=r.useRef,a=r.useEffect,A=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,l){var u=s(null);if(null===u.current){var d={hasValue:!1,value:null};u.current=d}else d=u.current;u=A((function(){function e(e){if(!a){if(a=!0,o=e,e=r(e),void 0!==l&&d.hasValue){var t=d.value;if(l(t,e))return s=t}return s=e}if(t=s,i(o,e))return t;var n=r(e);return void 0!==l&&l(t,n)?(o=e,t):(o=e,s=n)}var o,s,a=!1,A=void 0===n?null:n;return[function(){return e(t())},null===A?void 0:function(){return e(A())}]}),[t,n,r,l]);var h=o(e,u[0],u[1]);return a((function(){d.hasValue=!0,d.value=h}),[h]),c(h),h}},8420:(e,t,n)=>{var r=n(1775),i=n(3211),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var s=e[t];o.call(e,t)&&i(s,n)&&(void 0!==n||t in e)||r(e,t,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),o=n(4052),s=n(9841),a=r?r.prototype:void 0,A=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(s(t))return A?A.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8592:(e,t,n)=>{var r=n(4262),i=n(6326),o=n(474);e.exports=function(e){return r(e,o,i)}},8630:(e,t,n)=>{var r=n(1516),i=n(6806),o=n(8962),s=n(1295),a=n(8710);e.exports=function(e,t,n){var A=e.constructor;switch(t){case"[object ArrayBuffer]":return r(e);case"[object Boolean]":case"[object Date]":return new A(+e);case"[object DataView]":return i(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,n);case"[object Map]":case"[object Set]":return new A;case"[object Number]":case"[object String]":return new A(e);case"[object RegExp]":return o(e);case"[object Symbol]":return s(e)}}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),o=n(6571);e.exports=function(e){return o(e)?r(e):i(e)}},8710:(e,t,n)=>{var r=n(1516);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),o=n(2154),s=n(8734),a=n(2662);function A(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}A.prototype.clear=r,A.prototype.delete=i,A.prototype.get=o,A.prototype.has=s,A.prototype.set=a,e.exports=A},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8824:e=>{"use strict";const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const n=t.splitSections(e);return n&&n[0]},t.getMediaSections=function(e){const n=t.splitSections(e);return n.shift(),n},t.matchPrefix=function(e,n){return t.splitLines(e).filter((e=>0===e.indexOf(n)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const n={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1];break;case"ufrag":n.ufrag=t[r+1],n.usernameFragment=t[r+1];break;default:void 0===n[t[r]]&&(n[t[r]]=t[r+1])}return n},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const n=e.component;"rtp"===n?t.push(1):"rtcp"===n?t.push(2):t.push(n),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.channels=3===t.length?parseInt(t[2],10):1,n.numChannels=n.channels,n},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const n=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==n?"/"+n:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let n;const r=e.substring(e.indexOf(" ")+1).split(";");for(let i=0;i<r.length;i++)n=r[i].trim().split("="),t[n[0].trim()]=n[1];return t},t.writeFmtp=function(e){let t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const r=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?r.push(t+"="+e.parameters[t]):r.push(t)})),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),n={ssrc:parseInt(e.substring(7,t),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substring(t+1,r),n.value=e.substring(r+1)):n.attribute=e.substring(t+1),n},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const n=t.matchPrefix(e,"a=mid:")[0];if(n)return n.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,n){return{role:"auto",fingerprints:t.matchPrefix(e+n,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let n="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),n},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,n){return t.matchPrefix(e+n,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,n){const r=t.matchPrefix(e+n,"a=ice-ufrag:")[0],i=t.matchPrefix(e+n,"a=ice-pwd:")[0];return r&&i?{usernameFragment:r.substring(12),password:i.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const n={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=t.splitLines(e)[0].split(" ");n.profile=r[2];for(let o=3;o<r.length;o++){const i=r[o],s=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(s){const r=t.parseRtpMap(s),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(r.parameters=o.length?t.parseFmtp(o[0]):{},r.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),n.codecs.push(r),r.name.toUpperCase()){case"RED":case"ULPFEC":n.fecMechanisms.push(r.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{n.headerExtensions.push(t.parseExtmap(e))}));const i=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return n.codecs.forEach((e=>{i.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),n},t.writeRtpDescription=function(e,n){let r="";r+="m="+e+" ",r+=n.codecs.length>0?"9":"0",r+=" "+(n.profile||"UDP/TLS/RTP/SAVPF")+" ",r+=n.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",n.codecs.forEach((e=>{r+=t.writeRtpMap(e),r+=t.writeFmtp(e),r+=t.writeRtcpFb(e)}));let i=0;return n.codecs.forEach((e=>{e.maxptime>i&&(i=e.maxptime)})),i>0&&(r+="a=maxptime:"+i+"\r\n"),n.headerExtensions&&n.headerExtensions.forEach((e=>{r+=t.writeExtmap(e)})),r},t.parseRtpEncodingParameters=function(e){const n=[],r=t.parseRtpParameters(e),i=-1!==r.fecMechanisms.indexOf("RED"),o=-1!==r.fecMechanisms.indexOf("ULPFEC"),s=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),a=s.length>0&&s[0].ssrc;let A;const c=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===a&&(A=c[0][1]),r.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&A&&(t.rtx={ssrc:A}),n.push(t),i&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:o?"red+ulpfec":"red"},n.push(t))}})),0===n.length&&a&&n.push({ssrc:a});let l=t.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,n.forEach((e=>{e.maxBitrate=l}))),n},t.parseRtcpParameters=function(e){const n={},r=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];r&&(n.cname=r.value,n.ssrc=r.ssrc);const i=t.matchPrefix(e,"a=rtcp-rsize");n.reducedSize=i.length>0,n.compound=0===i.length;const o=t.matchPrefix(e,"a=rtcp-mux");return n.mux=o.length>0,n},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let n;const r=t.matchPrefix(e,"a=msid:");if(1===r.length)return n=r[0].substring(7).split(" "),{stream:n[0],track:n[1]};const i=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return i.length>0?(n=i[0].value.split(" "),{stream:n[0],track:n[1]}):void 0},t.parseSctpDescription=function(e){const n=t.parseMLine(e),r=t.matchPrefix(e,"a=max-message-size:");let i;r.length>0&&(i=parseInt(r[0].substring(19),10)),isNaN(i)&&(i=65536);const o=t.matchPrefix(e,"a=sctp-port:");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:n.fmt,maxMessageSize:i};const s=t.matchPrefix(e,"a=sctpmap:");if(s.length>0){const e=s[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:i}}},t.writeSctpDescription=function(e,t){let n=[];return n="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&n.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),n.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,n,r){let i;const o=void 0!==n?n:2;i=e||t.generateSessionId();return"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,n){const r=t.splitLines(e);for(let t=0;t<r.length;t++)switch(r[t]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[t].substring(2)}return n?t.getDirection(n):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const n=t.splitLines(e)[0].substring(2).split(" ");return{kind:n[0],port:parseInt(n[1],10),protocol:n[2],fmt:n.slice(3).join(" ")}},t.parseOLine=function(e){const n=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:n[0],sessionId:n[1],sessionVersion:parseInt(n[2],10),netType:n[3],addressType:n[4],address:n[5]}},t.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const n=t.splitLines(e);for(let t=0;t<n.length;t++)if(n[t].length<2||"="!==n[t].charAt(1))return!1;return!0},e.exports=t},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8877:(e,t,n)=>{var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))}(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=n(6321),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach((function(e){var t=e[0],s=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var a=0;a<(o[t]||[]).length;a+=1){var A=o[t][a];if(A.reg.test(s))return i(A,r,s)}})),t.media=n,t};var a=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(a,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(a,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,o=i(e)?Array(e.length):[];return r(e,(function(e,r,i){o[++n]=t(e,r,i)})),o}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),o=n(6704);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=i,s.prototype.has=o,e.exports=s},8933:function(e){e.exports=function(){"use strict";return function(e,t){t.prototype.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)}}}()},8962:e=>{var t=/\w*$/;e.exports=function(e){var n=new e.constructor(e.source,t.exec(e));return n.lastIndex=e.lastIndex,n}},9057:(e,t,n)=>{var r=n(5324),i=n(2777),o=n(4052),s=n(9194),a=n(6173),A=n(914);e.exports=function(e,t,n){for(var c=-1,l=(t=r(t,e)).length,u=!1;++c<l;){var d=A(t[c]);if(!(u=null!=e&&n(e,d)))break;e=e[d]}return u||++c!=l?u:!!(l=null==e?0:e.length)&&a(l)&&s(d,l)&&(o(e)||i(e))}},9075:(e,t,n)=>{var r=n(6614),i=n(6326);e.exports=function(e,t){return r(e,i(e),t)}},9096:(e,t,n)=>{var r=n(9256),i=n(5029),o=n(3279),s=n(4052),a=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?o:"object"==typeof e?s(e)?i(e[0],e[1]):r(e):a(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),o=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?o(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),o=n(8673);e.exports=function(e){return r(e,o,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9461:(e,t,n)=>{"use strict";e.exports=n(2330)},9621:(e,t,n)=>{var r=n(7529),i=n(7828),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return o.call(e,t)})))}:i;e.exports=a},9640:(e,t,n)=>{var r=n(8877),i=n(6605);n(6321),t.qg=r.parse,r.parseParams,r.parseFmtpConfig,r.parsePayloads,r.parseRemoteCandidates,r.parseImageAttributes,r.parseSimulcastStreamList},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,o){for(var s=-1,a=n(t((r-e)/(i||1)),0),A=Array(a);a--;)A[o?a:++s]=e,e+=i;return A}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),o=n(3211),s=n(3668),a=n(4160),A=n(2074),c=r?r.prototype:void 0,l=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,u,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!u(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=a;case"[object Set]":var f=1&r;if(h||(h=A),e.size!=t.size&&!f)return!1;var p=d.get(e);if(p)return p==t;r|=2,d.set(e,t);var g=s(h(e),h(t),r,c,u,d);return d.delete(e),g;case"[object Symbol]":if(l)return l.call(e)==l.call(t)}return!1}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(o,s),o}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".2314d5c7.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="doctorapp-leapgen:";n.l=(r,i,o,s)=>{if(e[r])e[r].push(i);else{var a,A;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+o){a=u;break}}a||(A=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),A&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,o,s=r[0],a=r[1],A=r[2],c=0;if(s.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(A)A(n)}for(t&&t(r);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunkdoctorapp_leapgen=self.webpackChunkdoctorapp_leapgen||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{add:()=>mf,century:()=>Mf,date:()=>Pf,day:()=>Qf,decade:()=>Df,diff:()=>Hf,endOf:()=>wf,eq:()=>bf,gt:()=>Bf,gte:()=>Sf,hours:()=>Rf,inRange:()=>If,lt:()=>Ef,lte:()=>kf,max:()=>Tf,milliseconds:()=>Uf,min:()=>xf,minutes:()=>_f,month:()=>Of,neq:()=>Cf,seconds:()=>Ff,startOf:()=>yf,subtract:()=>vf,weekday:()=>Lf,year:()=>Nf});var t={};n.r(t),n.d(t,{fixNegotiationNeeded:()=>ME,shimAddTrackRemoveTrack:()=>NE,shimAddTrackRemoveTrackWithNative:()=>OE,shimGetDisplayMedia:()=>UE,shimGetSendersWithDtmf:()=>RE,shimGetStats:()=>QE,shimGetUserMedia:()=>IE,shimMediaStream:()=>FE,shimOnTrack:()=>_E,shimPeerConnection:()=>DE,shimSenderReceiverGetStats:()=>PE});var r={};n.r(r),n.d(r,{shimAddTransceiver:()=>zE,shimCreateAnswer:()=>YE,shimCreateOffer:()=>JE,shimGetDisplayMedia:()=>HE,shimGetParameters:()=>WE,shimGetUserMedia:()=>LE,shimOnTrack:()=>jE,shimPeerConnection:()=>KE,shimRTCDataChannel:()=>GE,shimReceiverGetStats:()=>qE,shimRemoveStream:()=>$E,shimSenderGetStats:()=>VE});var i={};n.r(i),n.d(i,{shimAudioContext:()=>sk,shimCallbacksAPI:()=>ek,shimConstraints:()=>nk,shimCreateOfferLegacy:()=>ok,shimGetUserMedia:()=>tk,shimLocalStreamsAPI:()=>XE,shimRTCIceServerUrls:()=>rk,shimRemoteStreamsAPI:()=>ZE,shimTrackEventTransceiver:()=>ik});var o={};n.r(o),n.d(o,{removeExtmapAllowMixed:()=>fk,shimAddIceCandidateNullOrEmpty:()=>pk,shimConnectionState:()=>hk,shimMaxMessageSize:()=>uk,shimParameterlessSetLocalDescription:()=>gk,shimRTCIceCandidate:()=>ck,shimRTCIceCandidateRelayProtocol:()=>lk,shimSendThrowTypeError:()=>dk});var s={};n.r(s),n.d(s,{hasBrowserEnv:()=>ST,hasStandardBrowserEnv:()=>kT,hasStandardBrowserWebWorkerEnv:()=>xT,navigator:()=>ET,origin:()=>TT});var a=n(5043),A=n.t(a,2),c=n(4391);var l=n(9461);const u=A.useInsertionEffect,d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?a.useLayoutEffect:a.useEffect,h=u||d,f=e=>{const t=a.useRef([e,function(){return t[0](...arguments)}]).current;return h((()=>{t[0]=e})),t[1]},p="pushState",g="replaceState",m=["popstate",p,g,"hashchange"],v=e=>{for(const t of m)addEventListener(t,e);return()=>{for(const t of m)removeEventListener(t,e)}},y=(e,t)=>(0,l.useSyncExternalStore)(v,e,t),w=()=>location.search,b=()=>location.pathname,C=function(){let{ssrPath:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(b,e?()=>e:b)},B=function(e){let{replace:t=!1,state:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return history[t?g:p](n,"",e)},S=Symbol.for("wouter_v3");if("undefined"!==typeof history&&"undefined"===typeof window[S]){for(const e of[p,g]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,S,{value:!0})}const E=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"===e?"":e},k=function(){let e=arguments.length>1?arguments[1]:void 0;return((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(x(E(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")),x(e))},x=e=>{try{return decodeURI(e)}catch(t){return e}},T={hook:function(){return[C(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),B]},searchHook:function(){let{ssrSearch:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return y(w,(()=>e))},parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,o,s=[],a="",A=e.split("/");for(A[0]||A.shift();i=A.shift();)"*"===(n=i[0])?(s.push(n),a+="?"===i[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=i.indexOf("?",1),o=i.indexOf(".",1),s.push(i.substring(1,~r?r:~o?o:i.length)),a+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(a+=(~r?"?":"")+"\\"+i.substring(o))):a+="/"+i;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},I=(0,a.createContext)(T),U=()=>(0,a.useContext)(I),F={},_=(0,a.createContext)(F),R=e=>{const[t,n]=e.hook(e);return[k(e.base,t),f(((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):E(t)+e)(t,e.base),r)))]},Q=()=>R(U()),P=(e,t,n,r)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),s=i.exec(n)||[],[a,...A]=s;return void 0!==a?[!0,(()=>{const e=!1!==o?Object.fromEntries(o.map(((e,t)=>[e,A[t]]))):s.groups;let t={...A};return e&&Object.assign(t,e),t})(),...r?[a]:[]]:[!1,null]},O=e=>{let{children:t,...n}=e;const r=U(),i=n.hook?T:r;let o=i;const[s,A]=n.ssrPath?.split("?")??[];A&&(n.ssrSearch=A,n.ssrPath=s),n.hrefs=n.hrefs??n.hook?.hrefs;let c=(0,a.useRef)({}),l=c.current,u=l;for(let a in i){const e="base"===a?i[a]+(n[a]||""):n[a]||i[a];l===u&&e!==u[a]&&(c.current=u={...u}),u[a]=e,e!==i[a]&&(o=u)}return(0,a.createElement)(I.Provider,{value:o,children:t})},N=(e,t)=>{let{children:n,component:r}=e;return r?(0,a.createElement)(r,{params:t}):"function"===typeof n?n(t):n};const D=e=>{let{path:t,nest:n,match:r,...i}=e;const o=U(),[s]=R(o),[A,c,l]=r??P(o.parser,t,s,n),u=(e=>{let t=(0,a.useRef)(F);const n=t.current;return t.current=Object.keys(e).length!==Object.keys(n).length||Object.entries(e).some((e=>{let[t,r]=e;return r!==n[t]}))?e:n})({...(0,a.useContext)(_),...c});if(!A)return null;const d=l?(0,a.createElement)(O,{base:l},N(i,u)):N(i,u);return(0,a.createElement)(_.Provider,{value:u,children:d})},M=(0,a.forwardRef)(((e,t)=>{const n=U(),[r,i]=R(n),{to:o="",href:s=o,onClick:A,asChild:c,children:l,className:u,replace:d,state:h,...p}=e,g=f((t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(A?.(t),t.defaultPrevented||(t.preventDefault(),i(s,e)))})),m=n.hrefs("~"===s[0]?s.slice(1):n.base+s,n);return c&&(0,a.isValidElement)(l)?(0,a.cloneElement)(l,{onClick:g,href:m}):(0,a.createElement)("a",{...p,onClick:g,href:m,className:u?.call?u(r===s):u,children:l,ref:t})})),L=e=>Array.isArray(e)?e.flatMap((e=>L(e&&e.type===a.Fragment?e.props.children:e))):[e],H=e=>{let{children:t,location:n}=e;const r=U(),[i]=R(r);for(const o of L(t)){let e=0;if((0,a.isValidElement)(o)&&(e=P(r.parser,o.props.path,n||i,o.props.nest))[0])return(0,a.cloneElement)(o,{match:e})}return null};var j="undefined"===typeof window||"Deno"in globalThis;function K(){}function V(e){return"number"===typeof e&&e>=0&&e!==1/0}function q(e,t){return Math.max(e+(t||0)-Date.now(),0)}function $(e,t){return"function"===typeof e?e(t):e}function G(e,t){return"function"===typeof e?e(t):e}function z(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==J(s,t.options))return!1}else if(!X(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function W(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Y(t.options.mutationKey)!==Y(o))return!1}else if(!X(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function J(e,t){return(t?.queryKeyHashFn||Y)(e)}function Y(e){return JSON.stringify(e,((e,t)=>ne(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function X(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>X(e[n],t[n]))))}function Z(e,t){if(e===t)return e;const n=te(e)&&te(t);if(n||ne(e)&&ne(t)){const r=n?e:Object.keys(e),i=r.length,o=n?t:Object.keys(t),s=o.length,a=n?[]:{};let A=0;for(let c=0;c<s;c++){const i=n?c:o[c];(!n&&r.includes(i)||n)&&void 0===e[i]&&void 0===t[i]?(a[i]=void 0,A++):(a[i]=Z(e[i],t[i]),a[i]===e[i]&&void 0!==e[i]&&A++)}return i===s&&A===i?e:a}return t}function ee(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function te(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function ne(e){if(!re(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!re(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function re(e){return"[object Object]"===Object.prototype.toString.call(e)}function ie(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?Z(e,t):t}function oe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function se(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ae=Symbol();function Ae(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ae?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var ce=e=>setTimeout(e,0);var le=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=ce;const o=r=>{t?e.push(r):i((()=>{n(r)}))};return{batch:o=>{let s;t++;try{s=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];o((()=>{e(...n)}))},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),ue=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},de=new class extends ue{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!j&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},he=new class extends ue{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!j&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function fe(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function pe(e){return Math.min(1e3*2**e,3e4)}function ge(e){return"online"!==(e??"online")||he.isOnline()}var me=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function ve(e){return e instanceof me}function ye(e){let t,n=!1,r=0,i=!1;const o=fe(),s=()=>de.isFocused()&&("always"===e.networkMode||he.isOnline())&&e.canRun(),a=()=>ge(e.networkMode)&&e.canRun(),A=n=>{i||(i=!0,e.onSuccess?.(n),t?.(),o.resolve(n))},c=n=>{i||(i=!0,e.onError?.(n),t?.(),o.reject(n))},l=()=>new Promise((n=>{t=e=>{(i||s())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,i||e.onContinue?.()})),u=()=>{if(i)return;let t;const o=0===r?e.initialPromise:void 0;try{t=o??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(A).catch((t=>{if(i)return;const o=e.retry??(j?0:3),a=e.retryDelay??pe,A="function"===typeof a?a(r,t):a,d=!0===o||"number"===typeof o&&r<o||"function"===typeof o&&o(r,t);var h;!n&&d?(r++,e.onFail?.(r,t),(h=A,new Promise((e=>{setTimeout(e,h)}))).then((()=>s()?void 0:l())).then((()=>{n?c(t):u()}))):c(t)}))};return{promise:o,cancel:t=>{i||(c(new me(t)),e.abort?.())},continue:()=>(t?.(),o),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?u():l().then(u),o)}}var we=class{#i;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),V(this.gcTime)&&(this.#i=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(j?1/0:3e5))}clearGcTimeout(){this.#i&&(clearTimeout(this.#i),this.#i=void 0)}},be=class extends we{#o;#s;#a;#A;#c;#l;#u;constructor(e){super(),this.#u=!1,this.#l=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#A=e.client,this.#a=this.#A.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#o=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#o,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#l,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=ie(this.state.data,e,this.options);return this.#d({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#d({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(K).catch(K):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#o)}isActive(){return this.observers.some((e=>!1!==G(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ae||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!q(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#c&&(this.#u?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#d({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,n.signal)})},i={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#A,state:this.state,fetchFn:()=>{const e=Ae(this.options,t),n={client:this.#A,queryKey:this.queryKey,meta:this.meta};return r(n),this.#u=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(i),this.options.behavior?.onFetch(i,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===i.fetchOptions?.meta||this.#d({type:"fetch",meta:i.fetchOptions?.meta});const o=e=>{ve(e)&&e.silent||this.#d({type:"error",error:e}),ve(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=ye({initialPromise:t?.initialPromise,fn:i.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void o(t)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else o(new Error(`${this.queryHash} data is undefined`))},onError:o,onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:()=>{this.#d({type:"continue"})},retry:i.options.retry,retryDelay:i.options.retryDelay,networkMode:i.options.networkMode,canRun:()=>!0}),this.#c.start()}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...Ce(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return ve(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),le.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function Ce(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ge(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var Be=class extends ue{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#h=new Map}#h;build(e,t,n){const r=t.queryKey,i=t.queryHash??J(r,t);let o=this.get(i);return o||(o=new be({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#h.has(e.queryHash)||(this.#h.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#h.get(e.queryHash);t&&(e.destroy(),t===e&&this.#h.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){le.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#h.get(e)}getAll(){return[...this.#h.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>z(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>z(e,t))):t}notify(e){le.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){le.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){le.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},Se=class extends we{#f;#p;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#p=e.mutationCache,this.#f=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#f.includes(e)||(this.#f.push(e),this.clearGcTimeout(),this.#p.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#f=this.#f.filter((t=>t!==e)),this.scheduleGc(),this.#p.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#f.length||("pending"===this.state.status?this.scheduleGc():this.#p.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#d({type:"continue"})};this.#c=ye({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#d({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#d({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#p.canRun(this)});const n="pending"===this.state.status,r=!this.#c.canStart();try{if(n)t();else{this.#d({type:"pending",variables:e,isPaused:r}),await(this.#p.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#d({type:"pending",context:t,variables:e,isPaused:r})}const i=await this.#c.start();return await(this.#p.config.onSuccess?.(i,e,this.state.context,this)),await(this.options.onSuccess?.(i,e,this.state.context)),await(this.#p.config.onSettled?.(i,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(i,null,e,this.state.context)),this.#d({type:"success",data:i}),i}catch(i){try{throw await(this.#p.config.onError?.(i,e,this.state.context,this)),await(this.options.onError?.(i,e,this.state.context)),await(this.#p.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,i,e,this.state.context)),i}finally{this.#d({type:"error",error:i})}}finally{this.#p.runNext(this)}}#d(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),le.batch((()=>{this.#f.forEach((t=>{t.onMutationUpdate(e)})),this.#p.notify({mutation:this,type:"updated",action:e})}))}};var Ee=class extends ue{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#m=new Map,this.#v=0}#g;#m;#v;build(e,t,n){const r=new Se({mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#g.add(e);const t=ke(e);if("string"===typeof t){const n=this.#m.get(t);n?n.push(e):this.#m.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#m.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=ke(e);if("string"===typeof t){const n=this.#m.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){le.batch((()=>{this.#g.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#g.clear(),this.#m.clear()}))}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>W(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>W(e,t)))}notify(e){le.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return le.batch((()=>Promise.all(e.map((e=>e.continue().catch(K))))))}};function ke(e){return e.options.scope?.id}function xe(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},A=0;const c=async()=>{let n=!1;const c=Ae(t.options,t.fetchOptions),l=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const o={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};var s;s=o,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await c(o),{maxPages:A}=t.options,l=i?se:oe;return{pages:l(e.pages,a,A),pageParams:l(e.pageParams,r,A)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:s},n=(e?Ie:Te)(r,t);a=await l(t,n,e)}else{const t=e??o.length;do{const e=0===A?s[0]??r.initialPageParam:Te(r,a);if(A>0&&null==e)break;a=await l(a,e),A++}while(A<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function Te(e,t){let{pages:n,pageParams:r}=t;const i=n.length-1;return n.length>0?e.getNextPageParam(n[i],n,r[i],r):void 0}function Ie(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}var Ue=class{#y;#p;#l;#w;#b;#C;#B;#S;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#y=e.queryCache||new Be,this.#p=e.mutationCache||new Ee,this.#l=e.defaultOptions||{},this.#w=new Map,this.#b=new Map,this.#C=0}mount(){this.#C++,1===this.#C&&(this.#B=de.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#y.onFocus())})),this.#S=he.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#y.onOnline())})))}unmount(){this.#C--,0===this.#C&&(this.#B?.(),this.#B=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#y.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#p.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#y.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime($(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#y.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#y.get(r.queryHash),o=i?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,o);if(void 0!==s)return this.#y.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return le.batch((()=>this.#y.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#y.get(t.queryHash)?.state}removeQueries(e){const t=this.#y;le.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#y;return le.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=le.batch((()=>this.#y.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(K).catch(K)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return le.batch((()=>(this.#y.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=le.batch((()=>this.#y.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(K)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(K)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#y.build(this,t);return n.isStaleByTime($(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(K).catch(K)}fetchInfiniteQuery(e){return e.behavior=xe(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(K).catch(K)}ensureInfiniteQueryData(e){return e.behavior=xe(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return he.isOnline()?this.#p.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#y}getMutationCache(){return this.#p}getDefaultOptions(){return this.#l}setDefaultOptions(e){this.#l=e}setQueryDefaults(e,t){this.#w.set(Y(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#w.values()],n={};return t.forEach((t=>{X(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#b.set(Y(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#b.values()],n={};return t.forEach((t=>{X(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#l.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=J(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ae&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#l.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#y.clear(),this.#p.clear()}},Fe=n(579),_e=a.createContext(void 0),Re=e=>{let{client:t,children:n}=e;return a.useEffect((()=>(t.mount(),()=>{t.unmount()})),[t]),(0,Fe.jsx)(_e.Provider,{value:t,children:n})};const Qe="ADD_TOAST",Pe="UPDATE_TOAST",Oe="DISMISS_TOAST",Ne="REMOVE_TOAST";let De=0;const Me=new Map,Le=e=>{if(Me.has(e))return;const t=setTimeout((()=>{Me.delete(e),Ve({type:Ne,toastId:e})}),1e6);Me.set(e,t)},He=(e,t)=>{switch(t.type){case Qe:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case Pe:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case Oe:{const{toastId:n}=t;return n?Le(n):e.toasts.forEach((e=>{Le(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case Ne:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},je=[];let Ke={toasts:[]};function Ve(e){Ke=He(Ke,e),je.forEach((e=>{e(Ke)}))}function qe(e){let{...t}=e;const n=(De=(De+1)%Number.MAX_SAFE_INTEGER,De.toString()),r=()=>Ve({type:Oe,toastId:n});return Ve({type:Qe,toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>Ve({type:Pe,toast:{...e,id:n}})}}var $e=n(7950);function Ge(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function ze(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=ze(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():ze(t[e],null)}}}}function Je(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.useCallback(We(...t),t)}function Ye(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];const r=()=>{const t=n.map((e=>a.createContext(e)));return function(n){const r=n?.[e]||t;return a.useMemo((()=>({[`__scope${e}`]:{...n,[e]:r}})),[n,r])}};return r.scopeName=e,[function(t,r){const i=a.createContext(r),o=n.length;n=[...n,r];const s=t=>{const{scope:n,children:r,...s}=t,A=n?.[e]?.[o]||i,c=a.useMemo((()=>s),Object.values(s));return(0,Fe.jsx)(A.Provider,{value:c,children:r})};return s.displayName=t+"Provider",[s,function(n,s){const A=s?.[e]?.[o]||i,c=a.useContext(A);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},Xe(r,...t)]}function Xe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t[0];if(1===t.length)return r;const i=()=>{const e=t.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(t){const n=e.reduce(((e,n)=>{let{useScope:r,scopeName:i}=n;return{...e,...r(t)[`__scope${i}`]}}),{});return a.useMemo((()=>({[`__scope${r.scopeName}`]:n})),[n])}};return i.scopeName=r.scopeName,i}function Ze(e){const t=tt(e),n=a.forwardRef(((e,n)=>{const{children:r,...i}=e,o=a.Children.toArray(r),s=o.find(rt);if(s){const e=s.props.children,r=o.map((t=>t===s?a.Children.count(e)>1?a.Children.only(null):a.isValidElement(e)?e.props.children:null:t));return(0,Fe.jsx)(t,{...i,ref:n,children:a.isValidElement(e)?a.cloneElement(e,void 0,r):null})}return(0,Fe.jsx)(t,{...i,ref:n,children:r})}));return n.displayName=`${e}.Slot`,n}var et=Ze("Slot");function tt(e){const t=a.forwardRef(((e,t)=>{const{children:n,...r}=e;if(a.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=function(){o(...arguments),i(...arguments)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==a.Fragment&&(i.ref=t?We(t,e):e),a.cloneElement(n,i)}return a.Children.count(n)>1?a.Children.only(null):null}));return t.displayName=`${e}.SlotClone`,t}var nt=Symbol("radix.slottable");function rt(e){return a.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===nt}function it(e){const t=e+"CollectionProvider",[n,r]=Ye(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),s=e=>{const{scope:t,children:n}=e,r=a.useRef(null),o=a.useRef(new Map).current;return(0,Fe.jsx)(i,{scope:t,itemMap:o,collectionRef:r,children:n})};s.displayName=t;const A=e+"CollectionSlot",c=Ze(A),l=a.forwardRef(((e,t)=>{const{scope:n,children:r}=e,i=Je(t,o(A,n).collectionRef);return(0,Fe.jsx)(c,{ref:i,children:r})}));l.displayName=A;const u=e+"CollectionItemSlot",d="data-radix-collection-item",h=Ze(u),f=a.forwardRef(((e,t)=>{const{scope:n,children:r,...i}=e,s=a.useRef(null),A=Je(t,s),c=o(u,n);return a.useEffect((()=>(c.itemMap.set(s,{ref:s,...i}),()=>{c.itemMap.delete(s)}))),(0,Fe.jsx)(h,{[d]:"",ref:A,children:r})}));return f.displayName=u,[{Provider:s,Slot:l,ItemSlot:f},function(t){const n=o(e+"CollectionConsumer",t);return a.useCallback((()=>{const e=n.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${d}]`));return Array.from(n.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[n.collectionRef,n.itemMap])},r]}var ot=new WeakMap;Map;function st(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=at(t),i=r>=0?r:n+r;return i<0||i>=n?-1:i}(e,t);return-1===n?void 0:e[n]}function at(e){return e!==e||0===e?0:Math.trunc(e)}var At=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,t)=>{const n=Ze(`Primitive.${t}`),r=a.forwardRef(((e,r)=>{const{asChild:i,...o}=e,s=i?n:t;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Fe.jsx)(s,{...o,ref:r})}));return r.displayName=`Primitive.${t}`,{...e,[t]:r}}),{});function ct(e,t){e&&$e.flushSync((()=>e.dispatchEvent(t)))}function lt(e){const t=a.useRef(e);return a.useEffect((()=>{t.current=e})),a.useMemo((()=>function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.current?.(...n)}),[])}var ut,dt="dismissableLayer.update",ht="dismissableLayer.pointerDownOutside",ft="dismissableLayer.focusOutside",pt=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gt=a.forwardRef(((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:A,...c}=e,l=a.useContext(pt),[u,d]=a.useState(null),h=u?.ownerDocument??globalThis?.document,[,f]=a.useState({}),p=Je(t,(e=>d(e))),g=Array.from(l.layers),[m]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(m),y=u?g.indexOf(u):-1,w=l.layersWithOutsidePointerEventsDisabled.size>0,b=y>=v,C=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=lt(e),r=a.useRef(!1),i=a.useRef((()=>{}));return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){let r=function(){yt(ht,n,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",i.current),i.current=r,t.addEventListener("click",i.current,{once:!0})):r()}else t.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout((()=>{t.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",e),t.removeEventListener("click",i.current)}}),[t,n]),{onPointerDownCapture:()=>r.current=!0}}((e=>{const t=e.target,n=[...l.branches].some((e=>e.contains(t)));b&&!n&&(i?.(e),s?.(e),e.defaultPrevented||A?.())}),h),B=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=lt(e),r=a.useRef(!1);return a.useEffect((()=>{const e=e=>{if(e.target&&!r.current){yt(ft,n,{originalEvent:e},{discrete:!1})}};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)}),[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}((e=>{const t=e.target;[...l.branches].some((e=>e.contains(t)))||(o?.(e),s?.(e),e.defaultPrevented||A?.())}),h);return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const n=lt(e);a.useEffect((()=>{const e=e=>{"Escape"===e.key&&n(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})}),[n,t])}((e=>{y===l.layers.size-1&&(r?.(e),!e.defaultPrevented&&A&&(e.preventDefault(),A()))}),h),a.useEffect((()=>{if(u)return n&&(0===l.layersWithOutsidePointerEventsDisabled.size&&(ut=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),l.layersWithOutsidePointerEventsDisabled.add(u)),l.layers.add(u),vt(),()=>{n&&1===l.layersWithOutsidePointerEventsDisabled.size&&(h.body.style.pointerEvents=ut)}}),[u,h,n,l]),a.useEffect((()=>()=>{u&&(l.layers.delete(u),l.layersWithOutsidePointerEventsDisabled.delete(u),vt())}),[u,l]),a.useEffect((()=>{const e=()=>f({});return document.addEventListener(dt,e),()=>document.removeEventListener(dt,e)}),[]),(0,Fe.jsx)(At.div,{...c,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:Ge(e.onFocusCapture,B.onFocusCapture),onBlurCapture:Ge(e.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Ge(e.onPointerDownCapture,C.onPointerDownCapture)})}));gt.displayName="DismissableLayer";var mt=a.forwardRef(((e,t)=>{const n=a.useContext(pt),r=a.useRef(null),i=Je(t,r);return a.useEffect((()=>{const e=r.current;if(e)return n.branches.add(e),()=>{n.branches.delete(e)}}),[n.branches]),(0,Fe.jsx)(At.div,{...e,ref:i})}));function vt(){const e=new CustomEvent(dt);document.dispatchEvent(e)}function yt(e,t,n,r){let{discrete:i}=r;const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?ct(o,s):o.dispatchEvent(s)}mt.displayName="DismissableLayerBranch";var wt=gt,bt=mt,Ct=globalThis?.document?a.useLayoutEffect:()=>{},Bt=a.forwardRef(((e,t)=>{const{container:n,...r}=e,[i,o]=a.useState(!1);Ct((()=>o(!0)),[]);const s=n||i&&globalThis?.document?.body;return s?$e.createPortal((0,Fe.jsx)(At.div,{...r,ref:t}),s):null}));Bt.displayName="Portal";var St=e=>{const{present:t,children:n}=e,r=function(e){const[t,n]=a.useState(),r=a.useRef(null),i=a.useRef(e),o=a.useRef("none"),s=e?"mounted":"unmounted",[A,c]=function(e,t){return a.useReducer(((e,n)=>t[e][n]??e),e)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect((()=>{const e=Et(r.current);o.current="mounted"===A?e:"none"}),[A]),Ct((()=>{const t=r.current,n=i.current;if(n!==e){const r=o.current,s=Et(t);if(e)c("MOUNT");else if("none"===s||"none"===t?.display)c("UNMOUNT");else{c(n&&r!==s?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,c]),Ct((()=>{if(t){let e;const n=t.ownerDocument.defaultView??window,s=o=>{const s=Et(r.current).includes(o.animationName);if(o.target===t&&s&&(c("ANIMATION_END"),!i.current)){const r=t.style.animationFillMode;t.style.animationFillMode="forwards",e=n.setTimeout((()=>{"forwards"===t.style.animationFillMode&&(t.style.animationFillMode=r)}))}},a=e=>{e.target===t&&(o.current=Et(r.current))};return t.addEventListener("animationstart",a),t.addEventListener("animationcancel",s),t.addEventListener("animationend",s),()=>{n.clearTimeout(e),t.removeEventListener("animationstart",a),t.removeEventListener("animationcancel",s),t.removeEventListener("animationend",s)}}c("ANIMATION_END")}),[t,c]),{isPresent:["mounted","unmountSuspended"].includes(A),ref:a.useCallback((e=>{r.current=e?getComputedStyle(e):null,n(e)}),[])}}(t),i="function"===typeof n?n({present:r.isPresent}):a.Children.only(n),o=Je(r.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof n||r.isPresent?a.cloneElement(i,{ref:o}):null};function Et(e){return e?.animationName||"none"}St.displayName="Presence";var kt=A[" useInsertionEffect ".trim().toString()]||Ct;function xt(e){let{prop:t,defaultProp:n,onChange:r=()=>{},caller:i}=e;const[o,s,A]=function(e){let{defaultProp:t,onChange:n}=e;const[r,i]=a.useState(t),o=a.useRef(r),s=a.useRef(n);return kt((()=>{s.current=n}),[n]),a.useEffect((()=>{o.current!==r&&(s.current?.(r),o.current=r)}),[r,o]),[r,i,s]}({defaultProp:n,onChange:r}),c=void 0!==t,l=c?t:o;{const e=a.useRef(void 0!==t);a.useEffect((()=>{const t=e.current;if(t!==c){const e=t?"controlled":"uncontrolled",n=c?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}e.current=c}),[c,i])}const u=a.useCallback((e=>{if(c){const n=function(e){return"function"===typeof e}(e)?e(t):e;n!==t&&A.current?.(n)}else s(e)}),[c,t,s,A]);return[l,u]}Symbol("RADIX:SYNC_STATE");var Tt=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),It=a.forwardRef(((e,t)=>(0,Fe.jsx)(At.span,{...e,ref:t,style:{...Tt,...e.style}})));It.displayName="VisuallyHidden";var Ut="ToastProvider",[Ft,_t,Rt]=it("Toast"),[Qt,Pt]=Ye("Toast",[Rt]),[Ot,Nt]=Qt(Ut),Dt=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:s}=e,[A,c]=a.useState(null),[l,u]=a.useState(0),d=a.useRef(!1),h=a.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ut}\`. Expected non-empty \`string\`.`),(0,Fe.jsx)(Ft.Provider,{scope:t,children:(0,Fe.jsx)(Ot,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:o,toastCount:l,viewport:A,onViewportChange:c,onToastAdd:a.useCallback((()=>u((e=>e+1))),[]),onToastRemove:a.useCallback((()=>u((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:h,children:s})})};Dt.displayName=Ut;var Mt="ToastViewport",Lt=["F8"],Ht="toast.viewportPause",jt="toast.viewportResume",Kt=a.forwardRef(((e,t)=>{const{__scopeToast:n,hotkey:r=Lt,label:i="Notifications ({hotkey})",...o}=e,s=Nt(Mt,n),A=_t(n),c=a.useRef(null),l=a.useRef(null),u=a.useRef(null),d=a.useRef(null),h=Je(t,d,s.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),p=s.toastCount>0;a.useEffect((()=>{const e=e=>{0!==r.length&&r.every((t=>e[t]||e.code===t))&&d.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[r]),a.useEffect((()=>{const e=c.current,t=d.current;if(p&&e&&t){const n=()=>{if(!s.isClosePausedRef.current){const e=new CustomEvent(Ht);t.dispatchEvent(e),s.isClosePausedRef.current=!0}},r=()=>{if(s.isClosePausedRef.current){const e=new CustomEvent(jt);t.dispatchEvent(e),s.isClosePausedRef.current=!1}},i=t=>{!e.contains(t.relatedTarget)&&r()},o=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",i),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",o),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",i),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",o),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[p,s.isClosePausedRef]);const g=a.useCallback((e=>{let{tabbingDirection:t}=e;const n=A().map((e=>{const n=e.ref.current,r=[n,...cn(n)];return"forwards"===t?r:r.reverse()}));return("forwards"===t?n.reverse():n).flat()}),[A]);return a.useEffect((()=>{const e=d.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void l.current?.focus();const i=g({tabbingDirection:r?"backwards":"forwards"}),o=i.findIndex((e=>e===n));ln(i.slice(o+1))?t.preventDefault():r?l.current?.focus():u.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[A,g]),(0,Fe.jsxs)(bt,{ref:c,role:"region","aria-label":i.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:p?void 0:"none"},children:[p&&(0,Fe.jsx)(qt,{ref:l,onFocusFromOutsideViewport:()=>{ln(g({tabbingDirection:"forwards"}))}}),(0,Fe.jsx)(Ft.Slot,{scope:n,children:(0,Fe.jsx)(At.ol,{tabIndex:-1,...o,ref:h})}),p&&(0,Fe.jsx)(qt,{ref:u,onFocusFromOutsideViewport:()=>{ln(g({tabbingDirection:"backwards"}))}})]})}));Kt.displayName=Mt;var Vt="ToastFocusProxy",qt=a.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,o=Nt(Vt,n);return(0,Fe.jsx)(It,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!o.viewport?.contains(t)&&r()}})}));qt.displayName=Vt;var $t="Toast",Gt=a.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:o,...s}=e,[a,A]=xt({prop:r,defaultProp:i??!0,onChange:o,caller:$t});return(0,Fe.jsx)(St,{present:n||a,children:(0,Fe.jsx)(Jt,{open:a,...s,ref:t,onClose:()=>A(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:Ge(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:Ge(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:Ge(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:Ge(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),A(!1)}))})})}));Gt.displayName=$t;var[zt,Wt]=Qt($t,{onClose(){}}),Jt=a.forwardRef(((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:o,onClose:s,onEscapeKeyDown:A,onPause:c,onResume:l,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:h,onSwipeEnd:f,...p}=e,g=Nt($t,n),[m,v]=a.useState(null),y=Je(t,(e=>v(e))),w=a.useRef(null),b=a.useRef(null),C=i||g.duration,B=a.useRef(0),S=a.useRef(C),E=a.useRef(0),{onToastAdd:k,onToastRemove:x}=g,T=lt((()=>{const e=m?.contains(document.activeElement);e&&g.viewport?.focus(),s()})),I=a.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(E.current),B.current=(new Date).getTime(),E.current=window.setTimeout(T,e))}),[T]);a.useEffect((()=>{const e=g.viewport;if(e){const t=()=>{I(S.current),l?.()},n=()=>{const e=(new Date).getTime()-B.current;S.current=S.current-e,window.clearTimeout(E.current),c?.()};return e.addEventListener(Ht,n),e.addEventListener(jt,t),()=>{e.removeEventListener(Ht,n),e.removeEventListener(jt,t)}}}),[g.viewport,C,c,l,I]),a.useEffect((()=>{o&&!g.isClosePausedRef.current&&I(C)}),[o,C,g.isClosePausedRef,I]),a.useEffect((()=>(k(),()=>x())),[k,x]);const U=a.useMemo((()=>m?sn(m):null),[m]);return g.viewport?(0,Fe.jsxs)(Fe.Fragment,{children:[U&&(0,Fe.jsx)(Yt,{__scopeToast:n,role:"status","aria-live":"foreground"===r?"assertive":"polite","aria-atomic":!0,children:U}),(0,Fe.jsx)(zt,{scope:n,onClose:T,children:$e.createPortal((0,Fe.jsx)(Ft.ItemSlot,{scope:n,children:(0,Fe.jsx)(wt,{asChild:!0,onEscapeKeyDown:Ge(A,(()=>{g.isFocusedToastEscapeKeyDownRef.current||T(),g.isFocusedToastEscapeKeyDownRef.current=!1})),children:(0,Fe.jsx)(At.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...p,ref:y,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ge(e.onKeyDown,(e=>{"Escape"===e.key&&(A?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,T()))})),onPointerDown:Ge(e.onPointerDown,(e=>{0===e.button&&(w.current={x:e.clientX,y:e.clientY})})),onPointerMove:Ge(e.onPointerMove,(e=>{if(!w.current)return;const t=e.clientX-w.current.x,n=e.clientY-w.current.y,r=Boolean(b.current),i=["left","right"].includes(g.swipeDirection),o=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,s=i?o(0,t):0,a=i?0:o(0,n),A="touch"===e.pointerType?10:2,c={x:s,y:a},l={originalEvent:e,delta:c};r?(b.current=c,an("toast.swipeMove",d,l,{discrete:!1})):An(c,g.swipeDirection,A)?(b.current=c,an("toast.swipeStart",u,l,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>A||Math.abs(n)>A)&&(w.current=null)})),onPointerUp:Ge(e.onPointerUp,(e=>{const t=b.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),b.current=null,w.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};An(t,g.swipeDirection,g.swipeThreshold)?an("toast.swipeEnd",f,r,{discrete:!0}):an("toast.swipeCancel",h,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),g.viewport)})]}):null})),Yt=e=>{const{__scopeToast:t,children:n,...r}=e,i=Nt($t,t),[o,s]=a.useState(!1),[A,c]=a.useState(!1);return function(){const e=lt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});Ct((()=>{let t=0,n=0;return t=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(e))),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}}),[e])}((()=>s(!0))),a.useEffect((()=>{const e=window.setTimeout((()=>c(!0)),1e3);return()=>window.clearTimeout(e)}),[]),A?null:(0,Fe.jsx)(Bt,{asChild:!0,children:(0,Fe.jsx)(It,{...r,children:o&&(0,Fe.jsxs)(Fe.Fragment,{children:[i.label," ",n]})})})},Xt=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,Fe.jsx)(At.div,{...r,ref:t})}));Xt.displayName="ToastTitle";var Zt=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,Fe.jsx)(At.div,{...r,ref:t})}));Zt.displayName="ToastDescription";var en="ToastAction",tn=a.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?(0,Fe.jsx)(on,{altText:n,asChild:!0,children:(0,Fe.jsx)(rn,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${en}\`. Expected non-empty \`string\`.`),null)}));tn.displayName=en;var nn="ToastClose",rn=a.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,i=Wt(nn,n);return(0,Fe.jsx)(on,{asChild:!0,children:(0,Fe.jsx)(At.button,{type:"button",...r,ref:t,onClick:Ge(e.onClick,i.onClose)})})}));rn.displayName=nn;var on=a.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return(0,Fe.jsx)(At.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})}));function sn(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...sn(e))}})),t}function an(e,t,n,r){let{discrete:i}=r;const o=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),i?ct(o,s):o.dispatchEvent(s)}var An=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),i=Math.abs(e.y),o=r>i;return"left"===t||"right"===t?o&&r>n:!o&&i>n};function cn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ln(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var un=Dt,dn=Kt,hn=Gt,fn=Xt,pn=Zt,gn=rn;const mn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var vn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yn=(0,a.forwardRef)(((e,t)=>{let{color:n="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:s="",children:A,iconNode:c,...l}=e;return(0,a.createElement)("svg",{ref:t,...vn,width:r,height:r,stroke:n,strokeWidth:o?24*Number(i)/Number(r):i,className:mn("lucide",s),...l},[...c.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(A)?A:[A]])})),wn=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{className:i,...o}=n;return(0,a.createElement)(yn,{ref:r,iconNode:t,className:mn(`lucide-${s=e,s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...o});var s}));return n.displayName=`${e}`,n},bn=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Cn(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Cn(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Bn(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Cn(e))&&(r&&(r+=" "),r+=t);return r}const Sn=Bn,En=e=>{const t=In(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),kn(n,t)||Tn(e)},getConflictingClassGroupIds:(e,t)=>{const i=n[e]||[];return t&&r[e]?[...i,...r[e]]:i}}},kn=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?kn(e.slice(1),r):void 0;if(i)return i;if(0===t.validators.length)return;const o=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(o)}))?.classGroupId},xn=/^\[(.+)\]$/,Tn=e=>{if(xn.test(e)){const t=xn.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},In=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Rn(Object.entries(e.classGroups),n).forEach((e=>{let[n,i]=e;Un(i,r,n,t)})),r},Un=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return _n(e)?void Un(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[i,o]=e;Un(o,Fn(t,i),n,r)}))}else{(""===e?t:Fn(t,e)).classGroupId=n}}))},Fn=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},_n=e=>e.isThemeGetter,Rn=(e,t)=>t?e.map((e=>{let[n,r]=e;return[n,r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e))]})):e,Qn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(i,o)=>{n.set(i,o),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(i(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):i(e,t)}}},Pn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,i=t[0],o=t.length,s=e=>{const n=[];let s,a=0,A=0;for(let u=0;u<e.length;u++){let c=e[u];if(0===a){if(c===i&&(r||e.slice(u,u+o)===t)){n.push(e.slice(A,u)),A=u+o;continue}if("/"===c){s=u;continue}}"["===c?a++:"]"===c&&a--}const c=0===n.length?e:e.substring(A),l=c.startsWith("!");return{modifiers:n,hasImportantModifier:l,baseClassName:l?c.substring(1):c,maybePostfixModifierPosition:s&&s>A?s-A:void 0}};return n?e=>n({className:e,parseClassName:s}):s},On=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},Nn=/\s+/;function Dn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Mn(e))&&(r&&(r+=" "),r+=t);return r}const Mn=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Mn(e[r]))&&(n&&(n+=" "),n+=t);return n};function Ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let i,o,s,a=function(t){const r=n.reduce(((e,t)=>t(e)),e());return i=(e=>({cache:Qn(e.cacheSize),parseClassName:Pn(e),...En(e)}))(r),o=i.cache.get,s=i.cache.set,a=A,A(t)};function A(e){const t=o(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(Nn);let a="";for(let A=s.length-1;A>=0;A-=1){const e=s[A],{modifiers:t,hasImportantModifier:c,baseClassName:l,maybePostfixModifierPosition:u}=n(e);let d=Boolean(u),h=r(d?l.substring(0,u):l);if(!h){if(!d){a=e+(a.length>0?" "+a:a);continue}if(h=r(l),!h){a=e+(a.length>0?" "+a:a);continue}d=!1}const f=On(t).join(":"),p=c?f+"!":f,g=p+h;if(o.includes(g))continue;o.push(g);const m=i(h,d);for(let n=0;n<m.length;++n){const e=m[n];o.push(p+e)}a=e+(a.length>0?" "+a:a)}return a})(e,i);return s(e,n),n}return function(){return a(Dn.apply(null,arguments))}}const Hn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},jn=/^\[(?:([a-z-]+):)?(.+)\]$/i,Kn=/^\d+\/\d+$/,Vn=new Set(["px","full","screen"]),qn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,$n=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Gn=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Jn=e=>Xn(e)||Vn.has(e)||Kn.test(e),Yn=e=>ur(e,"length",dr),Xn=e=>Boolean(e)&&!Number.isNaN(Number(e)),Zn=e=>ur(e,"number",Xn),er=e=>Boolean(e)&&Number.isInteger(Number(e)),tr=e=>e.endsWith("%")&&Xn(e.slice(0,-1)),nr=e=>jn.test(e),rr=e=>qn.test(e),ir=new Set(["length","size","percentage"]),or=e=>ur(e,ir,hr),sr=e=>ur(e,"position",hr),ar=new Set(["image","url"]),Ar=e=>ur(e,ar,pr),cr=e=>ur(e,"",fr),lr=()=>!0,ur=(e,t,n)=>{const r=jn.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},dr=e=>$n.test(e)&&!Gn.test(e),hr=()=>!1,fr=e=>zn.test(e),pr=e=>Wn.test(e),gr=(Symbol.toStringTag,()=>{const e=Hn("colors"),t=Hn("spacing"),n=Hn("blur"),r=Hn("brightness"),i=Hn("borderColor"),o=Hn("borderRadius"),s=Hn("borderSpacing"),a=Hn("borderWidth"),A=Hn("contrast"),c=Hn("grayscale"),l=Hn("hueRotate"),u=Hn("invert"),d=Hn("gap"),h=Hn("gradientColorStops"),f=Hn("gradientColorStopPositions"),p=Hn("inset"),g=Hn("margin"),m=Hn("opacity"),v=Hn("padding"),y=Hn("saturate"),w=Hn("scale"),b=Hn("sepia"),C=Hn("skew"),B=Hn("space"),S=Hn("translate"),E=()=>["auto",nr,t],k=()=>[nr,t],x=()=>["",Jn,Yn],T=()=>["auto",Xn,nr],I=()=>["","0",nr],U=()=>[Xn,nr];return{cacheSize:500,separator:":",theme:{colors:[lr],spacing:[Jn,Yn],blur:["none","",rr,nr],brightness:U(),borderColor:[e],borderRadius:["none","","full",rr,nr],borderSpacing:k(),borderWidth:x(),contrast:U(),grayscale:I(),hueRotate:U(),invert:I(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[tr,Yn],inset:E(),margin:E(),opacity:U(),padding:k(),saturate:U(),scale:U(),sepia:I(),skew:U(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",nr]}],container:["container"],columns:[{columns:[rr]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",nr]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[p]}],"inset-x":[{"inset-x":[p]}],"inset-y":[{"inset-y":[p]}],start:[{start:[p]}],end:[{end:[p]}],top:[{top:[p]}],right:[{right:[p]}],bottom:[{bottom:[p]}],left:[{left:[p]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",er,nr]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",nr]}],grow:[{grow:I()}],shrink:[{shrink:I()}],order:[{order:["first","last","none",er,nr]}],"grid-cols":[{"grid-cols":[lr]}],"col-start-end":[{col:["auto",{span:["full",er,nr]},nr]}],"col-start":[{"col-start":T()}],"col-end":[{"col-end":T()}],"grid-rows":[{"grid-rows":[lr]}],"row-start-end":[{row:["auto",{span:[er,nr]},nr]}],"row-start":[{"row-start":T()}],"row-end":[{"row-end":T()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",nr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",nr]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[B]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[B]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",nr,t]}],"min-w":[{"min-w":[nr,t,"min","max","fit"]}],"max-w":[{"max-w":[nr,t,"none","full","min","max","fit","prose",{screen:[rr]},rr]}],h:[{h:[nr,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[nr,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[nr,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[nr,t,"auto","min","max","fit"]}],"font-size":[{text:["base",rr,Yn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zn]}],"font-family":[{font:[lr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",nr]}],"line-clamp":[{"line-clamp":["none",Xn,Zn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Jn,nr]}],"list-image":[{"list-image":["none",nr]}],"list-style-type":[{list:["none","disc","decimal",nr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Jn,Yn]}],"underline-offset":[{"underline-offset":["auto",Jn,nr]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",sr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",or]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Ar]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[f]}],"gradient-via-pos":[{via:[f]}],"gradient-to-pos":[{to:[f]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Jn,nr]}],"outline-w":[{outline:[Jn,Yn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:x()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[Jn,Yn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",rr,cr]}],"shadow-color":[{shadow:[lr]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[A]}],"drop-shadow":[{"drop-shadow":["","none",rr,nr]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[l]}],invert:[{invert:[u]}],saturate:[{saturate:[y]}],sepia:[{sepia:[b]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[A]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[l]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[y]}],"backdrop-sepia":[{"backdrop-sepia":[b]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",nr]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",nr]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",nr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[er,nr]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",nr]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nr]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nr]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Jn,Yn,Zn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),mr=Ln(gr);function vr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return mr(Bn(t))}const yr=un,wr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(dn,{ref:t,className:vr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...r})}));wr.displayName=dn.displayName;const br=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(hn,{ref:t,className:vr("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",n),...r})}));br.displayName=hn.displayName;const Cr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(gn,{ref:t,className:vr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...r,children:(0,Fe.jsx)(bn,{className:"h-4 w-4"})})}));Cr.displayName=gn.displayName;const Br=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(fn,{ref:t,className:vr("text-sm font-semibold [&+div]:text-xs",n),...r})}));Br.displayName=fn.displayName;const Sr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(pn,{ref:t,className:vr("text-sm opacity-90",n),...r})}));function Er(){const{toasts:e}=function(){const[e,t]=(0,a.useState)(Ke);return(0,a.useEffect)((()=>(je.push(t),()=>{const e=je.indexOf(t);e>-1&&je.splice(e,1)})),[e]),{...e,toast:qe,dismiss:e=>Ve({type:Oe,toastId:e})}}();return(0,Fe.jsxs)(yr,{children:[e.map((function(e){let{id:t,title:n,description:r,action:i,...o}=e;return(0,Fe.jsxs)(br,{...o,children:[(0,Fe.jsxs)("div",{className:"grid gap-1",children:[n&&(0,Fe.jsx)(Br,{children:n}),r&&(0,Fe.jsx)(Sr,{children:r})]}),i,(0,Fe.jsx)(Cr,{})]},t)})),(0,Fe.jsx)(wr,{})]})}Sr.displayName=pn.displayName;const kr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("div",{ref:t,className:vr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})}));kr.displayName="Card";const xr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("div",{ref:t,className:vr("flex flex-col space-y-1.5 p-6",n),...r})}));xr.displayName="CardHeader";const Tr=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("h3",{ref:t,className:vr("text-2xl font-semibold leading-none tracking-tight",n),...r})}));Tr.displayName="CardTitle";a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("p",{ref:t,className:vr("text-sm text-muted-foreground",n),...r})})).displayName="CardDescription";const Ir=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("div",{ref:t,className:vr("p-6 pt-0",n),...r})}));Ir.displayName="CardContent";a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("div",{ref:t,className:vr("flex items-center p-6 pt-0",n),...r})})).displayName="CardFooter";const Ur=e=>{let{variant:t="default",size:n="default",className:r}=e;return vr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground shadow hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90":"destructive"===t,"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground":"outline"===t,"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80":"secondary"===t,"bg-ghost text-ghost-foreground hover:bg-ghost/80":"ghost"===t,"bg-link text-link-foreground hover:bg-link/80":"link"===t},{"h-9 px-4 py-2":"default"===n,"h-7 rounded-md px-3":"sm"===n,"h-10 rounded-md px-8":"lg"===n,"h-9 w-9":"icon"===n},r)},Fr=a.forwardRef(((e,t)=>{let{className:n,variant:r,size:i,asChild:o=!1,...s}=e;const a=o?et:"button";return(0,Fe.jsx)(a,{className:vr(Ur({variant:r,size:i,className:n})),ref:t,...s})}));Fr.displayName="Button";const _r=wn("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Rr=wn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Qr="https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net/";var Pr=class extends ue{constructor(e,t){super(),this.options=t,this.#A=e,this.#E=null,this.#k=fe(),this.options.experimental_prefetchInRender||this.#k.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#A;#x=void 0;#T=void 0;#I=void 0;#U;#F;#k;#E;#_;#R;#Q;#P;#O;#N;#D=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#x.addObserver(this),Or(this.#x,this.options)?this.#M():this.updateResult(),this.#L())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Nr(this.#x,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Nr(this.#x,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#H(),this.#j(),this.#x.removeObserver(this)}setOptions(e){const t=this.options,n=this.#x;if(this.options=this.#A.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof G(this.options.enabled,this.#x))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#K(),this.#x.setOptions(this.options),t._defaulted&&!ee(this.options,t)&&this.#A.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#x,observer:this});const r=this.hasListeners();r&&Dr(this.#x,n,this.options,t)&&this.#M(),this.updateResult(),!r||this.#x===n&&G(this.options.enabled,this.#x)===G(t.enabled,this.#x)&&$(this.options.staleTime,this.#x)===$(t.staleTime,this.#x)||this.#V();const i=this.#q();!r||this.#x===n&&G(this.options.enabled,this.#x)===G(t.enabled,this.#x)&&i===this.#N||this.#$(i)}getOptimisticResult(e){const t=this.#A.getQueryCache().build(this.#A,e),n=this.createResult(t,e);return function(e,t){if(!ee(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#I=n,this.#F=this.options,this.#U=this.#x.state),n}getCurrentResult(){return this.#I}trackResult(e,t){return new Proxy(e,{get:(e,n)=>(this.trackProp(n),t?.(n),Reflect.get(e,n))})}trackProp(e){this.#D.add(e)}getCurrentQuery(){return this.#x}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#A.defaultQueryOptions(e),n=this.#A.getQueryCache().build(this.#A,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#M({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#I)))}#M(e){this.#K();let t=this.#x.fetch(this.options,e);return e?.throwOnError||(t=t.catch(K)),t}#V(){this.#H();const e=$(this.options.staleTime,this.#x);if(j||this.#I.isStale||!V(e))return;const t=q(this.#I.dataUpdatedAt,e)+1;this.#P=setTimeout((()=>{this.#I.isStale||this.updateResult()}),t)}#q(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#x):this.options.refetchInterval)??!1}#$(e){this.#j(),this.#N=e,!j&&!1!==G(this.options.enabled,this.#x)&&V(this.#N)&&0!==this.#N&&(this.#O=setInterval((()=>{(this.options.refetchIntervalInBackground||de.isFocused())&&this.#M()}),this.#N))}#L(){this.#V(),this.#$(this.#q())}#H(){this.#P&&(clearTimeout(this.#P),this.#P=void 0)}#j(){this.#O&&(clearInterval(this.#O),this.#O=void 0)}createResult(e,t){const n=this.#x,r=this.options,i=this.#I,o=this.#U,s=this.#F,a=e!==n?e.state:this.#T,{state:A}=e;let c,l={...A},u=!1;if(t._optimisticResults){const i=this.hasListeners(),o=!i&&Or(e,t),s=i&&Dr(e,n,t,r);(o||s)&&(l={...l,...Ce(A.data,e.options)}),"isRestoring"===t._optimisticResults&&(l.fetchStatus="idle")}let{error:d,errorUpdatedAt:h,status:f}=l;c=l.data;let p=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===f){let e;i?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=i.data,p=!0):e="function"===typeof t.placeholderData?t.placeholderData(this.#Q?.state.data,this.#Q):t.placeholderData,void 0!==e&&(f="success",c=ie(i?.data,e,t),u=!0)}if(t.select&&void 0!==c&&!p)if(i&&c===o?.data&&t.select===this.#_)c=this.#R;else try{this.#_=t.select,c=t.select(c),c=ie(i?.data,c,t),this.#R=c,this.#E=null}catch(C){this.#E=C}this.#E&&(d=this.#E,c=this.#R,h=Date.now(),f="error");const g="fetching"===l.fetchStatus,m="pending"===f,v="error"===f,y=m&&g,w=void 0!==c,b={status:f,fetchStatus:l.fetchStatus,isPending:m,isSuccess:"success"===f,isError:v,isInitialLoading:y,isLoading:y,data:c,dataUpdatedAt:l.dataUpdatedAt,error:d,errorUpdatedAt:h,failureCount:l.fetchFailureCount,failureReason:l.fetchFailureReason,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>a.dataUpdateCount||l.errorUpdateCount>a.errorUpdateCount,isFetching:g,isRefetching:g&&!m,isLoadingError:v&&!w,isPaused:"paused"===l.fetchStatus,isPlaceholderData:u,isRefetchError:v&&w,isStale:Mr(e,t),refetch:this.refetch,promise:this.#k};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===b.status?e.reject(b.error):void 0!==b.data&&e.resolve(b.data)},r=()=>{const e=this.#k=b.promise=fe();t(e)},i=this.#k;switch(i.status){case"pending":e.queryHash===n.queryHash&&t(i);break;case"fulfilled":"error"!==b.status&&b.data===i.value||r();break;case"rejected":"error"===b.status&&b.error===i.reason||r()}}return b}updateResult(){const e=this.#I,t=this.createResult(this.#x,this.options);if(this.#U=this.#x.state,this.#F=this.options,void 0!==this.#U.data&&(this.#Q=this.#x),ee(t,e))return;this.#I=t;this.#G({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#D.size)return!0;const r=new Set(n??this.#D);return this.options.throwOnError&&r.add("error"),Object.keys(this.#I).some((t=>{const n=t;return this.#I[n]!==e[n]&&r.has(n)}))})()})}#K(){const e=this.#A.getQueryCache().build(this.#A,this.options);if(e===this.#x)return;const t=this.#x;this.#x=e,this.#T=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#L()}#G(e){le.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#I)})),this.#A.getQueryCache().notify({query:this.#x,type:"observerResultsUpdated"})}))}};function Or(e,t){return function(e,t){return!1!==G(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Nr(e,t,t.refetchOnMount)}function Nr(e,t,n){if(!1!==G(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&Mr(e,t)}return!1}function Dr(e,t,n,r){return(e!==t||!1===G(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&Mr(e,n)}function Mr(e,t){return!1!==G(t.enabled,e)&&e.isStaleByTime($(t.staleTime,e))}function Lr(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Hr=a.createContext(Lr()),jr=a.createContext(!1),Kr=(jr.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Vr(e,t,n){const r=(e=>{const t=a.useContext(_e);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t})(n),i=a.useContext(jr),o=a.useContext(Hr),s=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(s),s._optimisticResults=i?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(s),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(s,o),(e=>{a.useEffect((()=>{e.clearReset()}),[e])})(o);const A=!r.getQueryCache().get(s.queryHash),[c]=a.useState((()=>new t(r,s))),l=c.getOptimisticResult(s),u=!i&&!1!==e.subscribed;if(a.useSyncExternalStore(a.useCallback((e=>{const t=u?c.subscribe(le.batchCalls(e)):K;return c.updateResult(),t}),[c,u]),(()=>c.getCurrentResult()),(()=>c.getCurrentResult())),a.useEffect((()=>{c.setOptions(s)}),[s,c]),((e,t)=>e?.suspense&&t.isPending)(s,l))throw Kr(s,c,o);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:i,suspense:o}=e;return t.isError&&!n.isReset()&&!t.isFetching&&i&&(o&&void 0===t.data||function(e,t){return"function"===typeof e?e(...t):!!e}(r,[t.error,i]))})({result:l,errorResetBoundary:o,throwOnError:s.throwOnError,query:r.getQueryCache().get(s.queryHash),suspense:s.suspense}))throw l.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(s,l),s.experimental_prefetchInRender&&!j&&((e,t)=>e.isLoading&&e.isFetching&&!t)(l,i)){const e=A?Kr(s,c,o):r.getQueryCache().get(s.queryHash)?.promise;e?.catch(K).finally((()=>{c.updateResult()}))}return s.notifyOnChangeProps?l:c.trackResult(l)}function qr(e,t){return Vr(e,Pr,t)}const $r=()=>{const{data:e,isLoading:t,error:n}=qr({queryKey:"transcript",queryFn:()=>(async(e,t)=>{const n=await fetch(`${Qr}api/transcript/${e}?userID=${t}`);if(!n.ok)throw new Error("Failed to fetch transcript");return n.json()})("test_test1_transcription","test")});let r="";return!t&&e&&(r=e.data.full_conversation.split("\n").map((e=>{const t=e.split(":")[0],n=e.split(":")[1];return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsxs)("strong",{children:[t,":"]}),n,(0,Fe.jsx)("br",{})]})}))),n?(0,Fe.jsx)("div",{children:"Error while fetching the Transcripts....!!"}):(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Fe.jsx)("h3",{className:"font-medium",children:"Call Transcript"}),(0,Fe.jsxs)("div",{className:"flex space-x-2",children:[(0,Fe.jsxs)(Fr,{variant:"outline",size:"sm",children:[(0,Fe.jsx)(_r,{className:"w-4 h-4 mr-1"})," Download"]}),(0,Fe.jsxs)(Fr,{variant:"outline",size:"sm",children:[(0,Fe.jsx)(Rr,{className:"w-4 h-4 mr-1"})," Copy"]})]})]}),(0,Fe.jsx)("div",{className:"border rounded p-6 overflow-y-scroll text-neutral-700 max-h-[320px] whitespace-pre-wrap",children:r})]})},Gr=wn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),zr=e=>{let{propFormatRecordingTime:t,propRecordingTime:n}=e;const r={},i={},o=n||0,s=t||(e=>`${Math.floor(e/60).toString().padStart(2,"0")}:${(e%60).toString().padStart(2,"0")}`),{data:A,isLoading:c,error:l}=qr({queryKey:"summary",queryFn:()=>(async(e,t)=>{const n=await fetch(`${Qr}api/summary/${e}?userID=${t}`);if(!n.ok)throw new Error("Failed to fetch summary");return n.json()})("test_test1_summary","test")}),[u,d]=(0,a.useState)("");return(0,a.useEffect)((()=>{!c&&A&&d(A.data.full_summary_text)}),[A,c]),l?(0,Fe.jsx)("div",{children:"Unable to fetch Summary....!!"}):(0,Fe.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded p-6",children:[(0,Fe.jsxs)("h3",{className:"font-medium text-blue-800 mb-2 flex items-center",children:[(0,Fe.jsx)(Gr,{className:"w-5 h-5 mr-2"})," Call Summary"]}),(0,Fe.jsxs)("div",{className:"text-sm text-neutral-700",children:[(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("span",{className:"font-bold",children:"Patient:"})," ",null===r||void 0===r?void 0:r.firstName," ",null===r||void 0===r?void 0:r.lastName]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("span",{className:"font-bold",children:"Date & Time:"})," ",(new Date).toLocaleString()]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("span",{className:"font-bold",children:"Duration:"})," ",s(o)]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsx)("span",{className:"font-bold",children:"Reason for Visit:"})," ",null===i||void 0===i?void 0:i.reason]}),(0,Fe.jsxs)("p",{className:"mb-2",children:[(0,Fe.jsxs)("span",{className:"font-bold",children:["Summary from AI:",(0,Fe.jsx)("br",{})]})," ",u]})]})]})};var Wr=A[" useId ".trim().toString()]||(()=>{}),Jr=0;function Yr(e){const[t,n]=a.useState(Wr());return Ct((()=>{e||n((e=>e??String(Jr++)))}),[e]),e||(t?`radix-${t}`:"")}var Xr="Collapsible",[Zr,ei]=Ye(Xr),[ti,ni]=Zr(Xr),ri=a.forwardRef(((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:o,onOpenChange:s,...A}=e,[c,l]=xt({prop:r,defaultProp:i??!1,onChange:s,caller:Xr});return(0,Fe.jsx)(ti,{scope:n,disabled:o,contentId:Yr(),open:c,onOpenToggle:a.useCallback((()=>l((e=>!e))),[l]),children:(0,Fe.jsx)(At.div,{"data-state":ci(c),"data-disabled":o?"":void 0,...A,ref:t})})}));ri.displayName=Xr;var ii="CollapsibleTrigger",oi=a.forwardRef(((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=ni(ii,n);return(0,Fe.jsx)(At.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":ci(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Ge(e.onClick,i.onOpenToggle)})}));oi.displayName=ii;var si="CollapsibleContent",ai=a.forwardRef(((e,t)=>{const{forceMount:n,...r}=e,i=ni(si,e.__scopeCollapsible);return(0,Fe.jsx)(St,{present:n||i.open,children:e=>{let{present:n}=e;return(0,Fe.jsx)(Ai,{...r,ref:t,present:n})}})}));ai.displayName=si;var Ai=a.forwardRef(((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...o}=e,s=ni(si,n),[A,c]=a.useState(r),l=a.useRef(null),u=Je(t,l),d=a.useRef(0),h=d.current,f=a.useRef(0),p=f.current,g=s.open||A,m=a.useRef(g),v=a.useRef(void 0);return a.useEffect((()=>{const e=requestAnimationFrame((()=>m.current=!1));return()=>cancelAnimationFrame(e)}),[]),Ct((()=>{const e=l.current;if(e){v.current=v.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();d.current=t.height,f.current=t.width,m.current||(e.style.transitionDuration=v.current.transitionDuration,e.style.animationName=v.current.animationName),c(r)}}),[s.open,r]),(0,Fe.jsx)(At.div,{"data-state":ci(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!g,...o,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":p?`${p}px`:void 0,...e.style},children:g&&i})}));function ci(e){return e?"open":"closed"}var li=ri,ui=oi,di=ai,hi=a.createContext(void 0);function fi(e){const t=a.useContext(hi);return e||t||"ltr"}var pi="Accordion",gi=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[mi,vi,yi]=it(pi),[wi,bi]=Ye(pi,[yi,ei]),Ci=ei(),Bi=a.forwardRef(((e,t)=>{const{type:n,...r}=e,i=r,o=r;return(0,Fe.jsx)(mi.Provider,{scope:e.__scopeAccordion,children:"multiple"===n?(0,Fe.jsx)(Ii,{...o,ref:t}):(0,Fe.jsx)(Ti,{...i,ref:t})})}));Bi.displayName=pi;var[Si,Ei]=wi(pi),[ki,xi]=wi(pi,{collapsible:!1}),Ti=a.forwardRef(((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},collapsible:o=!1,...s}=e,[A,c]=xt({prop:n,defaultProp:r??"",onChange:i,caller:pi});return(0,Fe.jsx)(Si,{scope:e.__scopeAccordion,value:a.useMemo((()=>A?[A]:[]),[A]),onItemOpen:c,onItemClose:a.useCallback((()=>o&&c("")),[o,c]),children:(0,Fe.jsx)(ki,{scope:e.__scopeAccordion,collapsible:o,children:(0,Fe.jsx)(_i,{...s,ref:t})})})})),Ii=a.forwardRef(((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...o}=e,[s,A]=xt({prop:n,defaultProp:r??[],onChange:i,caller:pi}),c=a.useCallback((e=>A((function(){return[...arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e]}))),[A]),l=a.useCallback((e=>A((function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((t=>t!==e))}))),[A]);return(0,Fe.jsx)(Si,{scope:e.__scopeAccordion,value:s,onItemOpen:c,onItemClose:l,children:(0,Fe.jsx)(ki,{scope:e.__scopeAccordion,collapsible:!0,children:(0,Fe.jsx)(_i,{...o,ref:t})})})})),[Ui,Fi]=wi(pi),_i=a.forwardRef(((e,t)=>{const{__scopeAccordion:n,disabled:r,dir:i,orientation:o="vertical",...s}=e,A=Je(a.useRef(null),t),c=vi(n),l="ltr"===fi(i),u=Ge(e.onKeyDown,(e=>{if(!gi.includes(e.key))return;const t=e.target,n=c().filter((e=>!e.ref.current?.disabled)),r=n.findIndex((e=>e.ref.current===t)),i=n.length;if(-1===r)return;e.preventDefault();let s=r;const a=i-1,A=()=>{s=r+1,s>a&&(s=0)},u=()=>{s=r-1,s<0&&(s=a)};switch(e.key){case"Home":s=0;break;case"End":s=a;break;case"ArrowRight":"horizontal"===o&&(l?A():u());break;case"ArrowDown":"vertical"===o&&A();break;case"ArrowLeft":"horizontal"===o&&(l?u():A());break;case"ArrowUp":"vertical"===o&&u()}const d=s%i;n[d].ref.current?.focus()}));return(0,Fe.jsx)(Ui,{scope:n,disabled:r,direction:i,orientation:o,children:(0,Fe.jsx)(mi.Slot,{scope:n,children:(0,Fe.jsx)(At.div,{...s,"data-orientation":o,ref:A,onKeyDown:r?void 0:u})})})})),Ri="AccordionItem",[Qi,Pi]=wi(Ri),Oi=a.forwardRef(((e,t)=>{const{__scopeAccordion:n,value:r,...i}=e,o=Fi(Ri,n),s=Ei(Ri,n),a=Ci(n),A=Yr(),c=r&&s.value.includes(r)||!1,l=o.disabled||e.disabled;return(0,Fe.jsx)(Qi,{scope:n,open:c,disabled:l,triggerId:A,children:(0,Fe.jsx)(li,{"data-orientation":o.orientation,"data-state":Ki(c),...a,...i,ref:t,disabled:l,open:c,onOpenChange:e=>{e?s.onItemOpen(r):s.onItemClose(r)}})})}));Oi.displayName=Ri;var Ni="AccordionHeader",Di=a.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Fi(pi,n),o=Pi(Ni,n);return(0,Fe.jsx)(At.h3,{"data-orientation":i.orientation,"data-state":Ki(o.open),"data-disabled":o.disabled?"":void 0,...r,ref:t})}));Di.displayName=Ni;var Mi="AccordionTrigger",Li=a.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Fi(pi,n),o=Pi(Mi,n),s=xi(Mi,n),a=Ci(n);return(0,Fe.jsx)(mi.ItemSlot,{scope:n,children:(0,Fe.jsx)(ui,{"aria-disabled":o.open&&!s.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...a,...r,ref:t})})}));Li.displayName=Mi;var Hi="AccordionContent",ji=a.forwardRef(((e,t)=>{const{__scopeAccordion:n,...r}=e,i=Fi(pi,n),o=Pi(Hi,n),s=Ci(n);return(0,Fe.jsx)(di,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...s,...r,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})}));function Ki(e){return e?"open":"closed"}ji.displayName=Hi;var Vi=Bi,qi=Oi,$i=Di,Gi=Li,zi=ji;const Wi=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ji=Vi,Yi=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(qi,{ref:t,className:vr("border-b",n),...r})}));Yi.displayName="AccordionItem";const Xi=a.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,Fe.jsx)($i,{className:"flex",children:(0,Fe.jsxs)(Gi,{ref:t,className:vr("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",n),...i,children:[r,(0,Fe.jsx)(Wi,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})}));Xi.displayName=Gi.displayName;const Zi=a.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,Fe.jsx)(zi,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,Fe.jsx)("div",{className:vr("pb-4 pt-0",n),children:r})})}));Zi.displayName=zi.displayName;const eo=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("textarea",{className:vr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})}));eo.displayName="Textarea";const to=()=>{const[e,t]=(0,a.useState)({Subjective:"",Objective:"",Assessment:"",Plan:""}),{data:n,isLoading:r,error:i}=qr({queryKey:"soap-notes",queryFn:()=>(async(e,t)=>{const n=await fetch(`${Qr}api/soap/${e}?userID=${t}`);if(!n.ok)throw new Error("Failed to fetch Soap notes");return n.json()})("test_test1_soap","test")});return(0,a.useEffect)((()=>{if(n&&!r){var e,i,o,s;const r=n.data.soap_notes.split("\n\n");t({Subjective:(null===(e=r[0])||void 0===e?void 0:e.replace("Subjective - ",""))||"",Objective:(null===(i=r[1])||void 0===i?void 0:i.replace("Objective - ",""))||"",Assessment:(null===(o=r[2])||void 0===o?void 0:o.replace("Assessment - ",""))||"",Plan:(null===(s=r[3])||void 0===s?void 0:s.replace("Plan - ",""))||""})}}),[n,r]),i?(0,Fe.jsx)("div",{children:"Unable to fetch the SOAP.........!!"}):(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-lg mb-4",children:"SOAP Notes"}),(0,Fe.jsx)(Ji,{type:"single",collapsible:!0,className:"mb-6",children:["Subjective","Objective","Assessment","Plan"].map((n=>(0,Fe.jsxs)(Yi,{value:n,children:[(0,Fe.jsx)(Xi,{className:"text-blue-700 font-semibold text-lg",children:n}),(0,Fe.jsx)(Zi,{children:(0,Fe.jsx)(eo,{className:"w-full mt-2",placeholder:`Enter ${n.toLowerCase()}...`,value:e[n],onChange:r=>t({...e,[n]:r.target.value}),rows:4})})]},n)))}),(0,Fe.jsx)("div",{className:"flex justify-end",children:(0,Fe.jsx)(Fr,{className:"bg-blue-600 hover:bg-blue-700",children:"Save SOAP Notes"})})]})};var no=a.forwardRef(((e,t)=>(0,Fe.jsx)(At.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));no.displayName="Label";var ro=no;const io=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)(ro,{ref:t,className:vr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...r})}));function oo(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}io.displayName=ro.displayName;var so=0;function ao(){a.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ao()),document.body.insertAdjacentElement("beforeend",e[1]??Ao()),so++,()=>{1===so&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),so--}}),[])}function Ao(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var co="focusScope.autoFocusOnMount",lo="focusScope.autoFocusOnUnmount",uo={bubbles:!1,cancelable:!0},ho=a.forwardRef(((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=e,[A,c]=a.useState(null),l=lt(i),u=lt(o),d=a.useRef(null),h=Je(t,(e=>c(e))),f=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect((()=>{if(r){let e=function(e){if(f.paused||!A)return;const t=e.target;A.contains(t)?d.current=t:mo(d.current,{select:!0})},t=function(e){if(f.paused||!A)return;const t=e.relatedTarget;null!==t&&(A.contains(t)||mo(d.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&mo(A)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return A&&r.observe(A,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[r,A,f.paused]),a.useEffect((()=>{if(A){vo.add(f);const t=document.activeElement;if(!A.contains(t)){const n=new CustomEvent(co,uo);A.addEventListener(co,l),A.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(mo(r,{select:t}),document.activeElement!==n)return}((e=fo(A),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&mo(A))}return()=>{A.removeEventListener(co,l),setTimeout((()=>{const e=new CustomEvent(lo,uo);A.addEventListener(lo,u),A.dispatchEvent(e),e.defaultPrevented||mo(t??document.body,{select:!0}),A.removeEventListener(lo,u),vo.remove(f)}),0)}}var e}),[A,l,u,f]);const p=a.useCallback((e=>{if(!n&&!r)return;if(f.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,i=document.activeElement;if(t&&i){const t=e.currentTarget,[r,o]=function(e){const t=fo(e),n=po(t,e),r=po(t.reverse(),e);return[n,r]}(t);r&&o?e.shiftKey||i!==o?e.shiftKey&&i===r&&(e.preventDefault(),n&&mo(o,{select:!0})):(e.preventDefault(),n&&mo(r,{select:!0})):i===t&&e.preventDefault()}}),[n,r,f.paused]);return(0,Fe.jsx)(At.div,{tabIndex:-1,...s,ref:h,onKeyDown:p})}));function fo(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function po(e,t){for(const n of e)if(!go(n,{upTo:t}))return n}function go(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function mo(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}ho.displayName="FocusScope";var vo=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=yo(e,t),e.unshift(t)},remove(t){e=yo(e,t),e[0]?.resume()}}}();function yo(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}const wo=["top","right","bottom","left"],bo=Math.min,Co=Math.max,Bo=Math.round,So=Math.floor,Eo=e=>({x:e,y:e}),ko={left:"right",right:"left",bottom:"top",top:"bottom"},xo={start:"end",end:"start"};function To(e,t,n){return Co(e,bo(t,n))}function Io(e,t){return"function"===typeof e?e(t):e}function Uo(e){return e.split("-")[0]}function Fo(e){return e.split("-")[1]}function _o(e){return"x"===e?"y":"x"}function Ro(e){return"y"===e?"height":"width"}function Qo(e){return["top","bottom"].includes(Uo(e))?"y":"x"}function Po(e){return _o(Qo(e))}function Oo(e){return e.replace(/start|end/g,(e=>xo[e]))}function No(e){return e.replace(/left|right|bottom|top/g,(e=>ko[e]))}function Do(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function Mo(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function Lo(e,t,n){let{reference:r,floating:i}=e;const o=Qo(t),s=Po(t),a=Ro(s),A=Uo(t),c="y"===o,l=r.x+r.width/2-i.width/2,u=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(A){case"top":h={x:l,y:r.y-i.height};break;case"bottom":h={x:l,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:u};break;case"left":h={x:r.x-i.width,y:u};break;default:h={x:r.x,y:r.y}}switch(Fo(t)){case"start":h[s]-=d*(n&&c?-1:1);break;case"end":h[s]+=d*(n&&c?-1:1)}return h}async function Ho(e,t){var n;void 0===t&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:A}=e,{boundary:c="clippingAncestors",rootBoundary:l="viewport",elementContext:u="floating",altBoundary:d=!1,padding:h=0}=Io(t,e),f=Do(h),p=a[d?"floating"===u?"reference":"floating":u],g=Mo(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(p)))||n?p:p.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:l,strategy:A})),m="floating"===u?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),y=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},w=Mo(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:m,offsetParent:v,strategy:A}):m);return{top:(g.top-w.top+f.top)/y.y,bottom:(w.bottom-g.bottom+f.bottom)/y.y,left:(g.left-w.left+f.left)/y.x,right:(w.right-g.right+f.right)/y.x}}function jo(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Ko(e){return wo.some((t=>e[t]>=0))}function Vo(){return"undefined"!==typeof window}function qo(e){return zo(e)?(e.nodeName||"").toLowerCase():"#document"}function $o(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Go(e){var t;return null==(t=(zo(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function zo(e){return!!Vo()&&(e instanceof Node||e instanceof $o(e).Node)}function Wo(e){return!!Vo()&&(e instanceof Element||e instanceof $o(e).Element)}function Jo(e){return!!Vo()&&(e instanceof HTMLElement||e instanceof $o(e).HTMLElement)}function Yo(e){return!(!Vo()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof $o(e).ShadowRoot)}function Xo(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=is(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Zo(e){return["table","td","th"].includes(qo(e))}function es(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function ts(e){const t=ns(),n=Wo(e)?is(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function ns(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function rs(e){return["html","body","#document"].includes(qo(e))}function is(e){return $o(e).getComputedStyle(e)}function os(e){return Wo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ss(e){if("html"===qo(e))return e;const t=e.assignedSlot||e.parentNode||Yo(e)&&e.host||Go(e);return Yo(t)?t.host:t}function as(e){const t=ss(e);return rs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jo(t)&&Xo(t)?t:as(t)}function As(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const i=as(e),o=i===(null==(r=e.ownerDocument)?void 0:r.body),s=$o(i);if(o){const e=cs(s);return t.concat(s,s.visualViewport||[],Xo(i)?i:[],e&&n?As(e):[])}return t.concat(i,As(i,[],n))}function cs(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function ls(e){const t=is(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Jo(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Bo(n)!==o||Bo(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function us(e){return Wo(e)?e:e.contextElement}function ds(e){const t=us(e);if(!Jo(t))return Eo(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=ls(t);let s=(o?Bo(n.width):n.width)/r,a=(o?Bo(n.height):n.height)/i;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const hs=Eo(0);function fs(e){const t=$o(e);return ns()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:hs}function ps(e,t,n,r){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),o=us(e);let s=Eo(1);t&&(r?Wo(r)&&(s=ds(r)):s=ds(e));const a=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==$o(e))&&t}(o,n,r)?fs(o):Eo(0);let A=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,l=i.width/s.x,u=i.height/s.y;if(o){const e=$o(o),t=r&&Wo(r)?$o(r):r;let n=e,i=cs(n);for(;i&&r&&t!==n;){const e=ds(i),t=i.getBoundingClientRect(),r=is(i),o=t.left+(i.clientLeft+parseFloat(r.paddingLeft))*e.x,s=t.top+(i.clientTop+parseFloat(r.paddingTop))*e.y;A*=e.x,c*=e.y,l*=e.x,u*=e.y,A+=o,c+=s,n=$o(i),i=cs(n)}}return Mo({width:l,height:u,x:A,y:c})}function gs(e,t){const n=os(e).scrollLeft;return t?t.left+n:ps(Go(e)).left+n}function ms(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:gs(e,r)),y:r.top+t.scrollTop}}function vs(e,t,n){let r;if("viewport"===t)r=function(e,t){const n=$o(e),r=Go(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,A=0;if(i){o=i.width,s=i.height;const e=ns();(!e||e&&"fixed"===t)&&(a=i.offsetLeft,A=i.offsetTop)}return{width:o,height:s,x:a,y:A}}(e,n);else if("document"===t)r=function(e){const t=Go(e),n=os(e),r=e.ownerDocument.body,i=Co(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Co(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+gs(e);const a=-n.scrollTop;return"rtl"===is(r).direction&&(s+=Co(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}(Go(e));else if(Wo(t))r=function(e,t){const n=ps(e,!0,"fixed"===t),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Jo(e)?ds(e):Eo(1);return{width:e.clientWidth*o.x,height:e.clientHeight*o.y,x:i*o.x,y:r*o.y}}(t,n);else{const n=fs(e);r={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return Mo(r)}function ys(e,t){const n=ss(e);return!(n===t||!Wo(n)||rs(n))&&("fixed"===is(n).position||ys(n,t))}function ws(e,t,n){const r=Jo(t),i=Go(t),o="fixed"===n,s=ps(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const A=Eo(0);if(r||!r&&!o)if(("body"!==qo(t)||Xo(i))&&(a=os(t)),r){const e=ps(t,!0,o,t);A.x=e.x+t.clientLeft,A.y=e.y+t.clientTop}else i&&(A.x=gs(i));const c=!i||r||o?Eo(0):ms(i,a);return{x:s.left+a.scrollLeft-A.x-c.x,y:s.top+a.scrollTop-A.y-c.y,width:s.width,height:s.height}}function bs(e){return"static"===is(e).position}function Cs(e,t){if(!Jo(e)||"fixed"===is(e).position)return null;if(t)return t(e);let n=e.offsetParent;return Go(e)===n&&(n=n.ownerDocument.body),n}function Bs(e,t){const n=$o(e);if(es(e))return n;if(!Jo(e)){let t=ss(e);for(;t&&!rs(t);){if(Wo(t)&&!bs(t))return t;t=ss(t)}return n}let r=Cs(e,t);for(;r&&Zo(r)&&bs(r);)r=Cs(r,t);return r&&rs(r)&&bs(r)&&!ts(r)?n:r||function(e){let t=ss(e);for(;Jo(t)&&!rs(t);){if(ts(t))return t;if(es(t))return null;t=ss(t)}return null}(e)||n}const Ss={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o="fixed"===i,s=Go(r),a=!!t&&es(t.floating);if(r===s||a&&o)return n;let A={scrollLeft:0,scrollTop:0},c=Eo(1);const l=Eo(0),u=Jo(r);if((u||!u&&!o)&&(("body"!==qo(r)||Xo(s))&&(A=os(r)),Jo(r))){const e=ps(r);c=ds(r),l.x=e.x+r.clientLeft,l.y=e.y+r.clientTop}const d=!s||u||o?Eo(0):ms(s,A,!0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-A.scrollLeft*c.x+l.x+d.x,y:n.y*c.y-A.scrollTop*c.y+l.y+d.y}},getDocumentElement:Go,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const o=[..."clippingAncestors"===n?es(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=As(e,[],!1).filter((e=>Wo(e)&&"body"!==qo(e))),i=null;const o="fixed"===is(e).position;let s=o?ss(e):e;for(;Wo(s)&&!rs(s);){const t=is(s),n=ts(s);n||"fixed"!==t.position||(i=null),(o?!n&&!i:!n&&"static"===t.position&&i&&["absolute","fixed"].includes(i.position)||Xo(s)&&!n&&ys(e,s))?r=r.filter((e=>e!==s)):i=t,s=ss(s)}return t.set(e,r),r}(t,this._c):[].concat(n),r],s=o[0],a=o.reduce(((e,n)=>{const r=vs(t,n,i);return e.top=Co(r.top,e.top),e.right=bo(r.right,e.right),e.bottom=bo(r.bottom,e.bottom),e.left=Co(r.left,e.left),e}),vs(t,s,i));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:Bs,getElementRects:async function(e){const t=this.getOffsetParent||Bs,n=this.getDimensions,r=await n(e.floating);return{reference:ws(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=ls(e);return{width:t,height:n}},getScale:ds,isElement:Wo,isRTL:function(e){return"rtl"===is(e).direction}};function Es(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function ks(e,t,n,r){void 0===r&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s="function"===typeof ResizeObserver,layoutShift:a="function"===typeof IntersectionObserver,animationFrame:A=!1}=r,c=us(e),l=i||o?[...c?As(c):[],...As(t)]:[];l.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),o&&e.addEventListener("resize",n)}));const u=c&&a?function(e,t){let n,r=null;const i=Go(e);function o(){var e;clearTimeout(n),null==(e=r)||e.disconnect(),r=null}return function s(a,A){void 0===a&&(a=!1),void 0===A&&(A=1),o();const c=e.getBoundingClientRect(),{left:l,top:u,width:d,height:h}=c;if(a||t(),!d||!h)return;const f={rootMargin:-So(u)+"px "+-So(i.clientWidth-(l+d))+"px "+-So(i.clientHeight-(u+h))+"px "+-So(l)+"px",threshold:Co(0,bo(1,A))||1};let p=!0;function g(t){const r=t[0].intersectionRatio;if(r!==A){if(!p)return s();r?s(!1,r):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}1!==r||Es(c,e.getBoundingClientRect())||s(),p=!1}try{r=new IntersectionObserver(g,{...f,root:i.ownerDocument})}catch(m){r=new IntersectionObserver(g,f)}r.observe(e)}(!0),o}(c,n):null;let d,h=-1,f=null;s&&(f=new ResizeObserver((e=>{let[r]=e;r&&r.target===c&&f&&(f.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{var e;null==(e=f)||e.observe(t)}))),n()})),c&&!A&&f.observe(c),f.observe(t));let p=A?ps(e):null;return A&&function t(){const r=ps(e);p&&!Es(p,r)&&n();p=r,d=requestAnimationFrame(t)}(),n(),()=>{var e;l.forEach((e=>{i&&e.removeEventListener("scroll",n),o&&e.removeEventListener("resize",n)})),null==u||u(),null==(e=f)||e.disconnect(),f=null,A&&cancelAnimationFrame(d)}}const xs=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,A=await async function(e,t){const{placement:n,platform:r,elements:i}=e,o=await(null==r.isRTL?void 0:r.isRTL(i.floating)),s=Uo(n),a=Fo(n),A="y"===Qo(n),c=["left","top"].includes(s)?-1:1,l=o&&A?-1:1,u=Io(t,e);let{mainAxis:d,crossAxis:h,alignmentAxis:f}="number"===typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"===typeof f&&(h="end"===a?-1*f:f),A?{x:h*l,y:d*c}:{x:d*c,y:h*l}}(t,e);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:i+A.x,y:o+A.y,data:{...A,placement:s}}}}},Ts=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...A}=Io(e,t),c={x:n,y:r},l=await Ho(t,A),u=Qo(Uo(i)),d=_o(u);let h=c[d],f=c[u];if(o){const e="y"===d?"bottom":"right";h=To(h+l["y"===d?"top":"left"],h,h-l[e])}if(s){const e="y"===u?"bottom":"right";f=To(f+l["y"===u?"top":"left"],f,f-l[e])}const p=a.fn({...t,[d]:h,[u]:f});return{...p,data:{x:p.x-n,y:p.y-r,enabled:{[d]:o,[u]:s}}}}}},Is=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:A,elements:c}=t,{mainAxis:l=!0,crossAxis:u=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:p=!0,...g}=Io(e,t);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const m=Uo(i),v=Qo(a),y=Uo(a)===a,w=await(null==A.isRTL?void 0:A.isRTL(c.floating)),b=d||(y||!p?[No(a)]:function(e){const t=No(e);return[Oo(e),t,Oo(t)]}(a)),C="none"!==f;!d&&C&&b.push(...function(e,t,n,r){const i=Fo(e);let o=function(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}(Uo(e),"start"===n,r);return i&&(o=o.map((e=>e+"-"+i)),t&&(o=o.concat(o.map(Oo)))),o}(a,p,f,w));const B=[a,...b],S=await Ho(t,g),E=[];let k=(null==(r=o.flip)?void 0:r.overflows)||[];if(l&&E.push(S[m]),u){const e=function(e,t,n){void 0===n&&(n=!1);const r=Fo(e),i=Po(e),o=Ro(i);let s="x"===i?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=No(s)),[s,No(s)]}(i,s,w);E.push(S[e[0]],S[e[1]])}if(k=[...k,{placement:i,overflows:E}],!E.every((e=>e<=0))){var x,T;const e=((null==(x=o.flip)?void 0:x.index)||0)+1,t=B[e];if(t)return{data:{index:e,overflows:k},reset:{placement:t}};let n=null==(T=k.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:T.placement;if(!n)switch(h){case"bestFit":{var I;const e=null==(I=k.filter((e=>{if(C){const t=Qo(e.placement);return t===v||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:I[0];e&&(n=e);break}case"initialPlacement":n=a}if(i!==n)return{reset:{placement:n}}}return{}}}},Us=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:A=()=>{},...c}=Io(e,t),l=await Ho(t,c),u=Uo(i),d=Fo(i),h="y"===Qo(i),{width:f,height:p}=o.floating;let g,m;"top"===u||"bottom"===u?(g=u,m=d===(await(null==s.isRTL?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(m=u,g="end"===d?"top":"bottom");const v=p-l.top-l.bottom,y=f-l.left-l.right,w=bo(p-l[g],v),b=bo(f-l[m],y),C=!t.middlewareData.shift;let B=w,S=b;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(S=y),null!=(r=t.middlewareData.shift)&&r.enabled.y&&(B=v),C&&!d){const e=Co(l.left,0),t=Co(l.right,0),n=Co(l.top,0),r=Co(l.bottom,0);h?S=f-2*(0!==e||0!==t?e+t:Co(l.left,l.right)):B=p-2*(0!==n||0!==r?n+r:Co(l.top,l.bottom))}await A({...t,availableWidth:S,availableHeight:B});const E=await s.getDimensions(a.floating);return f!==E.width||p!==E.height?{reset:{rects:!0}}:{}}}},Fs=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Io(e,t);switch(r){case"referenceHidden":{const e=jo(await Ho(t,{...i,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:Ko(e)}}}case"escaped":{const e=jo(await Ho(t,{...i,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:Ko(e)}}}default:return{}}}}},_s=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:o,platform:s,elements:a,middlewareData:A}=t,{element:c,padding:l=0}=Io(e,t)||{};if(null==c)return{};const u=Do(l),d={x:n,y:r},h=Po(i),f=Ro(h),p=await s.getDimensions(c),g="y"===h,m=g?"top":"left",v=g?"bottom":"right",y=g?"clientHeight":"clientWidth",w=o.reference[f]+o.reference[h]-d[h]-o.floating[f],b=d[h]-o.reference[h],C=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c));let B=C?C[y]:0;B&&await(null==s.isElement?void 0:s.isElement(C))||(B=a.floating[y]||o.floating[f]);const S=w/2-b/2,E=B/2-p[f]/2-1,k=bo(u[m],E),x=bo(u[v],E),T=k,I=B-p[f]-x,U=B/2-p[f]/2+S,F=To(T,U,I),_=!A.arrow&&null!=Fo(i)&&U!==F&&o.reference[f]/2-(U<T?k:x)-p[f]/2<0,R=_?U<T?U-T:U-I:0;return{[h]:d[h]+R,data:{[h]:F,centerOffset:U-F-R,..._&&{alignmentOffset:R}},reset:_}}}),Rs=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:o,middlewareData:s}=t,{offset:a=0,mainAxis:A=!0,crossAxis:c=!0}=Io(e,t),l={x:n,y:r},u=Qo(i),d=_o(u);let h=l[d],f=l[u];const p=Io(a,t),g="number"===typeof p?{mainAxis:p,crossAxis:0}:{mainAxis:0,crossAxis:0,...p};if(A){const e="y"===d?"height":"width",t=o.reference[d]-o.floating[e]+g.mainAxis,n=o.reference[d]+o.reference[e]-g.mainAxis;h<t?h=t:h>n&&(h=n)}if(c){var m,v;const e="y"===d?"width":"height",t=["top","left"].includes(Uo(i)),n=o.reference[u]-o.floating[e]+(t&&(null==(m=s.offset)?void 0:m[u])||0)+(t?0:g.crossAxis),r=o.reference[u]+o.reference[e]+(t?0:(null==(v=s.offset)?void 0:v[u])||0)-(t?g.crossAxis:0);f<n?f=n:f>r&&(f=r)}return{[d]:h,[u]:f}}}},Qs=(e,t,n)=>{const r=new Map,i={platform:Ss,...n},o={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),A=await(null==s.isRTL?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:l,y:u}=Lo(c,r,A),d=r,h={},f=0;for(let p=0;p<a.length;p++){const{name:n,fn:o}=a[p],{x:g,y:m,data:v,reset:y}=await o({x:l,y:u,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:s,elements:{reference:e,floating:t}});l=null!=g?g:l,u=null!=m?m:u,h={...h,[n]:{...h[n],...v}},y&&f<=50&&(f++,"object"===typeof y&&(y.placement&&(d=y.placement),y.rects&&(c=!0===y.rects?await s.getElementRects({reference:e,floating:t,strategy:i}):y.rects),({x:l,y:u}=Lo(c,d,A))),p=-1)}return{x:l,y:u,placement:d,strategy:i,middlewareData:h}})(e,t,{...i,platform:o})};var Ps="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function Os(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!Os(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;0!==r--;){const n=i[r];if(("_owner"!==n||!e.$$typeof)&&!Os(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function Ns(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ds(e,t){const n=Ns(e);return Math.round(t*n)/n}function Ms(e){const t=a.useRef(e);return Ps((()=>{t.current=e})),t}function Ls(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:A=!0,whileElementsMounted:c,open:l}=e,[u,d]=a.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,f]=a.useState(r);Os(h,r)||f(r);const[p,g]=a.useState(null),[m,v]=a.useState(null),y=a.useCallback((e=>{e!==B.current&&(B.current=e,g(e))}),[]),w=a.useCallback((e=>{e!==S.current&&(S.current=e,v(e))}),[]),b=o||p,C=s||m,B=a.useRef(null),S=a.useRef(null),E=a.useRef(u),k=null!=c,x=Ms(c),T=Ms(i),I=Ms(l),U=a.useCallback((()=>{if(!B.current||!S.current)return;const e={placement:t,strategy:n,middleware:h};T.current&&(e.platform=T.current),Qs(B.current,S.current,e).then((e=>{const t={...e,isPositioned:!1!==I.current};F.current&&!Os(E.current,t)&&(E.current=t,$e.flushSync((()=>{d(t)})))}))}),[h,t,n,T,I]);Ps((()=>{!1===l&&E.current.isPositioned&&(E.current.isPositioned=!1,d((e=>({...e,isPositioned:!1}))))}),[l]);const F=a.useRef(!1);Ps((()=>(F.current=!0,()=>{F.current=!1})),[]),Ps((()=>{if(b&&(B.current=b),C&&(S.current=C),b&&C){if(x.current)return x.current(b,C,U);U()}}),[b,C,U,x,k]);const _=a.useMemo((()=>({reference:B,floating:S,setReference:y,setFloating:w})),[y,w]),R=a.useMemo((()=>({reference:b,floating:C})),[b,C]),Q=a.useMemo((()=>{const e={position:n,left:0,top:0};if(!R.floating)return e;const t=Ds(R.floating,u.x),r=Ds(R.floating,u.y);return A?{...e,transform:"translate("+t+"px, "+r+"px)",...Ns(R.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,A,R.floating,u.x,u.y]);return a.useMemo((()=>({...u,update:U,refs:_,elements:R,floatingStyles:Q})),[u,U,_,R,Q])}const Hs=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:r}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?_s({element:n.current,padding:r}).fn(t):{}:n?_s({element:n,padding:r}).fn(t):{};var i}}),js=(e,t)=>({...xs(e),options:[e,t]}),Ks=(e,t)=>({...Ts(e),options:[e,t]}),Vs=(e,t)=>({...Rs(e),options:[e,t]}),qs=(e,t)=>({...Is(e),options:[e,t]}),$s=(e,t)=>({...Us(e),options:[e,t]}),Gs=(e,t)=>({...Fs(e),options:[e,t]}),zs=(e,t)=>({...Hs(e),options:[e,t]});var Ws=a.forwardRef(((e,t)=>{const{children:n,width:r=10,height:i=5,...o}=e;return(0,Fe.jsx)(At.svg,{...o,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Fe.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));Ws.displayName="Arrow";var Js=Ws;var Ys="Popper",[Xs,Zs]=Ye(Ys),[ea,ta]=Xs(Ys),na=e=>{const{__scopePopper:t,children:n}=e,[r,i]=a.useState(null);return(0,Fe.jsx)(ea,{scope:t,anchor:r,onAnchorChange:i,children:n})};na.displayName=Ys;var ra="PopperAnchor",ia=a.forwardRef(((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,o=ta(ra,n),s=a.useRef(null),A=Je(t,s);return a.useEffect((()=>{o.onAnchorChange(r?.current||s.current)})),r?null:(0,Fe.jsx)(At.div,{...i,ref:A})}));ia.displayName=ra;var oa="PopperContent",[sa,aa]=Xs(oa),Aa=a.forwardRef(((e,t)=>{const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:o="center",alignOffset:s=0,arrowPadding:A=0,avoidCollisions:c=!0,collisionBoundary:l=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:h=!1,updatePositionStrategy:f="optimized",onPlaced:p,...g}=e,m=ta(oa,n),[v,y]=a.useState(null),w=Je(t,(e=>y(e))),[b,C]=a.useState(null),B=function(e){const[t,n]=a.useState(void 0);return Ct((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let i,o;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;i=t.inlineSize,o=t.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}(b),S=B?.width??0,E=B?.height??0,k=r+("center"!==o?"-"+o:""),x="number"===typeof u?u:{top:0,right:0,bottom:0,left:0,...u},T=Array.isArray(l)?l:[l],I=T.length>0,U={padding:x,boundary:T.filter(da),altBoundary:I},{refs:F,floatingStyles:_,placement:R,isPositioned:Q,middlewareData:P}=Ls({strategy:"fixed",placement:k,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return ks(...t,{animationFrame:"always"===f})},elements:{reference:m.anchor},middleware:[js({mainAxis:i+E,alignmentAxis:s}),c&&Ks({mainAxis:!0,crossAxis:!1,limiter:"partial"===d?Vs():void 0,...U}),c&&qs({...U}),$s({...U,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:i}=e;const{width:o,height:s}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${i}px`),a.setProperty("--radix-popper-anchor-width",`${o}px`),a.setProperty("--radix-popper-anchor-height",`${s}px`)}}),b&&zs({element:b,padding:A}),ha({arrowWidth:S,arrowHeight:E}),h&&Gs({strategy:"referenceHidden",...U})]}),[O,N]=fa(R),D=lt(p);Ct((()=>{Q&&D?.()}),[Q,D]);const M=P.arrow?.x,L=P.arrow?.y,H=0!==P.arrow?.centerOffset,[j,K]=a.useState();return Ct((()=>{v&&K(window.getComputedStyle(v).zIndex)}),[v]),(0,Fe.jsx)("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{..._,transform:Q?_.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:j,"--radix-popper-transform-origin":[P.transformOrigin?.x,P.transformOrigin?.y].join(" "),...P.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,Fe.jsx)(sa,{scope:n,placedSide:O,onArrowChange:C,arrowX:M,arrowY:L,shouldHideArrow:H,children:(0,Fe.jsx)(At.div,{"data-side":O,"data-align":N,...g,ref:w,style:{...g.style,animation:Q?void 0:"none"}})})})}));Aa.displayName=oa;var ca="PopperArrow",la={top:"bottom",right:"left",bottom:"top",left:"right"},ua=a.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,i=aa(ca,n),o=la[i.placedSide];return(0,Fe.jsx)("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:(0,Fe.jsx)(Js,{...r,ref:t,style:{...r.style,display:"block"}})})}));function da(e){return null!==e}ua.displayName=ca;var ha=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:i}=t,o=0!==i.arrow?.centerOffset,s=o?0:e.arrowWidth,a=o?0:e.arrowHeight,[A,c]=fa(n),l={start:"0%",center:"50%",end:"100%"}[c],u=(i.arrow?.x??0)+s/2,d=(i.arrow?.y??0)+a/2;let h="",f="";return"bottom"===A?(h=o?l:`${u}px`,f=-a+"px"):"top"===A?(h=o?l:`${u}px`,f=`${r.floating.height+a}px`):"right"===A?(h=-a+"px",f=o?l:`${d}px`):"left"===A&&(h=`${r.floating.width+a}px`,f=o?l:`${d}px`),{data:{x:h,y:f}}}});function fa(e){const[t,n="center"]=e.split("-");return[t,n]}var pa=na,ga=ia,ma=Aa,va=ua;var ya=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},wa=new WeakMap,ba=new WeakMap,Ca={},Ba=0,Sa=function(e){return e&&(e.host||Sa(e.parentNode))},Ea=function(e,t,n,r){var i=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=Sa(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);Ca[n]||(Ca[n]=new WeakMap);var o=Ca[n],s=[],a=new Set,A=new Set(i),c=function(e){e&&!a.has(e)&&(a.add(e),c(e.parentNode))};i.forEach(c);var l=function(e){e&&!A.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))l(e);else try{var t=e.getAttribute(r),i=null!==t&&"false"!==t,A=(wa.get(e)||0)+1,c=(o.get(e)||0)+1;wa.set(e,A),o.set(e,c),s.push(e),1===A&&i&&ba.set(e,!0),1===c&&e.setAttribute(n,"true"),i||e.setAttribute(r,"true")}catch(u){console.error("aria-hidden: cannot operate on ",e,u)}}))};return l(t),a.clear(),Ba++,function(){s.forEach((function(e){var t=wa.get(e)-1,i=o.get(e)-1;wa.set(e,t),o.set(e,i),t||(ba.has(e)||e.removeAttribute(r),ba.delete(e)),i||e.removeAttribute(n)})),--Ba||(wa=new WeakMap,wa=new WeakMap,ba=new WeakMap,Ca={})}},ka=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=t||ya(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Ea(r,i,n,"aria-hidden")):function(){return null}},xa=function(e,t){return xa=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},xa(e,t)};function Ta(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}xa(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Ia=function(){return Ia=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ia.apply(this,arguments)};function Ua(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function Fa(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{A(r.next(e))}catch(t){o(t)}}function a(e){try{A(r.throw(e))}catch(t){o(t)}}function A(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}A((r=r.apply(e,t||[])).next())}))}function _a(e,t){var n,r,i,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(A){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(A){a=[6,A],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,A])}}}Object.create;function Ra(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Qa(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function Pa(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function Oa(e){return this instanceof Oa?(this.v=e,this):new Oa(e)}function Na(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,c)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{!function(e){e.value instanceof Oa?Promise.resolve(e.value.v).then(A,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function A(e){a("next",e)}function c(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Da(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Ra(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ma="right-scroll-bar-position",La="width-before-scroll-bar";function Ha(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var ja="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,Ka=new WeakMap;function Va(e,t){var n=function(e,t){var n=(0,a.useState)((function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(e){var t=n.value;t!==e&&(n.value=e,n.callback(e,t))}}}}))[0];return n.callback=t,n.facade}(t||null,(function(t){return e.forEach((function(e){return Ha(e,t)}))}));return ja((function(){var t=Ka.get(n);if(t){var r=new Set(t),i=new Set(e),o=n.current;r.forEach((function(e){i.has(e)||Ha(e,null)})),i.forEach((function(e){r.has(e)||Ha(e,o)}))}Ka.set(n,e)}),[e]),n}function qa(e){return e}function $a(e,t){void 0===t&&(t=qa);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var i=t(e,r);return n.push(i),function(){n=n.filter((function(e){return e!==i}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var i=n;n=[],i.forEach(e),t=n}var o=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(o)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}var Ga=function(e){void 0===e&&(e={});var t=$a(null);return t.options=Ia({async:!0,ssr:!1},e),t}(),za=function(){},Wa=a.forwardRef((function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:za,onWheelCapture:za,onTouchMoveCapture:za}),i=r[0],o=r[1],s=e.forwardProps,A=e.children,c=e.className,l=e.removeScrollBar,u=e.enabled,d=e.shards,h=e.sideCar,f=e.noIsolation,p=e.inert,g=e.allowPinchZoom,m=e.as,v=void 0===m?"div":m,y=e.gapMode,w=Ua(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),b=h,C=Va([n,t]),B=Ia(Ia({},w),i);return a.createElement(a.Fragment,null,u&&a.createElement(b,{sideCar:Ga,removeScrollBar:l,shards:d,noIsolation:f,inert:p,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:y}),s?a.cloneElement(a.Children.only(A),Ia(Ia({},B),{ref:C})):a.createElement(v,Ia({},B,{className:c,ref:C}),A))}));Wa.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Wa.classNames={fullWidth:La,zeroRight:Ma};var Ja,Ya=function(e){var t=e.sideCar,n=Ua(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,Ia({},n))};Ya.isSideCarExport=!0;function Xa(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Ja||n.nc;return t&&e.setAttribute("nonce",t),e}var Za=function(){var e=0,t=null;return{add:function(n){var r;0==e&&(t=Xa())&&(!function(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}(t,n),r=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(r)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},eA=function(){var e=function(){var e=Za();return function(t,n){a.useEffect((function(){return e.add(t),function(){e.remove()}}),[t&&n])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},tA={left:0,top:0,right:0,gap:0},nA=function(e){return parseInt(e||"",10)||0},rA=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return tA;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],i=t["padding"===e?"paddingRight":"marginRight"];return[nA(n),nA(r),nA(i)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},iA=eA(),oA="data-scroll-locked",sA=function(e,t,n,r){var i=e.left,o=e.top,s=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(oA,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(o,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Ma," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(La," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Ma," .").concat(Ma," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(La," .").concat(La," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(oA,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},aA=function(){var e=parseInt(document.body.getAttribute(oA)||"0",10);return isFinite(e)?e:0},AA=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=void 0===r?"margin":r;a.useEffect((function(){return document.body.setAttribute(oA,(aA()+1).toString()),function(){var e=aA()-1;e<=0?document.body.removeAttribute(oA):document.body.setAttribute(oA,e.toString())}}),[]);var o=a.useMemo((function(){return rA(i)}),[i]);return a.createElement(iA,{styles:sA(o,!t,i,n?"":"!important")})},cA=!1;if("undefined"!==typeof window)try{var lA=Object.defineProperty({},"passive",{get:function(){return cA=!0,!0}});window.addEventListener("test",lA,lA),window.removeEventListener("test",lA,lA)}catch(dY){cA=!1}var uA=!!cA&&{passive:!1},dA=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},hA=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),fA(e,r)){var i=pA(e,r);if(i[1]>i[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},fA=function(e,t){return"v"===e?function(e){return dA(e,"overflowY")}(t):function(e){return dA(e,"overflowX")}(t)},pA=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},gA=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},mA=function(e){return[e.deltaX,e.deltaY]},vA=function(e){return e&&"current"in e?e.current:e},yA=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},wA=0,bA=[];function CA(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const BA=(SA=function(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),i=a.useState(wA++)[0],o=a.useState(eA)[0],s=a.useRef(e);a.useEffect((function(){s.current=e}),[e]),a.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=Pa([e.lockRef.current],(e.shards||[]).map(vA),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var A=a.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!s.current.allowPinchZoom;var i,o=gA(e),a=n.current,A="deltaX"in e?e.deltaX:a[0]-o[0],c="deltaY"in e?e.deltaY:a[1]-o[1],l=e.target,u=Math.abs(A)>Math.abs(c)?"h":"v";if("touches"in e&&"h"===u&&"range"===l.type)return!1;var d=hA(u,l);if(!d)return!0;if(d?i=u:(i="v"===u?"h":"v",d=hA(u,l)),!d)return!1;if(!r.current&&"changedTouches"in e&&(A||c)&&(r.current=i),!i)return!0;var h=r.current||i;return function(e,t,n,r,i){var o=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=o*r,a=n.target,A=t.contains(a),c=!1,l=s>0,u=0,d=0;do{var h=pA(e,a),f=h[0],p=h[1]-h[2]-o*f;(f||p)&&fA(e,a)&&(u+=p,d+=f),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!A&&a!==document.body||A&&(t.contains(a)||t===a));return(l&&(i&&Math.abs(u)<1||!i&&s>u)||!l&&(i&&Math.abs(d)<1||!i&&-s>d))&&(c=!0),c}(h,t,e,"h"===h?A:c,!0)}),[]),c=a.useCallback((function(e){var n=e;if(bA.length&&bA[bA.length-1]===o){var r="deltaY"in n?mA(n):gA(n),i=t.current.filter((function(e){return e.name===n.type&&(e.target===n.target||n.target===e.shadowParent)&&(t=e.delta,i=r,t[0]===i[0]&&t[1]===i[1]);var t,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var a=(s.current.shards||[]).map(vA).filter(Boolean).filter((function(e){return e.contains(n.target)}));(a.length>0?A(n,a[0]):!s.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),l=a.useCallback((function(e,n,r,i){var o={name:e,delta:n,target:r,should:i,shadowParent:CA(r)};t.current.push(o),setTimeout((function(){t.current=t.current.filter((function(e){return e!==o}))}),1)}),[]),u=a.useCallback((function(e){n.current=gA(e),r.current=void 0}),[]),d=a.useCallback((function(t){l(t.type,mA(t),t.target,A(t,e.lockRef.current))}),[]),h=a.useCallback((function(t){l(t.type,gA(t),t.target,A(t,e.lockRef.current))}),[]);a.useEffect((function(){return bA.push(o),e.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:h}),document.addEventListener("wheel",c,uA),document.addEventListener("touchmove",c,uA),document.addEventListener("touchstart",u,uA),function(){bA=bA.filter((function(e){return e!==o})),document.removeEventListener("wheel",c,uA),document.removeEventListener("touchmove",c,uA),document.removeEventListener("touchstart",u,uA)}}),[]);var f=e.removeScrollBar,p=e.inert;return a.createElement(a.Fragment,null,p?a.createElement(o,{styles:yA(i)}):null,f?a.createElement(AA,{gapMode:e.gapMode}):null)},Ga.useMedium(SA),Ya);var SA,EA=a.forwardRef((function(e,t){return a.createElement(Wa,Ia({},e,{ref:t,sideCar:BA}))}));EA.classNames=Wa.classNames;const kA=EA;var xA=[" ","Enter","ArrowUp","ArrowDown"],TA=[" ","Enter"],IA="Select",[UA,FA,_A]=it(IA),[RA,QA]=Ye(IA,[_A,Zs]),PA=Zs(),[OA,NA]=RA(IA),[DA,MA]=RA(IA),LA=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:o,value:s,defaultValue:A,onValueChange:c,dir:l,name:u,autoComplete:d,disabled:h,required:f,form:p}=e,g=PA(t),[m,v]=a.useState(null),[y,w]=a.useState(null),[b,C]=a.useState(!1),B=fi(l),[S,E]=xt({prop:r,defaultProp:i??!1,onChange:o,caller:IA}),[k,x]=xt({prop:s,defaultProp:A,onChange:c,caller:IA}),T=a.useRef(null),I=!m||(p||!!m.closest("form")),[U,F]=a.useState(new Set),_=Array.from(U).map((e=>e.props.value)).join(";");return(0,Fe.jsx)(pa,{...g,children:(0,Fe.jsxs)(OA,{required:f,scope:t,trigger:m,onTriggerChange:v,valueNode:y,onValueNodeChange:w,valueNodeHasChildren:b,onValueNodeHasChildrenChange:C,contentId:Yr(),value:k,onValueChange:x,open:S,onOpenChange:E,dir:B,triggerPointerDownPosRef:T,disabled:h,children:[(0,Fe.jsx)(UA.Provider,{scope:t,children:(0,Fe.jsx)(DA,{scope:e.__scopeSelect,onNativeOptionAdd:a.useCallback((e=>{F((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:a.useCallback((e=>{F((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:n})}),I?(0,Fe.jsxs)(Tc,{"aria-hidden":!0,required:f,tabIndex:-1,name:u,autoComplete:d,value:k,onChange:e=>x(e.target.value),disabled:h,form:p,children:[void 0===k?(0,Fe.jsx)("option",{value:""}):null,Array.from(U)]},_):null]})})};LA.displayName=IA;var HA="SelectTrigger",jA=a.forwardRef(((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,o=PA(n),s=NA(HA,n),A=s.disabled||r,c=Je(t,s.onTriggerChange),l=FA(n),u=a.useRef("touch"),[d,h,f]=Uc((e=>{const t=l().filter((e=>!e.disabled)),n=t.find((e=>e.value===s.value)),r=Fc(t,e,n);void 0!==r&&s.onValueChange(r.value)})),p=e=>{A||(s.onOpenChange(!0),f()),e&&(s.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Fe.jsx)(ga,{asChild:!0,...o,children:(0,Fe.jsx)(At.button,{type:"button",role:"combobox","aria-controls":s.contentId,"aria-expanded":s.open,"aria-required":s.required,"aria-autocomplete":"none",dir:s.dir,"data-state":s.open?"open":"closed",disabled:A,"data-disabled":A?"":void 0,"data-placeholder":Ic(s.value)?"":void 0,...i,ref:c,onClick:Ge(i.onClick,(e=>{e.currentTarget.focus(),"mouse"!==u.current&&p(e)})),onPointerDown:Ge(i.onPointerDown,(e=>{u.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(p(e),e.preventDefault())})),onKeyDown:Ge(i.onKeyDown,(e=>{const t=""!==d.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||h(e.key),t&&" "===e.key||xA.includes(e.key)&&(p(),e.preventDefault())}))})})}));jA.displayName=HA;var KA="SelectValue",VA=a.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:o,placeholder:s="",...a}=e,A=NA(KA,n),{onValueNodeHasChildrenChange:c}=A,l=void 0!==o,u=Je(t,A.onValueNodeChange);return Ct((()=>{c(l)}),[c,l]),(0,Fe.jsx)(At.span,{...a,ref:u,style:{pointerEvents:"none"},children:Ic(A.value)?(0,Fe.jsx)(Fe.Fragment,{children:s}):o})}));VA.displayName=KA;var qA=a.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return(0,Fe.jsx)(At.span,{"aria-hidden":!0,...i,ref:t,children:r||"\u25bc"})}));qA.displayName="SelectIcon";var $A=e=>(0,Fe.jsx)(Bt,{asChild:!0,...e});$A.displayName="SelectPortal";var GA="SelectContent",zA=a.forwardRef(((e,t)=>{const n=NA(GA,e.__scopeSelect),[r,i]=a.useState();if(Ct((()=>{i(new DocumentFragment)}),[]),!n.open){const t=r;return t?$e.createPortal((0,Fe.jsx)(JA,{scope:e.__scopeSelect,children:(0,Fe.jsx)(UA.Slot,{scope:e.__scopeSelect,children:(0,Fe.jsx)("div",{children:e.children})})}),t):null}return(0,Fe.jsx)(ZA,{...e,ref:t})}));zA.displayName=GA;var WA=10,[JA,YA]=RA(GA),XA=Ze("SelectContent.RemoveScroll"),ZA=a.forwardRef(((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:s,side:A,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m,...v}=e,y=NA(GA,n),[w,b]=a.useState(null),[C,B]=a.useState(null),S=Je(t,(e=>b(e))),[E,k]=a.useState(null),[x,T]=a.useState(null),I=FA(n),[U,F]=a.useState(!1),_=a.useRef(!1);a.useEffect((()=>{if(w)return ka(w)}),[w]),ao();const R=a.useCallback((e=>{const[t,...n]=I().map((e=>e.ref.current)),[r]=n.slice(-1),i=document.activeElement;for(const o of e){if(o===i)return;if(o?.scrollIntoView({block:"nearest"}),o===t&&C&&(C.scrollTop=0),o===r&&C&&(C.scrollTop=C.scrollHeight),o?.focus(),document.activeElement!==i)return}}),[I,C]),Q=a.useCallback((()=>R([E,w])),[R,E,w]);a.useEffect((()=>{U&&Q()}),[U,Q]);const{onOpenChange:P,triggerPointerDownPosRef:O}=y;a.useEffect((()=>{if(w){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(O.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(O.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():w.contains(n.target)||P(!1),document.removeEventListener("pointermove",t),O.current=null};return null!==O.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[w,P,O]),a.useEffect((()=>{const e=()=>P(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[P]);const[N,D]=Uc((e=>{const t=I().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=Fc(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),M=a.useCallback(((e,t,n)=>{const r=!_.current&&!n;(void 0!==y.value&&y.value===t||r)&&(k(e),r&&(_.current=!0))}),[y.value]),L=a.useCallback((()=>w?.focus()),[w]),H=a.useCallback(((e,t,n)=>{const r=!_.current&&!n;(void 0!==y.value&&y.value===t||r)&&T(e)}),[y.value]),j="popper"===r?tc:ec,K=j===tc?{side:A,sideOffset:c,align:l,alignOffset:u,arrowPadding:d,collisionBoundary:h,collisionPadding:f,sticky:p,hideWhenDetached:g,avoidCollisions:m}:{};return(0,Fe.jsx)(JA,{scope:n,content:w,viewport:C,onViewportChange:B,itemRefCallback:M,selectedItem:E,onItemLeave:L,itemTextRefCallback:H,focusSelectedItem:Q,selectedItemText:x,position:r,isPositioned:U,searchRef:N,children:(0,Fe.jsx)(kA,{as:XA,allowPinchZoom:!0,children:(0,Fe.jsx)(ho,{asChild:!0,trapped:y.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:Ge(i,(e=>{y.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,Fe.jsx)(gt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:s,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:(0,Fe.jsx)(j,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:e=>e.preventDefault(),...v,...K,onPlaced:()=>F(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Ge(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||D(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=I().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>R(t))),e.preventDefault()}}))})})})})})}));ZA.displayName="SelectContentImpl";var ec=a.forwardRef(((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,o=NA(GA,n),s=YA(GA,n),[A,c]=a.useState(null),[l,u]=a.useState(null),d=Je(t,(e=>u(e))),h=FA(n),f=a.useRef(!1),p=a.useRef(!0),{viewport:g,selectedItem:m,selectedItemText:v,focusSelectedItem:y}=s,w=a.useCallback((()=>{if(o.trigger&&o.valueNode&&A&&l&&g&&m&&v){const e=o.trigger.getBoundingClientRect(),t=l.getBoundingClientRect(),n=o.valueNode.getBoundingClientRect(),i=v.getBoundingClientRect();if("rtl"!==o.dir){const r=i.left-t.left,o=n.left-r,s=e.left-o,a=e.width+s,c=Math.max(a,t.width),l=window.innerWidth-WA,u=oo(o,[WA,Math.max(WA,l-c)]);A.style.minWidth=a+"px",A.style.left=u+"px"}else{const r=t.right-i.right,o=window.innerWidth-n.right-r,s=window.innerWidth-e.right-o,a=e.width+s,c=Math.max(a,t.width),l=window.innerWidth-WA,u=oo(o,[WA,Math.max(WA,l-c)]);A.style.minWidth=a+"px",A.style.right=u+"px"}const s=h(),a=window.innerHeight-2*WA,c=g.scrollHeight,u=window.getComputedStyle(l),d=parseInt(u.borderTopWidth,10),p=parseInt(u.paddingTop,10),y=parseInt(u.borderBottomWidth,10),w=d+p+c+parseInt(u.paddingBottom,10)+y,b=Math.min(5*m.offsetHeight,w),C=window.getComputedStyle(g),B=parseInt(C.paddingTop,10),S=parseInt(C.paddingBottom,10),E=e.top+e.height/2-WA,k=a-E,x=m.offsetHeight/2,T=d+p+(m.offsetTop+x),I=w-T;if(T<=E){const e=s.length>0&&m===s[s.length-1].ref.current;A.style.bottom="0px";const t=l.clientHeight-g.offsetTop-g.offsetHeight,n=T+Math.max(k,x+(e?S:0)+t+y);A.style.height=n+"px"}else{const e=s.length>0&&m===s[0].ref.current;A.style.top="0px";const t=Math.max(E,d+g.offsetTop+(e?B:0)+x)+I;A.style.height=t+"px",g.scrollTop=T-E+g.offsetTop}A.style.margin=`${WA}px 0`,A.style.minHeight=b+"px",A.style.maxHeight=a+"px",r?.(),requestAnimationFrame((()=>f.current=!0))}}),[h,o.trigger,o.valueNode,A,l,g,m,v,o.dir,r]);Ct((()=>w()),[w]);const[b,C]=a.useState();Ct((()=>{l&&C(window.getComputedStyle(l).zIndex)}),[l]);const B=a.useCallback((e=>{e&&!0===p.current&&(w(),y?.(),p.current=!1)}),[w,y]);return(0,Fe.jsx)(nc,{scope:n,contentWrapper:A,shouldExpandOnScrollRef:f,onScrollButtonChange:B,children:(0,Fe.jsx)("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:b},children:(0,Fe.jsx)(At.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));ec.displayName="SelectItemAlignedPosition";var tc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=WA,...o}=e,s=PA(n);return(0,Fe.jsx)(ma,{...s,...o,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));tc.displayName="SelectPopperPosition";var[nc,rc]=RA(GA,{}),ic="SelectViewport",oc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,o=YA(ic,n),s=rc(ic,n),A=Je(t,o.onViewportChange),c=a.useRef(0);return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),(0,Fe.jsx)(UA.Slot,{scope:n,children:(0,Fe.jsx)(At.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:A,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ge(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=s;if(r?.current&&n){const e=Math.abs(c.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*WA,i=parseFloat(n.style.minHeight),o=parseFloat(n.style.height),s=Math.max(i,o);if(s<r){const i=s+e,o=Math.min(r,i),a=i-o;n.style.height=o+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}c.current=t.scrollTop}))})})]})}));oc.displayName=ic;var sc="SelectGroup",[ac,Ac]=RA(sc),cc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=Yr();return(0,Fe.jsx)(ac,{scope:n,id:i,children:(0,Fe.jsx)(At.div,{role:"group","aria-labelledby":i,...r,ref:t})})}));cc.displayName=sc;var lc="SelectLabel",uc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=Ac(lc,n);return(0,Fe.jsx)(At.div,{id:i.id,...r,ref:t})}));uc.displayName=lc;var dc="SelectItem",[hc,fc]=RA(dc),pc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:o,...s}=e,A=NA(dc,n),c=YA(dc,n),l=A.value===r,[u,d]=a.useState(o??""),[h,f]=a.useState(!1),p=Je(t,(e=>c.itemRefCallback?.(e,r,i))),g=Yr(),m=a.useRef("touch"),v=()=>{i||(A.onValueChange(r),A.onOpenChange(!1))};if(""===r)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Fe.jsx)(hc,{scope:n,value:r,disabled:i,textId:g,isSelected:l,onItemTextChange:a.useCallback((e=>{d((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,Fe.jsx)(UA.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:(0,Fe.jsx)(At.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":l&&h,"data-state":l?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...s,ref:p,onFocus:Ge(s.onFocus,(()=>f(!0))),onBlur:Ge(s.onBlur,(()=>f(!1))),onClick:Ge(s.onClick,(()=>{"mouse"!==m.current&&v()})),onPointerUp:Ge(s.onPointerUp,(()=>{"mouse"===m.current&&v()})),onPointerDown:Ge(s.onPointerDown,(e=>{m.current=e.pointerType})),onPointerMove:Ge(s.onPointerMove,(e=>{m.current=e.pointerType,i?c.onItemLeave?.():"mouse"===m.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:Ge(s.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&c.onItemLeave?.()})),onKeyDown:Ge(s.onKeyDown,(e=>{""!==c.searchRef?.current&&" "===e.key||(TA.includes(e.key)&&v()," "===e.key&&e.preventDefault())}))})})})}));pc.displayName=dc;var gc="SelectItemText",mc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:i,...o}=e,s=NA(gc,n),A=YA(gc,n),c=fc(gc,n),l=MA(gc,n),[u,d]=a.useState(null),h=Je(t,(e=>d(e)),c.onItemTextChange,(e=>A.itemTextRefCallback?.(e,c.value,c.disabled))),f=u?.textContent,p=a.useMemo((()=>(0,Fe.jsx)("option",{value:c.value,disabled:c.disabled,children:f},c.value)),[c.disabled,c.value,f]),{onNativeOptionAdd:g,onNativeOptionRemove:m}=l;return Ct((()=>(g(p),()=>m(p))),[g,m,p]),(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(At.span,{id:c.textId,...o,ref:h}),c.isSelected&&s.valueNode&&!s.valueNodeHasChildren?$e.createPortal(o.children,s.valueNode):null]})}));mc.displayName=gc;var vc="SelectItemIndicator",yc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return fc(vc,n).isSelected?(0,Fe.jsx)(At.span,{"aria-hidden":!0,...r,ref:t}):null}));yc.displayName=vc;var wc="SelectScrollUpButton",bc=a.forwardRef(((e,t)=>{const n=YA(wc,e.__scopeSelect),r=rc(wc,e.__scopeSelect),[i,o]=a.useState(!1),s=Je(t,r.onScrollButtonChange);return Ct((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollTop>0;o(e)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,Fe.jsx)(Sc,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));bc.displayName=wc;var Cc="SelectScrollDownButton",Bc=a.forwardRef(((e,t)=>{const n=YA(Cc,e.__scopeSelect),r=rc(Cc,e.__scopeSelect),[i,o]=a.useState(!1),s=Je(t,r.onScrollButtonChange);return Ct((()=>{if(n.viewport&&n.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;o(n)};const t=n.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[n.viewport,n.isPositioned]),i?(0,Fe.jsx)(Sc,{...e,ref:s,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=n;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));Bc.displayName=Cc;var Sc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,o=YA("SelectScrollButton",n),s=a.useRef(null),A=FA(n),c=a.useCallback((()=>{null!==s.current&&(window.clearInterval(s.current),s.current=null)}),[]);return a.useEffect((()=>()=>c()),[c]),Ct((()=>{const e=A().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[A]),(0,Fe.jsx)(At.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ge(i.onPointerDown,(()=>{null===s.current&&(s.current=window.setInterval(r,50))})),onPointerMove:Ge(i.onPointerMove,(()=>{o.onItemLeave?.(),null===s.current&&(s.current=window.setInterval(r,50))})),onPointerLeave:Ge(i.onPointerLeave,(()=>{c()}))})})),Ec=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,Fe.jsx)(At.div,{"aria-hidden":!0,...r,ref:t})}));Ec.displayName="SelectSeparator";var kc="SelectArrow",xc=a.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,i=PA(n),o=NA(kc,n),s=YA(kc,n);return o.open&&"popper"===s.position?(0,Fe.jsx)(va,{...i,...r,ref:t}):null}));xc.displayName=kc;var Tc=a.forwardRef(((e,t)=>{let{__scopeSelect:n,value:r,...i}=e;const o=a.useRef(null),s=Je(t,o),A=function(e){const t=a.useRef({value:e,previous:e});return a.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}(r);return a.useEffect((()=>{const e=o.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(A!==r&&n){const t=new Event("change",{bubbles:!0});n.call(e,r),e.dispatchEvent(t)}}),[A,r]),(0,Fe.jsx)(At.select,{...i,style:{...Tt,...i.style},ref:s,defaultValue:r})}));function Ic(e){return""===e||void 0===e}function Uc(e){const t=lt(e),n=a.useRef(""),r=a.useRef(0),i=a.useCallback((e=>{const i=n.current+e;t(i),function e(t){n.current=t,window.clearTimeout(r.current),""!==t&&(r.current=window.setTimeout((()=>e("")),1e3))}(i)}),[t]),o=a.useCallback((()=>{n.current="",window.clearTimeout(r.current)}),[]);return a.useEffect((()=>()=>window.clearTimeout(r.current)),[]),[n,i,o]}function Fc(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,i=n?e.indexOf(n):-1;let o=(s=e,a=Math.max(i,0),s.map(((e,t)=>s[(a+t)%s.length])));var s,a;1===r.length&&(o=o.filter((e=>e!==n)));const A=o.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return A!==n?A:void 0}Tc.displayName="SelectBubbleInput";var _c=LA,Rc=jA,Qc=VA,Pc=qA,Oc=$A,Nc=zA,Dc=oc,Mc=pc,Lc=mc,Hc=bc,jc=Bc;const Kc=wn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Vc=_c,qc=Qc,$c=a.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,Fe.jsxs)(Rc,{ref:t,className:vr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...i,children:[r,(0,Fe.jsx)(Pc,{asChild:!0,children:(0,Fe.jsx)(Wi,{className:"h-4 w-4 opacity-50"})})]})}));$c.displayName=Rc.displayName;const Gc=a.forwardRef(((e,t)=>{let{className:n,children:r,position:i="popper",...o}=e;return(0,Fe.jsx)(Oc,{children:(0,Fe.jsxs)(Nc,{ref:t,className:vr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:i,...o,children:[(0,Fe.jsx)(Hc,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,Fe.jsx)(Kc,{className:"h-4 w-4"})}),(0,Fe.jsx)(Dc,{className:vr("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,Fe.jsx)(jc,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,Fe.jsx)(Wi,{className:"h-4 w-4"})})]})})}));Gc.displayName=Nc.displayName;const zc=a.forwardRef(((e,t)=>{let{className:n,children:r,...i}=e;return(0,Fe.jsx)(Mc,{ref:t,className:vr("relative flex w-full cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent focus:text-accent-foreground",n),...i,children:(0,Fe.jsx)(Lc,{children:r})})}));zc.displayName=Mc.displayName;const Wc=()=>{const[e,t]=(0,a.useState)({cpt:"",icd:"",notes:""}),[n,r]=(0,a.useState)([]);return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Billing Codes"}),(0,Fe.jsx)(io,{children:"CPT Codes"}),(0,Fe.jsxs)(Vc,{value:e.cpt,onValueChange:n=>t({...e,cpt:n}),children:[(0,Fe.jsx)($c,{className:"w-full",children:(0,Fe.jsx)(qc,{placeholder:"Select CPT code"})}),(0,Fe.jsxs)(Gc,{children:[(0,Fe.jsx)(zc,{value:"99213",children:"99213 - Office/outpatient visit"}),(0,Fe.jsx)(zc,{value:"99214",children:"99214 - Office/outpatient visit, moderate"})]})]}),(0,Fe.jsx)(io,{className:"mt-4",children:"ICD-10 Codes"}),(0,Fe.jsxs)(Vc,{value:e.icd,onValueChange:n=>t({...e,icd:n}),children:[(0,Fe.jsx)($c,{className:"w-full",children:(0,Fe.jsx)(qc,{placeholder:"Select ICD-10 code"})}),(0,Fe.jsxs)(Gc,{children:[(0,Fe.jsx)(zc,{value:"E11.9",children:"E11.9 - Type 2 diabetes mellitus"}),(0,Fe.jsx)(zc,{value:"I10",children:"I10 - Hypertension"})]})]}),(0,Fe.jsx)(io,{className:"mt-4",children:"Modifiers"}),(0,Fe.jsx)("div",{className:"flex gap-2 mt-2",children:["95 - Telehealth","GT - Telemedicine","GQ - Store and Forward"].map((e=>(0,Fe.jsx)(Fr,{variant:n.includes(e)?"default":"outline",size:"sm",onClick:()=>r(n.includes(e)?n.filter((t=>t!==e)):[...n,e]),children:e},e)))}),(0,Fe.jsx)(io,{className:"mt-4",children:"Billing Notes"}),(0,Fe.jsx)(eo,{className:"mt-1",placeholder:"Additional billing notes...",value:e.notes,onChange:n=>t({...e,notes:n.target.value})}),(0,Fe.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,Fe.jsx)(Fr,{variant:"outline",children:"Verify Codes"}),(0,Fe.jsxs)("div",{className:"space-x-2",children:[(0,Fe.jsx)(Fr,{variant:"outline",children:"Clear All"}),(0,Fe.jsx)(Fr,{className:"bg-blue-600 hover:bg-blue-700",children:"Submit for Billing"})]})]})]})},Jc=()=>{const[e,t]=(0,a.useState)({Diagnosis:"",Medications:"",Lifestyle:"",Followup:"",CallSummary:""});return(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-lg mb-4",children:"Patient Recommendations"}),Object.entries(e).map((n=>{let[r,i]=n;return(0,Fe.jsxs)("div",{className:"mb-4",children:[(0,Fe.jsx)(io,{children:r.replace(/([A-Z])/g," $1")}),(0,Fe.jsx)(eo,{className:"mt-1",placeholder:`Enter ${r.toLowerCase()}...`,value:i,onChange:n=>t({...e,[r]:n.target.value})})]},r)})),(0,Fe.jsxs)("div",{className:"flex justify-between mt-4",children:[(0,Fe.jsx)(Fr,{variant:"outline",children:"Preview"}),(0,Fe.jsxs)("div",{className:"space-x-2",children:[(0,Fe.jsx)(Fr,{variant:"outline",children:"Send to Patient"}),(0,Fe.jsx)(Fr,{className:"bg-blue-600 hover:bg-blue-700",children:"Save to Chart"})]})]})]})},Yc=e=>{let{onSave:t}=e;const[n,r]=(0,a.useState)("summary");return(0,Fe.jsxs)(kr,{className:"mt-8",children:[(0,Fe.jsx)(xr,{children:(0,Fe.jsx)(Tr,{children:"Post-Call Documentation"})}),(0,Fe.jsxs)(Ir,{children:[(0,Fe.jsx)("div",{className:"flex space-x-2 mb-6 justify-center",children:["summary","transcript","soap","recommendations","billing"].map((e=>(0,Fe.jsx)("button",{className:`px-4 py-2 rounded font-medium ${n===e?"bg-blue-600 text-white":"bg-white text-neutral-800 border border-b-0"} transition`,onClick:()=>r(e),children:e.charAt(0).toUpperCase()+e.slice(1)},e)))}),"summary"===n&&(0,Fe.jsx)(zr,{}),"transcript"===n&&(0,Fe.jsx)($r,{}),"soap"===n&&(0,Fe.jsx)(to,{}),"recommendations"===n&&(0,Fe.jsx)(Jc,{}),"billing"===n&&(0,Fe.jsx)(Wc,{}),(0,Fe.jsx)("div",{className:"flex justify-end mt-8",children:(0,Fe.jsx)(Fr,{className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 text-lg",onClick:t,children:"Save Documentation"})})]})]})},Xc=wn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Zc=wn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),el=wn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),tl=wn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),nl=wn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),rl=wn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),il=wn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ol=()=>{const[e]=Q(),t=t=>"/"===t&&"/"===e||!("/"===t||!e.startsWith(t));return(0,Fe.jsxs)("div",{className:"w-64 bg-neutral-800 text-white h-screen flex flex-col shadow-lg flex-shrink-0",children:[(0,Fe.jsxs)("div",{className:"p-4 border-b border-neutral-700 flex items-center",children:[(0,Fe.jsx)(Xc,{className:"w-8 h-8 mr-2"}),(0,Fe.jsx)("h1",{className:"text-xl font-semibold",children:"Seismic Connect"})]}),(0,Fe.jsxs)("nav",{className:"flex-1 overflow-y-auto py-4",children:[(0,Fe.jsx)("div",{className:"px-4 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Main"}),(0,Fe.jsx)(M,{href:"/",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(Zc,{className:"w-5 h-5 mr-3"}),"Dashboard"]})}),(0,Fe.jsx)(M,{href:"/appointments",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/appointments")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(el,{className:"w-5 h-5 mr-3"}),"Appointments"]})}),(0,Fe.jsx)(M,{href:"/video-call",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/video-call")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(tl,{className:"w-5 h-5 mr-3"}),"Video Call"]})}),(0,Fe.jsx)(M,{href:"/patients",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/patients")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(nl,{className:"w-5 h-5 mr-3"}),"Patients"]})}),(0,Fe.jsx)("div",{className:"px-4 mt-6 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Administration"}),(0,Fe.jsx)(M,{href:"/reports",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/reports")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(Gr,{className:"w-5 h-5 mr-3"}),"Reports"]})}),(0,Fe.jsx)(M,{href:"/settings",children:(0,Fe.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/settings")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Fe.jsx)(rl,{className:"w-5 h-5 mr-3"}),"Settings"]})})]}),(0,Fe.jsx)("div",{className:"p-4 border-t border-neutral-700",children:(0,Fe.jsxs)("button",{className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-neutral-700 rounded hover:bg-neutral-600",children:[(0,Fe.jsx)(il,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})},sl=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),al=wn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),Al=()=>{var e;const{data:t,isLoading:n}=qr({queryKey:["/api/users/1"],staleTime:3e5}),r=new URLSearchParams(window.location.search).get("role");return(0,Fe.jsx)("header",{className:"bg-white border-b border-neutral-200 shadow-sm",children:(0,Fe.jsxs)("div",{className:"px-6 py-3 flex items-center justify-between",children:[(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("h1",{className:"text-xl font-semibold text-neutral-800",children:"Healthcare Dashboard"}),"patient"!==r&&(0,Fe.jsxs)("div",{className:"hidden md:flex items-center ml-6 space-x-4",children:[(0,Fe.jsx)("div",{className:"text-sm text-primary-500 font-medium cursor-pointer",onClick:()=>window.location.href="/",children:"Overview"}),(0,Fe.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/appointments",children:"Appointments"}),(0,Fe.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/patients",children:"Patients"}),(0,Fe.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/reports",children:"Reports"})]})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Fe.jsxs)("div",{className:"relative",children:[(0,Fe.jsx)("input",{type:"text",placeholder:"Search",className:"pl-10 pr-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-64 text-sm"}),(0,Fe.jsx)(sl,{className:"w-5 h-5 text-neutral-400 absolute left-3 top-2.5"})]}),(0,Fe.jsx)("button",{className:"p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-full",children:(0,Fe.jsx)(al,{className:"w-5 h-5"})}),n?(0,Fe.jsx)("div",{className:"h-8 w-8 rounded-full bg-neutral-200 animate-pulse"}):(0,Fe.jsxs)("div",{className:"flex items-center",children:[null!==t&&void 0!==t&&t.profileImage?(0,Fe.jsx)("img",{src:t.profileImage,alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):(0,Fe.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium text-sm",children:(null===t||void 0===t||null===(e=t.fullName)||void 0===e?void 0:e.charAt(0))||"U"}),(0,Fe.jsxs)("div",{className:"ml-2",children:[(0,Fe.jsx)("p",{className:"text-sm font-medium text-neutral-800",children:(null===t||void 0===t?void 0:t.fullName)||"Loading..."}),(0,Fe.jsx)("p",{className:"text-xs text-neutral-500",children:(null===t||void 0===t?void 0:t.specialty)||(null===t||void 0===t?void 0:t.role)||"Staff"})]})]})]})]})})},cl=()=>{const{data:e}=qr({queryKey:["/api/users/1"]}),t=((null===e||void 0===e?void 0:e.fullName)||"Doctor").split(" ")[0];return(0,Fe.jsxs)(kr,{className:"mb-6 overflow-hidden",children:[(0,Fe.jsxs)("div",{className:"bg-blue-600 text-white p-6",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold",children:"Welcome to Seismic Connect"}),(0,Fe.jsxs)("p",{className:"text-blue-100 mt-2",children:["Hello, ",t,"! Manage your telehealth practice with our integrated platform."]})]}),(0,Fe.jsx)(Ir,{className:"p-6",children:(0,Fe.jsxs)("div",{className:"prose max-w-none",children:[(0,Fe.jsx)("p",{className:"text-neutral-700 text-lg",children:"Seismic Connect helps medical professionals like you deliver quality care through telehealth. Our platform streamlines appointment management, video consultations, and patient documentation in one place."}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,Fe.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Fe.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Fe.jsx)(tl,{className:"h-6 w-6 text-blue-600"})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Video Consultations"}),(0,Fe.jsx)("p",{className:"text-sm text-neutral-600",children:"Connect with patients virtually through secure, HIPAA-compliant video calls."})]})]}),(0,Fe.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Fe.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Fe.jsx)(el,{className:"h-6 w-6 text-blue-600"})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Appointment Management"}),(0,Fe.jsx)("p",{className:"text-sm text-neutral-600",children:"Schedule and track patient appointments with an intuitive calendar interface."})]})]}),(0,Fe.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Fe.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Fe.jsx)(Gr,{className:"h-6 w-6 text-blue-600"})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Clinical Documentation"}),(0,Fe.jsx)("p",{className:"text-sm text-neutral-600",children:"Maintain comprehensive patient notes and clinical documentation."})]})]}),(0,Fe.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Fe.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Fe.jsx)(nl,{className:"h-6 w-6 text-blue-600"})}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Patient Management"}),(0,Fe.jsx)("p",{className:"text-sm text-neutral-600",children:"Search and manage your patient database with integrated EMR features."})]})]})]}),(0,Fe.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4",children:[(0,Fe.jsx)(M,{href:"/appointments",children:(0,Fe.jsxs)(Fr,{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,Fe.jsx)(el,{className:"h-4 w-4"}),"View Appointments"]})}),(0,Fe.jsx)(M,{href:"/video-call",children:(0,Fe.jsxs)(Fr,{variant:"outline",className:"flex items-center gap-2 text-blue-600 border-blue-600 hover:bg-blue-50",children:[(0,Fe.jsx)(tl,{className:"h-4 w-4"}),"Start Video Call"]})})]})]})})]})};var ll="Progress",ul=100,[dl,hl]=Ye(ll),[fl,pl]=dl(ll),gl=a.forwardRef(((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:o=yl,...s}=e;!i&&0!==i||Cl(i)||console.error(`Invalid prop \`max\` of value \`${`${i}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const a=Cl(i)?i:ul;null===r||Bl(r,a)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const A=Bl(r,a)?r:null,c=bl(A)?o(A,a):void 0;return(0,Fe.jsx)(fl,{scope:n,value:A,max:a,children:(0,Fe.jsx)(At.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":bl(A)?A:void 0,"aria-valuetext":c,role:"progressbar","data-state":wl(A,a),"data-value":A??void 0,"data-max":a,...s,ref:t})})}));gl.displayName=ll;var ml="ProgressIndicator",vl=a.forwardRef(((e,t)=>{const{__scopeProgress:n,...r}=e,i=pl(ml,n);return(0,Fe.jsx)(At.div,{"data-state":wl(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})}));function yl(e,t){return`${Math.round(e/t*100)}%`}function wl(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function bl(e){return"number"===typeof e}function Cl(e){return bl(e)&&!isNaN(e)&&e>0}function Bl(e,t){return bl(e)&&!isNaN(e)&&e<=t&&e>=0}vl.displayName=ml;var Sl=gl,El=vl;const kl=a.forwardRef(((e,t)=>{let{className:n,value:r,...i}=e;return(0,Fe.jsx)(Sl,{ref:t,className:vr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...i,children:(0,Fe.jsx)(El,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}));function xl(e){return xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(e)}function Tl(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Il(e){Tl(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===xl(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ul(e){if(Tl(1,arguments),!function(e){return Tl(1,arguments),e instanceof Date||"object"===xl(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Il(e);return!isNaN(Number(t))}function Fl(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function _l(e,t){return Tl(2,arguments),function(e,t){Tl(2,arguments);var n=Il(e).getTime(),r=Fl(t);return new Date(n+r)}(e,-Fl(t))}kl.displayName=Sl.displayName;function Rl(e){Tl(1,arguments);var t=Il(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Ql(e){Tl(1,arguments);var t=Il(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Rl(r),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var s=Rl(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Pl(e){Tl(1,arguments);var t=Il(e),n=Rl(t).getTime()-function(e){Tl(1,arguments);var t=Ql(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Rl(n)}(t).getTime();return Math.round(n/6048e5)+1}var Ol={};function Nl(){return Ol}function Dl(e,t){var n,r,i,o,s,a,A,c;Tl(1,arguments);var l=Nl(),u=Fl(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(A=l.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Il(e),h=d.getUTCDay(),f=(h<u?7:0)+h-u;return d.setUTCDate(d.getUTCDate()-f),d.setUTCHours(0,0,0,0),d}function Ml(e,t){var n,r,i,o,s,a,A,c;Tl(1,arguments);var l=Il(e),u=l.getUTCFullYear(),d=Nl(),h=Fl(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:d.firstWeekContainsDate)&&void 0!==r?r:null===(A=d.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(u+1,0,h),f.setUTCHours(0,0,0,0);var p=Dl(f,t),g=new Date(0);g.setUTCFullYear(u,0,h),g.setUTCHours(0,0,0,0);var m=Dl(g,t);return l.getTime()>=p.getTime()?u+1:l.getTime()>=m.getTime()?u:u-1}function Ll(e,t){Tl(1,arguments);var n=Il(e),r=Dl(n,t).getTime()-function(e,t){var n,r,i,o,s,a,A,c;Tl(1,arguments);var l=Nl(),u=Fl(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==i?i:l.firstWeekContainsDate)&&void 0!==r?r:null===(A=l.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=Ml(e,t),h=new Date(0);return h.setUTCFullYear(d,0,u),h.setUTCHours(0,0,0,0),Dl(h,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Hl(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var jl={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Hl("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Hl(n+1,2)},d:function(e,t){return Hl(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Hl(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Hl(e.getUTCHours(),t.length)},m:function(e,t){return Hl(e.getUTCMinutes(),t.length)},s:function(e,t){return Hl(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Hl(Math.floor(r*Math.pow(10,n-3)),t.length)}};const Kl=jl;var Vl="midnight",ql="noon",$l="morning",Gl="afternoon",zl="evening",Wl="night",Jl={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Kl.y(e,t)},Y:function(e,t,n,r){var i=Ml(e,r),o=i>0?i:1-i;return"YY"===t?Hl(o%100,2):"Yo"===t?n.ordinalNumber(o,{unit:"year"}):Hl(o,t.length)},R:function(e,t){return Hl(Ql(e),t.length)},u:function(e,t){return Hl(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Hl(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Hl(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Kl.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Hl(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Ll(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Hl(i,t.length)},I:function(e,t,n){var r=Pl(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Hl(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Kl.d(e,t)},D:function(e,t,n){var r=function(e){Tl(1,arguments);var t=Il(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Hl(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Hl(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),o=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Hl(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Hl(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?ql:0===i?Vl:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?zl:i>=12?Gl:i>=4?$l:Wl,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Kl.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Kl.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hl(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Hl(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Kl.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Kl.s(e,t)},S:function(e,t){return Kl.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return Xl(i);case"XXXX":case"XX":return Zl(i);default:return Zl(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return Xl(i);case"xxxx":case"xx":return Zl(i);default:return Zl(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Yl(i,":");default:return"GMT"+Zl(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Yl(i,":");default:return"GMT"+Zl(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Hl(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Hl((r._originalDate||e).getTime(),t.length)}};function Yl(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),o=r%60;if(0===o)return n+String(i);var s=t||"";return n+String(i)+s+Hl(o,2)}function Xl(e,t){return e%60===0?(e>0?"-":"+")+Hl(Math.abs(e)/60,2):Zl(e,t)}function Zl(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Hl(Math.floor(i/60),2)+n+Hl(i%60,2)}const eu=Jl;var tu=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},nu=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ru={p:nu,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],o=r[2];if(!o)return tu(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",tu(i,t)).replace("{{time}}",nu(o,t))}};const iu=ru;function ou(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var su=["D","DD"],au=["YY","YYYY"];function Au(e){return-1!==su.indexOf(e)}function cu(e){return-1!==au.indexOf(e)}function lu(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var uu={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const du=function(e,t,n){var r,i=uu[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hu(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const fu={date:hu({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:hu({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:hu({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var pu={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const gu=function(e,t,n,r){return pu[e]};function mu(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,o=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[o]||e.formattingValues[i]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const vu={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:mu({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:mu({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:mu({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:mu({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:mu({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function yu(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;var s,a=o[0],A=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(A)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(A,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(A,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(c):c,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var wu,bu={ordinalNumber:(wu={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(wu.matchPattern);if(!n)return null;var r=n[0],i=e.match(wu.parsePattern);if(!i)return null;var o=wu.valueCallback?wu.valueCallback(i[0]):i[0];return{value:o=t.valueCallback?t.valueCallback(o):o,rest:e.slice(r.length)}}),era:yu({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:yu({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:yu({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:yu({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:yu({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const Cu={code:"en-US",formatDistance:du,formatLong:fu,formatRelative:gu,localize:vu,match:bu,options:{weekStartsOn:0,firstWeekContainsDate:1}},Bu=Cu;var Su=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Eu=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ku=/^'([^]*?)'?$/,xu=/''/g,Tu=/[a-zA-Z]/;function Iu(e,t,n){var r,i,o,s,a,A,c,l,u,d,h,f,p,g,m,v,y,w;Tl(2,arguments);var b=String(t),C=Nl(),B=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:C.locale)&&void 0!==r?r:Bu,S=Fl(null!==(o=null!==(s=null!==(a=null!==(A=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==A?A:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==a?a:C.firstWeekContainsDate)&&void 0!==s?s:null===(u=C.locale)||void 0===u||null===(d=u.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==o?o:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Fl(null!==(h=null!==(f=null!==(p=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(v=m.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==p?p:C.weekStartsOn)&&void 0!==f?f:null===(y=C.locale)||void 0===y||null===(w=y.options)||void 0===w?void 0:w.weekStartsOn)&&void 0!==h?h:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!B.localize)throw new RangeError("locale must contain localize property");if(!B.formatLong)throw new RangeError("locale must contain formatLong property");var k=Il(e);if(!Ul(k))throw new RangeError("Invalid time value");var x=_l(k,ou(k)),T={firstWeekContainsDate:S,weekStartsOn:E,locale:B,_originalDate:k};return b.match(Eu).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,iu[t])(e,B.formatLong):e})).join("").match(Su).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(ku);if(!t)return e;return t[1].replace(xu,"'")}(r);var o=eu[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!cu(r)||lu(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!Au(r)||lu(r,t,String(e)),o(x,r,B.localize,T);if(i.match(Tu))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const Uu=e=>{let{date:t=Iu(new Date,"yyyy-MM-dd")}=e;const n=Iu(new Date(t),"MMMM d, yyyy"),{data:r,isLoading:i}=qr({queryKey:[`/api/stats/appointments/${t}`]});if(i)return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsx)(Tr,{className:"text-lg",children:"Today's Appointments"})}),(0,Fe.jsx)(Ir,{children:(0,Fe.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Fe.jsxs)("div",{className:"space-y-2",children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})]})})]});const o=(null===r||void 0===r?void 0:r.totalAppointments)||0,s=(null===r||void 0===r?void 0:r.inPersonAppointments)||0,a=(null===r||void 0===r?void 0:r.virtualAppointments)||0,A=o>0?s/o*100:0,c=o>0?a/o*100:0;return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fe.jsx)(Tr,{className:"text-lg",children:"Today's Appointments"}),(0,Fe.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:n})]})}),(0,Fe.jsxs)(Ir,{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"Total"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:o})]}),(0,Fe.jsx)(kl,{value:100,className:"h-2 mb-4"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"In-Person"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:s})]}),(0,Fe.jsx)(kl,{value:A,className:"h-2 mb-2 bg-neutral-200"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"Virtual"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:a})]}),(0,Fe.jsx)(kl,{value:c,className:"h-2 mb-2 bg-neutral-200"})]})]})]})]})},Fu=e=>{var t,n,r,i;let{date:o=Iu(new Date,"yyyy-MM-dd")}=e;const{data:s,isLoading:a}=qr({queryKey:[`/api/stats/appointments/${o}`]});if(a)return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsx)(Tr,{className:"text-lg",children:"Appointment Status"})}),(0,Fe.jsx)(Ir,{children:(0,Fe.jsx)("div",{className:"animate-pulse",children:(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]})]})})})]});const A=(null===s||void 0===s?void 0:s.totalAppointments)||0,c=(null===s||void 0===s||null===(t=s.statusBreakdown)||void 0===t?void 0:t.completed)||0,l=(null===s||void 0===s||null===(n=s.statusBreakdown)||void 0===n?void 0:n.inProgress)||0,u=(null===s||void 0===s||null===(r=s.statusBreakdown)||void 0===r?void 0:r.waiting)||0,d=(null===s||void 0===s||null===(i=s.statusBreakdown)||void 0===i?void 0:i.noShow)||0,h=A>0?c/A*100:0,f=A>0?l/A*100:0,p=A>0?u/A*100:0,g=A>0?d/A*100:0;return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fe.jsx)(Tr,{className:"text-lg",children:"Appointment Status"}),(0,Fe.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:"Real-time"})]})}),(0,Fe.jsx)(Ir,{children:(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"Completed"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:c})]}),(0,Fe.jsx)(kl,{value:h,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"In Progress"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:l})]}),(0,Fe.jsx)(kl,{value:f,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"Waiting"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:u})]}),(0,Fe.jsx)(kl,{value:p,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:"No-Show"}),(0,Fe.jsx)("span",{className:"text-neutral-800 font-semibold",children:d})]}),(0,Fe.jsx)(kl,{value:g,className:"h-2 mb-3 bg-neutral-200"})]})]})})]})},_u=wn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Ru=e=>{let{date:t=Iu(new Date,"yyyy-MM-dd")}=e;const{data:n,isLoading:r}=qr({queryKey:[`/api/stats/appointments/${t}`]}),{data:i,isLoading:o}=qr({queryKey:["/api/users"]});if(r||o)return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsx)(Tr,{className:"text-lg",children:"Provider Workload"})}),(0,Fe.jsx)(Ir,{children:(0,Fe.jsx)("div",{className:"animate-pulse",children:(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Fe.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})})})]});const s=(null===n||void 0===n?void 0:n.providerWorkload)||[],a=Math.max(...s.map((e=>e.patientCount)),0),A=e=>{const t=null===i||void 0===i?void 0:i.find((t=>t.id===e));return(null===t||void 0===t?void 0:t.fullName)||`Provider #${e}`};return(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{className:"pb-2",children:(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Fe.jsx)(Tr,{className:"text-lg",children:"Provider Workload"}),(0,Fe.jsxs)(Fr,{variant:"ghost",size:"sm",className:"text-primary-500",children:["View All",(0,Fe.jsx)(_u,{className:"ml-1 w-4 h-4"})]})]})}),(0,Fe.jsx)(Ir,{children:(0,Fe.jsxs)("div",{className:"space-y-4",children:[s.map((e=>(0,Fe.jsxs)("div",{children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Fe.jsx)("span",{className:"text-neutral-600 text-sm",children:A(e.providerId)}),(0,Fe.jsxs)("span",{className:"text-neutral-800 font-semibold",children:[e.patientCount," patients"]})]}),(0,Fe.jsx)(kl,{value:a>0?e.patientCount/a*100:0,className:"h-2 bg-neutral-200"})]},e.providerId))),0===s.length&&(0,Fe.jsx)("div",{className:"text-center text-sm text-neutral-500 py-4",children:"No provider workload data available for this date."})]})})]})};function Qu(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var Pu=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),Ou=()=>Math.random().toString(36).substring(7).split("").join("."),Nu={INIT:`@@redux/INIT${Ou()}`,REPLACE:`@@redux/REPLACE${Ou()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Ou()}`};function Du(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function Mu(e,t,n){if("function"!==typeof e)throw new Error(Qu(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(Qu(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(Qu(1));return n(Mu)(e,t)}let r=e,i=t,o=new Map,s=o,a=0,A=!1;function c(){s===o&&(s=new Map,o.forEach(((e,t)=>{s.set(t,e)})))}function l(){if(A)throw new Error(Qu(3));return i}function u(e){if("function"!==typeof e)throw new Error(Qu(4));if(A)throw new Error(Qu(5));let t=!0;c();const n=a++;return s.set(n,e),function(){if(t){if(A)throw new Error(Qu(6));t=!1,c(),s.delete(n),o=null}}}function d(e){if(!Du(e))throw new Error(Qu(7));if("undefined"===typeof e.type)throw new Error(Qu(8));if("string"!==typeof e.type)throw new Error(Qu(17));if(A)throw new Error(Qu(9));try{A=!0,i=r(i,e)}finally{A=!1}return(o=s).forEach((e=>{e()})),e}d({type:Nu.INIT});return{dispatch:d,subscribe:u,getState:l,replaceReducer:function(e){if("function"!==typeof e)throw new Error(Qu(10));r=e,d({type:Nu.REPLACE})},[Pu]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(Qu(11));function n(){const e=t;e.next&&e.next(l())}n();return{unsubscribe:e(n)}},[Pu](){return this}}}}}function Lu(e){const t=Object.keys(e),n={};for(let s=0;s<t.length;s++){const r=t[s];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let i;try{!function(e){Object.keys(e).forEach((t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:Nu.INIT}))throw new Error(Qu(12));if("undefined"===typeof n(void 0,{type:Nu.PROBE_UNKNOWN_ACTION()}))throw new Error(Qu(13))}))}(n)}catch(o){i=o}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(i)throw i;let o=!1;const s={};for(let i=0;i<r.length;i++){const a=r[i],A=n[a],c=e[a],l=A(c,t);if("undefined"===typeof l){t&&t.type;throw new Error(Qu(14))}s[a]=l,o=o||l!==c}return o=o||r.length!==Object.keys(e).length,o?s:e}}function Hu(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce(((e,t)=>function(){return e(t(...arguments))}))}function ju(e){return t=>{let{dispatch:n,getState:r}=t;return t=>i=>"function"===typeof i?i(n,r,e):t(i)}}var Ku=ju(),Vu=ju,qu=Symbol.for("immer-nothing"),$u=Symbol.for("immer-draftable"),Gu=Symbol.for("immer-state");function zu(e){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Wu=Object.getPrototypeOf;function Ju(e){return!!e&&!!e[Gu]}function Yu(e){return!!e&&(Zu(e)||Array.isArray(e)||!!e[$u]||!!e.constructor?.[$u]||id(e)||od(e))}var Xu=Object.prototype.constructor.toString();function Zu(e){if(!e||"object"!==typeof e)return!1;const t=Wu(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Xu}function ed(e,t){0===td(e)?Reflect.ownKeys(e).forEach((n=>{t(n,e[n],e)})):e.forEach(((n,r)=>t(r,n,e)))}function td(e){const t=e[Gu];return t?t.type_:Array.isArray(e)?1:id(e)?2:od(e)?3:0}function nd(e,t){return 2===td(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function rd(e,t,n){const r=td(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function id(e){return e instanceof Map}function od(e){return e instanceof Set}function sd(e){return e.copy_||e.base_}function ad(e,t){if(id(e))return new Map(e);if(od(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=Zu(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[Gu];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Wu(e),t)}{const t=Wu(e);if(null!==t&&n)return{...e};const r=Object.create(t);return Object.assign(r,e)}}function Ad(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ld(e)||Ju(e)||!Yu(e)||(td(e)>1&&(e.set=e.add=e.clear=e.delete=cd),Object.freeze(e),t&&Object.entries(e).forEach((e=>{let[t,n]=e;return Ad(n,!0)}))),e}function cd(){zu(2)}function ld(e){return Object.isFrozen(e)}var ud,dd={};function hd(e){const t=dd[e];return t||zu(0),t}function fd(){return ud}function pd(e,t){t&&(hd("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function gd(e){md(e),e.drafts_.forEach(yd),e.drafts_=null}function md(e){e===ud&&(ud=e.parent_)}function vd(e){return ud={drafts_:[],parent_:ud,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yd(e){const t=e[Gu];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function wd(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[Gu].modified_&&(gd(t),zu(4)),Yu(e)&&(e=bd(t,e),t.parent_||Bd(t,e)),t.patches_&&hd("Patches").generateReplacementPatches_(n[Gu].base_,e,t.patches_,t.inversePatches_)):e=bd(t,n,[]),gd(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qu?e:void 0}function bd(e,t,n){if(ld(t))return t;const r=t[Gu];if(!r)return ed(t,((i,o)=>Cd(e,r,t,i,o,n))),t;if(r.scope_!==e)return t;if(!r.modified_)return Bd(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let i=t,o=!1;3===r.type_&&(i=new Set(t),t.clear(),o=!0),ed(i,((i,s)=>Cd(e,r,t,i,s,n,o))),Bd(e,t,!1),n&&e.patches_&&hd("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function Cd(e,t,n,r,i,o,s){if(Ju(i)){const s=bd(e,i,o&&t&&3!==t.type_&&!nd(t.assigned_,r)?o.concat(r):void 0);if(rd(n,r,s),!Ju(s))return;e.canAutoFreeze_=!1}else s&&n.add(i);if(Yu(i)&&!ld(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;bd(e,i),t&&t.scope_.parent_||"symbol"===typeof r||!Object.prototype.propertyIsEnumerable.call(n,r)||Bd(e,i)}}function Bd(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Ad(t,n)}var Sd={get(e,t){if(t===Gu)return e;const n=sd(e);if(!nd(n,t))return function(e,t,n){const r=xd(t,n);return r?"value"in r?r.value:r.get?.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!Yu(r)?r:r===kd(e.base_,t)?(Id(e),e.copy_[t]=Ud(r,e)):r},has:(e,t)=>t in sd(e),ownKeys:e=>Reflect.ownKeys(sd(e)),set(e,t,n){const r=xd(sd(e),t);if(r?.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=kd(sd(e),t),s=r?.[Gu];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(((i=n)===(o=r)?0!==i||1/i===1/o:i!==i&&o!==o)&&(void 0!==n||nd(e.base_,t)))return!0;Id(e),Td(e)}var i,o;return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==kd(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,Id(e),Td(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=sd(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){zu(11)},getPrototypeOf:e=>Wu(e.base_),setPrototypeOf(){zu(12)}},Ed={};function kd(e,t){const n=e[Gu];return(n?sd(n):e)[t]}function xd(e,t){if(!(t in e))return;let n=Wu(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=Wu(n)}}function Td(e){e.modified_||(e.modified_=!0,e.parent_&&Td(e.parent_))}function Id(e){e.copy_||(e.copy_=ad(e.base_,e.scope_.immer_.useStrictShallowCopy_))}ed(Sd,((e,t)=>{Ed[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Ed.deleteProperty=function(e,t){return Ed.set.call(this,e,t,void 0)},Ed.set=function(e,t,n){return Sd.set.call(this,e[0],t,n,e[0])};function Ud(e,t){const n=id(e)?hd("MapSet").proxyMap_(e,t):od(e)?hd("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:fd(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=Sd;n&&(i=[r],o=Ed);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}(e,t);return(t?t.scope_:fd()).drafts_.push(n),n}function Fd(e){if(!Yu(e)||ld(e))return e;const t=e[Gu];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=ad(e,t.scope_.immer_.useStrictShallowCopy_)}else n=ad(e,!0);return ed(n,((e,t)=>{rd(n,e,Fd(t))})),t&&(t.finalized_=!1),n}var _d=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];return r.produce(e,(e=>t.call(this,e,...o)))}}let r;if("function"!==typeof t&&zu(6),void 0!==n&&"function"!==typeof n&&zu(7),Yu(e)){const i=vd(this),o=Ud(e,void 0);let s=!0;try{r=t(o),s=!1}finally{s?gd(i):md(i)}return pd(i,n),wd(r,i)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===qu&&(r=void 0),this.autoFreeze_&&Ad(r,!0),n){const t=[],i=[];hd("Patches").generateReplacementPatches_(e,r,t,i),n(t,i)}return r}zu(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(t=>e(t,...i)))};let r,i;return[this.produce(e,n,((e,t)=>{r=e,i=t})),r,i]},"boolean"===typeof e?.autoFreeze&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof e?.useStrictShallowCopy&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Yu(e)||zu(8),Ju(e)&&(e=function(e){Ju(e)||zu(10);return Fd(e)}(e));const t=vd(this),n=Ud(e,void 0);return n[Gu].isManual_=!0,md(t),n}finishDraft(e,t){const n=e&&e[Gu];n&&n.isManual_||zu(9);const{scope_:r}=n;return pd(r,t),wd(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=hd("Patches").applyPatches_;return Ju(e)?r(e,t):this.produce(e,(e=>r(e,t)))}},Rd=_d.produce;_d.produceWithPatches.bind(_d),_d.setAutoFreeze.bind(_d),_d.setUseStrictShallowCopy.bind(_d),_d.applyPatches.bind(_d),_d.createDraft.bind(_d),_d.finishDraft.bind(_d);var Qd="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?Hu:Hu.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Pd(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Jd(0));return{type:e,payload:n.payload,..."meta"in n&&{meta:n.meta},..."error"in n&&{error:n.error}}}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=t=>function(e){return Du(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Od=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Nd(e){return Yu(e)?Rd(e,(()=>{})):e}function Dd(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Md="RTK_autoBatch",Ld=e=>t=>{setTimeout(t,e)},Hd=e=>function(t){const{autoBatch:n=!0}=t??{};let r=new Od(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,i=!1,o=!1;const s=new Set,a="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Ld(10):"callback"===e.type?e.queueNotification:Ld(e.timeout),A=()=>{o=!1,i&&(i=!1,s.forEach((e=>e())))};return Object.assign({},n,{subscribe(e){const t=n.subscribe((()=>r&&e()));return s.add(e),()=>{t(),s.delete(e)}},dispatch(e){try{return r=!e?.meta?.[Md],i=!r,i&&(o||(o=!0,a(A))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function jd(e){const t={},n=[];let r;const i={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Jd(28));if(r in t)throw new Error(Jd(29));return t[r]=n,i},addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),i),addDefaultCase:e=>(r=e,i)};return e(i),[t,n,r]}var Kd=Symbol.for("rtk-slice-createasyncthunk");function Vd(e,t){return`${e}/${t}`}function qd(){let{creators:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?.asyncThunk?.[Kd];return function(e){const{name:n,reducerPath:r=n}=e;if(!n)throw new Error(Jd(11));const i=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},o=Object.keys(i),s={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},a={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Jd(12));if(n in s.sliceCaseReducersByType)throw new Error(Jd(13));return s.sliceCaseReducersByType[n]=t,a},addMatcher:(e,t)=>(s.sliceMatchers.push({matcher:e,reducer:t}),a),exposeAction:(e,t)=>(s.actionCreators[e]=t,a),exposeCaseReducer:(e,t)=>(s.sliceCaseReducersByName[e]=t,a)};function A(){const[t={},n=[],r]="function"===typeof e.extraReducers?jd(e.extraReducers):[e.extraReducers],i={...t,...s.sliceCaseReducersByType};return function(e,t){let n,[r,i,o]=jd(t);if("function"===typeof e)n=()=>Nd(e());else{const t=Nd(e);n=()=>t}function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,s=[r[t.type],...i.filter((e=>{let{matcher:n}=e;return n(t)})).map((e=>{let{reducer:t}=e;return t}))];return 0===s.filter((e=>!!e)).length&&(s=[o]),s.reduce(((e,n)=>{if(n){if(Ju(e)){const r=n(e,t);return void 0===r?e:r}if(Yu(e))return Rd(e,(e=>n(e,t)));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e}),e)}return s.getInitialState=n,s}(e.initialState,(e=>{for(let t in i)e.addCase(t,i[t]);for(let t of s.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)}))}o.forEach((r=>{const o=i[r],s={reducerName:r,type:Vd(n,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(o)?function(e,t,n){let r,i,{type:o,reducerName:s,createNotation:a}=e;if("reducer"in t){if(a&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Jd(17));r=t.reducer,i=t.prepare}else r=t;n.addCase(o,r).exposeCaseReducer(s,r).exposeAction(s,i?Pd(o,i):Pd(o))}(s,o,a):function(e,t,n,r){let{type:i,reducerName:o}=e;if(!r)throw new Error(Jd(18));const{payloadCreator:s,fulfilled:a,pending:A,rejected:c,settled:l,options:u}=t,d=r(i,s,u);n.exposeAction(o,d),a&&n.addCase(d.fulfilled,a);A&&n.addCase(d.pending,A);c&&n.addCase(d.rejected,c);l&&n.addMatcher(d.settled,l);n.exposeCaseReducer(o,{fulfilled:a||zd,pending:A||zd,rejected:c||zd,settled:l||zd})}(s,o,a,t)}));const c=e=>e,l=new Map,u=new WeakMap;let d;function h(e,t){return d||(d=A()),d(e,t)}function f(){return d||(d=A()),d.getInitialState()}function p(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let i=e[t];return"undefined"===typeof i&&n&&(i=Dd(u,r,f)),i}function i(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Dd(l,n,(()=>new WeakMap));return Dd(r,t,(()=>{const r={};for(const[i,o]of Object.entries(e.selectors??{}))r[i]=$d(o,t,(()=>Dd(u,t,f)),n);return r}))}return{reducerPath:t,getSelectors:i,get selectors(){return i(r)},selectSlice:r}}const g={name:n,reducer:h,actions:s.actionCreators,caseReducers:s.sliceCaseReducersByName,getInitialState:f,...p(r),injectInto(e){let{reducerPath:t,...n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=t??r;return e.inject({reducerPath:i,reducer:h},n),{...g,...p(i,!0)}}};return g}}function $d(e,t,n,r){function i(i){let o=t(i);"undefined"===typeof o&&r&&(o=n());for(var s=arguments.length,a=new Array(s>1?s-1:0),A=1;A<s;A++)a[A-1]=arguments[A];return e(o,...a)}return i.unwrapped=e,i}var Gd=qd();function zd(){}var{assign:Wd}=Object;Symbol.for("rtk-state-proxy-original");function Jd(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}const Yd=Gd({name:"appointment",initialState:{appointments:[]},reducers:{setAppointments:(e,t)=>{e.appointments=t.payload},updateAppointmentStatus:(e,t)=>{const{id:n,status:r}=t.payload,i=e.appointments.find((e=>e.id===n));i&&(i.status=r)}}}),Xd=Yd.actions,Zd=Yd,eh=()=>async e=>{try{const t=await(async()=>{const e=await fetch("https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net/api/appointments");if(!e.ok)throw new Error("Could not fetch appointment data!");const t=(await e.json()).map((e=>{const t=e.id;return e.data.map((e=>({...e,date:t})))}));return t.flat()})();e(Xd.setAppointments(t))}catch(t){throw new Error("Could not fetch appointment data!")}};var th=n(7237);function nh(e){e()}var rh={notify(){},get:()=>[]};function ih(e,t){let n,r=rh,i=0,o=!1;function s(){c.onStateChange&&c.onStateChange()}function a(){i++,n||(n=t?t.addNestedSub(s):e.subscribe(s),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nh((()=>{let t=e;for(;t;)t.callback(),t=t.next}))},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())}function A(){i--,n&&0===i&&(n(),n=void 0,r.clear(),r=rh)}const c={addNestedSub:function(e){a();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),A())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:s,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,a())},tryUnsubscribe:function(){o&&(o=!1,A())},getListeners:()=>r};return c}var oh=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),sh=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),ah=(()=>oh||sh?a.useLayoutEffect:a.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var Ah=Symbol.for("react-redux-context"),ch="undefined"!==typeof globalThis?globalThis:{};function lh(){if(!a.createContext)return{};const e=ch[Ah]??=new Map;let t=e.get(a.createContext);return t||(t=a.createContext(null),e.set(a.createContext,t)),t}var uh=lh();var dh=function(e){const{children:t,context:n,serverState:r,store:i}=e,o=a.useMemo((()=>{const e=ih(i);return{store:i,subscription:e,getServerState:r?()=>r:void 0}}),[i,r]),s=a.useMemo((()=>i.getState()),[i]);ah((()=>{const{subscription:e}=o;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),s!==i.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,s]);const A=n||uh;return a.createElement(A.Provider,{value:o},t)};function hh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uh;return function(){return a.useContext(e)}}var fh=hh();function ph(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uh;const t=e===uh?fh:hh(e),n=()=>{const{store:e}=t();return e};return Object.assign(n,{withTypes:()=>n}),n}var gh=ph();function mh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uh;const t=e===uh?gh:ph(e),n=()=>t().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var vh=mh(),yh=(e,t)=>e===t;function wh(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:uh;const t=e===uh?fh:hh(e),n=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:r=yh}="function"===typeof n?{equalityFn:n}:n;const i=t(),{store:o,subscription:s,getServerState:A}=i,c=(a.useRef(!0),a.useCallback({[e.name]:t=>e(t)}[e.name],[e])),l=(0,th.useSyncExternalStoreWithSelector)(s.addNestedSub,o.getState,A||o.getState,c,r);return a.useDebugValue(l),l};return Object.assign(n,{withTypes:()=>n}),n}var bh=wh();const Ch=function(){const e=vh();return(0,a.useEffect)((()=>{e(eh())}),[e]),(0,a.useEffect)((()=>{document.title="Dashboard - Seismic Connect"}),[]),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsx)(cl,{}),(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Fe.jsx)(Uu,{}),(0,Fe.jsx)(Fu,{}),(0,Fe.jsx)(Ru,{})]})]})};function Bh(e){var t=function(e,t){if("object"!=xl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xl(t)?t:t+""}function Sh(e,t,n){return(t=Bh(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kh(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eh(Object(n),!0).forEach((function(t){Sh(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eh(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xh(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}function Th(e,t){if(null==e)return{};var n,r,i=xh(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ih(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Uh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bh(r.key),r)}}function Fh(e,t,n){return t&&Uh(e.prototype,t),n&&Uh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _h(e){return _h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},_h(e)}function Rh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Rh=function(){return!!e})()}function Qh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ph(e,t){if(t&&("object"==xl(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qh(e)}function Oh(e,t,n){return t=_h(t),Ph(e,Rh()?Reflect.construct(t,n||[],_h(e).constructor):t.apply(e,n))}function Nh(e,t){return Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Nh(e,t)}function Dh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}function Mh(e){if(Array.isArray(e))return e}function Lh(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hh(e,t){if(e){if("string"==typeof e)return Lh(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lh(e,t):void 0}}function jh(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kh(e,t){return Mh(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,s,a=[],A=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;A=!1}else for(;!(A=(r=o.call(n)).done)&&(a.push(r.value),a.length!==t);A=!0);}catch(e){c=!0,i=e}finally{try{if(!A&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw i}}return a}}(e,t)||Hh(e,t)||jh()}function Vh(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Vh(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const qh=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Vh(e))&&(r&&(r+=" "),r+=t);return r};var $h=n(2740),Gh=n.n($h),zh=function(){};function Wh(e,t){return void 0!==e[t]}function Jh(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function Yh(){return Yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yh.apply(null,arguments)}function Xh(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function Zh(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function ef(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}Xh.__suppressDeprecationWarning=!0,Zh.__suppressDeprecationWarning=!0,ef.__suppressDeprecationWarning=!0;var tf=n(5173),nf=n.n(tf),rf="milliseconds",of="seconds",sf="minutes",af="hours",Af="day",cf="week",lf="month",uf="year",df="decade",hf="century",ff={milliseconds:1,seconds:1e3,minutes:6e4,hours:36e5,day:864e5,week:6048e5},pf={month:1,year:12,decade:120,century:1200};function gf(e){return e%4===0&&e%100!==0||e%400===0?29:28}function mf(e,t,n){switch(e=new Date(e),n){case rf:case of:case sf:case af:case Af:case cf:return function(e,t){var n=new Date(+e+t);return function(e,t){var n=e.getTimezoneOffset(),r=t.getTimezoneOffset();return new Date(+t+(r-n)*ff.minutes)}(e,n)}(e,t*ff[n]);case lf:case uf:case df:case hf:return function(e,t){var n=e.getFullYear(),r=e.getMonth(),i=e.getDate(),o=12*n+r+t,s=Math.trunc(o/12),a=o%12,A=Math.min(i,function(e){return[31,gf(e),31,30,31,30,31,31,30,31,30,31]}(s)[a]),c=new Date(e);return c.setFullYear(s),c.setDate(1),c.setMonth(a),c.setDate(A),c}(e,t*pf[n])}throw new TypeError('Invalid units: "'+n+'"')}function vf(e,t,n){return mf(e,-t,n)}function yf(e,t,n){switch(e=new Date(e),t){case hf:case df:case uf:e=Of(e,0);case lf:e=Pf(e,1);case cf:case Af:e=Rf(e,0);case af:e=_f(e,0);case sf:e=Ff(e,0);case of:e=Uf(e,0)}return t===df&&(e=vf(e,Nf(e)%10,"year")),t===hf&&(e=vf(e,Nf(e)%100,"year")),t===cf&&(e=Lf(e,0,n)),e}function wf(e,t,n){switch(e=yf(e=new Date(e),t,n),t){case hf:case df:case uf:case lf:case cf:(e=vf(e=mf(e,1,t),1,Af)).setHours(23,59,59,999);break;case Af:e.setHours(23,59,59,999);break;case af:case sf:case of:e=vf(e=mf(e,1,t),1,rf)}return e}var bf=Kf((function(e,t){return e===t})),Cf=Kf((function(e,t){return e!==t})),Bf=Kf((function(e,t){return e>t})),Sf=Kf((function(e,t){return e>=t})),Ef=Kf((function(e,t){return e<t})),kf=Kf((function(e,t){return e<=t}));function xf(){return new Date(Math.min.apply(Math,arguments))}function Tf(){return new Date(Math.max.apply(Math,arguments))}function If(e,t,n,r){return r=r||"day",(!t||Sf(e,t,r))&&(!n||kf(e,n,r))}var Uf=jf("Milliseconds"),Ff=jf("Seconds"),_f=jf("Minutes"),Rf=jf("Hours"),Qf=jf("Day"),Pf=jf("Date"),Of=jf("Month"),Nf=jf("FullYear");function Df(e,t){return void 0===t?Nf(yf(e,df)):mf(e,t+10,uf)}function Mf(e,t){return void 0===t?Nf(yf(e,hf)):mf(e,t+100,uf)}function Lf(e,t,n){var r=(Qf(e)+7-(n||0))%7;return void 0===t?r:mf(e,t-r,Af)}function Hf(e,t,n,r){var i,o,s;switch(n){case rf:case of:case sf:case af:case Af:case cf:i=t.getTime()-e.getTime();break;case lf:case uf:case df:case hf:i=12*(Nf(t)-Nf(e))+Of(t)-Of(e);break;default:throw new TypeError('Invalid units: "'+n+'"')}switch(n){case rf:o=1;break;case of:o=1e3;break;case sf:o=6e4;break;case af:o=36e5;break;case Af:o=864e5;break;case cf:o=6048e5;break;case lf:o=1;break;case uf:o=12;break;case df:o=120;break;case hf:o=1200;break;default:throw new TypeError('Invalid units: "'+n+'"')}return s=i/o,r?s:Math.round(s)}function jf(e){var t=function(e){switch(e){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(n,r){if(void 0===r)return n["get"+e]();var i=new Date(n);return i["set"+e](r),t&&i["get"+e]()!=r&&("Hours"===e||r>=t&&i.getHours()-n.getHours()<Math.floor(r/t))&&i["set"+e](r+t),i}}function Kf(e){return function(t,n,r){return e(+yf(t,r),+yf(n,r))}}function Vf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function qf(e){return function(e){if(Array.isArray(e))return Lh(e)}(e)||Vf(e)||Hh(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var $f=n(7084),Gf=n.n($f);function zf(e){return e&&e.ownerDocument||document}function Wf(e,t){return function(e){var t=zf(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Jf=/([A-Z])/g;var Yf=/^ms-/;function Xf(e){return function(e){return e.replace(Jf,"-$1").toLowerCase()}(e).replace(Yf,"-ms-")}var Zf=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const ep=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Xf(t))||Wf(e).getPropertyValue(Xf(t));Object.keys(t).forEach((function(i){var o=t[i];o||0===o?!function(e){return!(!e||!Zf.test(e))}(i)?n+=Xf(i)+": "+o+";":r+=i+"("+o+") ":e.style.removeProperty(Xf(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function tp(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function np(e){return"window"in e&&e.window===e?e:"nodeType"in(t=e)&&t.nodeType===document.DOCUMENT_NODE&&e.defaultView||!1;var t}function rp(e){var t="pageXOffset"===e?"scrollLeft":"scrollTop";return function(n,r){var i=np(n);if(void 0===r)return i?i[e]:n[t];i?i.scrollTo(i[e],r):n[t]=r}}const ip=rp("pageXOffset"),op=rp("pageYOffset");function sp(e){var t=zf(e),n={top:0,left:0,height:0,width:0},r=t&&t.documentElement;return r&&tp(r,e)?(void 0!==e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n={top:n.top+op(r)-(r.clientTop||0),left:n.left+ip(r)-(r.clientLeft||0),width:n.width,height:n.height}):n}function ap(e,t){var n,r={top:0,left:0};if("fixed"===ep(e,"position"))n=e.getBoundingClientRect();else{var i=t||function(e){for(var t,n=zf(e),r=e&&e.offsetParent;(t=r)&&"offsetParent"in t&&"HTML"!==r.nodeName&&"static"===ep(r,"position");)r=r.offsetParent;return r||n.documentElement}(e);n=sp(e),"html"!==function(e){return e.nodeName&&e.nodeName.toLowerCase()}(i)&&(r=sp(i));var o=String(ep(i,"borderTopWidth")||0);r.top+=parseInt(o,10)-op(i)||0;var s=String(ep(i,"borderLeftWidth")||0);r.left+=parseInt(s,10)-ip(i)||0}var a=String(ep(e,"marginTop")||0),A=String(ep(e,"marginLeft")||0);return Yh({},n,{top:n.top-r.top-(parseInt(a,10)||0),left:n.left-r.left-(parseInt(A,10)||0)})}const Ap=!("undefined"===typeof window||!window.document||!window.document.createElement);var cp=(new Date).getTime();var lp="clearTimeout",up=function(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-cp)),r=setTimeout(e,n);return cp=t,r},dp=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};Ap&&["","webkit","moz","o","ms"].some((function(e){var t=dp(e,"request");return t in window&&(lp=dp(e,"cancel"),up=function(e){return window[t](e)}),!!up}));var hp=function(e){"function"===typeof window[lp]&&window[lp](e)},fp=up;function pp(){return(0,a.useState)(null)}const gp=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const mp=function(e,t){return(0,a.useMemo)((()=>function(e,t){const n=gp(e),r=gp(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};var vp="top",yp="bottom",wp="right",bp="left",Cp="auto",Bp=[vp,yp,wp,bp],Sp="start",Ep="end",kp="viewport",xp="popper",Tp=Bp.reduce((function(e,t){return e.concat([t+"-"+Sp,t+"-"+Ep])}),[]),Ip=[].concat(Bp,[Cp]).reduce((function(e,t){return e.concat([t,t+"-"+Sp,t+"-"+Ep])}),[]),Up=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const Fp=function(e){const t=function(){const e=(0,a.useRef)(!0),t=(0,a.useRef)((()=>e.current));return(0,a.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}();return[e[0],(0,a.useCallback)((n=>{if(t())return e[1](n)}),[t,e[1]])]};function _p(e){return e.split("-")[0]}function Rp(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Qp(e){return e instanceof Rp(e).Element||e instanceof Element}function Pp(e){return e instanceof Rp(e).HTMLElement||e instanceof HTMLElement}function Op(e){return"undefined"!==typeof ShadowRoot&&(e instanceof Rp(e).ShadowRoot||e instanceof ShadowRoot)}var Np=Math.max,Dp=Math.min,Mp=Math.round;function Lp(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Hp(){return!/^((?!chrome|android).)*safari/i.test(Lp())}function jp(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),i=1,o=1;t&&Pp(e)&&(i=e.offsetWidth>0&&Mp(r.width)/e.offsetWidth||1,o=e.offsetHeight>0&&Mp(r.height)/e.offsetHeight||1);var s=(Qp(e)?Rp(e):window).visualViewport,a=!Hp()&&n,A=(r.left+(a&&s?s.offsetLeft:0))/i,c=(r.top+(a&&s?s.offsetTop:0))/o,l=r.width/i,u=r.height/o;return{width:l,height:u,top:c,right:A+l,bottom:c+u,left:A,x:A,y:c}}function Kp(e){var t=jp(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Vp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Op(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function qp(e){return e?(e.nodeName||"").toLowerCase():null}function $p(e){return Rp(e).getComputedStyle(e)}function Gp(e){return["table","td","th"].indexOf(qp(e))>=0}function zp(e){return((Qp(e)?e.ownerDocument:e.document)||window.document).documentElement}function Wp(e){return"html"===qp(e)?e:e.assignedSlot||e.parentNode||(Op(e)?e.host:null)||zp(e)}function Jp(e){return Pp(e)&&"fixed"!==$p(e).position?e.offsetParent:null}function Yp(e){for(var t=Rp(e),n=Jp(e);n&&Gp(n)&&"static"===$p(n).position;)n=Jp(n);return n&&("html"===qp(n)||"body"===qp(n)&&"static"===$p(n).position)?t:n||function(e){var t=/firefox/i.test(Lp());if(/Trident/i.test(Lp())&&Pp(e)&&"fixed"===$p(e).position)return null;var n=Wp(e);for(Op(n)&&(n=n.host);Pp(n)&&["html","body"].indexOf(qp(n))<0;){var r=$p(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function Xp(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Zp(e,t,n){return Np(e,Dp(t,n))}function eg(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function tg(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}const ng={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,i=e.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=_p(n.placement),A=Xp(a),c=[bp,wp].indexOf(a)>=0?"height":"width";if(o&&s){var l=function(e,t){return eg("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:tg(e,Bp))}(i.padding,n),u=Kp(o),d="y"===A?vp:bp,h="y"===A?yp:wp,f=n.rects.reference[c]+n.rects.reference[A]-s[A]-n.rects.popper[c],p=s[A]-n.rects.reference[A],g=Yp(o),m=g?"y"===A?g.clientHeight||0:g.clientWidth||0:0,v=f/2-p/2,y=l[d],w=m-u[c]-l[h],b=m/2-u[c]/2+v,C=Zp(y,b,w),B=A;n.modifiersData[r]=((t={})[B]=C,t.centerOffset=C-b,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Vp(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rg(e){return e.split("-")[1]}var ig={top:"auto",right:"auto",bottom:"auto",left:"auto"};function og(e){var t,n=e.popper,r=e.popperRect,i=e.placement,o=e.variation,s=e.offsets,a=e.position,A=e.gpuAcceleration,c=e.adaptive,l=e.roundOffsets,u=e.isFixed,d=s.x,h=void 0===d?0:d,f=s.y,p=void 0===f?0:f,g="function"===typeof l?l({x:h,y:p}):{x:h,y:p};h=g.x,p=g.y;var m=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),y=bp,w=vp,b=window;if(c){var C=Yp(n),B="clientHeight",S="clientWidth";if(C===Rp(n)&&"static"!==$p(C=zp(n)).position&&"absolute"===a&&(B="scrollHeight",S="scrollWidth"),i===vp||(i===bp||i===wp)&&o===Ep)w=yp,p-=(u&&C===b&&b.visualViewport?b.visualViewport.height:C[B])-r.height,p*=A?1:-1;if(i===bp||(i===vp||i===yp)&&o===Ep)y=wp,h-=(u&&C===b&&b.visualViewport?b.visualViewport.width:C[S])-r.width,h*=A?1:-1}var E,k=Object.assign({position:a},c&&ig),x=!0===l?function(e,t){var n=e.x,r=e.y,i=t.devicePixelRatio||1;return{x:Mp(n*i)/i||0,y:Mp(r*i)/i||0}}({x:h,y:p},Rp(n)):{x:h,y:p};return h=x.x,p=x.y,A?Object.assign({},k,((E={})[w]=v?"0":"",E[y]=m?"0":"",E.transform=(b.devicePixelRatio||1)<=1?"translate("+h+"px, "+p+"px)":"translate3d("+h+"px, "+p+"px, 0)",E)):Object.assign({},k,((t={})[w]=v?p+"px":"",t[y]=m?h+"px":"",t.transform="",t))}const sg={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,i=void 0===r||r,o=n.adaptive,s=void 0===o||o,a=n.roundOffsets,A=void 0===a||a,c={placement:_p(t.placement),variation:rg(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,og(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:A})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,og(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:A})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var ag={passive:!0};const Ag={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,i=r.scroll,o=void 0===i||i,s=r.resize,a=void 0===s||s,A=Rp(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach((function(e){e.addEventListener("scroll",n.update,ag)})),a&&A.addEventListener("resize",n.update,ag),function(){o&&c.forEach((function(e){e.removeEventListener("scroll",n.update,ag)})),a&&A.removeEventListener("resize",n.update,ag)}},data:{}};var cg={left:"right",right:"left",bottom:"top",top:"bottom"};function lg(e){return e.replace(/left|right|bottom|top/g,(function(e){return cg[e]}))}var ug={start:"end",end:"start"};function dg(e){return e.replace(/start|end/g,(function(e){return ug[e]}))}function hg(e){var t=Rp(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function fg(e){return jp(zp(e)).left+hg(e).scrollLeft}function pg(e){var t=$p(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function gg(e){return["html","body","#document"].indexOf(qp(e))>=0?e.ownerDocument.body:Pp(e)&&pg(e)?e:gg(Wp(e))}function mg(e,t){var n;void 0===t&&(t=[]);var r=gg(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Rp(r),s=i?[o].concat(o.visualViewport||[],pg(r)?r:[]):r,a=t.concat(s);return i?a:a.concat(mg(Wp(s)))}function vg(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function yg(e,t,n){return t===kp?vg(function(e,t){var n=Rp(e),r=zp(e),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,A=0;if(i){o=i.width,s=i.height;var c=Hp();(c||!c&&"fixed"===t)&&(a=i.offsetLeft,A=i.offsetTop)}return{width:o,height:s,x:a+fg(e),y:A}}(e,n)):Qp(t)?function(e,t){var n=jp(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):vg(function(e){var t,n=zp(e),r=hg(e),i=null==(t=e.ownerDocument)?void 0:t.body,o=Np(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Np(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+fg(e),A=-r.scrollTop;return"rtl"===$p(i||n).direction&&(a+=Np(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:A}}(zp(e)))}function wg(e,t,n,r){var i="clippingParents"===t?function(e){var t=mg(Wp(e)),n=["absolute","fixed"].indexOf($p(e).position)>=0&&Pp(e)?Yp(e):e;return Qp(n)?t.filter((function(e){return Qp(e)&&Vp(e,n)&&"body"!==qp(e)})):[]}(e):[].concat(t),o=[].concat(i,[n]),s=o[0],a=o.reduce((function(t,n){var i=yg(e,n,r);return t.top=Np(i.top,t.top),t.right=Dp(i.right,t.right),t.bottom=Dp(i.bottom,t.bottom),t.left=Np(i.left,t.left),t}),yg(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function bg(e){var t,n=e.reference,r=e.element,i=e.placement,o=i?_p(i):null,s=i?rg(i):null,a=n.x+n.width/2-r.width/2,A=n.y+n.height/2-r.height/2;switch(o){case vp:t={x:a,y:n.y-r.height};break;case yp:t={x:a,y:n.y+n.height};break;case wp:t={x:n.x+n.width,y:A};break;case bp:t={x:n.x-r.width,y:A};break;default:t={x:n.x,y:n.y}}var c=o?Xp(o):null;if(null!=c){var l="y"===c?"height":"width";switch(s){case Sp:t[c]=t[c]-(n[l]/2-r[l]/2);break;case Ep:t[c]=t[c]+(n[l]/2-r[l]/2)}}return t}function Cg(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=void 0===r?e.placement:r,o=n.strategy,s=void 0===o?e.strategy:o,a=n.boundary,A=void 0===a?"clippingParents":a,c=n.rootBoundary,l=void 0===c?kp:c,u=n.elementContext,d=void 0===u?xp:u,h=n.altBoundary,f=void 0!==h&&h,p=n.padding,g=void 0===p?0:p,m=eg("number"!==typeof g?g:tg(g,Bp)),v=d===xp?"reference":xp,y=e.rects.popper,w=e.elements[f?v:d],b=wg(Qp(w)?w:w.contextElement||zp(e.elements.popper),A,l,s),C=jp(e.elements.reference),B=bg({reference:C,element:y,strategy:"absolute",placement:i}),S=vg(Object.assign({},y,B)),E=d===xp?S:C,k={top:b.top-E.top+m.top,bottom:E.bottom-b.bottom+m.bottom,left:b.left-E.left+m.left,right:E.right-b.right+m.right},x=e.modifiersData.offset;if(d===xp&&x){var T=x[i];Object.keys(k).forEach((function(e){var t=[wp,yp].indexOf(e)>=0?1:-1,n=[vp,yp].indexOf(e)>=0?"y":"x";k[e]+=T[n]*t}))}return k}const Bg={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0===s||s,A=n.fallbackPlacements,c=n.padding,l=n.boundary,u=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,f=void 0===h||h,p=n.allowedAutoPlacements,g=t.options.placement,m=_p(g),v=A||(m===g||!f?[lg(g)]:function(e){if(_p(e)===Cp)return[];var t=lg(e);return[dg(e),t,dg(t)]}(g)),y=[g].concat(v).reduce((function(e,n){return e.concat(_p(n)===Cp?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,A=n.allowedAutoPlacements,c=void 0===A?Ip:A,l=rg(r),u=l?a?Tp:Tp.filter((function(e){return rg(e)===l})):Bp,d=u.filter((function(e){return c.indexOf(e)>=0}));0===d.length&&(d=u);var h=d.reduce((function(t,n){return t[n]=Cg(e,{placement:n,boundary:i,rootBoundary:o,padding:s})[_p(n)],t}),{});return Object.keys(h).sort((function(e,t){return h[e]-h[t]}))}(t,{placement:n,boundary:l,rootBoundary:u,padding:c,flipVariations:f,allowedAutoPlacements:p}):n)}),[]),w=t.rects.reference,b=t.rects.popper,C=new Map,B=!0,S=y[0],E=0;E<y.length;E++){var k=y[E],x=_p(k),T=rg(k)===Sp,I=[vp,yp].indexOf(x)>=0,U=I?"width":"height",F=Cg(t,{placement:k,boundary:l,rootBoundary:u,altBoundary:d,padding:c}),_=I?T?wp:bp:T?yp:vp;w[U]>b[U]&&(_=lg(_));var R=lg(_),Q=[];if(o&&Q.push(F[x]<=0),a&&Q.push(F[_]<=0,F[R]<=0),Q.every((function(e){return e}))){S=k,B=!1;break}C.set(k,Q)}if(B)for(var P=function(e){var t=y.find((function(t){var n=C.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return S=t,"break"},O=f?3:1;O>0;O--){if("break"===P(O))break}t.placement!==S&&(t.modifiersData[r]._skip=!0,t.placement=S,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Sg(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Eg(e){return[vp,wp,yp,bp].some((function(t){return e[t]>=0}))}const kg={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.offset,o=void 0===i?[0,0]:i,s=Ip.reduce((function(e,n){return e[n]=function(e,t,n){var r=_p(e),i=[bp,vp].indexOf(r)>=0?-1:1,o="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[bp,wp].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,o),e}),{}),a=s[t.placement],A=a.x,c=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=A,t.modifiersData.popperOffsets.y+=c),t.modifiersData[r]=s}};const xg={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,i=n.mainAxis,o=void 0===i||i,s=n.altAxis,a=void 0!==s&&s,A=n.boundary,c=n.rootBoundary,l=n.altBoundary,u=n.padding,d=n.tether,h=void 0===d||d,f=n.tetherOffset,p=void 0===f?0:f,g=Cg(t,{boundary:A,rootBoundary:c,padding:u,altBoundary:l}),m=_p(t.placement),v=rg(t.placement),y=!v,w=Xp(m),b="x"===w?"y":"x",C=t.modifiersData.popperOffsets,B=t.rects.reference,S=t.rects.popper,E="function"===typeof p?p(Object.assign({},t.rects,{placement:t.placement})):p,k="number"===typeof E?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),x=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,T={x:0,y:0};if(C){if(o){var I,U="y"===w?vp:bp,F="y"===w?yp:wp,_="y"===w?"height":"width",R=C[w],Q=R+g[U],P=R-g[F],O=h?-S[_]/2:0,N=v===Sp?B[_]:S[_],D=v===Sp?-S[_]:-B[_],M=t.elements.arrow,L=h&&M?Kp(M):{width:0,height:0},H=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},j=H[U],K=H[F],V=Zp(0,B[_],L[_]),q=y?B[_]/2-O-V-j-k.mainAxis:N-V-j-k.mainAxis,$=y?-B[_]/2+O+V+K+k.mainAxis:D+V+K+k.mainAxis,G=t.elements.arrow&&Yp(t.elements.arrow),z=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,W=null!=(I=null==x?void 0:x[w])?I:0,J=R+$-W,Y=Zp(h?Dp(Q,R+q-W-z):Q,R,h?Np(P,J):P);C[w]=Y,T[w]=Y-R}if(a){var X,Z="x"===w?vp:bp,ee="x"===w?yp:wp,te=C[b],ne="y"===b?"height":"width",re=te+g[Z],ie=te-g[ee],oe=-1!==[vp,bp].indexOf(m),se=null!=(X=null==x?void 0:x[b])?X:0,ae=oe?re:te-B[ne]-S[ne]-se+k.altAxis,Ae=oe?te+B[ne]+S[ne]-se-k.altAxis:ie,ce=h&&oe?function(e,t,n){var r=Zp(e,t,n);return r>n?n:r}(ae,te,Ae):Zp(h?ae:re,te,h?Ae:ie);C[b]=ce,T[b]=ce-te}t.modifiersData[r]=T}},requiresIfExists:["offset"]};function Tg(e,t,n){void 0===n&&(n=!1);var r=Pp(t),i=Pp(t)&&function(e){var t=e.getBoundingClientRect(),n=Mp(t.width)/e.offsetWidth||1,r=Mp(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),o=zp(t),s=jp(e,i,n),a={scrollLeft:0,scrollTop:0},A={x:0,y:0};return(r||!r&&!n)&&(("body"!==qp(t)||pg(o))&&(a=function(e){return e!==Rp(e)&&Pp(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:hg(e);var t}(t)),Pp(t)?((A=jp(t,!0)).x+=t.clientLeft,A.y+=t.clientTop):o&&(A.x=fg(o))),{x:s.left+a.scrollLeft-A.x,y:s.top+a.scrollTop-A.y,width:s.width,height:s.height}}function Ig(e){var t=new Map,n=new Set,r=[];function i(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&i(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||i(e)})),r}function Ug(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Fg={placement:"bottom",modifiers:[],strategy:"absolute"};function _g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Rg(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,i=t.defaultOptions,o=void 0===i?Fg:i;return function(e,t,n){void 0===n&&(n=o);var i={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fg,o),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,A={state:i,setOptions:function(n){var a="function"===typeof n?n(i.options):n;c(),i.options=Object.assign({},o,i.options,a),i.scrollParents={reference:Qp(e)?mg(e):e.contextElement?mg(e.contextElement):[],popper:mg(t)};var l=function(e){var t=Ig(e);return Up.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,i.options.modifiers)));return i.orderedModifiers=l.filter((function(e){return e.enabled})),i.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,o=e.effect;if("function"===typeof o){var a=o({state:i,name:t,instance:A,options:r}),c=function(){};s.push(a||c)}})),A.update()},forceUpdate:function(){if(!a){var e=i.elements,t=e.reference,n=e.popper;if(_g(t,n)){i.rects={reference:Tg(t,Yp(n),"fixed"===i.options.strategy),popper:Kp(n)},i.reset=!1,i.placement=i.options.placement,i.orderedModifiers.forEach((function(e){return i.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<i.orderedModifiers.length;r++)if(!0!==i.reset){var o=i.orderedModifiers[r],s=o.fn,c=o.options,l=void 0===c?{}:c,u=o.name;"function"===typeof s&&(i=s({state:i,options:l,name:u,instance:A})||i)}else i.reset=!1,r=-1}}},update:Ug((function(){return new Promise((function(e){A.forceUpdate(),e(i)}))})),destroy:function(){c(),a=!0}};if(!_g(e,t))return A;function c(){s.forEach((function(e){return e()})),s=[]}return A.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),A}}var Qg=Rg({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,s=Cg(t,{elementContext:"reference"}),a=Cg(t,{altBoundary:!0}),A=Sg(s,r),c=Sg(a,i,o),l=Eg(A),u=Eg(c);t.modifiersData[n]={referenceClippingOffsets:A,popperEscapeOffsets:c,isReferenceHidden:l,hasPopperEscaped:u},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":u})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=bg({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},sg,Ag,kg,Bg,xg,ng]}),Pg=function(e){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},Og={name:"applyStyles",enabled:!1},Ng={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(e){var t=e.state;return function(){var e=t.elements,n=e.reference,r=e.popper;if("removeAttribute"in n){var i=(n.getAttribute("aria-describedby")||"").split(",").filter((function(e){return e.trim()!==r.id}));i.length?n.setAttribute("aria-describedby",i.join(",")):n.removeAttribute("aria-describedby")}}},fn:function(e){var t,n=e.state.elements,r=n.popper,i=n.reference,o=null==(t=r.getAttribute("role"))?void 0:t.toLowerCase();if(r.id&&"tooltip"===o&&"setAttribute"in i){var s=i.getAttribute("aria-describedby");if(s&&-1!==s.split(",").indexOf(r.id))return;i.setAttribute("aria-describedby",s?s+","+r.id:r.id)}}},Dg=[];const Mg=function(e,t,n){var r=void 0===n?{}:n,i=r.enabled,o=void 0===i||i,s=r.placement,A=void 0===s?"bottom":s,c=r.strategy,l=void 0===c?"absolute":c,u=r.modifiers,d=void 0===u?Dg:u,h=xh(r,["enabled","placement","strategy","modifiers"]),f=(0,a.useRef)(),p=(0,a.useCallback)((function(){var e;null==(e=f.current)||e.update()}),[]),g=(0,a.useCallback)((function(){var e;null==(e=f.current)||e.forceUpdate()}),[]),m=Fp((0,a.useState)({placement:A,update:p,forceUpdate:g,attributes:{},styles:{popper:Pg(l),arrow:{}}})),v=m[0],y=m[1],w=(0,a.useMemo)((function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(e){var t=e.state,n={},r={};Object.keys(t.elements).forEach((function(e){n[e]=t.styles[e],r[e]=t.attributes[e]})),y({state:t,styles:n,attributes:r,update:p,forceUpdate:g,placement:t.placement})}}}),[p,g,y]);return(0,a.useEffect)((function(){f.current&&o&&f.current.setOptions({placement:A,strategy:l,modifiers:[].concat(d,[w,Og])})}),[l,A,w,o]),(0,a.useEffect)((function(){if(o&&null!=e&&null!=t)return f.current=Qg(e,t,Yh({},h,{placement:A,strategy:l,modifiers:[].concat(d,[Ng,w])})),function(){null!=f.current&&(f.current.destroy(),f.current=void 0,y((function(e){return Yh({},e,{attributes:{},styles:{popper:Pg(l)}})})))}}),[o,e,t]),v};var Lg=!1,Hg=!1;try{var jg={get passive(){return Lg=!0},get once(){return Hg=Lg=!0}};Ap&&(window.addEventListener("test",jg,jg),window.removeEventListener("test",jg,!0))}catch(hY){}const Kg=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Hg){var i=r.once,o=r.capture,s=n;!Hg&&i&&(s=n.__once||function e(r){this.removeEventListener(t,e,o),n.call(this,r)},n.__once=s),e.addEventListener(t,s,Lg?r:o)}e.addEventListener(t,n,r)};const Vg=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const qg=function(e,t,n,r){return Kg(e,t,n,r),function(){Vg(e,t,n,r)}};const $g=function(e){const t=(0,a.useRef)(e);return(0,a.useEffect)((()=>{t.current=e}),[e]),t};function Gg(e){const t=$g(e);return(0,a.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}var zg=n(6440),Wg=n.n(zg);const Jg=function(e){return zf(function(e){return e&&"setState"in e?$e.findDOMNode(e):null!=e?e:null}(e))};var Yg=function(){};var Xg=function(e){return e&&("current"in e?e.current:e)};const Zg=function(e,t,n){var r=void 0===n?{}:n,i=r.disabled,o=r.clickTrigger,s=void 0===o?"click":o,A=(0,a.useRef)(!1),c=t||Yg,l=(0,a.useCallback)((function(t){var n,r,i=Xg(e);Wg()(!!i,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),A.current=!i||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!tp(i,null!=(n=null==t.composedPath?void 0:t.composedPath()[0])?n:t.target)}),[e]),u=Gg((function(e){A.current||c(e)})),d=Gg((function(e){27===e.keyCode&&c(e)}));(0,a.useEffect)((function(){if(!i&&null!=e){var t=window.event,n=Jg(Xg(e)),r=qg(n,s,l,!0),o=qg(n,s,(function(e){e!==t?u(e):t=void 0})),a=qg(n,"keyup",(function(e){e!==t?d(e):t=void 0})),A=[];return"ontouchstart"in n.documentElement&&(A=[].slice.call(n.body.children).map((function(e){return qg(e,"mousemove",Yg)}))),function(){r(),o(),a(),A.forEach((function(e){return e()}))}}}),[e,i,s,l,u,d])};var em=function(e){var t;return"undefined"===typeof document?null:null==e?zf().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};function tm(e,t){var n=(0,a.useState)((function(){return em(e)})),r=n[0],i=n[1];if(!r){var o=em(e);o&&i(o)}return(0,a.useEffect)((function(){t&&r&&t(r)}),[t,r]),(0,a.useEffect)((function(){var t=em(e);t!==r&&i(t)}),[e,r]),r}function nm(e){return void 0===e&&(e={}),Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t].name=t,e[t]}))}function rm(e){var t,n,r,i,o=e.enabled,s=e.enableEvents,a=e.placement,A=e.flip,c=e.offset,l=e.fixed,u=e.containerPadding,d=e.arrowElement,h=e.popperConfig,f=void 0===h?{}:h,p=function(e){var t={};return Array.isArray(e)?(null==e||e.forEach((function(e){t[e.name]=e})),t):e||t}(f.modifiers);return Yh({},f,{placement:a,enabled:o,strategy:l?"fixed":f.strategy,modifiers:nm(Yh({},p,{eventListeners:{enabled:s},preventOverflow:Yh({},p.preventOverflow,{options:u?Yh({padding:u},null==(t=p.preventOverflow)?void 0:t.options):null==(n=p.preventOverflow)?void 0:n.options}),offset:{options:Yh({offset:c},null==(r=p.offset)?void 0:r.options)},arrow:Yh({},p.arrow,{enabled:!!d,options:Yh({},null==(i=p.arrow)?void 0:i.options,{element:d})}),flip:Yh({enabled:!!A},p.flip)}))})}var im=a.forwardRef((function(e,t){var n=e.flip,r=e.offset,i=e.placement,o=e.containerPadding,s=void 0===o?5:o,A=e.popperConfig,c=void 0===A?{}:A,l=e.transition,u=pp(),d=u[0],h=u[1],f=pp(),p=f[0],g=f[1],m=mp(h,t),v=tm(e.container),y=tm(e.target),w=(0,a.useState)(!e.show),b=w[0],C=w[1],B=Mg(y,d,rm({placement:i,enableEvents:!!e.show,containerPadding:s||5,flip:n,offset:r,arrowElement:p,popperConfig:c})),S=B.styles,E=B.attributes,k=xh(B,["styles","attributes"]);e.show?b&&C(!1):e.transition||b||C(!0);var x=e.show||l&&!b;if(Zg(d,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!x)return null;var T=e.children(Yh({},k,{show:!!e.show,props:Yh({},E.popper,{style:S.popper,ref:m}),arrowProps:Yh({},E.arrow,{style:S.arrow,ref:g})}));if(l){var I=e.onExit,U=e.onExiting,F=e.onEnter,_=e.onEntering,R=e.onEntered;T=a.createElement(l,{in:e.show,appear:!0,onExit:I,onExiting:U,onExited:function(){C(!0),e.onExited&&e.onExited.apply(e,arguments)},onEnter:F,onEntering:_,onEntered:R},T)}return v?$e.createPortal(T,v):null}));im.displayName="Overlay",im.propTypes={show:nf().bool,placement:nf().oneOf(Ip),target:nf().any,container:nf().any,flip:nf().bool,children:nf().func.isRequired,containerPadding:nf().number,popperConfig:nf().object,rootClose:nf().bool,rootCloseEvent:nf().oneOf(["click","mousedown"]),rootCloseDisabled:nf().bool,onHide:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return e.rootClose?(i=nf().func).isRequired.apply(i,[e].concat(n)):nf().func.apply(nf(),[e].concat(n))},transition:nf().elementType,onEnter:nf().func,onEntering:nf().func,onEntered:nf().func,onExit:nf().func,onExiting:nf().func,onExited:nf().func};const om=im;var sm=n(9853),am=n.n(sm);function Am(e,t){var n=np(e);return n?n.innerHeight:t?e.clientHeight:sp(e).height}var cm,lm=Function.prototype.bind.call(Function.prototype.call,[].slice);function um(e,t){if(!cm){var n=document.body,r=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;cm=function(e,t){return r.call(e,t)}}return cm(e,t)}function dm(e,t,n){e.closest&&!n&&e.closest(t);var r=e;do{if(um(r,t))return r;r=r.parentElement}while(r&&r!==n&&r.nodeType===document.ELEMENT_NODE);return null}var hm=n(2520),fm=n.n(hm),pm=n(6604),gm=n.n(pm),mm=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function vm(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(r=e[n],i=t[n],!(r===i||mm(r)&&mm(i)))return!1;var r,i;return!0}function ym(e,t){void 0===t&&(t=vm);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}function wm(e,t){var n=np(e);return n?n.innerWidth:t?e.clientWidth:sp(e).width}var bm,Cm=n(7424),Bm=n.n(Cm);function Sm(e){if((!bm&&0!==bm||e)&&Ap){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),bm=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return bm}function Em(e){return Mh(e)||Vf(e)||Hh(e)||jh()}function km(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var xm=n(1163),Tm=n.n(xm),Im=n(1733),Um=n.n(Im),Fm=n(1488),_m=n.n(Fm),Rm=n(2717),Qm=n.n(Rm);n(1525),n(4462),n(8933),n(199),n(4443),n(7227),n(640);function Pm(e){return e.children}var Om="PREV",Nm="NEXT",Dm="TODAY",Mm="DATE",Lm={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Hm=Object.keys(Lm).map((function(e){return Lm[e]}));nf().oneOfType([nf().string,nf().func]),nf().any,nf().func,nf().oneOfType([nf().arrayOf(nf().oneOf(Hm)),nf().objectOf((function(e,t){if(-1!==Hm.indexOf(t)&&"boolean"===typeof e[t])return null;for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return nf().elementType.apply(nf(),[e,t].concat(r))}))]),nf().oneOfType([nf().oneOf(["overlap","no-overlap"]),nf().func]);var jm={seconds:1e3,minutes:6e4,hours:36e5,day:864e5};function Km(e,t){var n=yf(e,"month");return yf(n,"week",t.startOfWeek())}function Vm(e,t){var n=wf(e,"month");return wf(n,"week",t.startOfWeek())}function qm(e,t){for(var n=Km(e,t),r=Vm(e,t),i=[];kf(n,r,"day");)i.push(n),n=mf(n,1,"day");return i}function $m(e,t){var n=yf(e,t);return bf(n,e)?n:mf(n,1,t)}function Gm(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"day",r=e,i=[];kf(r,t,n);)i.push(r),r=mf(r,1,n);return i}function zm(e,t){return null==t&&null==e?null:(null==t&&(t=new Date),null==e&&(e=new Date),e=yf(e,"day"),e=Rf(e,Rf(t)),e=_f(e,_f(t)),e=Ff(e,Ff(t)),Uf(e,Uf(t)))}function Wm(e){return 0===Rf(e)&&0===_f(e)&&0===Ff(e)&&0===Uf(e)}function Jm(e,t,n){return n&&"milliseconds"!==n?Math.round(Math.abs(+yf(e,n)/jm[n]-+yf(t,n)/jm[n])):Math.abs(+e-+t)}var Ym=nf().oneOfType([nf().string,nf().func]);function Xm(e,t,n,r,i){var o="function"===typeof r?r(n,i,e):t.call(e,n,r,i);return Gh()(null==o||"string"===typeof o,"`localizer format(..)` must return a string, null, or undefined"),o}function Zm(e,t,n){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+n,0,0)}function ev(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function tv(e,t){return Jm(e,t,"minutes")+ev(e,t)}function nv(e){var t=yf(e,"day");return Jm(t,e,"minutes")+ev(t,e)}function rv(e,t){return Ef(e,t,"day")}function iv(e,t,n){return bf(e,t,"minutes")?Sf(t,n,"minutes"):Bf(t,n,"minutes")}function ov(t,n){return function(t,n,r,i){return"day"===r&&(r="date"),Math.abs(e[r](t,void 0,i)-e[r](n,void 0,i))}(t,n,"day")}function sv(e){var t=e.evtA,n=t.start,r=t.end,i=t.allDay,o=e.evtB,s=o.start,a=o.end,A=o.allDay,c=+yf(n,"day")-+yf(s,"day"),l=ov(n,r),u=ov(s,a);return c||u-l||!!A-!!i||+n-+s||+r-+a}function av(e){var t=e.event,n=t.start,r=t.end,i=e.range,o=i.start,s=i.end,a=yf(n,"day"),A=kf(a,s,"day"),c=Cf(a,r,"minutes")?Bf(r,o,"minutes"):Sf(r,o,"minutes");return A&&c}function Av(e,t){return bf(e,t,"day")}function cv(e,t){return Wm(e)&&Wm(t)}var lv=Fh((function e(t){var n=this;Ih(this,e),Gh()("function"===typeof t.format,"date localizer `format(..)` must be a function"),Gh()("function"===typeof t.firstOfWeek,"date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||Ym,this.formats=t.formats,this.format=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return Xm.apply(void 0,[n,t.format].concat(r))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||zm,this.inRange=t.inRange||If,this.lt=t.lt||Ef,this.lte=t.lte||kf,this.gt=t.gt||Bf,this.gte=t.gte||Sf,this.eq=t.eq||bf,this.neq=t.neq||Cf,this.startOf=t.startOf||yf,this.endOf=t.endOf||wf,this.add=t.add||mf,this.range=t.range||Gm,this.diff=t.diff||Jm,this.ceil=t.ceil||$m,this.min=t.min||xf,this.max=t.max||Tf,this.minutes=t.minutes||_f,this.daySpan=t.daySpan||ov,this.firstVisibleDay=t.firstVisibleDay||Km,this.lastVisibleDay=t.lastVisibleDay||Vm,this.visibleDays=t.visibleDays||qm,this.getSlotDate=t.getSlotDate||Zm,this.getTimezoneOffset=t.getTimezoneOffset||function(e){return e.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||ev,this.getTotalMin=t.getTotalMin||tv,this.getMinutesFromMidnight=t.getMinutesFromMidnight||nv,this.continuesPrior=t.continuesPrior||rv,this.continuesAfter=t.continuesAfter||iv,this.sortEvents=t.sortEvents||sv,this.inEventRange=t.inEventRange||av,this.isSameDate=t.isSameDate||Av,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||cv,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0}));function uv(e,t,n,r){var i=kh(kh({},e.formats),n);return kh(kh({},e),{},{messages:r,startOfWeek:function(){return e.startOfWeek(t)},format:function(n,r){return e.format(n,i[r]||r,t)}})}var dv=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).navigate=function(t){e.props.onNavigate(t)},e.view=function(t){e.props.onView(t)},e}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,t=e.localizer.messages,n=e.label;return a.createElement("div",{className:"rbc-toolbar"},a.createElement("span",{className:"rbc-btn-group"},a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Dm)},t.today),a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Om)},t.previous),a.createElement("button",{type:"button",onClick:this.navigate.bind(null,Nm)},t.next)),a.createElement("span",{className:"rbc-toolbar-label"},n),a.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(t)))}},{key:"viewNamesGroup",value:function(e){var t=this,n=this.props.views,r=this.props.view;if(n.length>1)return n.map((function(n){return a.createElement("button",{type:"button",key:n,className:qh({"rbc-active":r===n}),onClick:t.view.bind(null,n)},e[n])}))}}])}(a.Component);function hv(e,t){e&&e.apply(null,[].concat(t))}var fv={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(e){return"+".concat(e," more")}};var pv=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],gv=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.className,r=e.event,i=e.selected,o=e.isAllDay,s=e.onSelect,A=e.onDoubleClick,c=e.onKeyPress,l=e.localizer,u=e.continuesPrior,d=e.continuesAfter,h=e.accessors,f=e.getters,p=e.children,g=e.components,m=g.event,v=g.eventWrapper,y=e.slotStart,w=e.slotEnd,b=Th(e,pv);delete b.resizable;var C=h.title(r),B=h.tooltip(r),S=h.end(r),E=h.start(r),k=h.allDay(r),x=o||k||l.diff(E,l.ceil(S,"day"),"day")>1,T=f.eventProp(r,E,S,i),I=a.createElement("div",{className:"rbc-event-content",title:B||void 0},m?a.createElement(m,{event:r,continuesPrior:u,continuesAfter:d,title:C,isAllDay:k,localizer:l,slotStart:y,slotEnd:w}):C);return a.createElement(v,Object.assign({},this.props,{type:"date"}),a.createElement("div",Object.assign({},b,{style:kh(kh({},T.style),t),className:qh("rbc-event",n,T.className,{"rbc-selected":i,"rbc-event-allday":x,"rbc-event-continues-prior":u,"rbc-event-continues-after":d}),onClick:function(e){return s&&s(r,e)},onDoubleClick:function(e){return A&&A(r,e)},onKeyDown:function(e){return c&&c(r,e)}}),"function"===typeof p?p(I):I))}}])}(a.Component);function mv(e,t){return!(!e||null==t)&&am()(e,t)}function vv(e,t){return(e.right-e.left)/t}function yv(e,t,n,r){var i=vv(e,r);return n?r-1-Math.floor((t-e.left)/i):Math.floor((t-e.left)/i)}function wv(e){var t=e.containerRef,n=e.accessors,r=e.getters,i=e.selected,o=e.components,s=e.localizer,A=e.position,c=e.show,l=e.events,u=e.slotStart,d=e.slotEnd,h=e.onSelect,f=e.onDoubleClick,p=e.onKeyPress,g=e.handleDragStart,m=e.popperRef,v=e.target,y=e.offset;!function(e){var t=e.ref,n=e.callback;(0,a.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&n()};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[t,n])}({ref:m,callback:c}),(0,a.useLayoutEffect)((function(){var e=function(e){var t=e.target,n=e.offset,r=e.container,i=e.box,o=sp(t),s=o.top,a=o.left,A=o.width,c=o.height,l=sp(r),u=l.top,d=l.left,h=l.width,f=l.height,p=sp(i),g=p.width,m=p.height,v=u+f,y=d+h,w=s+m,b=a+g,C=n.x,B=n.y;return{topOffset:w>v?s-m-B:s+B+c,leftOffset:b>y?a+C-g+A:a+C}}({target:v,offset:y,container:t.current,box:m.current}),n=e.topOffset,r=e.leftOffset;m.current.style.top="".concat(n,"px"),m.current.style.left="".concat(r,"px")}),[y.x,y.y,v]);var w=A.width,b={minWidth:w+w/2};return a.createElement("div",{style:b,className:"rbc-overlay",ref:m},a.createElement("div",{className:"rbc-overlay-header"},s.format(u,"dayHeaderFormat")),l.map((function(e,t){return a.createElement(gv,{key:t,type:"popup",localizer:s,event:e,getters:r,onSelect:h,accessors:n,components:o,onDoubleClick:f,onKeyPress:p,continuesPrior:s.lt(n.end(e),u,"day"),continuesAfter:s.gte(n.start(e),d,"day"),slotStart:u,slotEnd:d,selected:mv(e,i),draggable:!0,onDragStart:function(){return g(e)},onDragEnd:function(){return c()}})})))}var bv=a.forwardRef((function(e,t){return a.createElement(wv,Object.assign({},e,{popperRef:t}))}));function Cv(e){var t=e.containerRef,n=e.popupOffset,r=void 0===n?5:n,i=e.overlay,o=e.accessors,s=e.localizer,A=e.components,c=e.getters,l=e.selected,u=e.handleSelectEvent,d=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,f=e.handleDragStart,p=e.onHide,g=e.overlayDisplay,m=(0,a.useRef)(null);if(!i.position)return null;var v=r;isNaN(r)||(v={x:r,y:r});var y=i.position,w=i.events,b=i.date,C=i.end;return a.createElement(om,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:p,target:i.target},(function(e){var n=e.props;return a.createElement(bv,Object.assign({},n,{containerRef:t,ref:m,target:i.target,offset:v,accessors:o,getters:c,selected:l,components:A,localizer:s,position:y,show:g,events:w,slotStart:b,slotEnd:C,onSelect:u,onDoubleClick:d,onKeyPress:h,handleDragStart:f}))}))}bv.propTypes={accessors:nf().object.isRequired,getters:nf().object.isRequired,selected:nf().object,components:nf().object.isRequired,localizer:nf().object.isRequired,position:nf().object.isRequired,show:nf().func.isRequired,events:nf().array.isRequired,slotStart:nf().instanceOf(Date).isRequired,slotEnd:nf().instanceOf(Date),onSelect:nf().func,onDoubleClick:nf().func,onKeyPress:nf().func,handleDragStart:nf().func,style:nf().object,offset:nf().shape({x:nf().number,y:nf().number})};var Bv=a.forwardRef((function(e,t){return a.createElement(Cv,Object.assign({},e,{containerRef:t}))}));function Sv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;return qg(n,e,t,{passive:!1})}function Ev(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return dm(document.elementFromPoint(n,r),".rbc-event",e)}(e,t)}function kv(e,t){return!!function(e,t){var n=t.clientX,r=t.clientY;return dm(document.elementFromPoint(n,r),".rbc-show-more",e)}(e,t)}function xv(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}Bv.propTypes={popupOffset:nf().oneOfType([nf().number,nf().shape({x:nf().number,y:nf().number})]),overlay:nf().shape({position:nf().object,events:nf().array,date:nf().instanceOf(Date),end:nf().instanceOf(Date)}),accessors:nf().object.isRequired,localizer:nf().object.isRequired,components:nf().object.isRequired,getters:nf().object.isRequired,selected:nf().object,handleSelectEvent:nf().func,handleDoubleClickEvent:nf().func,handleKeyPressEvent:nf().func,handleDragStart:nf().func,onHide:nf().func,overlayDisplay:nf().func};var Tv=function(){return Fh((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.global,i=void 0!==r&&r,o=n.longPressThreshold,s=void 0===o?250:o,a=n.validContainers,A=void 0===a?[]:a;Ih(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||i,this.longPressThreshold=s,this.validContainers=A,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Sv("touchmove",(function(){}),window),this._removeKeyDownListener=Sv("keydown",this._keyListener),this._removeKeyUpListener=Sv("keyup",this._keyListener),this._removeDropFromOutsideListener=Sv("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Sv("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}),[{key:"on",value:function(e,t){var n=this._listeners[e]||(this._listeners[e]=[]);return n.push(t),{remove:function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}}}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i;return(this._listeners[e]||[]).forEach((function(e){void 0===i&&(i=e.apply(void 0,n))})),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(e){var t=this._selectRect;return!(!t||!this.selecting)&&Iv(t,Uv(e))}},{key:"filter",value:function(e){return this._selectRect&&this.selecting?e.filter(this.isSelected,this):[]}},{key:"_addLongPressListener",value:function(e,t){var n=this,r=null,i=null,o=null,s=function(t){r=setTimeout((function(){A(),e(t)}),n.longPressThreshold),i=Sv("touchmove",(function(){return A()})),o=Sv("touchend",(function(){return A()}))},a=Sv("touchstart",s),A=function(){r&&clearTimeout(r),i&&i(),o&&o(),r=null,i=null,o=null};return t&&s(t),function(){A(),a()}}},{key:"_addInitialEventListener",value:function(){var e=this,t=Sv("mousedown",(function(t){e._removeInitialEventListener(),e._handleInitialEvent(t),e._removeInitialEventListener=Sv("mousedown",e._handleInitialEvent)})),n=Sv("touchstart",(function(t){e._removeInitialEventListener(),e._removeInitialEventListener=e._addLongPressListener(e._handleInitialEvent,t)}));this._removeInitialEventListener=function(){t(),n()}}},{key:"_dropFromOutsideListener",value:function(e){var t=xv(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dropFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(e){var t=xv(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY;this.emit("dragOverFromOutside",{x:n,y:r,clientX:i,clientY:o}),e.preventDefault()}},{key:"_handleInitialEvent",value:function(e){if(this._initialEvent=e,!this.isDetached){var t,n=xv(e),r=n.clientX,i=n.clientY,o=n.pageX,s=n.pageY,a=this.container();if(3!==e.which&&2!==e.button&&(c=r,l=i,!(A=a)||tp(A,document.elementFromPoint(c,l)))){var A,c,l;if(!this.globalMouse&&a&&!tp(a,e.target)){var u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;"object"!==xl(e)&&(e={top:e,left:e,right:e,bottom:e});return e}(0),d=u.top,h=u.left,f=u.bottom,p=u.right;if(!Iv({top:(t=Uv(a)).top-d,left:t.left-h,bottom:t.bottom+f,right:t.right+p},{top:s,left:o}))return}if(!1!==this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(e.type),x:o,y:s,clientX:r,clientY:i}))switch(e.type){case"mousedown":this._removeEndListener=Sv("mouseup",this._handleTerminatingEvent),this._onEscListener=Sv("keydown",this._handleTerminatingEvent),this._removeMoveListener=Sv("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(e),this._removeEndListener=Sv("touchend",this._handleTerminatingEvent),this._removeMoveListener=Sv("touchmove",this._handleMoveEvent)}}}}},{key:"_isWithinValidContainer",value:function(e){var t=e.target,n=this.validContainers;return!(n&&n.length&&t)||n.some((function(e){return!!t.closest(e)}))}},{key:"_handleTerminatingEvent",value:function(e){var t=this.selecting,n=this._selectRect;if(!t&&e.type.includes("key")&&(e=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,e){var r=!this.container||tp(this.container(),e.target),i=this._isWithinValidContainer(e);return"Escape"!==e.key&&i?!t&&r?this._handleClickEvent(e):t?this.emit("select",n):this.emit("reset"):this.emit("reset")}}},{key:"_handleClickEvent",value:function(e){var t=xv(e),n=t.pageX,r=t.pageY,i=t.clientX,o=t.clientY,s=(new Date).getTime();return this._lastClickData&&s-this._lastClickData.timestamp<250?(this._lastClickData=null,this.emit("doubleClick",{x:n,y:r,clientX:i,clientY:o})):(this._lastClickData={timestamp:s},this.emit("click",{x:n,y:r,clientX:i,clientY:o}))}},{key:"_handleMoveEvent",value:function(e){if(null!==this._initialEventData&&!this.isDetached){var t=this._initialEventData,n=t.x,r=t.y,i=xv(e),o=i.pageX,s=i.pageY,a=Math.abs(n-o),A=Math.abs(r-s),c=Math.min(o,n),l=Math.min(s,r),u=this.selecting,d=this.isClick(o,s);(!d||u||a||A)&&(u||d||this.emit("selectStart",this._initialEventData),d||(this.selecting=!0,this._selectRect={top:l,left:c,x:o,y:s,right:c+a,bottom:l+A},this.emit("selecting",this._selectRect)),e.preventDefault())}}},{key:"_keyListener",value:function(e){this.ctrl=e.metaKey||e.ctrlKey}},{key:"isClick",value:function(e,t){var n=this._initialEventData,r=n.x,i=n.y;return!n.isTouch&&Math.abs(e-r)<=5&&Math.abs(t-i)<=5}}])}();function Iv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=Uv(e),i=r.top,o=r.left,s=r.right,a=void 0===s?o:s,A=r.bottom,c=void 0===A?i:A,l=Uv(t),u=l.top,d=l.left,h=l.right,f=void 0===h?d:h,p=l.bottom;return!(c-n<u||i+n>(void 0===p?u:p)||a-n<d||o+n>f)}function Uv(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),n=t.left+Fv("left"),r=t.top+Fv("top");return{top:r,left:n,right:(e.offsetWidth||0)+n,bottom:(e.offsetHeight||0)+r}}function Fv(e){return"left"===e?window.pageXOffset||document.body.scrollLeft||0:"top"===e?window.pageYOffset||document.body.scrollTop||0:void 0}var _v=function(e){function t(e,n){var r;return Ih(this,t),(r=Oh(this,t,[e,n])).state={selecting:!1},r.containerRef=(0,a.createRef)(),r}return Dh(t,e),Fh(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(e){!e.selectable&&this.props.selectable&&this._selectable(),e.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var e=this.props,t=e.range,n=e.getNow,r=e.getters,i=e.date,o=e.components.dateCellWrapper,s=e.localizer,A=this.state,c=A.selecting,l=A.startIdx,u=A.endIdx,d=n();return a.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},t.map((function(e,n){var A=c&&n>=l&&n<=u,h=r.dayProp(e),f=h.className,p=h.style;return a.createElement(o,{key:n,value:e,range:t},a.createElement("div",{style:p,className:qh("rbc-day-bg",f,A&&"rbc-selected-cell",s.isSameDate(e,d)&&"rbc-today",i&&s.neq(i,e,"month")&&"rbc-off-range-bg")}))})))}},{key:"_selectable",value:function(){var e=this,t=this.containerRef.current,n=this._selector=new Tv(this.props.container,{longPressThreshold:this.props.longPressThreshold}),r=function(n,r){if(!Ev(t,n)&&!kv(t,n)){var i=Uv(t),o=e.props,s=o.range,a=o.rtl;if(function(e,t){var n=t.x,r=t.y;return r>=e.top&&r<=e.bottom&&n>=e.left&&n<=e.right}(i,n)){var A=yv(i,n.x,a,s.length);e._selectSlot({startIdx:A,endIdx:A,action:r,box:n})}}e._initial={},e.setState({selecting:!1})};n.on("selecting",(function(r){var i=e.props,o=i.range,s=i.rtl,a=-1,A=-1;if(e.state.selecting||(hv(e.props.onSelectStart,[r]),e._initial={x:r.x,y:r.y}),n.isSelected(t)){var c=Uv(t),l=function(e,t,n,r,i){var o=-1,s=-1,a=r-1,A=vv(t,r),c=yv(t,n.x,i,r),l=t.top<n.y&&t.bottom>n.y,u=t.top<e.y&&t.bottom>e.y,d=e.y>t.bottom,h=t.top>e.y;return n.top<t.top&&n.bottom>t.bottom&&(o=0,s=a),l&&(h?(o=0,s=c):d&&(o=c,s=a)),u&&(o=s=i?a-Math.floor((e.x-t.left)/A):Math.floor((e.x-t.left)/A),l?c<o?o=c:s=c:e.y<n.y?s=a:o=0),{startIdx:o,endIdx:s}}(e._initial,c,r,o.length,s);a=l.startIdx,A=l.endIdx}e.setState({selecting:!0,startIdx:a,endIdx:A})})),n.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!Ev(e.containerRef.current,t)})),n.on("click",(function(e){return r(e,"click")})),n.on("doubleClick",(function(e){return r(e,"doubleClick")})),n.on("select",(function(t){e._selectSlot(kh(kh({},e.state),{},{action:"select",bounds:t})),e._initial={},e.setState({selecting:!1}),hv(e.props.onSelectEnd,[e.state])}))}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(e){var t=e.endIdx,n=e.startIdx,r=e.action,i=e.bounds,o=e.box;-1!==t&&-1!==n&&this.props.onSelectSlot&&this.props.onSelectSlot({start:n,end:t,action:r,bounds:i,box:o,resourceId:this.props.resourceId})}}])}(a.Component),Rv=(nf().object.isRequired,nf().object,nf().bool,nf().object.isRequired,nf().object.isRequired,nf().object.isRequired,nf().object.isRequired,nf().func,nf().func,nf().func,{segments:[],selected:{}}),Qv=function(e,t){var n=e.selected;e.isAllDay;var r=e.accessors,i=e.getters,o=e.onSelect,s=e.onDoubleClick,A=e.onKeyPress,c=e.localizer,l=e.slotMetrics,u=e.components,d=e.resizable,h=l.continuesPrior(t),f=l.continuesAfter(t);return a.createElement(gv,{event:t,getters:i,localizer:c,accessors:r,components:u,onSelect:o,onDoubleClick:s,onKeyPress:A,continuesPrior:h,continuesAfter:f,slotStart:l.first,slotEnd:l.last,selected:mv(t,n),resizable:d})},Pv=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:" ",i=Math.abs(t)/e*100+"%";return a.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:i,flexBasis:i,maxWidth:i}},r)},Ov=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.segments,r=t.slotMetrics.slots,i=t.className,o=1;return a.createElement("div",{className:qh(i,"rbc-row")},n.reduce((function(t,n,i){var s=n.event,a=n.left,A=n.right,c=n.span,l="_lvl_"+i,u=a-o,d=Qv(e.props,s);return u&&t.push(Pv(r,u,"".concat(l,"_gap"))),t.push(Pv(r,c,l,d)),o=A+1,t}),[]))}}])}(a.Component);function Nv(e){var t=e.dateRange,n=e.unit,r=void 0===n?"day":n,i=e.localizer;return{first:t[0],last:i.add(t[t.length-1],1,r)}}function Dv(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0,o=[],s=[];for(t=0;t<e.length;t++){for(r=e[t],n=0;n<o.length&&Lv(r,o[n]);n++);n>=i?s.push(r):(o[n]||(o[n]=[])).push(r)}for(t=0;t<o.length;t++)o[t].sort((function(e,t){return e.left-t.left}));return{levels:o,extra:s}}function Mv(e,t,n,r,i){var o={start:r.start(e),end:r.end(e)},s={start:t,end:n};return i.inEventRange({event:o,range:s})}function Lv(e,t){return t.some((function(t){return t.left<=e.right&&t.right>=e.left}))}function Hv(e,t,n,r){var i={start:n.start(e),end:n.end(e),allDay:n.allDay(e)},o={start:n.start(t),end:n.end(t),allDay:n.allDay(t)};return r.sortEvents({evtA:i,evtB:o})}Ov.defaultProps=kh({},Rv);var jv=function(e,t){return e.left<=t&&e.right>=t},Kv=function(e,t){return e.filter((function(e){return jv(e,t)})).map((function(e){return e.event}))},Vv=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){for(var e=this.props,t=e.segments,n=e.slotMetrics.slots,r=Dv(t).levels[0],i=1,o=1,s=[];i<=n;){var A="_lvl_"+i,c=r.filter((function(e){return jv(e,i)}))[0]||{},l=c.event,u=c.left,d=c.right,h=c.span;if(l){var f=Math.max(0,u-o);if(this.canRenderSlotEvent(u,h)){var p=Qv(this.props,l);f&&s.push(Pv(n,f,A+"_gap")),s.push(Pv(n,h,A,p)),o=i=d+1}else f&&s.push(Pv(n,f,A+"_gap")),s.push(Pv(n,1,A,this.renderShowMore(t,i))),o=i+=1}else i++}return a.createElement("div",{className:"rbc-row"},s)}},{key:"canRenderSlotEvent",value:function(e,t){var n=this.props.segments;return gm()(e,e+t).every((function(e){return 1===Kv(n,e).length}))}},{key:"renderShowMore",value:function(e,t){var n=this,r=this.props,i=r.localizer,o=r.slotMetrics,s=r.components,A=o.getEventsForSlot(t),c=Kv(e,t),l=c.length;if(null!==s&&void 0!==s&&s.showMore){var u=s.showMore,d=o.getDateForSlot(t-1);return!!l&&a.createElement(u,{localizer:i,slotDate:d,slot:t,count:l,events:A,remainingEvents:c})}return!!l&&a.createElement("button",{type:"button",key:"sm_"+t,className:qh("rbc-button-link","rbc-show-more"),onClick:function(e){return n.showMore(t,e)}},i.messages.showMore(l,c,A))}},{key:"showMore",value:function(e,t){t.preventDefault(),t.stopPropagation(),this.props.onShowMore(e,t.target)}}])}(a.Component);Vv.defaultProps=kh({},Rv);var qv=function(e){var t=e.children;return a.createElement("div",{className:"rbc-row-content-scroll-container"},t)},$v=function(e,t){return e[0].range===t[0].range&&e[0].events===t[0].events};function Gv(){return ym((function(e){for(var t=e.range,n=e.events,r=e.maxRows,i=e.minRows,o=e.accessors,s=e.localizer,a=Nv({dateRange:t,localizer:s}),A=a.first,c=a.last,l=n.map((function(e){return function(e,t,n,r){var i=Nv({dateRange:t,localizer:r}),o=i.first,s=i.last,a=r.diff(o,s,"day"),A=r.max(r.startOf(n.start(e),"day"),o),c=r.min(r.ceil(n.end(e),"day"),s),l=fm()(t,(function(e){return r.isSameDate(e,A)})),u=r.diff(A,c,"day");return u=Math.min(u,a),{event:e,span:u=Math.max(u-r.segmentOffset,1),left:l+1,right:Math.max(l+u,1)}}(e,t,o,s)})),u=Dv(l,Math.max(r-1,1)),d=u.levels,h=u.extra,f=h.length>0?i-1:i;d.length<f;)d.push([]);return{first:A,last:c,levels:d,extra:h,range:t,slots:t.length,clone:function(t){return Gv()(kh(kh({},e),t))},getDateForSlot:function(e){return t[e]},getSlotForDate:function(e){return t.find((function(t){return s.isSameDate(t,e)}))},getEventsForSlot:function(e){return l.filter((function(t){return function(e,t){return e.left<=t&&e.right>=t}(t,e)})).map((function(e){return e.event}))},continuesPrior:function(e){return s.continuesPrior(o.start(e),A)},continuesAfter:function(e){var t=o.start(e),n=o.end(e);return s.continuesAfter(t,n,c)}}}),$v)}var zv=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).handleSelectSlot=function(t){var n=e.props,r=n.range;(0,n.onSelectSlot)(r.slice(t.start,t.end+1),t)},e.handleShowMore=function(t,n){var r,i,o,s=e.props,a=s.range,A=s.onShowMore,c=e.slotMetrics(e.props),l=(r=e.containerRef.current,i=".rbc-row-bg",lm(r.querySelectorAll(i)))[0];l&&(o=l.children[t-1]),A(c.getEventsForSlot(t),a[t-1],o,t,n)},e.getContainer=function(){var t=e.props.container;return t?t():e.containerRef.current},e.renderHeadingCell=function(t,n){var r=e.props,i=r.renderHeader,o=r.getNow,s=r.localizer;return i({date:t,key:"header_".concat(n),className:qh("rbc-date-cell",s.isSameDate(t,o())&&"rbc-now")})},e.renderDummy=function(){var t=e.props,n=t.className,r=t.range,i=t.renderHeader,o=t.showAllEvents;return a.createElement("div",{className:n,ref:e.containerRef},a.createElement("div",{className:qh("rbc-row-content",o&&"rbc-row-content-scrollable")},i&&a.createElement("div",{className:"rbc-row",ref:e.headingRowRef},r.map(e.renderHeadingCell)),a.createElement("div",{className:"rbc-row",ref:e.eventRowRef},a.createElement("div",{className:"rbc-row-segment"},a.createElement("div",{className:"rbc-event"},a.createElement("div",{className:"rbc-event-content"},"\xa0"))))))},e.containerRef=(0,a.createRef)(),e.headingRowRef=(0,a.createRef)(),e.eventRowRef=(0,a.createRef)(),e.slotMetrics=Gv(),e}return Dh(t,e),Fh(t,[{key:"getRowLimit",value:function(){var e,t=Am(this.eventRowRef.current),n=null!==(e=this.headingRowRef)&&void 0!==e&&e.current?Am(this.headingRowRef.current):0,r=Am(this.containerRef.current)-n;return Math.max(Math.floor(r/t),1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.rtl,r=e.range,i=e.className,o=e.selected,s=e.selectable,A=e.renderForMeasure,c=e.accessors,l=e.getters,u=e.components,d=e.getNow,h=e.renderHeader,f=e.onSelect,p=e.localizer,g=e.onSelectStart,m=e.onSelectEnd,v=e.onDoubleClick,y=e.onKeyPress,w=e.resourceId,b=e.longPressThreshold,C=e.isAllDay,B=e.resizable,S=e.showAllEvents;if(A)return this.renderDummy();var E=this.slotMetrics(this.props),k=E.levels,x=E.extra,T=S?qv:Pm,I=u.weekWrapper,U={selected:o,accessors:c,getters:l,localizer:p,components:u,onSelect:f,onDoubleClick:v,onKeyPress:y,resourceId:w,slotMetrics:E,resizable:B};return a.createElement("div",{className:i,role:"rowgroup",ref:this.containerRef},a.createElement(_v,{localizer:p,date:t,getNow:d,rtl:n,range:r,selectable:s,container:this.getContainer,getters:l,onSelectStart:g,onSelectEnd:m,onSelectSlot:this.handleSelectSlot,components:u,longPressThreshold:b,resourceId:w}),a.createElement("div",{className:qh("rbc-row-content",S&&"rbc-row-content-scrollable"),role:"row"},h&&a.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},r.map(this.renderHeadingCell)),a.createElement(T,null,a.createElement(I,Object.assign({isAllDay:C},U,{rtl:this.props.rtl}),k.map((function(e,t){return a.createElement(Ov,Object.assign({key:t,segments:e},U))})),!!x.length&&a.createElement(Vv,Object.assign({segments:x,onShowMore:this.handleShowMore},U))))))}}])}(a.Component);zv.defaultProps={minRows:0,maxRows:1/0};var Wv=function(e){var t=e.label;return a.createElement("span",{role:"columnheader","aria-sort":"none"},t)},Jv=function(e){var t=e.label,n=e.drilldownView,r=e.onDrillDown;return n?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:r},t):a.createElement("span",null,t)},Yv=["date","className"],Xv=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).getContainer=function(){return e.containerRef.current},e.renderWeek=function(t,n){var r=e.props,i=r.events,o=r.components,s=r.selectable,A=r.getNow,c=r.selected,l=r.date,u=r.localizer,d=r.longPressThreshold,h=r.accessors,f=r.getters,p=r.showAllEvents,g=e.state,m=g.needLimitMeasure,v=g.rowLimit,y=function(e,t,n,r,i){return e.filter((function(e){return Mv(e,t,n,r,i)}))}(qf(i),t[0],t[t.length-1],h,u),w=function(e,t,n){var r=qf(e),i=[],o=[];r.forEach((function(e){var r=t.start(e),s=t.end(e);n.daySpan(r,s)>1?i.push(e):o.push(e)}));var s=i.sort((function(e,r){return Hv(e,r,t,n)})),a=o.sort((function(e,r){return Hv(e,r,t,n)}));return[].concat(qf(s),qf(a))}(y,h,u);return a.createElement(zv,{key:n,ref:0===n?e.slotRowRef:void 0,container:e.getContainer,className:"rbc-month-row",getNow:A,date:l,range:t,events:w,maxRows:p?1/0:v,selected:c,selectable:s,components:o,accessors:h,getters:f,localizer:u,renderHeader:e.readerDateHeading,renderForMeasure:m,onShowMore:e.handleShowMore,onSelect:e.handleSelectEvent,onDoubleClick:e.handleDoubleClickEvent,onKeyPress:e.handleKeyPressEvent,onSelectSlot:e.handleSelectSlot,longPressThreshold:d,rtl:e.props.rtl,resizable:e.props.resizable,showAllEvents:p})},e.readerDateHeading=function(t){var n=t.date,r=t.className,i=Th(t,Yv),o=e.props,s=o.date,A=o.getDrilldownView,c=o.localizer,l=c.neq(n,s,"month"),u=c.isSameDate(n,s),d=A(n),h=c.format(n,"dateFormat"),f=e.props.components.dateHeader||Jv;return a.createElement("div",Object.assign({},i,{className:qh(r,l&&"rbc-off-range",u&&"rbc-current"),role:"cell"}),a.createElement(f,{label:h,date:n,drilldownView:d,isOffRange:l,onDrillDown:function(t){return e.handleHeadingClick(n,d,t)}}))},e.handleSelectSlot=function(t,n){e._pendingSelection=e._pendingSelection.concat(t),clearTimeout(e._selectTimer),e._selectTimer=setTimeout((function(){return e.selectDates(n)}))},e.handleHeadingClick=function(t,n,r){r.preventDefault(),e.clearSelection(),hv(e.props.onDrillDown,[t,n])},e.handleSelectEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){e.clearSelection();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onKeyPressEvent,n)},e.handleShowMore=function(t,n,r,i,o){var s=e.props,a=s.popup,A=s.onDrillDown,c=s.onShowMore,l=s.getDrilldownView,u=s.doShowMoreDrillDown;if(e.clearSelection(),a){var d=ap(r,e.containerRef.current);e.setState({overlay:{date:n,events:t,position:d,target:o}})}else u&&hv(A,[n,l(n)||Lm.DAY]);hv(c,[t,n,i])},e.overlayDisplay=function(){e.setState({overlay:null})},e.state={rowLimit:5,needLimitMeasure:!0,date:null},e.containerRef=(0,a.createRef)(),e.slotRowRef=(0,a.createRef)(),e._bgRows=[],e._pendingSelection=[],e}return Dh(t,e),Fh(t,[{key:"componentDidMount",value:function(){var e,t=this;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){e||fp((function(){e=!1,t.setState({needLimitMeasure:!0})}))},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.className,i=n.visibleDays(t,n),o=Gf()(i,7);return this._weekCount=o.length,a.createElement("div",{className:qh("rbc-month-view",r),role:"table","aria-label":"Month View",ref:this.containerRef},a.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(o[0])),o.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(e){var t=this.props,n=t.localizer,r=t.components,i=e[0],o=e[e.length-1],s=r.header||Wv;return n.range(i,o,"day").map((function(e,t){return a.createElement("div",{key:"header_"+t,className:"rbc-header"},a.createElement(s,{date:e,localizer:n,label:n.format(e,"weekdayFormat")}))}))}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},i=this.props,o=i.accessors,s=i.localizer,A=i.components,c=i.getters,l=i.selected,u=i.popupOffset,d=i.handleDragStart;return a.createElement(Bv,{overlay:r,accessors:o,localizer:s,components:A,getters:c,selected:l,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:d,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(e){var t=this._pendingSelection.slice();this._pendingSelection=[],t.sort((function(e,t){return+e-+t}));var n=new Date(t[0]),r=new Date(t[t.length-1]);r.setDate(t[t.length-1].getDate()+1),hv(this.props.onSelectSlot,{slots:t,start:n,end:r,action:e.action,bounds:e.bounds,box:e.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.date;return{date:n,needLimitMeasure:e.localizer.neq(n,t.date,"month")}}}])}(a.Component);Xv.range=function(e,t){var n=t.localizer;return{start:n.firstVisibleDay(e,n),end:n.lastVisibleDay(e,n)}},Xv.navigate=function(e,t,n){var r=n.localizer;switch(t){case Om:return r.add(e,-1,"month");case Nm:return r.add(e,1,"month");default:return e}},Xv.title=function(e,t){return t.localizer.format(e,"monthHeaderFormat")};var Zv=function(e){var t=e.min,n=e.max,r=e.step,i=e.slots,o=e.localizer;return"".concat(+o.startOf(t,"minutes"))+"".concat(+o.startOf(n,"minutes"))+"".concat(r,"-").concat(i)};function ey(e){for(var t=e.min,n=e.max,r=e.step,i=e.timeslots,o=e.localizer,s=Zv({start:t,end:n,step:r,timeslots:i,localizer:o}),a=1+o.getTotalMin(t,n),A=o.getMinutesFromMidnight(t),c=Math.ceil((a-1)/(r*i)),l=c*i,u=new Array(c),d=new Array(l),h=0;h<c;h++){u[h]=new Array(i);for(var f=0;f<i;f++){var p=h*i+f,g=p*r;d[p]=u[h][f]=o.getSlotDate(t,A,g)}}var m=d.length*r;function v(e){var n=o.diff(t,e,"minutes")+o.getDstOffset(t,e);return Math.min(n,a)}return d.push(o.getSlotDate(t,A,m)),{groups:u,update:function(e){return Zv(e)!==s?ey(e):this},dateIsInGroup:function(e,t){var r=u[t+1];return o.inRange(e,u[t][0],r?r[0]:n,"minutes")},nextSlot:function(e){var t=d[Math.min(d.findIndex((function(t){return t===e||o.eq(t,e)}))+1,d.length-1)];return o.eq(t,e)&&(t=o.add(e,r,"minutes")),t},closestSlotToPosition:function(e){var t=Math.min(d.length-1,Math.max(0,Math.floor(e*l)));return d[t]},closestSlotFromPoint:function(e,t){var n=Math.abs(t.top-t.bottom);return this.closestSlotToPosition((e.y-t.top)/n)},closestSlotFromDate:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(o.lt(e,t,"minutes"))return d[0];if(o.gt(e,n,"minutes"))return d[d.length-1];var s=o.diff(t,e,"minutes");return d[(s-s%r)/r+i]},startsBeforeDay:function(e){return o.lt(e,t,"day")},startsAfterDay:function(e){return o.gt(e,n,"day")},startsBefore:function(e){return o.lt(o.merge(t,e),t,"minutes")},startsAfter:function(e){return o.gt(o.merge(n,e),n,"minutes")},getRange:function(e,i,s,a){s||(e=o.min(n,o.max(t,e))),a||(i=o.min(n,o.max(t,i)));var A=v(e),c=v(i),u=c>r*l&&!o.eq(n,i)?(A-r)/(r*l)*100:A/(r*l)*100;return{top:u,height:c/(r*l)*100-u,start:v(e),startDate:e,end:v(i),endDate:i}},getCurrentTimePosition:function(e){return v(e)/(r*l)*100}}}var ty=function(){return Fh((function e(t,n){var r=n.accessors,i=n.slotMetrics;Ih(this,e);var o=i.getRange(r.start(t),r.end(t)),s=o.start,a=o.startDate,A=o.end,c=o.endDate,l=o.top,u=o.height;this.start=s,this.end=A,this.startMs=+a,this.endMs=+c,this.top=l,this.height=u,this.data=t}),[{key:"_width",get:function(){return this.rows?100/(this.rows.reduce((function(e,t){return Math.max(e,t.leaves.length+1)}),0)+1):this.leaves?(100-this.container._width)/(this.leaves.length+1):this.row._width}},{key:"width",get:function(){var e=this._width,t=Math.min(100,1.7*this._width);if(this.rows)return t;if(this.leaves)return this.leaves.length>0?t:e;var n=this.row.leaves;return n.indexOf(this)===n.length-1?e:t}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var e=this.row,t=e.leaves,n=e.xOffset,r=e._width;return n+(t.indexOf(this)+1)*r}}])}();function ny(e,t,n){return Math.abs(t.start-e.start)<n||t.start>e.start&&t.start<e.end}function ry(e){for(var t=e.events,n=e.minimumStartDifference,r=e.slotMetrics,i=e.accessors,o=function(e){for(var t=Bm()(e,["startMs",function(e){return-e.endMs}]),n=[];t.length>0;){var r=t.shift();n.push(r);for(var i=0;i<t.length;i++){var o=t[i];if(!(r.endMs>o.startMs)){if(i>0){var s=t.splice(i,1)[0];n.push(s)}break}}}return n}(t.map((function(e){return new ty(e,{slotMetrics:r,accessors:i})}))),s=[],a=function(){var e=o[A],t=s.find((function(t){return t.end>e.start||Math.abs(e.start-t.start)<n}));if(!t)return e.rows=[],s.push(e),1;e.container=t;for(var r=null,i=t.rows.length-1;!r&&i>=0;i--)ny(t.rows[i],e,n)&&(r=t.rows[i]);r?(r.leaves.push(e),e.row=r):(e.leaves=[],t.rows.push(e))},A=0;A<o.length;A++)a();return o.map((function(e){return{event:e.data,style:{top:e.top,height:e.height,width:e.width,xOffset:Math.max(0,e.xOffset)}}}))}function iy(e,t,n){for(var r=0;r<e.friends.length;++r)if(!(n.indexOf(e.friends[r])>-1)){t=t>e.friends[r].idx?t:e.friends[r].idx,n.push(e.friends[r]);var i=iy(e.friends[r],t,n);t=t>i?t:i}return t}var oy={overlap:ry,"no-overlap":function(e){var t=ry({events:e.events,minimumStartDifference:e.minimumStartDifference,slotMetrics:e.slotMetrics,accessors:e.accessors});t.sort((function(e,t){return e=e.style,t=t.style,e.top!==t.top?e.top>t.top?1:-1:e.height!==t.height?e.top+e.height<t.top+t.height?1:-1:0}));for(var n=0;n<t.length;++n)t[n].friends=[],delete t[n].style.left,delete t[n].style.left,delete t[n].idx,delete t[n].size;for(var r=0;r<t.length-1;++r)for(var i=t[r],o=i.style.top,s=i.style.top+i.style.height,a=r+1;a<t.length;++a){var A=t[a],c=A.style.top,l=A.style.top+A.style.height;(c>=o&&l<=s||l>o&&l<=s||c>=o&&c<s)&&(i.friends.push(A),A.friends.push(i))}for(var u=0;u<t.length;++u){for(var d=t[u],h=[],f=0;f<100;++f)h.push(1);for(var p=0;p<d.friends.length;++p)void 0!==d.friends[p].idx&&(h[d.friends[p].idx]=0);d.idx=h.indexOf(1)}for(var g=0;g<t.length;++g){var m;if(!t[g].size){var v=[];m=100/(iy(t[g],0,v)+1),t[g].size=m;for(var y=0;y<v.length;++y)v[y].size=m}}for(var w=0;w<t.length;++w){var b=t[w];b.style.left=b.idx*b.size;for(var C=0,B=0;B<b.friends.length;++B){var S=b.friends[B].idx;C=C>S?C:S}C<=b.idx&&(b.size=100-b.idx*b.size);var E=0===b.idx?0:3;b.style.width="calc(".concat(b.size,"% - ").concat(E,"px)"),b.style.height="calc(".concat(b.style.height,"% - 2px)"),b.style.xOffset="calc(".concat(b.style.left,"% + ").concat(E,"px)")}return t}};var sy=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,t=e.renderSlot,n=e.resource,r=e.group,i=e.getters,o=e.components,s=(void 0===o?{}:o).timeSlotWrapper,A=void 0===s?Pm:s,c=i?i.slotGroupProp(r):{};return a.createElement("div",Object.assign({className:"rbc-timeslot-group"},c),r.map((function(e,r){var o=i?i.slotProp(e,n):{};return a.createElement(A,{key:r,value:e,resource:n},a.createElement("div",Object.assign({},o,{className:qh("rbc-time-slot",o.className)}),t&&t(e,r)))})))}}])}(a.Component);function ay(e){return"string"===typeof e?e:e+"%"}function Ay(e){var t=e.style,n=e.className,r=e.event,i=e.accessors,o=e.rtl,s=e.selected,A=e.label,c=e.continuesPrior,l=e.continuesAfter,u=e.getters,d=e.onClick,h=e.onDoubleClick,f=e.isBackgroundEvent,p=e.onKeyPress,g=e.components,m=g.event,v=g.eventWrapper,y=i.title(r),w=i.tooltip(r),b=i.end(r),C=i.start(r),B=u.eventProp(r,C,b,s),S=[a.createElement("div",{key:"1",className:"rbc-event-label"},A),a.createElement("div",{key:"2",className:"rbc-event-content"},m?a.createElement(m,{event:r,title:y}):y)],E=t.height,k=t.top,x=t.width,T=t.xOffset,I=kh(kh({},B.style),{},Sh({top:ay(k),height:ay(E),width:ay(x)},o?"right":"left",ay(T)));return a.createElement(v,Object.assign({type:"time"},e),a.createElement("div",{role:"button",tabIndex:0,onClick:d,onDoubleClick:h,style:I,onKeyDown:p,title:w?("string"===typeof A?A+": ":"")+w:void 0,className:qh(f?"rbc-background-event":"rbc-event",n,B.className,{"rbc-selected":s,"rbc-event-continues-earlier":c,"rbc-event-continues-later":l})},S))}var cy=function(e){var t=e.children,n=e.className,r=e.style,i=e.innerRef;return a.createElement("div",{className:n,style:r,ref:i},t)},ly=a.forwardRef((function(e,t){return a.createElement(cy,Object.assign({},e,{innerRef:t}))})),uy=["dayProp"],dy=["eventContainerWrapper"],hy=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).state={selecting:!1,timeIndicatorPosition:null},e.intervalTriggered=!1,e.renderEvents=function(t){var n=t.events,r=t.isBackgroundEvent,i=e.props,o=i.rtl,s=i.selected,A=i.accessors,c=i.localizer,l=i.getters,u=i.components,d=i.step,h=i.timeslots,f=i.dayLayoutAlgorithm,p=i.resizable,g=e.slotMetrics,m=c.messages,v=function(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t,n=e.dayLayoutAlgorithm,r=n;return n in oy&&(r=oy[n]),(t=r)&&t.constructor&&t.call&&t.apply?r.apply(this,arguments):[]}({events:n,accessors:A,slotMetrics:g,minimumStartDifference:Math.ceil(d*h/2),dayLayoutAlgorithm:f});return v.map((function(t,n){var i,d,h=t.event,f=t.style,v=A.end(h),y=A.start(h),w=null!==(i=A.eventId(h))&&void 0!==i?i:"evt_"+n,b="eventTimeRangeFormat",C=g.startsBeforeDay(y),B=g.startsAfterDay(v);C?b="eventTimeRangeEndFormat":B&&(b="eventTimeRangeStartFormat"),d=C&&B?m.allDay:c.format({start:y,end:v},b);var S=C||g.startsBefore(y),E=B||g.startsAfter(v);return a.createElement(Ay,{style:f,event:h,label:d,key:w,getters:l,rtl:o,components:u,continuesPrior:S,continuesAfter:E,accessors:A,resource:e.props.resource,selected:mv(h,s),onClick:function(t){return e._select(kh(kh(kh({},h),e.props.resource&&{sourceResource:e.props.resource}),r&&{isBackgroundEvent:!0}),t)},onDoubleClick:function(t){return e._doubleClick(h,t)},isBackgroundEvent:r,onKeyPress:function(t){return e._keyPress(h,t)},resizable:p})}))},e._selectable=function(){var t=e.containerRef.current,n=e.props,r=n.longPressThreshold,i=n.localizer,o=e._selector=new Tv((function(){return t}),{longPressThreshold:r}),s=function(t){var n=e.props.onSelecting,r=e.state||{},o=a(t),s=o.startDate,A=o.endDate;n&&(i.eq(r.startDate,s,"minutes")&&i.eq(r.endDate,A,"minutes")||!1===n({start:s,end:A,resourceId:e.props.resource}))||e.state.start===o.start&&e.state.end===o.end&&e.state.selecting===o.selecting||e.setState(o)},a=function(n){var r=e.slotMetrics.closestSlotFromPoint(n,Uv(t));e.state.selecting||(e._initialSlot=r);var o=e._initialSlot;i.lte(o,r)?r=e.slotMetrics.nextSlot(r):i.gt(o,r)&&(o=e.slotMetrics.nextSlot(o));var s=e.slotMetrics.getRange(i.min(o,r),i.max(o,r));return kh(kh({},s),{},{selecting:!0,top:"".concat(s.top,"%"),height:"".concat(s.height,"%")})},A=function(t,n){if(!Ev(e.containerRef.current,t)){var r=a(t),i=r.startDate,o=r.endDate;e._selectSlot({startDate:i,endDate:o,action:n,box:t})}e.setState({selecting:!1})};o.on("selecting",s),o.on("selectStart",s),o.on("beforeSelect",(function(t){if("ignoreEvents"===e.props.selectable)return!Ev(e.containerRef.current,t)})),o.on("click",(function(e){return A(e,"click")})),o.on("doubleClick",(function(e){return A(e,"doubleClick")})),o.on("select",(function(t){e.state.selecting&&(e._selectSlot(kh(kh({},e.state),{},{action:"select",bounds:t})),e.setState({selecting:!1}))})),o.on("reset",(function(){e.state.selecting&&e.setState({selecting:!1})}))},e._teardownSelectable=function(){e._selector&&(e._selector.teardown(),e._selector=null)},e._selectSlot=function(t){for(var n=t.startDate,r=t.endDate,i=t.action,o=t.bounds,s=t.box,a=n,A=[];e.props.localizer.lte(a,r);)A.push(a),a=new Date(+a+60*e.props.step*1e3);hv(e.props.onSelectSlot,{slots:A,start:n,end:r,resourceId:e.props.resource,action:i,bounds:o,box:s})},e._select=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onSelectEvent,n)},e._doubleClick=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onDoubleClickEvent,n)},e._keyPress=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onKeyPressEvent,n)},e.slotMetrics=ey(e.props),e.containerRef=(0,a.createRef)(),e}return Dh(t,e),Fh(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(e,t){this.props.selectable&&!e.selectable&&this._selectable(),!this.props.selectable&&e.selectable&&this._teardownSelectable();var n=this.props,r=n.getNow,i=n.isNow,o=n.localizer,s=n.date,a=n.min,A=n.max,c=o.neq(e.getNow(),r(),"minutes");if(e.isNow!==i||c){if(this.clearTimeIndicatorInterval(),i){var l=!c&&o.eq(e.date,s,"minutes")&&t.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(l)}}else i&&(o.neq(e.min,a,"minutes")||o.neq(e.max,A,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.intervalTriggered||t||this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout((function(){e.intervalTriggered=!0,e.positionTimeIndicator(),e.setTimeIndicatorPositionUpdateInterval()}),6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var e=this.props,t=e.min,n=e.max,r=(0,e.getNow)();if(r>=t&&r<=n){var i=this.slotMetrics.getCurrentTimePosition(r);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:i})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var e=this.props,t=e.date,n=e.max,r=e.rtl,i=e.isNow,o=e.resource,s=e.accessors,A=e.localizer,c=e.getters,l=c.dayProp,u=Th(c,uy),d=e.components,h=d.eventContainerWrapper,f=Th(d,dy);this.slotMetrics=this.slotMetrics.update(this.props);var p=this.slotMetrics,g=this.state,m=g.selecting,v=g.top,y=g.height,w={start:g.startDate,end:g.endDate},b=l(n,o),C=b.className,B=b.style,S=f.dayColumnWrapper||ly;return a.createElement(S,{ref:this.containerRef,date:t,style:B,className:qh(C,"rbc-day-slot","rbc-time-column",i&&"rbc-now",i&&"rbc-today",m&&"rbc-slot-selecting"),slotMetrics:p,resource:o},p.groups.map((function(e,t){return a.createElement(sy,{key:t,group:e,resource:o,getters:u,components:f})})),a.createElement(h,{localizer:A,resource:o,accessors:s,getters:u,components:f,slotMetrics:p},a.createElement("div",{className:qh("rbc-events-container",r&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),m&&a.createElement("div",{className:"rbc-slot-selection",style:{top:v,height:y}},a.createElement("span",null,A.format(w,"selectRangeFormat"))),i&&this.intervalTriggered&&a.createElement("div",{className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}}))}}])}(a.Component);hy.defaultProps={dragThroughEvents:!0,timeslots:2};var fy=function(e){var t=e.label;return a.createElement(a.Fragment,null,t)},py=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).handleHeaderClick=function(t,n,r){r.preventDefault(),hv(e.props.onDrillDown,[t,n])},e.renderRow=function(t){var n=e.props,r=n.events,i=n.rtl,o=n.selectable,s=n.getNow,A=n.range,c=n.getters,l=n.localizer,u=n.accessors,d=n.components,h=n.resizable,f=u.resourceId(t),p=t?r.filter((function(e){return u.resource(e)===f})):r;return a.createElement(zv,{isAllDay:!0,rtl:i,getNow:s,minRows:2,maxRows:e.props.allDayMaxRows+1,range:A,events:p,resourceId:f,className:"rbc-allday-cell",selectable:o,selected:e.props.selected,components:d,accessors:u,getters:c,localizer:l,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyPress:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:h})},e}return Dh(t,e),Fh(t,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,i=n.getDrilldownView,o=n.getNow,s=n.getters.dayProp,A=n.components.header,c=void 0===A?Wv:A,l=o();return e.map((function(e,n){var o=i(e),A=r.format(e,"dayFormat"),u=s(e),d=u.className,h=u.style,f=a.createElement(c,{date:e,label:A,localizer:r});return a.createElement("div",{key:n,style:h,className:qh("rbc-header",d,r.isSameDate(e,l)&&"rbc-today")},o?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(n){return t.handleHeaderClick(e,o,n)}},f):a.createElement("span",null,f))}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.width,r=t.rtl,i=t.resources,o=t.range,s=t.events,A=t.getNow,c=t.accessors,l=t.selectable,u=t.components,d=t.getters,h=t.scrollRef,f=t.localizer,p=t.isOverflowing,g=t.components,m=g.timeGutterHeader,v=g.resourceHeader,y=void 0===v?fy:v,w=t.resizable,b={};p&&(b[r?"marginLeft":"marginRight"]="".concat(Sm()-1,"px"));var C=i.groupEvents(s);return a.createElement("div",{style:b,ref:h,className:qh("rbc-time-header",p&&"rbc-overflowing")},a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:n,minWidth:n,maxWidth:n}},m&&a.createElement(m,null)),i.map((function(t,n){var i=Kh(t,2),s=i[0],h=i[1];return a.createElement("div",{className:"rbc-time-header-content",key:s||n},h&&a.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(n)},a.createElement("div",{className:"rbc-header"},a.createElement(y,{index:n,label:c.resourceTitle(h),resource:h}))),a.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(o.length<=1?" rbc-time-header-cell-single-day":"")},e.renderHeaderCells(o)),a.createElement(zv,{isAllDay:!0,rtl:r,getNow:A,minRows:2,maxRows:e.props.allDayMaxRows+1,range:o,events:C.get(s)||[],resourceId:h&&s,className:"rbc-allday-cell",selectable:l,selected:e.props.selected,components:u,accessors:c,getters:d,localizer:f,onSelect:e.props.onSelectEvent,onShowMore:e.props.onShowMore,onDoubleClick:e.props.onDoubleClickEvent,onKeyDown:e.props.onKeyPressEvent,onSelectSlot:e.props.onSelectSlot,longPressThreshold:e.props.longPressThreshold,resizable:w}))})))}}])}(a.Component),gy=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).handleHeaderClick=function(t,n,r){r.preventDefault(),hv(e.props.onDrillDown,[t,n])},e}return Dh(t,e),Fh(t,[{key:"renderHeaderCells",value:function(e){var t=this,n=this.props,r=n.localizer,i=n.getDrilldownView,o=n.getNow,s=n.getters.dayProp,A=n.components,c=A.header,l=void 0===c?Wv:c,u=A.resourceHeader,d=void 0===u?fy:u,h=n.resources,f=n.accessors,p=n.events,g=n.rtl,m=n.selectable,v=n.components,y=n.getters,w=n.resizable,b=o(),C=h.groupEvents(p);return e.map((function(n,A){var c=i(n),u=r.format(n,"dayFormat"),p=s(n),B=p.className,S=p.style,E=a.createElement(l,{date:n,label:u,localizer:r});return a.createElement("div",{key:A,className:"rbc-time-header-content rbc-resource-grouping"},a.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(e.length<=1?" rbc-time-header-cell-single-day":"")},a.createElement("div",{style:S,className:qh("rbc-header",B,r.isSameDate(n,b)&&"rbc-today")},c?a.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(e){return t.handleHeaderClick(n,c,e)}},E):a.createElement("span",null,E))),a.createElement("div",{className:"rbc-row"},h.map((function(e,t){var i=Kh(e,2),o=i[0],s=i[1];return a.createElement("div",{key:"resource_".concat(o,"_").concat(t),className:qh("rbc-header",B,r.isSameDate(n,b)&&"rbc-today")},a.createElement(d,{index:t,label:f.resourceTitle(s),resource:s}))}))),a.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},h.map((function(e,i){var s=Kh(e,2),A=s[0],c=s[1],l=(C.get(A)||[]).filter((function(e){return r.isSameDate(e.start,n)||r.isSameDate(e.end,n)}));return a.createElement(zv,{key:"resource_".concat(A,"_").concat(i),isAllDay:!0,rtl:g,getNow:o,minRows:2,maxRows:t.props.allDayMaxRows+1,range:[n],events:l,resourceId:c&&A,className:"rbc-allday-cell",selectable:m,selected:t.props.selected,components:v,accessors:f,getters:y,localizer:r,onSelect:t.props.onSelectEvent,onShowMore:t.props.onShowMore,onDoubleClick:t.props.onDoubleClickEvent,onKeyDown:t.props.onKeyPressEvent,onSelectSlot:t.props.onSelectSlot,longPressThreshold:t.props.longPressThreshold,resizable:w})}))))}))}},{key:"render",value:function(){var e=this.props,t=e.width,n=e.rtl,r=e.range,i=e.scrollRef,o=e.isOverflowing,s=e.components.timeGutterHeader,A={};return o&&(A[n?"marginLeft":"marginRight"]="".concat(Sm()-1,"px")),a.createElement("div",{style:A,ref:i,className:qh("rbc-time-header",o&&"rbc-overflowing")},a.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:t,minWidth:t,maxWidth:t}},s&&a.createElement(s,null)),this.renderHeaderCells(r))}}])}(a.Component);var my=function(e){var t=e.min,n=e.max,r=e.timeslots,i=e.step,o=e.localizer,s=e.getNow,A=e.resource,c=e.components,l=e.getters,u=e.gutterRef,d=c.timeGutterWrapper,h=(0,a.useMemo)((function(){return function(e){var t=e.min,n=e.max,r=e.localizer;return r.getTimezoneOffset(t)!==r.getTimezoneOffset(n)?{start:r.add(t,-1,"day"),end:r.add(n,-1,"day")}:{start:t,end:n}}({min:t,max:n,localizer:o})}),[null===t||void 0===t?void 0:t.toISOString(),null===n||void 0===n?void 0:n.toISOString(),o]),f=h.start,p=h.end,g=Kh((0,a.useState)(ey({min:f,max:p,timeslots:r,step:i,localizer:o})),2),m=g[0],v=g[1];(0,a.useEffect)((function(){m&&v(m.update({min:f,max:p,timeslots:r,step:i,localizer:o}))}),[null===f||void 0===f?void 0:f.toISOString(),null===p||void 0===p?void 0:p.toISOString(),r,i]);var y=(0,a.useCallback)((function(e,t){if(t)return null;var n=m.dateIsInGroup(s(),t);return a.createElement("span",{className:qh("rbc-label",n&&"rbc-now")},o.format(e,"timeGutterFormat"))}),[m,o,s]);return a.createElement(d,{slotMetrics:m},a.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:u},m.groups.map((function(e,t){return a.createElement(sy,{key:t,group:e,resource:A,components:c,renderSlot:y,getters:l})}))))},vy=a.forwardRef((function(e,t){return a.createElement(my,Object.assign({gutterRef:t},e))})),yy={};var wy=function(e){function t(e){var n;return Ih(this,t),(n=Oh(this,t,[e])).handleScroll=function(e){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=e.target.scrollLeft)},n.handleResize=function(){hp(n.rafHandle),n.rafHandle=fp(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hv(n.props.onKeyPressEvent,t)},n.handleSelectEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hv(n.props.onSelectEvent,t)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];hv(n.props.onDoubleClickEvent,t)},n.handleShowMore=function(e,t,r,i,o){var s=n.props,a=s.popup,A=s.onDrillDown,c=s.onShowMore,l=s.getDrilldownView,u=s.doShowMoreDrillDown;if(n.clearSelection(),a){var d=ap(r,n.containerRef.current);n.setState({overlay:{date:t,events:e,position:kh(kh({},d),{},{width:"200px"}),target:o}})}else u&&hv(A,[t,l(t)||Lm.DAY]);hv(c,[e,t,i])},n.handleSelectAllDaySlot=function(e,t){var r=n.props.onSelectSlot,i=new Date(e[0]),o=new Date(e[e.length-1]);o.setDate(e[e.length-1].getDate()+1),hv(r,{slots:e,start:i,end:o,action:t.action,resourceId:t.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var e=n.contentRef.current;if(null!==e&&void 0!==e&&e.scrollHeight){var t=e.scrollHeight>e.clientHeight;n.state.isOverflowing!==t&&(n._updatingOverflow=!0,n.setState({isOverflowing:t},(function(){n._updatingOverflow=!1})))}}},n.memoizedResources=ym((function(e,t){return function(e,t){return{map:function(n){return e?e.map((function(e,r){return n([t.resourceId(e),e],r)})):[n([yy,null],0)]},groupEvents:function(n){var r=new Map;return e?(n.forEach((function(e){var n=t.resource(e)||yy;if(Array.isArray(n))n.forEach((function(t){var n=r.get(t)||[];n.push(e),r.set(t,n)}));else{var i=r.get(n)||[];i.push(e),r.set(n,i)}})),r):(r.set(yy,n),r)}}}(e,t)})),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=a.createRef(),n.contentRef=a.createRef(),n.containerRef=a.createRef(),n._scrollRatio=null,n.gutterRef=(0,a.createRef)(),n}return Dh(t,e),Fh(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){null==this.props.width&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),hp(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(e,t,n,r,i,o,s,A,c,l){var u=this.props,d=u.min,h=u.max,f=(r.get(t)||[]).filter((function(t){return o.inRange(e,s.start(t),s.end(t),"day")})),p=(i.get(t)||[]).filter((function(t){return o.inRange(e,s.start(t),s.end(t),"day")}));return a.createElement(hy,Object.assign({},this.props,{localizer:o,min:o.merge(e,d),max:o.merge(e,h),resource:n&&t,components:A,isNow:o.isSameDate(e,l),key:"".concat(t,"-").concat(e),date:e,events:f,backgroundEvents:p,dayLayoutAlgorithm:c}))}},{key:"renderResourcesFirst",value:function(e,t,n,r,i,o,s,a,A){var c=this;return t.map((function(t){var l=Kh(t,2),u=l[0],d=l[1];return e.map((function(e){return c.renderDayColumn(e,u,d,n,r,i,o,a,A,s)}))}))}},{key:"renderRangeFirst",value:function(e,t,n,r,i,o,s,A,c){var l=this;return e.map((function(e){return a.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:e},t.map((function(t){var u=Kh(t,2),d=u[0],h=u[1];return a.createElement("div",{style:{flex:1},key:o.resourceId(h)},l.renderDayColumn(e,d,h,n,r,i,o,A,c,s))})))}))}},{key:"renderEvents",value:function(e,t,n,r){var i=this.props,o=i.accessors,s=i.localizer,a=i.resourceGroupingLayout,A=i.components,c=i.dayLayoutAlgorithm,l=this.memoizedResources(this.props.resources,o),u=l.groupEvents(t),d=l.groupEvents(n);return a?this.renderRangeFirst(e,l,u,d,s,o,r,A,c):this.renderResourcesFirst(e,l,u,d,s,o,r,A,c)}},{key:"render",value:function(){var e,t=this.props,n=t.events,r=t.backgroundEvents,i=t.range,o=t.width,s=t.rtl,A=t.selected,c=t.getNow,l=t.resources,u=t.components,d=t.accessors,h=t.getters,f=t.localizer,p=t.min,g=t.max,m=t.showMultiDayTimes,v=t.longPressThreshold,y=t.resizable,w=t.resourceGroupingLayout;o=o||this.state.gutterWidth;var b=i[0],C=i[i.length-1];this.slots=i.length;var B=[],S=[],E=[];n.forEach((function(e){if(Mv(e,b,C,d,f)){var t=d.start(e),n=d.end(e);d.allDay(e)||f.startAndEndAreDateOnly(t,n)||!m&&!f.isSameDate(t,n)?B.push(e):S.push(e)}})),r.forEach((function(e){Mv(e,b,C,d,f)&&E.push(e)})),B.sort((function(e,t){return Hv(e,t,d,f)}));var k={range:i,events:B,width:o,rtl:s,getNow:c,localizer:f,selected:A,allDayMaxRows:this.props.showAllEvents?1/0:null!==(e=this.props.allDayMaxRows)&&void 0!==e?e:1/0,resources:this.memoizedResources(l,d),selectable:this.props.selectable,accessors:d,getters:h,components:u,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:v,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:y};return a.createElement("div",{className:qh("rbc-time-view",l&&"rbc-time-view-resources"),ref:this.containerRef},l&&l.length>1&&w?a.createElement(gy,k):a.createElement(py,k),this.props.popup&&this.renderOverlay(),a.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},a.createElement(vy,{date:b,ref:this.gutterRef,localizer:f,min:f.merge(b,p),max:f.merge(b,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:u,className:"rbc-time-gutter",getters:h}),this.renderEvents(i,S,E,c())))}},{key:"renderOverlay",value:function(){var e,t,n=this,r=null!==(e=null===(t=this.state)||void 0===t?void 0:t.overlay)&&void 0!==e?e:{},i=this.props,o=i.accessors,s=i.localizer,A=i.components,c=i.getters,l=i.selected,u=i.popupOffset,d=i.handleDragStart;return a.createElement(Bv,{overlay:r,accessors:o,localizer:s,components:A,getters:c,selected:l,popupOffset:u,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:d,show:!!r.position,overlayDisplay:this.overlayDisplay,onHide:function(){return n.setState({overlay:null})}})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var e=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame((function(){var t,n=null!==(t=e.gutterRef)&&void 0!==t&&t.current?wm(e.gutterRef.current):void 0;n&&e.state.gutterWidth!==n&&e.setState({gutterWidth:n})}))}},{key:"applyScroll",value:function(){if(null!=this._scrollRatio&&!0===this.props.enableAutoScroll){var e=this.contentRef.current;e.scrollTop=e.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,t=e.min,n=e.max,r=e.scrollToTime,i=e.localizer,o=i.diff(i.merge(r,t),r,"milliseconds"),s=i.diff(t,n,"milliseconds");this._scrollRatio=o/s}}])}(a.Component);wy.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var by=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Cy=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,i=e.min,o=void 0===i?r.startOf(new Date,"day"):i,s=e.max,A=void 0===s?r.endOf(new Date,"day"):s,c=e.scrollToTime,l=void 0===c?r.startOf(new Date,"day"):c,u=e.enableAutoScroll,d=void 0===u||u,h=Th(e,by),f=t.range(n,{localizer:r});return a.createElement(wy,Object.assign({},h,{range:f,eventOffset:10,localizer:r,min:o,max:A,scrollToTime:l,enableAutoScroll:d}))}}])}(a.Component);Cy.range=function(e,t){return[t.localizer.startOf(e,"day")]},Cy.navigate=function(e,t,n){var r=n.localizer;switch(t){case Om:return r.add(e,-1,"day");case Nm:return r.add(e,1,"day");default:return e}},Cy.title=function(e,t){return t.localizer.format(e,"dayHeaderFormat")};var By=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Sy=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,n=e.date,r=e.localizer,i=e.min,o=void 0===i?r.startOf(new Date,"day"):i,s=e.max,A=void 0===s?r.endOf(new Date,"day"):s,c=e.scrollToTime,l=void 0===c?r.startOf(new Date,"day"):c,u=e.enableAutoScroll,d=void 0===u||u,h=Th(e,By),f=t.range(n,this.props);return a.createElement(wy,Object.assign({},h,{range:f,eventOffset:15,localizer:r,min:o,max:A,scrollToTime:l,enableAutoScroll:d}))}}])}(a.Component);Sy.defaultProps=wy.defaultProps,Sy.navigate=function(e,t,n){var r=n.localizer;switch(t){case Om:return r.add(e,-1,"week");case Nm:return r.add(e,1,"week");default:return e}},Sy.range=function(e,t){var n=t.localizer,r=n.startOfWeek(),i=n.startOf(e,"week",r),o=n.endOf(e,"week",r);return n.range(i,o)},Sy.title=function(e,t){var n=t.localizer,r=Em(Sy.range(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};var Ey=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function ky(e,t){return Sy.range(e,t).filter((function(e){return-1===[6,0].indexOf(e.getDay())}))}var xy=function(e){function t(){return Ih(this,t),Oh(this,t,arguments)}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,t=e.date,n=e.localizer,r=e.min,i=void 0===r?n.startOf(new Date,"day"):r,o=e.max,s=void 0===o?n.endOf(new Date,"day"):o,A=e.scrollToTime,c=void 0===A?n.startOf(new Date,"day"):A,l=e.enableAutoScroll,u=void 0===l||l,d=Th(e,Ey),h=ky(t,this.props);return a.createElement(wy,Object.assign({},d,{range:h,eventOffset:15,localizer:n,min:i,max:s,scrollToTime:c,enableAutoScroll:u}))}}])}(a.Component);xy.defaultProps=wy.defaultProps,xy.range=ky,xy.navigate=Sy.navigate,xy.title=function(e,t){var n=t.localizer,r=Em(ky(e,{localizer:n})),i=r[0],o=r.slice(1);return n.format({start:i,end:o.pop()},"dayRangeHeaderFormat")};function Ty(e){var t=e.accessors,n=e.components,r=e.date,i=e.events,o=e.getters,s=e.length,A=void 0===s?30:s,c=e.localizer,l=e.onDoubleClickEvent,u=e.onSelectEvent,d=e.selected,h=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),g=(0,a.useRef)(null),m=(0,a.useRef)(null);(0,a.useEffect)((function(){y()}));var v=function(e,r){var i="",o=n.time,s=c.messages.allDay,A=t.end(r),l=t.start(r);return t.allDay(r)||(c.eq(l,A)?s=c.format(l,"agendaTimeFormat"):c.isSameDate(l,A)?s=c.format({start:l,end:A},"agendaTimeRangeFormat"):c.isSameDate(e,l)?s=c.format(l,"agendaTimeFormat"):c.isSameDate(e,A)&&(s=c.format(A,"agendaTimeFormat"))),c.gt(e,l,"day")&&(i="rbc-continues-prior"),c.lt(e,A,"day")&&(i+=" rbc-continues-after"),a.createElement("span",{className:i.trim()},o?a.createElement(o,{event:r,day:e,label:s}):s)},y=function(){if(m.current){var e=h.current,t=m.current.firstChild;if(t){var n,r,i=g.current.scrollHeight>g.current.clientHeight,o=[],s=o;o=[wm(t.children[0]),wm(t.children[1])],s[0]===o[0]&&s[1]===o[1]||(f.current.style.width=o[0]+"px",p.current.style.width=o[1]+"px"),i?(r="rbc-header-overflowing",(n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),e.style.marginRight=Sm()+"px"):function(e,t){e.classList?e.classList.remove(t):"string"===typeof e.className?e.className=km(e.className,t):e.setAttribute("class",km(e.className&&e.className.baseVal||"",t))}(e,"rbc-header-overflowing")}}},w=c.messages,b=c.add(r,A,"day"),C=c.range(r,b,"day");return(i=i.filter((function(e){return Mv(e,c.startOf(r,"day"),c.endOf(b,"day"),t,c)}))).sort((function(e,n){return+t.start(e)-+t.start(n)})),a.createElement("div",{className:"rbc-agenda-view"},0!==i.length?a.createElement(a.Fragment,null,a.createElement("table",{ref:h,className:"rbc-agenda-table"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",{className:"rbc-header",ref:f},w.date),a.createElement("th",{className:"rbc-header",ref:p},w.time),a.createElement("th",{className:"rbc-header"},w.event)))),a.createElement("div",{className:"rbc-agenda-content",ref:g},a.createElement("table",{className:"rbc-agenda-table"},a.createElement("tbody",{ref:m},C.map((function(e,r){return function(e,r,i){var s=n.event,A=n.date;return(r=r.filter((function(n){return Mv(n,c.startOf(e,"day"),c.endOf(e,"day"),t,c)}))).map((function(n,h){var f=t.title(n),p=t.end(n),g=t.start(n),m=o.eventProp(n,g,p,mv(n,d)),y=0===h&&c.format(e,"agendaDateFormat"),w=0===h&&a.createElement("td",{rowSpan:r.length,className:"rbc-agenda-date-cell"},A?a.createElement(A,{day:e,label:y}):y);return a.createElement("tr",{key:i+"_"+h,className:m.className,style:m.style},w,a.createElement("td",{className:"rbc-agenda-time-cell"},v(e,n)),a.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(e){return u&&u(n,e)},onDoubleClick:function(e){return l&&l(n,e)}},s?a.createElement(s,{event:n,title:f}):f))}),[])}(e,i,r)})))))):a.createElement("span",{className:"rbc-agenda-empty"},w.noEventsInRange))}Ty.range=function(e,t){var n=t.length,r=void 0===n?30:n;return{start:e,end:t.localizer.add(e,r,"day")}},Ty.navigate=function(e,t,n){var r=n.length,i=void 0===r?30:r,o=n.localizer;switch(t){case Om:return o.add(e,-i,"day");case Nm:return o.add(e,i,"day");default:return e}},Ty.title=function(e,t){var n=t.length,r=void 0===n?30:n,i=t.localizer,o=i.add(e,r,"day");return i.format({start:e,end:o},"agendaHeaderFormat")};var Iy=Sh(Sh(Sh(Sh(Sh({},Lm.MONTH,Xv),Lm.WEEK,Sy),Lm.WORK_WEEK,xy),Lm.DAY,Cy),Lm.AGENDA,Ty),Uy=["action","date","today"];var Fy=function(e){return function(t){return function(e,t){var n=null;return"function"===typeof t?n=t(e):"string"===typeof t&&"object"===xl(e)&&null!=e&&t in e&&(n=e[t]),n}(t,e)}},_y=["view","date","getNow","onNavigate"],Ry=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function Qy(e){if(Array.isArray(e))return e;for(var t=[],n=0,r=Object.entries(e);n<r.length;n++){var i=Kh(r[n],2),o=i[0];i[1]&&t.push(o)}return t}var Py=function(e){function t(){var e;Ih(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=Oh(this,t,[].concat(r))).getViews=function(){var t=e.props.views;return Array.isArray(t)?Qm()(t,(function(e,t){return e[t]=Iy[t]}),{}):"object"===xl(t)?Um()(t,(function(e,t){return!0===e?Iy[t]:e})):Iy},e.getView=function(){return e.getViews()[e.props.view]},e.getDrilldownView=function(t){var n=e.props,r=n.view,i=n.drilldownView,o=n.getDrilldownView;return o?o(t,r,Object.keys(e.getViews())):i},e.handleRangeChange=function(t,n,r){var i=e.props,o=i.onRangeChange,s=i.localizer;o&&n.range&&o(n.range(t,{localizer:s}),r)},e.handleNavigate=function(t,n){var r=e.props,i=r.view,o=r.date,s=r.getNow,a=r.onNavigate,A=Th(r,_y),c=e.getView(),l=s();o=function(e,t){var n=t.action,r=t.date,i=t.today,o=Th(t,Uy);switch(e="string"===typeof e?Iy[e]:e,n){case Dm:r=i||new Date;break;case Mm:break;default:Gh()(e&&"function"===typeof e.navigate,"Calendar View components must implement a static `.navigate(date, action)` method.s"),r=e.navigate(r,n,o)}return r}(c,kh(kh({},A),{},{action:t,date:n||o||l,today:l})),a(o,i,t),e.handleRangeChange(o,c)},e.handleViewChange=function(t){t!==e.props.view&&function(e,t){return-1!==Qy(t.views).indexOf(e)}(t,e.props)&&e.props.onView(t);var n=e.getViews();e.handleRangeChange(e.props.date||e.props.getNow(),n[t],t)},e.handleSelectEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onSelectEvent,n)},e.handleDoubleClickEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onDoubleClickEvent,n)},e.handleKeyPressEvent=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];hv(e.props.onKeyPressEvent,n)},e.handleSelectSlot=function(t){hv(e.props.onSelectSlot,t)},e.handleDrillDown=function(t,n){var r=e.props.onDrillDown;r?r(t,n,e.drilldownView):(n&&e.handleViewChange(n),e.handleNavigate(Mm,t))},e.state={context:t.getContext(e.props)},e}return Dh(t,e),Fh(t,[{key:"render",value:function(){var e=this.props,t=e.view,n=e.toolbar,r=e.events,i=e.backgroundEvents,o=e.resourceGroupingLayout,s=e.style,A=e.className,c=e.elementProps,l=e.date,u=e.getNow,d=e.length,h=e.showMultiDayTimes,f=e.onShowMore,p=e.doShowMoreDrillDown;e.components,e.formats,e.messages,e.culture;var g=Th(e,Ry);l=l||u();var m=this.getView(),v=this.state.context,y=v.accessors,w=v.components,b=v.getters,C=v.localizer,B=v.viewNames,S=w.toolbar||dv,E=m.title(l,{localizer:C,length:d});return a.createElement("div",Object.assign({},c,{className:qh(A,"rbc-calendar",g.rtl&&"rbc-rtl"),style:s}),n&&a.createElement(S,{date:l,view:t,views:B,label:E,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:C}),a.createElement(m,Object.assign({},g,{events:r,backgroundEvents:i,date:l,getNow:u,length:d,localizer:C,getters:b,components:w,accessors:y,showMultiDayTimes:h,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:f,doShowMoreDrillDown:p,resourceGroupingLayout:o})))}}],[{key:"getDerivedStateFromProps",value:function(e){return{context:t.getContext(e)}}},{key:"getContext",value:function(e){var t=e.startAccessor,n=e.endAccessor,r=e.allDayAccessor,i=e.tooltipAccessor,o=e.titleAccessor,s=e.resourceAccessor,a=e.resourceIdAccessor,A=e.resourceTitleAccessor,c=e.eventIdAccessor,l=e.eventPropGetter,u=e.backgroundEventPropGetter,d=e.slotPropGetter,h=e.slotGroupPropGetter,f=e.dayPropGetter,p=e.view,g=e.views,m=e.localizer,v=e.culture,y=e.messages,w=void 0===y?{}:y,b=e.components,C=void 0===b?{}:b,B=e.formats,S=void 0===B?{}:B,E=Qy(g);return{viewNames:E,localizer:uv(m,v,S,function(e){return kh(kh({},fv),e)}(w)),getters:{eventProp:function(){return l&&l.apply(void 0,arguments)||{}},backgroundEventProp:function(){return u&&u.apply(void 0,arguments)||{}},slotProp:function(){return d&&d.apply(void 0,arguments)||{}},slotGroupProp:function(){return h&&h.apply(void 0,arguments)||{}},dayProp:function(){return f&&f.apply(void 0,arguments)||{}}},components:Tm()(C[p]||{},_m()(C,E),{eventWrapper:Pm,backgroundEventWrapper:Pm,eventContainerWrapper:Pm,dateCellWrapper:Pm,weekWrapper:Pm,timeSlotWrapper:Pm,timeGutterWrapper:Pm}),accessors:{start:Fy(t),end:Fy(n),allDay:Fy(r),tooltip:Fy(i),title:Fy(o),resource:Fy(s),resourceId:Fy(a),resourceTitle:Fy(A),eventId:Fy(c)}}}}])}(a.Component);Py.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:Lm.MONTH,views:[Lm.MONTH,Lm.WEEK,Lm.DAY,Lm.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:Lm.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var Oy=function e(t,n,r){void 0===r&&(r=[]);var i,o=t.displayName||t.name||"Component",s=!!(i=t)&&("function"!==typeof i||i.prototype&&i.prototype.isReactComponent),A=Object.keys(n),c=A.map(Jh);!s&&r.length&&Gh()(!1);var l=function(e){function i(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];(t=e.call.apply(e,[this].concat(o))||this).handlers=Object.create(null),A.forEach((function(e){var r=n[e];t.handlers[r]=function(n){if(t.props[r]){var i;t._notifying=!0;for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];(i=t.props)[r].apply(i,[n].concat(s)),t._notifying=!1}t.unmounted||t.setState((function(t){var r,i=t.values;return{values:Yh(Object.create(null),i,(r={},r[e]=n,r))}}))}})),r.length&&(t.attachRef=function(e){t.inner=e});var a=Object.create(null);return A.forEach((function(e){a[e]=t.props[Jh(e)]})),t.state={values:a,prevProps:{}},t}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Nh(e,t)}(i,e);var o=i.prototype;return o.shouldComponentUpdate=function(){return!this._notifying},i.getDerivedStateFromProps=function(e,t){var n=t.values,r=t.prevProps,i={values:Yh(Object.create(null),n),prevProps:{}};return A.forEach((function(t){i.prevProps[t]=e[t],!Wh(e,t)&&Wh(r,t)&&(i.values[t]=e[Jh(t)])})),i},o.componentWillUnmount=function(){this.unmounted=!0},o.render=function(){var e=this,n=this.props,r=n.innerRef,i=xh(n,["innerRef"]);c.forEach((function(e){delete i[e]}));var o={};return A.forEach((function(t){var n=e.props[t];o[t]=void 0!==n?n:e.state.values[t]})),a.createElement(t,Yh({},i,o,this.handlers,{ref:r||this.attachRef}))},i}(a.Component);!function(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,r=null,i=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?r="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(r="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?i="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(i="UNSAFE_componentWillUpdate"),null!==n||null!==r||null!==i){var o=e.displayName||e.name,s="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+o+" uses "+s+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==r?"\n  "+r:"")+(null!==i?"\n  "+i:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=Xh,t.componentWillReceiveProps=Zh),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=ef;var a=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;a.call(this,e,t,r)}}}(l),l.displayName="Uncontrolled("+o+")",l.propTypes=Yh({innerRef:function(){}},function(e){var t={};return Object.keys(e).forEach((function(e){t[Jh(e)]=zh})),t}(n)),r.forEach((function(e){l.prototype[e]=function(){var t;return(t=this.inner)[e].apply(t,arguments)}}));var u=l;return a.forwardRef&&((u=a.forwardRef((function(e,t){return a.createElement(l,Yh({},e,{innerRef:t,__source:{fileName:"/Users/jquense/src/uncontrollable/src/uncontrollable.js",lineNumber:128},__self:this}))}))).propTypes=l.propTypes),u.ControlledComponent=t,u.deferControlTo=function(t,r,i){return void 0===r&&(r={}),e(t,Yh({},n,r),i)},u}(Py,{view:"onView",date:"onNavigate",selected:"onSelectEvent"});var Ny=function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"p",t)," \u2013 ").concat(n.format(i,"p",t))},Dy={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:Ny,eventTimeRangeFormat:Ny,eventTimeRangeStartFormat:function(e,t,n){var r=e.start;return"".concat(n.format(r,"h:mma",t)," \u2013 ")},eventTimeRangeEndFormat:function(e,t,n){var r=e.end;return" \u2013 ".concat(n.format(r,"h:mma",t))},timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"MMMM dd",t)," \u2013 ").concat(n.format(i,bf(r,i,"month")?"dd":"MMMM dd",t))},agendaHeaderFormat:function(e,t,n){var r=e.start,i=e.end;return"".concat(n.format(r,"P",t)," \u2013 ").concat(n.format(i,"P",t))},agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:Ny};function My(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Hh(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw o}}}}function Ly(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function Hy(e){var t=Rh();return function(){var n,r=_h(e);if(t){var i=_h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ph(this,n)}}var jy=function(){function e(){Ih(this,e),Sh(this,"priority",void 0),Sh(this,"subPriority",0)}return Fh(e,[{key:"validate",value:function(e,t){return!0}}]),e}(),Ky=function(e){Dh(n,e);var t=Hy(n);function n(e,r,i,o,s){var a;return Ih(this,n),(a=t.call(this)).value=e,a.validateValue=r,a.setValue=i,a.priority=o,s&&(a.subPriority=s),a}return Fh(n,[{key:"validate",value:function(e,t){return this.validateValue(e,this.value,t)}},{key:"set",value:function(e,t,n){return this.setValue(e,t,this.value,n)}}]),n}(jy),Vy=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",10),Sh(Qh(e),"subPriority",-1),e}return Fh(n,[{key:"set",value:function(e,t){if(t.timestampIsSet)return e;var n=new Date(0);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}}]),n}(jy),qy=function(){function e(){Ih(this,e),Sh(this,"incompatibleTokens",void 0),Sh(this,"priority",void 0),Sh(this,"subPriority",void 0)}return Fh(e,[{key:"run",value:function(e,t,n,r){var i=this.parse(e,t,n,r);return i?{setter:new Ky(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}},{key:"validate",value:function(e,t,n){return!0}}]),e}(),$y=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",140),Sh(Qh(e),"incompatibleTokens",["R","u","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}}},{key:"set",value:function(e,t,n){return t.era=n,e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),Gy=(Math.pow(10,8),/^(1[0-2]|0?\d)/),zy=/^(3[0-1]|[0-2]?\d)/,Wy=/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,Jy=/^(5[0-3]|[0-4]?\d)/,Yy=/^(2[0-3]|[0-1]?\d)/,Xy=/^(2[0-4]|[0-1]?\d)/,Zy=/^(1[0-1]|0?\d)/,ew=/^(1[0-2]|0?\d)/,tw=/^[0-5]?\d/,nw=/^[0-5]?\d/,rw=/^\d/,iw=/^\d{1,2}/,ow=/^\d{1,3}/,sw=/^\d{1,4}/,aw=/^-?\d+/,Aw=/^-?\d/,cw=/^-?\d{1,2}/,lw=/^-?\d{1,3}/,uw=/^-?\d{1,4}/,dw=/^([+-])(\d{2})(\d{2})?|Z/,hw=/^([+-])(\d{2})(\d{2})|Z/,fw=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,pw=/^([+-])(\d{2}):(\d{2})|Z/,gw=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function mw(e,t){return e?{value:t(e.value),rest:e.rest}:e}function vw(e,t){var n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function yw(e,t){var n=t.match(e);return n?"Z"===n[0]?{value:0,rest:t.slice(1)}:{value:("+"===n[1]?1:-1)*(36e5*(n[2]?parseInt(n[2],10):0)+6e4*(n[3]?parseInt(n[3],10):0)+1e3*(n[5]?parseInt(n[5],10):0)),rest:t.slice(n[0].length)}:null}function ww(e){return vw(aw,e)}function bw(e,t){switch(e){case 1:return vw(rw,t);case 2:return vw(iw,t);case 3:return vw(ow,t);case 4:return vw(sw,t);default:return vw(new RegExp("^\\d{1,"+e+"}"),t)}}function Cw(e,t){switch(e){case 1:return vw(Aw,t);case 2:return vw(cw,t);case 3:return vw(lw,t);case 4:return vw(uw,t);default:return vw(new RegExp("^-?\\d{1,"+e+"}"),t)}}function Bw(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Sw(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var o=i+50;n=e+100*Math.floor(o/100)-(e>=o%100?100:0)}return r?n:1-n}function Ew(e){return e%400===0||e%4===0&&e%100!==0}var kw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",130),Sh(Qh(e),"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return mw(bw(4,e),r);case"yo":return mw(n.ordinalNumber(e,{unit:"year"}),r);default:return mw(bw(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n){var r=e.getUTCFullYear();if(n.isTwoDigitYear){var i=Sw(n.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var o="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(o,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),xw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",130),Sh(Qh(e),"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){var r=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return mw(bw(4,e),r);case"Yo":return mw(n.ordinalNumber(e,{unit:"year"}),r);default:return mw(bw(t.length,e),r)}}},{key:"validate",value:function(e,t){return t.isTwoDigitYear||t.year>0}},{key:"set",value:function(e,t,n,r){var i=Ml(e,r);if(n.isTwoDigitYear){var o=Sw(n.year,i);return e.setUTCFullYear(o,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Dl(e,r)}var s="era"in t&&1!==t.era?1-n.year:n.year;return e.setUTCFullYear(s,0,r.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Dl(e,r)}}]),n}(qy),Tw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",130),Sh(Qh(e),"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t){return Cw("R"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Rl(r)}}]),n}(qy),Iw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",130),Sh(Qh(e),"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t){return Cw("u"===t?4:t.length,e)}},{key:"set",value:function(e,t,n){return e.setUTCFullYear(n,0,1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),Uw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",120),Sh(Qh(e),"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"Q":case"QQ":return bw(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),Fw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",120),Sh(Qh(e),"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"q":case"qq":return bw(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=1&&t<=4}},{key:"set",value:function(e,t,n){return e.setUTCMonth(3*(n-1),1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),_w=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]),Sh(Qh(e),"priority",110),e}return Fh(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"M":return mw(vw(Gy,e),r);case"MM":return mw(bw(2,e),r);case"Mo":return mw(n.ordinalNumber(e,{unit:"month"}),r);case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(qy),Rw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",110),Sh(Qh(e),"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){var r=function(e){return e-1};switch(t){case"L":return mw(vw(Gy,e),r);case"LL":return mw(bw(2,e),r);case"Lo":return mw(n.ordinalNumber(e,{unit:"month"}),r);case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.setUTCMonth(n,1),e.setUTCHours(0,0,0,0),e}}]),n}(qy);var Qw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",100),Sh(Qh(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"w":return vw(Jy,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n,r){return Dl(function(e,t,n){Tl(2,arguments);var r=Il(e),i=Fl(t),o=Ll(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*o),r}(e,n,r),r)}}]),n}(qy);var Pw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",100),Sh(Qh(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"I":return vw(Jy,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=53}},{key:"set",value:function(e,t,n){return Rl(function(e,t){Tl(2,arguments);var n=Il(e),r=Fl(t),i=Pl(n)-r;return n.setUTCDate(n.getUTCDate()-7*i),n}(e,n))}}]),n}(qy),Ow=[31,28,31,30,31,30,31,31,30,31,30,31],Nw=[31,29,31,30,31,30,31,31,30,31,30,31],Dw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"subPriority",1),Sh(Qh(e),"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"d":return vw(zy,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){var n=Ew(e.getUTCFullYear()),r=e.getUTCMonth();return n?t>=1&&t<=Nw[r]:t>=1&&t<=Ow[r]}},{key:"set",value:function(e,t,n){return e.setUTCDate(n),e.setUTCHours(0,0,0,0),e}}]),n}(qy),Mw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"subpriority",1),Sh(Qh(e),"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"D":case"DD":return vw(Wy,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return Ew(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365}},{key:"set",value:function(e,t,n){return e.setUTCMonth(0,n),e.setUTCHours(0,0,0,0),e}}]),n}(qy);function Lw(e,t,n){var r,i,o,s,a,A,c,l;Tl(2,arguments);var u=Nl(),d=Fl(null!==(r=null!==(i=null!==(o=null!==(s=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==s?s:null===n||void 0===n||null===(a=n.locale)||void 0===a||null===(A=a.options)||void 0===A?void 0:A.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==i?i:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==r?r:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Il(e),f=Fl(t),p=((f%7+7)%7<d?7:0)+f-h.getUTCDay();return h.setUTCDate(h.getUTCDate()+p),h}var Hw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"incompatibleTokens",["D","i","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Lw(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(qy),jw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return mw(bw(t.length,e),i);case"eo":return mw(n.ordinalNumber(e,{unit:"day"}),i);case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Lw(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(qy),Kw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return mw(bw(t.length,e),i);case"co":return mw(n.ordinalNumber(e,{unit:"day"}),i);case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}}},{key:"validate",value:function(e,t){return t>=0&&t<=6}},{key:"set",value:function(e,t,n,r){return(e=Lw(e,n,r)).setUTCHours(0,0,0,0),e}}]),n}(qy);var Vw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",90),Sh(Qh(e),"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){var r=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return bw(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return mw(n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiii":return mw(n.day(e,{width:"narrow",context:"formatting"}),r);case"iiiiii":return mw(n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r);default:return mw(n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"}),r)}}},{key:"validate",value:function(e,t){return t>=1&&t<=7}},{key:"set",value:function(e,t,n){return e=function(e,t){Tl(2,arguments);var n=Fl(t);n%7===0&&(n-=7);var r=Il(e),i=((n%7+7)%7<1?7:0)+n-r.getUTCDay();return r.setUTCDate(r.getUTCDate()+i),r}(e,n),e.setUTCHours(0,0,0,0),e}}]),n}(qy),qw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",80),Sh(Qh(e),"incompatibleTokens",["b","B","H","k","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Bw(n),0,0,0),e}}]),n}(qy),$w=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",80),Sh(Qh(e),"incompatibleTokens",["a","B","H","k","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Bw(n),0,0,0),e}}]),n}(qy),Gw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",80),Sh(Qh(e),"incompatibleTokens",["a","b","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}}},{key:"set",value:function(e,t,n){return e.setUTCHours(Bw(n),0,0,0),e}}]),n}(qy),zw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",70),Sh(Qh(e),"incompatibleTokens",["H","K","k","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"h":return vw(ew,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=12}},{key:"set",value:function(e,t,n){var r=e.getUTCHours()>=12;return r&&n<12?e.setUTCHours(n+12,0,0,0):r||12!==n?e.setUTCHours(n,0,0,0):e.setUTCHours(0,0,0,0),e}}]),n}(qy),Ww=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",70),Sh(Qh(e),"incompatibleTokens",["a","b","h","K","k","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"H":return vw(Yy,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=23}},{key:"set",value:function(e,t,n){return e.setUTCHours(n,0,0,0),e}}]),n}(qy),Jw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",70),Sh(Qh(e),"incompatibleTokens",["h","H","k","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"K":return vw(Zy,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=11}},{key:"set",value:function(e,t,n){return e.getUTCHours()>=12&&n<12?e.setUTCHours(n+12,0,0,0):e.setUTCHours(n,0,0,0),e}}]),n}(qy),Yw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",70),Sh(Qh(e),"incompatibleTokens",["a","b","h","H","K","t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"k":return vw(Xy,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=1&&t<=24}},{key:"set",value:function(e,t,n){var r=n<=24?n%24:n;return e.setUTCHours(r,0,0,0),e}}]),n}(qy),Xw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",60),Sh(Qh(e),"incompatibleTokens",["t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"m":return vw(tw,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCMinutes(n,0,0),e}}]),n}(qy),Zw=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",50),Sh(Qh(e),"incompatibleTokens",["t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t,n){switch(t){case"s":return vw(nw,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return bw(t.length,e)}}},{key:"validate",value:function(e,t){return t>=0&&t<=59}},{key:"set",value:function(e,t,n){return e.setUTCSeconds(n,0),e}}]),n}(qy),eb=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",30),Sh(Qh(e),"incompatibleTokens",["t","T"]),e}return Fh(n,[{key:"parse",value:function(e,t){return mw(bw(t.length,e),(function(e){return Math.floor(e*Math.pow(10,3-t.length))}))}},{key:"set",value:function(e,t,n){return e.setUTCMilliseconds(n),e}}]),n}(qy),tb=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",10),Sh(Qh(e),"incompatibleTokens",["t","T","x"]),e}return Fh(n,[{key:"parse",value:function(e,t){switch(t){case"X":return yw(dw,e);case"XX":return yw(hw,e);case"XXXX":return yw(fw,e);case"XXXXX":return yw(gw,e);default:return yw(pw,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(qy),nb=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",10),Sh(Qh(e),"incompatibleTokens",["t","T","X"]),e}return Fh(n,[{key:"parse",value:function(e,t){switch(t){case"x":return yw(dw,e);case"xx":return yw(hw,e);case"xxxx":return yw(fw,e);case"xxxxx":return yw(gw,e);default:return yw(pw,e)}}},{key:"set",value:function(e,t,n){return t.timestampIsSet?e:new Date(e.getTime()-n)}}]),n}(qy),rb=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",40),Sh(Qh(e),"incompatibleTokens","*"),e}return Fh(n,[{key:"parse",value:function(e){return ww(e)}},{key:"set",value:function(e,t,n){return[new Date(1e3*n),{timestampIsSet:!0}]}}]),n}(qy),ib=function(e){Dh(n,e);var t=Hy(n);function n(){var e;Ih(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return Sh(Qh(e=t.call.apply(t,[this].concat(i))),"priority",20),Sh(Qh(e),"incompatibleTokens","*"),e}return Fh(n,[{key:"parse",value:function(e){return ww(e)}},{key:"set",value:function(e,t,n){return[new Date(n),{timestampIsSet:!0}]}}]),n}(qy),ob={G:new $y,y:new kw,Y:new xw,R:new Tw,u:new Iw,Q:new Uw,q:new Fw,M:new _w,L:new Rw,w:new Qw,I:new Pw,d:new Dw,D:new Mw,E:new Hw,e:new jw,c:new Kw,i:new Vw,a:new qw,b:new $w,B:new Gw,h:new zw,H:new Ww,K:new Jw,k:new Yw,m:new Xw,s:new Zw,S:new eb,X:new tb,x:new nb,t:new rb,T:new ib},sb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ab=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ab=/^'([^]*?)'?$/,cb=/''/g,lb=/\S/,ub=/[a-zA-Z]/;const db=function(e){var t=e.startOfWeek,n=e.getDay,r=e.format,i=e.locales;return new lv({formats:Dy,firstOfWeek:function(e){return n(t(new Date,{locale:i[e]}))},format:function(e,t,n){return r(new Date(e),t,{locale:i[n]})}})}({format:Iu,parse:function(e,t,n,r){var i,o,s,a,A,c,l,u,d,h,f,p,g,m,v,y,w,b;Tl(3,arguments);var C=String(e),B=String(t),S=Nl(),E=null!==(i=null!==(o=null===r||void 0===r?void 0:r.locale)&&void 0!==o?o:S.locale)&&void 0!==i?i:Bu;if(!E.match)throw new RangeError("locale must contain match property");var k=Fl(null!==(s=null!==(a=null!==(A=null!==(c=null===r||void 0===r?void 0:r.firstWeekContainsDate)&&void 0!==c?c:null===r||void 0===r||null===(l=r.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==A?A:S.firstWeekContainsDate)&&void 0!==a?a:null===(d=S.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==s?s:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var x=Fl(null!==(f=null!==(p=null!==(g=null!==(m=null===r||void 0===r?void 0:r.weekStartsOn)&&void 0!==m?m:null===r||void 0===r||null===(v=r.locale)||void 0===v||null===(y=v.options)||void 0===y?void 0:y.weekStartsOn)&&void 0!==g?g:S.weekStartsOn)&&void 0!==p?p:null===(w=S.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(x>=0&&x<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===B)return""===C?Il(n):new Date(NaN);var T,I={firstWeekContainsDate:k,weekStartsOn:x,locale:E},U=[new Vy],F=B.match(ab).map((function(e){var t=e[0];return t in iu?(0,iu[t])(e,E.formatLong):e})).join("").match(sb),_=[],R=My(F);try{var Q=function(){var t=T.value;null!==r&&void 0!==r&&r.useAdditionalWeekYearTokens||!cu(t)||lu(t,B,e),null!==r&&void 0!==r&&r.useAdditionalDayOfYearTokens||!Au(t)||lu(t,B,e);var n=t[0],i=ob[n];if(i){var o=i.incompatibleTokens;if(Array.isArray(o)){var s=_.find((function(e){return o.includes(e.token)||e.token===n}));if(s)throw new RangeError("The format string mustn't contain `".concat(s.fullToken,"` and `").concat(t,"` at the same time"))}else if("*"===i.incompatibleTokens&&_.length>0)throw new RangeError("The format string mustn't contain `".concat(t,"` and any other token at the same time"));_.push({token:n,fullToken:t});var a=i.run(C,t,E.match,I);if(!a)return{v:new Date(NaN)};U.push(a.setter),C=a.rest}else{if(n.match(ub))throw new RangeError("Format string contains an unescaped latin alphabet character `"+n+"`");if("''"===t?t="'":"'"===n&&(t=t.match(Ab)[1].replace(cb,"'")),0!==C.indexOf(t))return{v:new Date(NaN)};C=C.slice(t.length)}};for(R.s();!(T=R.n()).done;){var P=Q();if("object"===xl(P))return P.v}}catch(dY){R.e(dY)}finally{R.f()}if(C.length>0&&lb.test(C))return new Date(NaN);var O=U.map((function(e){return e.priority})).sort((function(e,t){return t-e})).filter((function(e,t,n){return n.indexOf(e)===t})).map((function(e){return U.filter((function(t){return t.priority===e})).sort((function(e,t){return t.subPriority-e.subPriority}))})).map((function(e){return e[0]})),N=Il(n);if(isNaN(N.getTime()))return new Date(NaN);var D,M=_l(N,ou(N)),L={},H=My(O);try{for(H.s();!(D=H.n()).done;){var j=D.value;if(!j.validate(M,I))return new Date(NaN);var K=j.set(M,L,I);Array.isArray(K)?(M=K[0],Ly(L,K[1])):M=K}}catch(dY){H.e(dY)}finally{H.f()}return M},startOfWeek:()=>function(e,t){var n,r,i,o,s,a,A,c;Tl(1,arguments);var l=Nl(),u=Fl(null!==(n=null!==(r=null!==(i=null!==(o=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==o?o:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==i?i:l.weekStartsOn)&&void 0!==r?r:null===(A=l.locale)||void 0===A||null===(c=A.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(u>=0&&u<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=Il(e),h=d.getDay(),f=(h<u?7:0)+h-u;return d.setDate(d.getDate()-f),d.setHours(0,0,0,0),d}(new Date,{weekStartsOn:0}),getDay:function(e){return Tl(1,arguments),Il(e).getDay()},locales:{"en-US":Cu}}),hb=()=>{const e=bh((e=>e.appointments.appointments)),[t,n]=(0,a.useState)(null),r=e.map((e=>{const t=new Date(e.date+" CST"),[n,r]=e.time.split(":"),i=new Date(t.setHours(+n,+r,0)),o=new Date(i.getTime()+18e5);return{title:`${e.full_name} (${e.status})`,start:i,end:o,allDay:!1,...e}}));return(0,Fe.jsxs)("div",{style:{height:"600px",margin:"20px"},children:[(0,Fe.jsx)(Oy,{localizer:db,events:r,defaultView:"day",views:["day","week","agenda"],startAccessor:"start",endAccessor:"end",style:{height:500},onSelectEvent:e=>{console.log(e),n(e)}}),t&&(0,Fe.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Fe.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 w-[90%] max-w-md",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Appointment Details"}),(0,Fe.jsxs)("div",{className:"space-y-2 text-gray-700",children:[(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Patient:"})," ",t.full_name]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Time:"})," ",t.time]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Status:"})," ",t.status]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"SSN:"})," ",t.ssn]}),(0,Fe.jsxs)("p",{children:[(0,Fe.jsx)("span",{className:"font-semibold",children:"Doctor:"})," ",t.doctor_name]})]}),(0,Fe.jsx)("div",{className:"mt-6 text-right",children:(0,Fe.jsx)("button",{onClick:()=>n(null),className:"bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded",children:"Close"})})]})})]})};const fb=function(){return(0,a.useEffect)((()=>{document.title="Appointments - Seismic Connect"}),[]),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold",children:"Appointments"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1",children:(0,Fe.jsx)(hb,{})})]})},pb=a.forwardRef(((e,t)=>{let{className:n,type:r,...i}=e;return(0,Fe.jsx)("input",{type:r,className:vr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})}));pb.displayName="Input";const gb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("div",{className:"relative w-full overflow-auto",children:(0,Fe.jsx)("table",{ref:t,className:vr("w-full caption-bottom text-sm",n),...r})})}));gb.displayName="Table";const mb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("thead",{ref:t,className:vr("[&_tr]:border-b",n),...r})}));mb.displayName="TableHeader";const vb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("tbody",{ref:t,className:vr("[&_tr:last-child]:border-0",n),...r})}));vb.displayName="TableBody";const yb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("tr",{ref:t,className:vr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...r})}));yb.displayName="TableRow";const wb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("td",{ref:t,className:vr("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...r})}));wb.displayName="TableCell";const bb=a.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Fe.jsx)("th",{ref:t,className:vr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...r})}));bb.displayName="TableHead";const Cb=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,Bb=Bn,Sb=((e,t)=>n=>{var r;if(null==(null===t||void 0===t?void 0:t.variants))return Bb(e,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className);const{variants:i,defaultVariants:o}=t,s=Object.keys(i).map((e=>{const t=null===n||void 0===n?void 0:n[e],r=null===o||void 0===o?void 0:o[e];if(null===t)return null;const s=Cb(t)||Cb(r);return i[e][s]})),a=n&&Object.entries(n).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),A=null===t||void 0===t||null===(r=t.compoundVariants)||void 0===r?void 0:r.reduce(((e,t)=>{let{class:n,className:r,...i}=t;return Object.entries(i).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...o,...a}[t]):{...o,...a}[t]===n}))?[...e,n,r]:e}),[]);return Bb(e,s,A,null===n||void 0===n?void 0:n.class,null===n||void 0===n?void 0:n.className)})("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Eb(e){let{className:t,variant:n,...r}=e;return(0,Fe.jsx)("div",{className:vr(Sb({variant:n}),t),...r})}const kb=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),xb=wn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),Tb=wn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Ib=wn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);const Ub=function(){return(0,Fe.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"Date of Birth"}),(0,Fe.jsx)(pb,{type:"date"})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"Insurance Provider"}),(0,Fe.jsx)(pb,{placeholder:"Enter insurance provider..."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"Insurance ID"}),(0,Fe.jsx)(pb,{placeholder:"Enter insurance ID..."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"Phone Number"}),(0,Fe.jsx)(pb,{placeholder:"Enter phone number..."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"Email"}),(0,Fe.jsx)(pb,{type:"email",placeholder:"Enter email..."})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)(io,{children:"SSN"}),(0,Fe.jsx)(pb,{placeholder:"Enter SSN..."})]}),(0,Fe.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 flex justify-end gap-2",children:[(0,Fe.jsx)(Fr,{variant:"outline",children:"Reset"}),(0,Fe.jsx)(Fr,{children:"Search"})]})]})},Fb=Gd({name:"patients",initialState:{patients:[]},reducers:{setPatients:(e,t)=>{e.patients=t.payload},updatePatients:(e,t)=>{const{id:n,status:r}=t.payload,i=e.patients.find((e=>e.id===n));i&&(i.status=r)}}}),_b=Fb.actions,Rb=Fb,Qb=()=>async e=>{try{const t=await(async()=>{const e=await fetch("https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net/api/patients");if(!e.ok)throw new Error("Could not fetch appointment data!");return await e.json()})();e(_b.setPatients(t))}catch(t){throw new Error("Could not fetch appointment data!")}};const Pb=function(){const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(!1),i=vh(),o=bh((e=>e.patients.patients));return(0,a.useEffect)((()=>{i(Qb())}),[i]),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold",children:"Patients"}),(0,Fe.jsxs)(Fr,{children:[(0,Fe.jsx)(kb,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]}),(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{children:(0,Fe.jsx)(Tr,{children:"Patient Search"})}),(0,Fe.jsxs)(Ir,{children:[(0,Fe.jsxs)("div",{className:"flex gap-4",children:[(0,Fe.jsx)("div",{className:"flex-1",children:(0,Fe.jsx)(pb,{placeholder:"Search patients...",value:e,onChange:e=>t(e.target.value)})}),(0,Fe.jsx)(Fr,{variant:"outline",onClick:()=>r(!n),children:"Advanced Search"})]}),n&&(0,Fe.jsx)(Ub,{})]})]}),(0,Fe.jsx)(kr,{children:(0,Fe.jsx)(Ir,{className:"p-0",children:(0,Fe.jsxs)(gb,{children:[(0,Fe.jsx)(mb,{children:(0,Fe.jsxs)(yb,{children:[(0,Fe.jsx)(bb,{children:"Name"}),(0,Fe.jsx)(bb,{children:"Contact"}),(0,Fe.jsx)(bb,{children:"Insurance"}),(0,Fe.jsx)(bb,{children:"Last Visit"}),(0,Fe.jsx)(bb,{children:"Status"}),(0,Fe.jsx)(bb,{children:"Actions"})]})}),(0,Fe.jsx)(vb,{children:null===o||void 0===o?void 0:o.map((e=>(0,Fe.jsxs)(yb,{children:[(0,Fe.jsxs)(wb,{children:[e.first_name," ",e.last_name]}),(0,Fe.jsxs)(wb,{children:[(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)(xb,{className:"w-4 h-4"}),e.phone]}),(0,Fe.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Fe.jsx)(Tb,{className:"w-4 h-4"}),e.email]})]}),(0,Fe.jsxs)(wb,{children:[(0,Fe.jsx)("div",{children:e.insuranceProvider}),(0,Fe.jsx)("div",{className:"text-sm text-gray-500",children:e.insuranceId})]}),(0,Fe.jsx)(wb,{children:(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)(el,{className:"w-4 h-4"}),Iu(new Date,"MMM d, yyyy")]})}),(0,Fe.jsx)(wb,{children:(0,Fe.jsx)(Eb,{variant:e.insuranceVerified?"success":"warning",children:e.insuranceVerified?"Verified":"Pending"})}),(0,Fe.jsx)(wb,{children:(0,Fe.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Fe.jsx)(Fr,{variant:"ghost",size:"icon",children:(0,Fe.jsx)(Gr,{className:"w-4 h-4"})}),(0,Fe.jsx)(Fr,{variant:"ghost",size:"icon",children:(0,Fe.jsx)(Ib,{className:"w-4 h-4"})})]})})]},e.id)))})]})})})]})};const Ob=function(){return(0,a.useEffect)((()=>{document.title="Reports - Seismic Connect"}),[]),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold",children:"Reports"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{children:(0,Fe.jsx)(Tr,{children:"Patient Demographics"})}),(0,Fe.jsx)(Ir,{children:"Coming soon..."})]})})]})};const Nb=function(){return(0,a.useEffect)((()=>{document.title="Settings - Seismic Connect"}),[]),(0,Fe.jsxs)("div",{className:"space-y-6",children:[(0,Fe.jsx)("h1",{className:"text-2xl font-semibold",children:"Settings"}),(0,Fe.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Fe.jsxs)(kr,{children:[(0,Fe.jsx)(xr,{children:(0,Fe.jsx)(Tr,{children:"Account Settings"})}),(0,Fe.jsx)(Ir,{children:"Coming soon..."})]})})]})};const Db=function(){return(0,Fe.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Fe.jsxs)("div",{className:"text-center",children:[(0,Fe.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"404"}),(0,Fe.jsx)("p",{className:"text-lg text-gray-600",children:"Page not found"})]})})};var Mb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Lb=a.createContext&&a.createContext(Mb),Hb=["attr","size","title"];function jb(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Kb(){return Kb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kb.apply(this,arguments)}function Vb(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qb(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Vb(Object(n),!0).forEach((function(t){$b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vb(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $b(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gb(e){return e&&e.map(((e,t)=>a.createElement(e.tag,qb({key:t},e.attr),Gb(e.child))))}function zb(e){return t=>a.createElement(Wb,Kb({attr:qb({},e.attr)},t),Gb(e.child))}function Wb(e){var t=t=>{var n,{attr:r,size:i,title:o}=e,s=jb(e,Hb),A=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),a.createElement("svg",Kb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:qb(qb({color:e.color||t.color},t.style),e.style),height:A,width:A,xmlns:"http://www.w3.org/2000/svg"}),o&&a.createElement("title",null,o),e.children)};return void 0!==Lb?a.createElement(Lb.Consumer,null,(e=>t(e))):t(Mb)}function Jb(e){return zb({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function Yb(e){return zb({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const Xb=()=>{const[e,t]=(0,a.useState)(""),[n,r]=(0,a.useState)(""),i=(0,a.useState)(!0)[0],[o,s]=(0,a.useState)(!1),[A,c]=(0,a.useState)(""),[l,u]=(0,a.useState)("upcoming"),[d,h]=(0,a.useState)(""),[f,p]=(0,a.useState)("online"),g=(0,a.useState)(!1)[0],m=[{appointmentId:"demo-appointment-1",patientName:"John Doe",date:"2025-04-30",time:"10:00 AM",reason:"Follow-up consultation"},{appointmentId:"demo-appointment-2",patientName:"Jane Smith",date:"2025-04-30",time:"2:30 PM",reason:"Initial consultation"}],v=m.find((e=>e.appointmentId===d))||null,y=v?{firstName:v.patientName.split(" ")[0],lastName:v.patientName.split(" ")[1]}:null,[w,b]=(0,a.useState)(!1),[C,S]=(0,a.useState)(!1),E=(0,a.useState)(null)[1],k=e=>{const t=new Date(`${e.date}T${e.time}`),n=new Date,r=new Date(t.getTime()-9e5),i=new Date(t.getTime()+36e5);return n<r?(alert("Meeting is not available yet. Please try again at the scheduled time."),S(!0),!1):!(n>i)||(alert("This meeting has expired. Please schedule a new appointment."),S(!0),!1)};(0,a.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("room");if(e){r(e),u("join");const t=m.find((t=>t.appointmentId===e));t?(E(t),k(t)):b(!0)}}),[]);const x=new URLSearchParams(window.location.search).get("role")||"doctor",T=t=>{const n=`${window.location.href.split("?")[0]}?room=${encodeURIComponent(t)}&role=patient&name=${e}`;return c(n),s(!0),n};return(0,Fe.jsx)("div",{className:"bg-gray-50 flex flex-col items-center min-h-screen p-4",children:(0,Fe.jsxs)("div",{className:"rounded-lg border bg-white shadow-sm w-full",children:[(0,Fe.jsxs)("div",{className:"flex flex-col space-y-1.5 p-6",children:[(0,Fe.jsx)("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:"Seismic Video Call"}),(0,Fe.jsx)("p",{className:"text-sm text-gray-500",children:"Connect with patients through secure video consultations"})]}),(0,Fe.jsx)("div",{className:"p-6 pt-0",children:(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500 mb-4",children:["doctor"===x&&(0,Fe.jsx)("button",{onClick:()=>u("upcoming"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("upcoming"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Upcoming Calls"}),"patient"===x&&(0,Fe.jsx)("button",{onClick:()=>u("join"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("join"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Join by ID"}),"doctor"===x&&(0,Fe.jsx)("button",{onClick:()=>u("history"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("history"===l?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Call History"})]}),"upcoming"===l&&(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsxs)("div",{className:"grid gap-2",children:[(0,Fe.jsx)("label",{htmlFor:"appointment",className:"text-sm font-medium text-gray-700",children:"Select an appointment"}),(0,Fe.jsx)("div",{className:"relative",children:(0,Fe.jsxs)("select",{value:d,onChange:e=>(e=>{const n=m.find((t=>t.appointmentId===e));n?(h(e),r(e),t("Mike"),E(n),k(n)&&T(e)):b(!0)})(e.target.value),className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,Fe.jsx)("option",{value:"",children:"Select an appointment"}),g?(0,Fe.jsx)("option",{value:"loading",disabled:!0,children:"Loading appointments..."}):m.length>0?m.map((e=>(0,Fe.jsxs)("option",{value:e.appointmentId,children:[e.patientName," - ",e.date," ",e.time]},e.appointmentId))):(0,Fe.jsx)("option",{value:"no-appointments",disabled:!0,children:"No upcoming video calls"})]})})]}),d&&(0,Fe.jsxs)("div",{className:"mt-4",children:[(0,Fe.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Appointment Type"}),(0,Fe.jsxs)("div",{className:"flex space-x-4",children:[(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("input",{type:"radio",id:"online",name:"appointmentType",value:"online",checked:"online"===f,onChange:()=>p("online"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Fe.jsx)("label",{htmlFor:"online",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Online"})]}),(0,Fe.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Fe.jsx)("input",{type:"radio",id:"in-person",name:"appointmentType",value:"in-person",checked:"in-person"===f,onChange:()=>p("in-person"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Fe.jsx)("label",{htmlFor:"in-person",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"In-Person"})]})]})]}),d&&v&&y&&(0,Fe.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md mt-4",children:[(0,Fe.jsx)("h3",{className:"font-medium mb-2",children:"Appointment Details"}),(0,Fe.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Patient:"}),(0,Fe.jsxs)("span",{className:"ml-2 font-medium",children:[y.firstName," ",y.lastName]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Appointment ID:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:v.appointmentId})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Date & Time:"}),(0,Fe.jsxs)("span",{className:"ml-2 font-medium",children:[v.date," at"," ",v.time]})]}),(0,Fe.jsxs)("div",{children:[(0,Fe.jsx)("span",{className:"text-gray-500",children:"Reason:"}),(0,Fe.jsx)("span",{className:"ml-2 font-medium",children:v.reason||"Not specified"})]})]})]}),(0,Fe.jsx)("div",{className:"w-full mb-6",children:(0,Fe.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,Fe.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,Fe.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,Fe.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:[i?"Meeting ID":"Meeting ID (from invite link)",(0,Fe.jsx)("input",{placeholder:"Meeting ID",value:n,onChange:e=>r(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,Fe.jsx)("div",{className:"flex justify-end space-x-2 mt-4",children:(0,Fe.jsxs)("button",{onClick:()=>{n?(t=>{B(`/meeting-room?roomId=${encodeURIComponent(t)}&role=doctor&name=${e}`)})(n):alert("Please select an appointment first")},className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2",children:[(0,Fe.jsx)(Yb,{className:"mr-2"}),"Start Video Call"]})}),o&&(0,Fe.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[(0,Fe.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Invite others to join"}),(0,Fe.jsxs)("div",{className:"flex items-center",children:[(0,Fe.jsx)("input",{type:"text",value:A,readOnly:!0,className:"border border-gray-300 rounded-l-lg px-4 py-2 flex-grow"}),(0,Fe.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(A),alert("Link copied to clipboard!")},className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600",children:[(0,Fe.jsx)(Jb,{className:"inline-block mr-1"})," Copy"]})]}),(0,Fe.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to join your meeting"})]})]}),"join"===l&&(0,Fe.jsxs)("div",{className:"space-y-4",children:[(0,Fe.jsx)("div",{className:"w-full mb-6",children:(0,Fe.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,Fe.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,Fe.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,Fe.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Meeting ID (from invite link)",(0,Fe.jsx)("input",{placeholder:"Meeting ID",value:n,onChange:e=>r(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,Fe.jsx)("div",{className:"flex justify-end",children:(0,Fe.jsx)("button",{onClick:()=>(t=>{B(`/meeting-room?roomId=${encodeURIComponent(t)}&role=patient&name=${e}`)})(n),disabled:!n||!e,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Join Call"})})]}),"history"===l&&(0,Fe.jsx)("div",{className:"space-y-4",children:(0,Fe.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Fe.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Call History"}),(0,Fe.jsx)("p",{children:"Your recent video call history will appear here."})]})})]})}),w&&(0,Fe.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,Fe.jsx)("p",{children:"Invalid meeting ID. Please check your meeting link."})}),C&&(0,Fe.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:(0,Fe.jsx)("p",{children:"This meeting is not available at this time."})})]})})},Zb={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},eC=400,tC=499,nC=500,rC=599,iC=[Zb.OPENID_SCOPE,Zb.PROFILE_SCOPE,Zb.OFFLINE_ACCESS_SCOPE],oC=[...iC,Zb.EMAIL_SCOPE],sC="Content-Type",aC="Content-Length",AC="Retry-After",cC="X-AnchorMailbox",lC="x-ms-request-id",uC="x-ms-httpver",dC="active-account-filters",hC="common",fC="organizations",pC="consumers",gC="access_token",mC="xms_cc",vC={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},yC={PLAIN:"plain",S256:"S256"},wC="code",bC="id_token token refresh_token",CC="query",BC="fragment",SC="query",EC="authorization_code",kC="refresh_token",xC="MSSTS",TC="ADFS",IC="Generic",UC="-",FC=".",_C={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},RC="appmetadata",QC="1",PC="authority-metadata",OC=86400,NC="config",DC="cache",MC="network",LC="hardcoded_values",HC={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},jC={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},KC=60,VC=3600,qC="throttling",$C="retry-after, h429",GC="invalid_grant",zC="client_mismatch",WC=200,JC=400,YC="1",XC="3",ZC="4",eB="2",tB="4",nB="5",rB="0",iB="1",oB="2",sB="3",aB="4",AB="pop",cB="unexpected_error",lB="post_request_failed",uB={[cB]:"Unexpected error in authentication.",[lB]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class dB extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,dB.prototype),this.errorCode=e||Zb.EMPTY_STRING,this.errorMessage=t||Zb.EMPTY_STRING,this.subError=n||Zb.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function hB(e,t){return new dB(e,t?`${uB[e]} ${t}`:uB[e])}const fB="storage_not_supported",pB="stubbed_public_client_application_called",gB="in_mem_redirect_unavailable",mB={[fB]:"Given storage configuration option was not supported.",[pB]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[gB]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class vB extends dB{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,vB.prototype)}}function yB(e){return new vB(e,mB[e])}const wB={initialize:()=>Promise.reject(yB(pB)),acquireTokenPopup:()=>Promise.reject(yB(pB)),acquireTokenRedirect:()=>Promise.reject(yB(pB)),acquireTokenSilent:()=>Promise.reject(yB(pB)),acquireTokenByCode:()=>Promise.reject(yB(pB)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(yB(pB)),loginPopup:()=>Promise.reject(yB(pB)),loginRedirect:()=>Promise.reject(yB(pB)),logout:()=>Promise.reject(yB(pB)),logoutRedirect:()=>Promise.reject(yB(pB)),logoutPopup:()=>Promise.reject(yB(pB)),ssoSilent:()=>Promise.reject(yB(pB)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw yB(pB)},getLogger:()=>{throw yB(pB)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw yB(pB)},hydrateCache:()=>Promise.reject(yB(pB)),clearCache:()=>Promise.reject(yB(pB))},bB="invalid_grant",CB=483,BB=600,SB="msal",EB=30,kB="msal.js.browser",xB="53ee284d-920a-4b59-9d30-a60315b26836",TB="ppnbnpeolgkicgegkbkbjmhlideopiji",IB="MATS",UB="Handshake",FB="HandshakeResponse",_B="GetToken",RB="Response",QB="localStorage",PB="sessionStorage",OB="memoryStorage",NB="GET",DB="POST",MB="signin",LB="signout",HB="request.origin",jB="urlHash",KB="request.params",VB="code.verifier",qB="interaction.status",$B="request.native",GB="msal.account.keys",zB="msal.token.keys",WB="wrapper.sku",JB="wrapper.version",YB=861,XB=862,ZB=863,eS=865,tS=866,nS=61,rS=961,iS=962;var oS;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(oS||(oS={}));const sS="startup",aS="login",AS="logout",cS="acquireToken",lS="ssoSilent",uS="handleRedirect",dS="none",hS={scopes:iC},fS="@azure/msal-react",pS="msal.db",gS=`${pS}.keys`,mS=0,vS=1,yS=2,wS=3,bS=4,CS=5,BS=[mS,CS,bS];var SS;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(SS||(SS={}));class ES{constructor(e,t,n){this.level=SS.Info;const r=e||ES.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:SS.Info,this.correlationId=r.correlationId||Zb.EMPTY_STRING,this.packageName=t||Zb.EMPTY_STRING,this.packageVersion=n||Zb.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:SS.Info}}clone(e,t,n){return new ES({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${SS[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:SS.Error,containsPii:!1,correlationId:t||Zb.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:SS.Error,containsPii:!0,correlationId:t||Zb.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:SS.Warning,containsPii:!1,correlationId:t||Zb.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:SS.Warning,containsPii:!0,correlationId:t||Zb.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:SS.Info,containsPii:!1,correlationId:t||Zb.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:SS.Info,containsPii:!0,correlationId:t||Zb.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:SS.Verbose,containsPii:!1,correlationId:t||Zb.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:SS.Verbose,containsPii:!0,correlationId:t||Zb.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:SS.Trace,containsPii:!1,correlationId:t||Zb.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:SS.Trace,containsPii:!0,correlationId:t||Zb.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const kS={instance:wB,inProgress:dS,accounts:[],logger:new ES({})},xS=a.createContext(kS),TS=(xS.Consumer,"msal:initializeStart"),IS="msal:initializeEnd",US="msal:accountAdded",FS="msal:accountRemoved",_S="msal:activeAccountChanged",RS="msal:loginStart",QS="msal:loginSuccess",PS="msal:loginFailure",OS="msal:acquireTokenStart",NS="msal:acquireTokenSuccess",DS="msal:acquireTokenFailure",MS="msal:acquireTokenFromNetworkStart",LS="msal:ssoSilentStart",HS="msal:ssoSilentSuccess",jS="msal:ssoSilentFailure",KS="msal:acquireTokenByCodeStart",VS="msal:acquireTokenByCodeSuccess",qS="msal:acquireTokenByCodeFailure",$S="msal:handleRedirectStart",GS="msal:handleRedirectEnd",zS="msal:popupOpened",WS="msal:logoutStart",JS="msal:logoutSuccess",YS="msal:logoutFailure",XS="msal:logoutEnd",ZS="msal:restoreFromBFCache";class eE{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case RS:return aS;case LS:return lS;case OS:if(e.interactionType===oS.Redirect||e.interactionType===oS.Popup)return cS;break;case $S:return uS;case WS:return AS;case HS:case jS:if(t&&t!==lS)break;return dS;case XS:if(t&&t!==AS)break;return dS;case GS:if(t&&t!==uS)break;return dS;case QS:case PS:case NS:case DS:case ZS:if(e.interactionType===oS.Redirect||e.interactionType===oS.Popup){if(t&&t!==aS&&t!==cS)break;return dS}}return null}}function tE(e,t){return"function"===typeof e?e(t):e}function nE(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}const rE="3.0.12",iE="UNBLOCK_INPROGRESS",oE="EVENT",sE=(e,t)=>{const{type:n,payload:r}=t;let i=e.inProgress;switch(n){case iE:e.inProgress===sS&&(i=dS,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case oE:const t=r.message,o=eE.getInteractionStatusFromEvent(t,e.inProgress);o&&(r.logger.info(`MsalProvider - ${t.eventType} results in setting inProgress from ${e.inProgress} to ${o}`),i=o);break;default:throw new Error(`Unknown action type: ${n}`)}if(i===sS)return e;const o=r.instance.getAllAccounts();return i===e.inProgress||nE(o,e.accounts)?i!==e.inProgress?{...e,inProgress:i}:nE(o,e.accounts)?e:{...e,accounts:o}:{...e,inProgress:i,accounts:o}};function aE(e){let{instance:t,children:n}=e;(0,a.useEffect)((()=>{t.initializeWrapperLibrary(fS,rE)}),[t]);const r=(0,a.useMemo)((()=>t.getLogger().clone("@azure/msal-react",rE)),[t]),[i,o]=(0,a.useReducer)(sE,void 0,(()=>({inProgress:sS,accounts:[]})));(0,a.useEffect)((()=>{const e=t.addEventCallback((e=>{o({payload:{instance:t,logger:r,message:e},type:oE})}));return r.verbose(`MsalProvider - Registered event callback with id: ${e}`),t.initialize().then((()=>{t.handleRedirectPromise().catch((()=>{})).finally((()=>{o({payload:{instance:t,logger:r},type:iE})}))})).catch((()=>{})),()=>{e&&(r.verbose(`MsalProvider - Removing event callback ${e}`),t.removeEventCallback(e))}}),[t,r]);const s={instance:t,inProgress:i.inProgress,accounts:i.accounts,logger:r};return a.createElement(xS.Provider,{value:s},n)}const AE=()=>(0,a.useContext)(xS);function cE(e){const{accounts:t,inProgress:n}=AE(),r=(0,a.useMemo)((()=>n!==sS&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter((e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase())))[0]||null}(e,t):e.length>0}(t,e)),[t,n,e]);return r}function lE(e){let{username:t,homeAccountId:n,localAccountId:r,children:i}=e;const o=AE();return cE((0,a.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:r})),[t,n,r]))&&o.inProgress!==sS?a.createElement(a.Fragment,null,tE(i,o)):null}function uE(e){let{username:t,homeAccountId:n,localAccountId:r,children:i}=e;const o=AE();return cE((0,a.useMemo)((()=>({username:t,homeAccountId:n,localAccountId:r})),[t,n,r]))||o.inProgress===sS||o.inProgress===uS?null:a.createElement(a.Fragment,null,tE(i,o))}const dE={auth:{clientId:"529bcde4-d3c1-4896-9277-b7d72ec4f57b",authority:"https://login.microsoftonline.com/b3e3a3db-e3db-4f76-9a7c-5bca46062c8c",redirectUri:"http://localhost:3000/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{n||e!==SS.Error||console.error(t)}}}},hE={scopes:["openid","profile","User.Read","Directory.Read.All","Group.Read.All","User.Read.All"]},fE="https://graph.microsoft.com/v1.0/me";const pE=()=>{const{instance:e,accounts:t}=AE(),n=(0,a.useState)(null)[1];function r(){e.acquireTokenSilent({...hE,account:t[0]}).then((e=>{(async function(e){const t=new Headers,n=`Bearer ${e}`;return t.append("Authorization",n),fetch(fE,{method:"GET",headers:t}).then((e=>e.json())).catch((e=>console.log(e)))})(e.accessToken).then((e=>{n(e)}))}))}return(0,Fe.jsx)("div",{className:"relative ml-auto",children:(0,Fe.jsx)("button",{onClick:()=>{var t;"popup"===(t="redirect")?e.loginPopup(hE).then((e=>{r()})).catch((e=>{console.log(e)})):"redirect"===t&&e.loginRedirect(hE).catch((e=>{console.log(e)}))},className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Sign In"})})};let gE=!0,mE=!0;function vE(e,t,n){const r=e.match(t);return r&&r.length>=n&&parseFloat(r[n],10)}function yE(e,t,n){if(!e.RTCPeerConnection)return;const r=e.RTCPeerConnection.prototype,i=r.addEventListener;r.addEventListener=function(e,r){if(e!==t)return i.apply(this,arguments);const o=e=>{const t=n(e);t&&(r.handleEvent?r.handleEvent(t):r(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(r,o),i.apply(this,[e,o])};const o=r.removeEventListener;r.removeEventListener=function(e,n){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(n))return o.apply(this,arguments);const r=this._eventMap[t].get(n);return this._eventMap[t].delete(n),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,r])},Object.defineProperty(r,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function wE(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(gE=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function bE(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(mE=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function CE(){if("object"===typeof window){if(gE)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function BE(e,t){mE&&console.warn(e+" is deprecated, please use "+t+" instead.")}function SE(e){return"[object Object]"===Object.prototype.toString.call(e)}function EE(e){return SE(e)?Object.keys(e).reduce((function(t,n){const r=SE(e[n]),i=r?EE(e[n]):e[n],o=r&&!Object.keys(i).length;return void 0===i||o?t:Object.assign(t,{[n]:i})}),{}):e}function kE(e,t,n){t&&!n.has(t.id)&&(n.set(t.id,t),Object.keys(t).forEach((r=>{r.endsWith("Id")?kE(e,e.get(t[r]),n):r.endsWith("Ids")&&t[r].forEach((t=>{kE(e,e.get(t),n)}))})))}function xE(e,t,n){const r=n?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;const o=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((n=>{n.type===r&&n.trackId===t.id&&kE(e,n,i)}))})),i}const TE=CE;function IE(e,t){const n=e&&e.navigator;if(!n.mediaDevices)return;const r=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((n=>{if("require"===n||"advanced"===n||"mediaSource"===n)return;const r="object"===typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"===typeof r.exact&&(r.min=r.max=r.exact);const i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];let e={};"number"===typeof r.ideal?(e[i("min",n)]=r.ideal,t.optional.push(e),e={},e[i("max",n)]=r.ideal,t.optional.push(e)):(e[i("",n)]=r.ideal,t.optional.push(e))}void 0!==r.exact&&"number"!==typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach((e=>{void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},i=function(e,i){if(t.version>=61)return i(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const t=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=r(e.audio)}if(e&&"object"===typeof e.video){let o=e.video.facingMode;o=o&&("object"===typeof o?o:{ideal:o});const s=t.version<66;if(o&&("user"===o.exact||"environment"===o.exact||"user"===o.ideal||"environment"===o.ideal)&&(!n.mediaDevices.getSupportedConstraints||!n.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,"environment"===o.exact||"environment"===o.ideal?t=["back","rear"]:"user"!==o.exact&&"user"!==o.ideal||(t=["front"]),t)return n.mediaDevices.enumerateDevices().then((n=>{let s=(n=n.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!s&&n.length&&t.includes("back")&&(s=n[n.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=r(e.video),TE("chrome: "+JSON.stringify(e)),i(e)}))}e.video=r(e.video)}return TE("chrome: "+JSON.stringify(e)),i(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(n.getUserMedia=function(e,t,r){i(e,(e=>{n.webkitGetUserMedia(e,t,(e=>{r&&r(o(e))}))}))}.bind(n),n.mediaDevices.getUserMedia){const e=n.mediaDevices.getUserMedia.bind(n.mediaDevices);n.mediaDevices.getUserMedia=function(t){return i(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(o(e))))))}}}function UE(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof t?e.navigator.mediaDevices.getDisplayMedia=function(n){return t(n).then((t=>{const r=n.video&&n.video.width,i=n.video&&n.video.height,o=n.video&&n.video.frameRate;return n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},r&&(n.video.mandatory.maxWidth=r),i&&(n.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(n)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function FE(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function _E(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.track.id)):{track:n.track};const i=new Event("track");i.track=n.track,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)})),t.stream.getTracks().forEach((n=>{let r;r=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===n.id)):{track:n};const i=new Event("track");i.track=n,i.receiver=r,i.transceiver={receiver:r},i.streams=[t.stream],this.dispatchEvent(i)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else yE(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function RE(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const n=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){let i=n.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){r.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function QE(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,n,r]=arguments;if(arguments.length>0&&"function"===typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||"function"!==typeof e))return t.apply(this,[]);const i=function(e){const t={};return e.result().forEach((e=>{const n={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((t=>{n[t]=e.stat(t)})),t[n.id]=n})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const r=function(e){n(o(i(e)))};return t.apply(this,[r,e])}return new Promise(((e,n)=>{t.apply(this,[function(t){e(o(i(t)))},n])})).then(n,r)}}function PE(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>xE(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),yE(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>xE(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,n,r;return this.getSenders().forEach((n=>{n.track===e&&(t?r=!0:t=n)})),this.getReceivers().forEach((t=>(t.track===e&&(n?r=!0:n=t),t.track===e))),r||t&&n?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():n?n.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function OE(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){if(!n)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const r=t.apply(this,arguments);return this._shimmedLocalStreams[n.id]?-1===this._shimmedLocalStreams[n.id].indexOf(r)&&this._shimmedLocalStreams[n.id].push(r):this._shimmedLocalStreams[n.id]=[n,r],r};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();n.apply(this,arguments);const r=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(r)};const r=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],r.apply(this,arguments)};const i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const n=this._shimmedLocalStreams[t].indexOf(e);-1!==n&&this._shimmedLocalStreams[t].splice(n,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),i.apply(this,arguments)}}function NE(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return OE(e);const n=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=n.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const n=new e.MediaStream(t.getTracks());this._streams[t.id]=n,this._reverseStreams[n.id]=t,t=n}r.apply(this,[t])};const i=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(i.id,"g"),r.id)})),new RTCSessionDescription({type:t.type,sdp:n})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},i.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,n){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const r=[].slice.call(arguments,1);if(1!==r.length||!r[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const i=this._streams[n.id];if(i)i.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const r=new e.MediaStream([t]);this._streams[n.id]=r,this._reverseStreams[r.id]=n,this.addStream(r)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?n.apply(this,[t=>{const n=o(this,t);e[0].apply(null,[n])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):n.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=r[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let n=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const r=e._reverseStreams[t],i=e._streams[r.id];n=n.replace(new RegExp(r.id,"g"),i.id)})),new RTCSessionDescription({type:t.type,sdp:n})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=a.get.apply(this);return""===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((n=>{this._streams[n].getTracks().find((t=>e.track===t))&&(t=this._streams[n])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function DE(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}))}function ME(e,t){yE(e,"negotiationneeded",(e=>{const n=e.target;if(!(t.version<72||n.getConfiguration&&"plan-b"===n.getConfiguration().sdpSemantics)||"stable"===n.signalingState)return e}))}function LE(e,t){const n=e&&e.navigator,r=e&&e.MediaStreamTrack;if(n.getUserMedia=function(e,t,r){BE("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),n.mediaDevices.getUserMedia(e).then(t,r)},!(t.version>55&&"autoGainControl"in n.mediaDevices.getSupportedConstraints())){const e=function(e,t,n){t in e&&!(n in e)&&(e[n]=e[t],delete e[t])},t=n.mediaDevices.getUserMedia.bind(n.mediaDevices);if(n.mediaDevices.getUserMedia=function(n){return"object"===typeof n&&"object"===typeof n.audio&&(n=JSON.parse(JSON.stringify(n)),e(n.audio,"autoGainControl","mozAutoGainControl"),e(n.audio,"noiseSuppression","mozNoiseSuppression")),t(n)},r&&r.prototype.getSettings){const t=r.prototype.getSettings;r.prototype.getSettings=function(){const n=t.apply(this,arguments);return e(n,"mozAutoGainControl","autoGainControl"),e(n,"mozNoiseSuppression","noiseSuppression"),n}}if(r&&r.prototype.applyConstraints){const t=r.prototype.applyConstraints;r.prototype.applyConstraints=function(n){return"audio"===this.kind&&"object"===typeof n&&(n=JSON.parse(JSON.stringify(n)),e(n,"autoGainControl","mozAutoGainControl"),e(n,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[n])}}}}function HE(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(n){if(!n||!n.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===n.video?n.video={mediaSource:t}:n.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(n)})}function jE(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function KE(e,t){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const n=e.RTCPeerConnection.prototype[t],r={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),n.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=r[t]}));const n={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,o]=arguments;return r.apply(this,[e||null]).then((e=>{if(t.version<53&&!i)try{e.forEach((e=>{e.type=n[e.type]||e.type}))}catch(hY){if("TypeError"!==hY.name)throw hY;e.forEach(((t,r)=>{e.set(r,Object.assign({},t,{type:n[t.type]||t.type}))}))}return e})).then(i,o)}}function VE(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const n=e.RTCPeerConnection.prototype.addTrack;n&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=n.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function qE(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),yE(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function $E(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){BE("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function GE(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function zE(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const n=e.length>0;n&&e.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const r=t.apply(this,arguments);if(n){const{sender:t}=r,n=t.getParameters();(!("encodings"in n)||1===n.encodings.length&&0===Object.keys(n.encodings[0]).length)&&(n.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(n).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return r})}function WE(e){if("object"!==typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function JE(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function YE(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function XE(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((n=>t.call(this,n,e))),e.getVideoTracks().forEach((n=>t.call(this,n,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const n=e.getTracks();this.getSenders().forEach((e=>{n.includes(e.track)&&this.removeTrack(e)}))})}}function ZE(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const n=new Event("addstream");n.stream=t,e.dispatchEvent(n)}))}),t.apply(e,arguments)}}}function ek(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,n=t.createOffer,r=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i};let a=function(e,t,n){const r=i.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r};t.setLocalDescription=a,a=function(e,t,n){const r=o.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.setRemoteDescription=a,a=function(e,t,n){const r=s.apply(this,[e]);return n?(r.then(t,n),Promise.resolve()):r},t.addIceCandidate=a}function tk(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,n=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>n(nk(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,n,r){t.mediaDevices.getUserMedia(e).then(n,r)}.bind(t))}function nk(e){return e&&void 0!==e.video?Object.assign({},e,{video:EE(e.video)}):e}function rk(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,n){if(e&&e.iceServers){const t=[];for(let n=0;n<e.iceServers.length;n++){let r=e.iceServers[n];void 0===r.urls&&r.url?(BE("RTCIceServer.url","RTCIceServer.urls"),r=JSON.parse(JSON.stringify(r)),r.urls=r.url,delete r.url,t.push(r)):t.push(e.iceServers[n])}e.iceServers=t}return new t(e,n)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function ik(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function ok(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const n=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveVideo||n||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function sk(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var ak=n(8824),Ak=n.n(ak);function ck(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const n=new t(e),r=Ak().parseCandidate(e.candidate);for(const e in r)e in n||Object.defineProperty(n,e,{value:r[e]});return n.toJSON=function(){return{candidate:n.candidate,sdpMid:n.sdpMid,sdpMLineIndex:n.sdpMLineIndex,usernameFragment:n.usernameFragment}},n}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,yE(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function lk(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||yE(e,"icecandidate",(e=>{if(e.candidate){const t=Ak().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function uk(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=Ak().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Ak().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const n=parseInt(t[1],10);return n!==n?-1:n}(arguments[0]),n=function(e){let n=65536;return"firefox"===t.browser&&(n=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),n}(e),r=function(e,n){let r=65536;"firefox"===t.browser&&57===t.version&&(r=65535);const i=Ak().matchPrefix(e.sdp,"a=max-message-size:");return i.length>0?r=parseInt(i[0].substring(19),10):"firefox"===t.browser&&-1!==n&&(r=2147483637),r}(arguments[0],e);let i;i=0===n&&0===r?Number.POSITIVE_INFINITY:0===n||0===r?Math.max(n,r):Math.min(n,r);const o={};Object.defineProperty(o,"maxMessageSize",{get:()=>i}),this._sctp=o}return n.apply(this,arguments)}}function dk(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const n=e.send;e.send=function(){const r=arguments[0],i=r.length||r.size||r.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return n.apply(e,arguments)}}const n=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=n.apply(this,arguments);return t(e,this),e},yE(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function hk(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const n=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const n=new Event("connectionstatechange",e);t.dispatchEvent(n)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),n.apply(this,arguments)}}))}function fk(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t._safariVersion>=13.1)return;const n=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const n=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:n}):t.sdp=n}return n.apply(this,arguments)}}function pk(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.addIceCandidate;n&&0!==n.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():n.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function gk(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const n=e.RTCPeerConnection.prototype.setLocalDescription;n&&0!==n.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return n.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return n.apply(this,[e]);return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>n.apply(this,[e])))})}!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const s=CE,a=function(e){const t={browser:null,version:null};if("undefined"===typeof e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:n}=e;if(n.mozGetUserMedia)t.browser="firefox",t.version=parseInt(vE(n.userAgent,/Firefox\/(\d+)\./,1));else if(n.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(vE(n.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!n.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=parseInt(vE(n.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=vE(n.userAgent,/Version\/(\d+(\.?\d+))/,1)}return t}(e),A={browserDetails:a,commonShim:o,extractVersion:vE,disableLog:wE,disableWarnings:bE,sdp:ak};switch(a.browser){case"chrome":if(!t||!DE||!n.shimChrome)return s("Chrome shim is not included in this adapter release."),A;if(null===a.version)return s("Chrome shim can not determine version, not shimming."),A;s("adapter.js shimming chrome."),A.browserShim=t,pk(e,a),gk(e),IE(e,a),FE(e),DE(e,a),_E(e),NE(e,a),RE(e),QE(e),PE(e),ME(e,a),ck(e),lk(e),hk(e),uk(e,a),dk(e),fk(e,a);break;case"firefox":if(!r||!KE||!n.shimFirefox)return s("Firefox shim is not included in this adapter release."),A;s("adapter.js shimming firefox."),A.browserShim=r,pk(e,a),gk(e),LE(e,a),KE(e,a),jE(e),$E(e),VE(e),qE(e),GE(e),zE(e),WE(e),JE(e),YE(e),ck(e),hk(e),uk(e,a),dk(e);break;case"safari":if(!i||!n.shimSafari)return s("Safari shim is not included in this adapter release."),A;s("adapter.js shimming safari."),A.browserShim=i,pk(e,a),gk(e),rk(e),ok(e),ek(e),XE(e),ZE(e),ik(e),tk(e),sk(e),ck(e),lk(e),uk(e,a),dk(e),fk(e,a);break;default:s("Unsupported browser!")}}({window:"undefined"===typeof window?void 0:window});const mk=Symbol.for("protobuf-ts/message-type");function vk(e){let t=!1;const n=[];for(let r=0;r<e.length;r++){let i=e.charAt(r);"_"==i?t=!0:/\d/.test(i)?(n.push(i),t=!0):t?(n.push(i.toUpperCase()),t=!1):0==r?n.push(i.toLowerCase()):n.push(i)}return n.join("")}var yk,wk,bk;function Ck(e){var t,n,r,i;return e.localName=null!==(t=e.localName)&&void 0!==t?t:vk(e.name),e.jsonName=null!==(n=e.jsonName)&&void 0!==n?n:vk(e.name),e.repeat=null!==(r=e.repeat)&&void 0!==r?r:bk.NO,e.opt=null!==(i=e.opt)&&void 0!==i?i:!e.repeat&&(!e.oneof&&"message"==e.kind),e}function Bk(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(yk||(yk={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(wk||(wk={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(bk||(bk={}));class Sk{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}prepare(){if(this.data)return;const e=[],t=[],n=[];for(let r of this.fields)if(r.oneof)n.includes(r.oneof)||(n.push(r.oneof),e.push(r.oneof),t.push(r.oneof));else switch(t.push(r.localName),r.kind){case"scalar":case"enum":r.opt&&!r.repeat||e.push(r.localName);break;case"message":r.repeat&&e.push(r.localName);break;case"map":e.push(r.localName)}this.data={req:e,known:t,oneofs:Object.values(n)}}is(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t<0)return!0;if(null===e||void 0===e||"object"!=typeof e)return!1;this.prepare();let r=Object.keys(e),i=this.data;if(r.length<i.req.length||i.req.some((e=>!r.includes(e))))return!1;if(!n&&r.some((e=>!i.known.includes(e))))return!1;if(t<1)return!0;for(const o of i.oneofs){const r=e[o];if(!Bk(r))return!1;if(void 0===r.oneofKind)continue;const i=this.fields.find((e=>e.localName===r.oneofKind));if(!i)return!1;if(!this.field(r[r.oneofKind],i,n,t))return!1}for(const o of this.fields)if(void 0===o.oneof&&!this.field(e[o.localName],o,n,t))return!1;return!0}field(e,t,n,r){let i=t.repeat;switch(t.kind){case"scalar":return void 0===e?t.opt:i?this.scalars(e,t.T,r,t.L):this.scalar(e,t.T,t.L);case"enum":return void 0===e?t.opt:i?this.scalars(e,yk.INT32,r):this.scalar(e,yk.INT32);case"message":return void 0===e||(i?this.messages(e,t.T(),n,r):this.message(e,t.T(),n,r));case"map":if("object"!=typeof e||null===e)return!1;if(r<2)return!0;if(!this.mapKeys(e,t.K,r))return!1;switch(t.V.kind){case"scalar":return this.scalars(Object.values(e),t.V.T,r,t.V.L);case"enum":return this.scalars(Object.values(e),yk.INT32,r);case"message":return this.messages(Object.values(e),t.V.T(),n,r)}}return!0}message(e,t,n,r){return n?t.isAssignable(e,r):t.is(e,r)}messages(e,t,n,r){if(!Array.isArray(e))return!1;if(r<2)return!0;if(n){for(let i=0;i<e.length&&i<r;i++)if(!t.isAssignable(e[i],r-1))return!1}else for(let i=0;i<e.length&&i<r;i++)if(!t.is(e[i],r-1))return!1;return!0}scalar(e,t,n){let r=typeof e;switch(t){case yk.UINT64:case yk.FIXED64:case yk.INT64:case yk.SFIXED64:case yk.SINT64:switch(n){case wk.BIGINT:return"bigint"==r;case wk.NUMBER:return"number"==r&&!isNaN(e);default:return"string"==r}case yk.BOOL:return"boolean"==r;case yk.STRING:return"string"==r;case yk.BYTES:return e instanceof Uint8Array;case yk.DOUBLE:case yk.FLOAT:return"number"==r&&!isNaN(e);default:return"number"==r&&Number.isInteger(e)}}scalars(e,t,n,r){if(!Array.isArray(e))return!1;if(n<2)return!0;if(Array.isArray(e))for(let i=0;i<e.length&&i<n;i++)if(!this.scalar(e[i],t,r))return!1;return!0}mapKeys(e,t,n){let r=Object.keys(e);switch(t){case yk.INT32:case yk.FIXED32:case yk.SFIXED32:case yk.SINT32:case yk.UINT32:return this.scalars(r.slice(0,n).map((e=>parseInt(e))),t,n);case yk.BOOL:return this.scalars(r.slice(0,n).map((e=>"true"==e||"false"!=e&&e)),t,n);default:return this.scalars(r,t,n,wk.STRING)}}}function Ek(e){let t=typeof e;if("object"==t){if(Array.isArray(e))return"array";if(null===e)return"null"}return t}function kk(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let xk="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Tk=[];for(let n=0;n<xk.length;n++)Tk[xk[n].charCodeAt(0)]=n;function Ik(){let e=0,t=0;for(let r=0;r<28;r+=7){let n=this.buf[this.pos++];if(e|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}let n=this.buf[this.pos++];if(e|=(15&n)<<28,t=(112&n)>>4,0==(128&n))return this.assertBounds(),[e,t];for(let r=3;r<=31;r+=7){let n=this.buf[this.pos++];if(t|=(127&n)<<r,0==(128&n))return this.assertBounds(),[e,t]}throw new Error("invalid varint")}function Uk(e,t,n){for(let o=0;o<28;o+=7){const r=e>>>o,i=!(r>>>7==0&&0==t),s=255&(i?128|r:r);if(n.push(s),!i)return}const r=e>>>28&15|(7&t)<<4,i=!(t>>3==0);if(n.push(255&(i?128|r:r)),i){for(let e=3;e<31;e+=7){const r=t>>>e,i=!(r>>>7==0),o=255&(i?128|r:r);if(n.push(o),!i)return}n.push(t>>>31&1)}}Tk["-".charCodeAt(0)]=xk.indexOf("+"),Tk["_".charCodeAt(0)]=xk.indexOf("/");const Fk=4294967296;function _k(e){let t="-"==e[0];t&&(e=e.slice(1));const n=1e6;let r=0,i=0;function o(t,o){const s=Number(e.slice(t,o));i*=n,r=r*n+s,r>=Fk&&(i+=r/Fk|0,r%=Fk)}return o(-24,-18),o(-18,-12),o(-12,-6),o(-6),[t,r,i]}function Rk(e,t){if(t>>>0<=2097151)return""+(Fk*t+(e>>>0));let n=(e>>>24|t<<8)>>>0&16777215,r=t>>16&65535,i=(16777215&e)+6777216*n+6710656*r,o=n+8147497*r,s=2*r,a=1e7;function A(e,t){let n=e?String(e):"";return t?"0000000".slice(n.length)+n:n}return i>=a&&(o+=Math.floor(i/a),i%=a),o>=a&&(s+=Math.floor(o/a),o%=a),A(s,0)+A(o,s)+A(i,1)}function Qk(e,t){if(e>=0){for(;e>127;)t.push(127&e|128),e>>>=7;t.push(e)}else{for(let n=0;n<9;n++)t.push(127&e|128),e>>=7;t.push(1)}}function Pk(){let e=this.buf[this.pos++],t=127&e;if(0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<7,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<14,0==(128&e))return this.assertBounds(),t;if(e=this.buf[this.pos++],t|=(127&e)<<21,0==(128&e))return this.assertBounds(),t;e=this.buf[this.pos++],t|=(15&e)<<28;for(let n=5;0!==(128&e)&&n<10;n++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),t>>>0}let Ok;function Nk(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}!function(){const e=new DataView(new ArrayBuffer(8)),t=void 0!==globalThis.BigInt&&"function"===typeof e.getBigInt64&&"function"===typeof e.getBigUint64&&"function"===typeof e.setBigInt64&&"function"===typeof e.setBigUint64;Ok=t?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();const Dk=/^-?[0-9]+$/,Mk=4294967296,Lk=2147483648;class Hk{constructor(e,t){this.lo=0|e,this.hi=0|t}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*Mk+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class jk extends Hk{static from(e){if(Ok)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Ok.C(e);case"number":if(0===e)return this.ZERO;e=Ok.C(e);case"bigint":if(!e)return this.ZERO;if(e<Ok.UMIN)throw new Error("signed value for ulong");if(e>Ok.UMAX)throw new Error("ulong too large");return Ok.V.setBigUint64(0,e,!0),new jk(Ok.V.getInt32(0,!0),Ok.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Dk.test(e))throw new Error("string is no integer");let[t,n,r]=_k(e);if(t)throw new Error("signed value for ulong");return new jk(n,r);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new jk(e,e/Mk)}throw new Error("unknown value "+typeof e)}toString(){return Ok?this.toBigInt().toString():Rk(this.lo,this.hi)}toBigInt(){return Nk(Ok),Ok.V.setInt32(0,this.lo,!0),Ok.V.setInt32(4,this.hi,!0),Ok.V.getBigUint64(0,!0)}}jk.ZERO=new jk(0,0);class Kk extends Hk{static from(e){if(Ok)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Ok.C(e);case"number":if(0===e)return this.ZERO;e=Ok.C(e);case"bigint":if(!e)return this.ZERO;if(e<Ok.MIN)throw new Error("signed long too small");if(e>Ok.MAX)throw new Error("signed long too large");return Ok.V.setBigInt64(0,e,!0),new Kk(Ok.V.getInt32(0,!0),Ok.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Dk.test(e))throw new Error("string is no integer");let[t,n,r]=_k(e);if(t){if(r>Lk||r==Lk&&0!=n)throw new Error("signed long too small")}else if(r>=Lk)throw new Error("signed long too large");let i=new Kk(n,r);return t?i.negate():i;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new Kk(e,e/Mk):new Kk(-e,-e/Mk).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!==(this.hi&Lk)}negate(){let e=~this.hi,t=this.lo;return t?t=1+~t:e+=1,new Kk(t,e)}toString(){if(Ok)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+Rk(e.lo,e.hi)}return Rk(this.lo,this.hi)}toBigInt(){return Nk(Ok),Ok.V.setInt32(0,this.lo,!0),Ok.V.setInt32(4,this.hi,!0),Ok.V.getBigInt64(0,!0)}}function Vk(e,t){if(!e)throw new Error(t)}Kk.ZERO=new Kk(0,0);function qk(e){if("number"!==typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function $k(e){if("number"!==typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function Gk(e){if("number"!==typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}function zk(e,t){switch(t){case wk.BIGINT:return e.toBigInt();case wk.NUMBER:return e.toNumber();default:return e.toString()}}class Wk{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const t=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of t)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,t,n){if(!e){let e=Ek(n);throw"number"!=e&&"boolean"!=e||(e=n.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${t}`)}}read(e,t,n){this.prepare();const r=[];for(const[i,o]of Object.entries(e)){const e=this.fMap[i];if(!e){if(!n.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${i}`);continue}const s=e.localName;let a;if(e.oneof){if(null===o&&("enum"!==e.kind||"google.protobuf.NullValue"!==e.T()[0]))continue;if(r.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);r.push(e.oneof),a=t[e.oneof]={oneofKind:s}}else a=t;if("map"==e.kind){if(null===o)continue;this.assert(kk(o),e.name,o);const t=a[s];for(const[r,i]of Object.entries(o)){let o;switch(this.assert(null!==i,e.name+" map value",null),e.V.kind){case"message":o=e.V.T().internalJsonRead(i,n);break;case"enum":if(o=this.enum(e.V.T(),i,e.name,n.ignoreUnknownFields),!1===o)continue;break;case"scalar":o=this.scalar(i,e.V.T,e.V.L,e.name)}this.assert(void 0!==o,e.name+" map value",i);let s=r;e.K==yk.BOOL&&(s="true"==s||"false"!=s&&s),s=this.scalar(s,e.K,wk.STRING,e.name).toString(),t[s]=o}}else if(e.repeat){if(null===o)continue;this.assert(Array.isArray(o),e.name,o);const t=a[s];for(const r of o){let i;switch(this.assert(null!==r,e.name,null),e.kind){case"message":i=e.T().internalJsonRead(r,n);break;case"enum":if(i=this.enum(e.T(),r,e.name,n.ignoreUnknownFields),!1===i)continue;break;case"scalar":i=this.scalar(r,e.T,e.L,e.name)}this.assert(void 0!==i,e.name,o),t.push(i)}}else switch(e.kind){case"message":if(null===o&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}a[s]=e.T().internalJsonRead(o,n,a[s]);break;case"enum":if(null===o)continue;let t=this.enum(e.T(),o,e.name,n.ignoreUnknownFields);if(!1===t)continue;a[s]=t;break;case"scalar":if(null===o)continue;a[s]=this.scalar(o,e.T,e.L,e.name)}}}enum(e,t,n,r){if("google.protobuf.NullValue"==e[0]&&Vk(null===t||"NULL_VALUE"===t,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} only accepts null.`),null===t)return 0;switch(typeof t){case"number":return Vk(Number.isInteger(t),`Unable to parse field ${this.info.typeName}#${n}, enum can only be integral number, got ${t}.`),t;case"string":let i=t;e[2]&&t.substring(0,e[2].length)===e[2]&&(i=t.substring(e[2].length));let o=e[1][i];return("undefined"!==typeof o||!r)&&(Vk("number"==typeof o,`Unable to parse field ${this.info.typeName}#${n}, enum ${e[0]} has no value for "${t}".`),o)}Vk(!1,`Unable to parse field ${this.info.typeName}#${n}, cannot parse enum value from ${typeof t}".`)}scalar(e,t,n,r){let i;try{switch(t){case yk.DOUBLE:case yk.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){i="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){i="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let r=Number(e);if(Number.isNaN(r)){i="not a number";break}if(!Number.isFinite(r)){i="too large or small";break}return t==yk.FLOAT&&Gk(r),r;case yk.INT32:case yk.FIXED32:case yk.SFIXED32:case yk.SINT32:case yk.UINT32:if(null===e)return 0;let o;if("number"==typeof e?o=e:""===e?i="empty string":"string"==typeof e&&(e.trim().length!==e.length?i="extra whitespace":o=Number(e)),void 0===o)break;return t==yk.UINT32?$k(o):qk(o),o;case yk.INT64:case yk.SFIXED64:case yk.SINT64:if(null===e)return zk(Kk.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return zk(Kk.from(e),n);case yk.FIXED64:case yk.UINT64:if(null===e)return zk(jk.ZERO,n);if("number"!=typeof e&&"string"!=typeof e)break;return zk(jk.from(e),n);case yk.BOOL:if(null===e)return!1;if("boolean"!==typeof e)break;return e;case yk.STRING:if(null===e)return"";if("string"!==typeof e){i="extra whitespace";break}try{encodeURIComponent(e)}catch(i){i="invalid UTF8";break}return e;case yk.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!==typeof e)break;return function(e){let t=3*e.length/4;"="==e[e.length-2]?t-=2:"="==e[e.length-1]&&(t-=1);let n,r=new Uint8Array(t),i=0,o=0,s=0;for(let a=0;a<e.length;a++){if(n=Tk[e.charCodeAt(a)],void 0===n)switch(e[a]){case"=":o=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(o){case 0:s=n,o=1;break;case 1:r[i++]=s<<2|(48&n)>>4,s=n,o=2;break;case 2:r[i++]=(15&s)<<4|(60&n)>>2,s=n,o=3;break;case 3:r[i++]=(3&s)<<6|n,o=0}}if(1==o)throw Error("invalid base64 string.");return r.subarray(0,i)}(e)}}catch(o){i=o.message}this.assert(!1,r+(i?" - "+i:""),e)}}class Jk{constructor(e){var t;this.fields=null!==(t=e.fields)&&void 0!==t?t:[]}write(e,t){const n={},r=e;for(const i of this.fields){if(!i.oneof){let e=this.field(i,r[i.localName],t);void 0!==e&&(n[t.useProtoFieldName?i.name:i.jsonName]=e);continue}const e=r[i.oneof];if(e.oneofKind!==i.localName)continue;const o="scalar"==i.kind||"enum"==i.kind?Object.assign(Object.assign({},t),{emitDefaultValues:!0}):t;let s=this.field(i,e[i.localName],o);Vk(void 0!==s),n[t.useProtoFieldName?i.name:i.jsonName]=s}return n}field(e,t,n){let r;if("map"==e.kind){Vk("object"==typeof t&&null!==t);const i={};switch(e.V.kind){case"scalar":for(const[n,s]of Object.entries(t)){const t=this.scalar(e.V.T,s,e.name,!1,!0);Vk(void 0!==t),i[n.toString()]=t}break;case"message":const r=e.V.T();for(const[s,a]of Object.entries(t)){const t=this.message(r,a,e.name,n);Vk(void 0!==t),i[s.toString()]=t}break;case"enum":const o=e.V.T();for(const[s,a]of Object.entries(t)){Vk(void 0===a||"number"==typeof a);const t=this.enum(o,a,e.name,!1,!0,n.enumAsInteger);Vk(void 0!==t),i[s.toString()]=t}}(n.emitDefaultValues||Object.keys(i).length>0)&&(r=i)}else if(e.repeat){Vk(Array.isArray(t));const i=[];switch(e.kind){case"scalar":for(let n=0;n<t.length;n++){const r=this.scalar(e.T,t[n],e.name,e.opt,!0);Vk(void 0!==r),i.push(r)}break;case"enum":const r=e.T();for(let s=0;s<t.length;s++){Vk(void 0===t[s]||"number"==typeof t[s]);const o=this.enum(r,t[s],e.name,e.opt,!0,n.enumAsInteger);Vk(void 0!==o),i.push(o)}break;case"message":const o=e.T();for(let s=0;s<t.length;s++){const r=this.message(o,t[s],e.name,n);Vk(void 0!==r),i.push(r)}}(n.emitDefaultValues||i.length>0||n.emitDefaultValues)&&(r=i)}else switch(e.kind){case"scalar":r=this.scalar(e.T,t,e.name,e.opt,n.emitDefaultValues);break;case"enum":r=this.enum(e.T(),t,e.name,e.opt,n.emitDefaultValues,n.enumAsInteger);break;case"message":r=this.message(e.T(),t,e.name,n)}return r}enum(e,t,n,r,i,o){if("google.protobuf.NullValue"==e[0])return i||r?null:void 0;if(void 0!==t){if(0!==t||i||r)return Vk("number"==typeof t),Vk(Number.isInteger(t)),o||!e[1].hasOwnProperty(t)?t:e[2]?e[2]+e[1][t]:e[1][t]}else Vk(r)}message(e,t,n,r){return void 0===t?r.emitDefaultValues?null:void 0:e.internalJsonWrite(t,r)}scalar(e,t,n,r,i){if(void 0===t)return void Vk(r);const o=i||r;switch(e){case yk.INT32:case yk.SFIXED32:case yk.SINT32:return 0===t?o?0:void 0:(qk(t),t);case yk.FIXED32:case yk.UINT32:return 0===t?o?0:void 0:($k(t),t);case yk.FLOAT:Gk(t);case yk.DOUBLE:return 0===t?o?0:void 0:(Vk("number"==typeof t),Number.isNaN(t)?"NaN":t===Number.POSITIVE_INFINITY?"Infinity":t===Number.NEGATIVE_INFINITY?"-Infinity":t);case yk.STRING:return""===t?o?"":void 0:(Vk("string"==typeof t),t);case yk.BOOL:return!1===t?!o&&void 0:(Vk("boolean"==typeof t),t);case yk.UINT64:case yk.FIXED64:Vk("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let e=jk.from(t);if(e.isZero()&&!o)return;return e.toString();case yk.INT64:case yk.SFIXED64:case yk.SINT64:Vk("number"==typeof t||"string"==typeof t||"bigint"==typeof t);let n=Kk.from(t);if(n.isZero()&&!o)return;return n.toString();case yk.BYTES:return Vk(t instanceof Uint8Array),t.byteLength?function(e){let t,n="",r=0,i=0;for(let o=0;o<e.length;o++)switch(t=e[o],r){case 0:n+=xk[t>>2],i=(3&t)<<4,r=1;break;case 1:n+=xk[i|t>>4],i=(15&t)<<2,r=2;break;case 2:n+=xk[i|t>>6],n+=xk[63&t],r=0}return r&&(n+=xk[i],n+="=",1==r&&(n+="=")),n}(t):o?"":void 0}}}var Yk,Xk;function Zk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wk.STRING;switch(e){case yk.BOOL:return!1;case yk.UINT64:case yk.FIXED64:return zk(jk.ZERO,t);case yk.INT64:case yk.SFIXED64:case yk.SINT64:return zk(Kk.ZERO,t);case yk.DOUBLE:case yk.FLOAT:return 0;case yk.BYTES:return new Uint8Array(0);case yk.STRING:return"";default:return 0}}!function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(n,r,i,o,s)=>{(t(r)?r[e.symbol]:r[e.symbol]=[]).push({no:i,wireType:o,data:s})},e.onWrite=(t,n,r)=>{for(let{no:i,wireType:o,data:s}of e.list(n))r.tag(i,o).raw(s)},e.list=(n,r)=>{if(t(n)){let t=n[e.symbol];return r?t.filter((e=>e.no==r)):t}return[]},e.last=(t,n)=>e.list(t,n).slice(-1)[0];const t=t=>t&&Array.isArray(t[e.symbol])}(Yk||(Yk={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(Xk||(Xk={}));class ex{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const t=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(t.map((e=>[e.no,e])))}}read(e,t,n,r){this.prepare();const i=void 0===r?e.len:e.pos+r;for(;e.pos<i;){const[r,i]=e.tag(),o=this.fieldNoToField.get(r);if(!o){let o=n.readUnknownField;if("throw"==o)throw new Error(`Unknown field ${r} (wire type ${i}) for ${this.info.typeName}`);let s=e.skip(i);!1!==o&&(!0===o?Yk.onRead:o)(this.info.typeName,t,r,i,s);continue}let s=t,a=o.repeat,A=o.localName;switch(o.oneof&&(s=s[o.oneof],s.oneofKind!==A&&(s=t[o.oneof]={oneofKind:A})),o.kind){case"scalar":case"enum":let t="enum"==o.kind?yk.INT32:o.T,r="scalar"==o.kind?o.L:void 0;if(a){let n=s[A];if(i==Xk.LengthDelimited&&t!=yk.STRING&&t!=yk.BYTES){let i=e.uint32()+e.pos;for(;e.pos<i;)n.push(this.scalar(e,t,r))}else n.push(this.scalar(e,t,r))}else s[A]=this.scalar(e,t,r);break;case"message":if(a){let t=s[A],r=o.T().internalBinaryRead(e,e.uint32(),n);t.push(r)}else s[A]=o.T().internalBinaryRead(e,e.uint32(),n,s[A]);break;case"map":let[c,l]=this.mapEntry(o,e,n);s[A][c]=l}}}mapEntry(e,t,n){let r,i,o=t.uint32(),s=t.pos+o;for(;t.pos<s;){let[o,s]=t.tag();switch(o){case 1:r=e.K==yk.BOOL?t.bool().toString():this.scalar(t,e.K,wk.STRING);break;case 2:switch(e.V.kind){case"scalar":i=this.scalar(t,e.V.T,e.V.L);break;case"enum":i=t.int32();break;case"message":i=e.V.T().internalBinaryRead(t,t.uint32(),n)}break;default:throw new Error(`Unknown field ${o} (wire type ${s}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===r){let t=Zk(e.K);r=e.K==yk.BOOL?t.toString():t}if(void 0===i)switch(e.V.kind){case"scalar":i=Zk(e.V.T,e.V.L);break;case"enum":i=0;break;case"message":i=e.V.T().create()}return[r,i]}scalar(e,t,n){switch(t){case yk.INT32:return e.int32();case yk.STRING:return e.string();case yk.BOOL:return e.bool();case yk.DOUBLE:return e.double();case yk.FLOAT:return e.float();case yk.INT64:return zk(e.int64(),n);case yk.UINT64:return zk(e.uint64(),n);case yk.FIXED64:return zk(e.fixed64(),n);case yk.FIXED32:return e.fixed32();case yk.BYTES:return e.bytes();case yk.UINT32:return e.uint32();case yk.SFIXED32:return e.sfixed32();case yk.SFIXED64:return zk(e.sfixed64(),n);case yk.SINT32:return e.sint32();case yk.SINT64:return zk(e.sint64(),n)}}}class tx{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,t)=>e.no-t.no))}}write(e,t,n){this.prepare();for(const i of this.fields){let r,o,s=i.repeat,a=i.localName;if(i.oneof){const t=e[i.oneof];if(t.oneofKind!==a)continue;r=t[a],o=!0}else r=e[a],o=!1;switch(i.kind){case"scalar":case"enum":let e="enum"==i.kind?yk.INT32:i.T;if(s)if(Vk(Array.isArray(r)),s==bk.PACKED)this.packed(t,e,i.no,r);else for(const n of r)this.scalar(t,e,i.no,n,!0);else void 0===r?Vk(i.opt):this.scalar(t,e,i.no,r,o||i.opt);break;case"message":if(s){Vk(Array.isArray(r));for(const e of r)this.message(t,n,i.T(),i.no,e)}else this.message(t,n,i.T(),i.no,r);break;case"map":Vk("object"==typeof r&&null!==r);for(const[o,s]of Object.entries(r))this.mapEntry(t,n,i,o,s)}}let r=n.writeUnknownFields;!1!==r&&(!0===r?Yk.onWrite:r)(this.info.typeName,e,t)}mapEntry(e,t,n,r,i){e.tag(n.no,Xk.LengthDelimited),e.fork();let o=r;switch(n.K){case yk.INT32:case yk.FIXED32:case yk.UINT32:case yk.SFIXED32:case yk.SINT32:o=Number.parseInt(r);break;case yk.BOOL:Vk("true"==r||"false"==r),o="true"==r}switch(this.scalar(e,n.K,1,o,!0),n.V.kind){case"scalar":this.scalar(e,n.V.T,2,i,!0);break;case"enum":this.scalar(e,yk.INT32,2,i,!0);break;case"message":this.message(e,t,n.V.T(),2,i)}e.join()}message(e,t,n,r,i){void 0!==i&&(n.internalBinaryWrite(i,e.tag(r,Xk.LengthDelimited).fork(),t),e.join())}scalar(e,t,n,r,i){let[o,s,a]=this.scalarInfo(t,r);a&&!i||(e.tag(n,o),e[s](r))}packed(e,t,n,r){if(!r.length)return;Vk(t!==yk.BYTES&&t!==yk.STRING),e.tag(n,Xk.LengthDelimited),e.fork();let[,i]=this.scalarInfo(t);for(let o=0;o<r.length;o++)e[i](r[o]);e.join()}scalarInfo(e,t){let n,r=Xk.Varint,i=void 0===t,o=0===t;switch(e){case yk.INT32:n="int32";break;case yk.STRING:o=i||!t.length,r=Xk.LengthDelimited,n="string";break;case yk.BOOL:o=!1===t,n="bool";break;case yk.UINT32:n="uint32";break;case yk.DOUBLE:r=Xk.Bit64,n="double";break;case yk.FLOAT:r=Xk.Bit32,n="float";break;case yk.INT64:o=i||Kk.from(t).isZero(),n="int64";break;case yk.UINT64:o=i||jk.from(t).isZero(),n="uint64";break;case yk.FIXED64:o=i||jk.from(t).isZero(),r=Xk.Bit64,n="fixed64";break;case yk.BYTES:o=i||!t.byteLength,r=Xk.LengthDelimited,n="bytes";break;case yk.FIXED32:r=Xk.Bit32,n="fixed32";break;case yk.SFIXED32:r=Xk.Bit32,n="sfixed32";break;case yk.SFIXED64:o=i||Kk.from(t).isZero(),r=Xk.Bit64,n="sfixed64";break;case yk.SINT32:n="sint32";break;case yk.SINT64:o=i||Kk.from(t).isZero(),n="sint64"}return[r,n,i||o]}}function nx(e,t,n){let r,i,o=n;for(let s of e.fields){let e=s.localName;if(s.oneof){const n=o[s.oneof];if(void 0==(null===n||void 0===n?void 0:n.oneofKind))continue;if(r=n[e],i=t[s.oneof],i.oneofKind=n.oneofKind,void 0==r){delete i[e];continue}}else if(r=o[e],i=t,void 0==r)continue;switch(s.repeat&&(i[e].length=r.length),s.kind){case"scalar":case"enum":if(s.repeat)for(let n=0;n<r.length;n++)i[e][n]=r[n];else i[e]=r;break;case"message":let t=s.T();if(s.repeat)for(let n=0;n<r.length;n++)i[e][n]=t.create(r[n]);else void 0===i[e]?i[e]=t.create(r):t.mergePartial(i[e],r);break;case"map":switch(s.V.kind){case"scalar":case"enum":Object.assign(i[e],r);break;case"message":let t=s.V.T();for(let n of Object.keys(r))i[e][n]=t.create(r[n])}}}}const rx={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},ix={ignoreUnknownFields:!1};function ox(e,t){var n,r;let i=Object.assign(Object.assign({},e),t);return i.typeRegistry=[...null!==(n=null===e||void 0===e?void 0:e.typeRegistry)&&void 0!==n?n:[],...null!==(r=null===t||void 0===t?void 0:t.typeRegistry)&&void 0!==r?r:[]],i}const sx=Object.values;function ax(e,t,n){if(t===n)return!0;if(e!==yk.BYTES)return!1;let r=t,i=n;if(r.length!==i.length)return!1;for(let o=0;o<r.length;o++)if(r[o]!=i[o])return!1;return!0}function Ax(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!ax(e,t[r],n[r]))return!1;return!0}function cx(e,t,n){if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e.equals(t[r],n[r]))return!1;return!0}const lx={writeUnknownFields:!0,writerFactory:()=>new ux};class ux{constructor(e){this.stack=[],this.textEncoder=null!==e&&void 0!==e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let t=new Uint8Array(e),n=0;for(let r=0;r<this.chunks.length;r++)t.set(this.chunks[r],n),n+=this.chunks[r].length;return this.chunks=[],t}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),t=this.stack.pop();if(!t)throw new Error("invalid state, fork stack empty");return this.chunks=t.chunks,this.buf=t.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,t){return this.uint32((e<<3|t)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for($k(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return qk(e),Qk(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let t=this.textEncoder.encode(e);return this.uint32(t.byteLength),this.raw(t)}float(e){Gk(e);let t=new Uint8Array(4);return new DataView(t.buffer).setFloat32(0,e,!0),this.raw(t)}double(e){let t=new Uint8Array(8);return new DataView(t.buffer).setFloat64(0,e,!0),this.raw(t)}fixed32(e){$k(e);let t=new Uint8Array(4);return new DataView(t.buffer).setUint32(0,e,!0),this.raw(t)}sfixed32(e){qk(e);let t=new Uint8Array(4);return new DataView(t.buffer).setInt32(0,e,!0),this.raw(t)}sint32(e){return qk(e),Qk(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=Kk.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}fixed64(e){let t=new Uint8Array(8),n=new DataView(t.buffer),r=jk.from(e);return n.setInt32(0,r.lo,!0),n.setInt32(4,r.hi,!0),this.raw(t)}int64(e){let t=Kk.from(e);return Uk(t.lo,t.hi,this.buf),this}sint64(e){let t=Kk.from(e),n=t.hi>>31;return Uk(t.lo<<1^n,(t.hi<<1|t.lo>>>31)^n,this.buf),this}uint64(e){let t=jk.from(e);return Uk(t.lo,t.hi,this.buf),this}}const dx={readUnknownField:!0,readerFactory:e=>new hx(e)};class hx{constructor(e,t){this.varint64=Ik,this.uint32=Pk,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!==t&&void 0!==t?t:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),t=e>>>3,n=7&e;if(t<=0||n<0||n>5)throw new Error("illegal tag: field no "+t+" wire type "+n);return[t,n]}skip(e){let t=this.pos;switch(e){case Xk.Varint:for(;128&this.buf[this.pos++];);break;case Xk.Bit64:this.pos+=4;case Xk.Bit32:this.pos+=4;break;case Xk.LengthDelimited:let t=this.uint32();this.pos+=t;break;case Xk.StartGroup:let n;for(;(n=this.tag()[1])!==Xk.EndGroup;)this.skip(n);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(t,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new Kk(...this.varint64())}uint64(){return new jk(...this.varint64())}sint64(){let[e,t]=this.varint64(),n=-(1&e);return e=(e>>>1|(1&t)<<31)^n,t=t>>>1^n,new Kk(e,t)}bool(){let[e,t]=this.varint64();return 0!==e||0!==t}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new jk(this.sfixed32(),this.sfixed32())}sfixed64(){return new Kk(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),t=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(t,t+e)}string(){return this.textDecoder.decode(this.bytes())}}const fx=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class px{constructor(e,t,n){this.defaultCheckDepth=16,this.typeName=e,this.fields=t.map(Ck),this.options=null!==n&&void 0!==n?n:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},fx),{[mk]:{value:this}})),this.refTypeCheck=new Sk(this),this.refJsonReader=new Wk(this),this.refJsonWriter=new Jk(this),this.refBinReader=new ex(this),this.refBinWriter=new tx(this)}create(e){let t=function(e){const t=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},mk,{value:e});for(let n of e.fields){let e=n.localName;if(!n.opt)if(n.oneof)t[n.oneof]={oneofKind:void 0};else if(n.repeat)t[e]=[];else switch(n.kind){case"scalar":t[e]=Zk(n.T,n.L);break;case"enum":t[e]=0;break;case"map":t[e]={}}}return t}(this);return void 0!==e&&nx(this,t,e),t}clone(e){let t=this.create();return nx(this,t,e),t}equals(e,t){return function(e,t,n){if(t===n)return!0;if(!t||!n)return!1;for(let r of e.fields){let e=r.localName,i=r.oneof?t[r.oneof][e]:t[e],o=r.oneof?n[r.oneof][e]:n[e];switch(r.kind){case"enum":case"scalar":let e="enum"==r.kind?yk.INT32:r.T;if(!(r.repeat?Ax(e,i,o):ax(e,i,o)))return!1;break;case"map":if(!("message"==r.V.kind?cx(r.V.T(),sx(i),sx(o)):Ax("enum"==r.V.kind?yk.INT32:r.V.T,sx(i),sx(o))))return!1;break;case"message":let t=r.T();if(!(r.repeat?cx(t,i,o):t.equals(i,o)))return!1}}return!0}(this,e,t)}is(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!1)}isAssignable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,t,!0)}mergePartial(e,t){nx(this,e,t)}fromBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},dx),e):dx}(t);return this.internalBinaryRead(n.readerFactory(e),e.byteLength,n)}fromJson(e,t){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},ix),e):ix}(t))}fromJsonString(e,t){let n=JSON.parse(e);return this.fromJson(n,t)}toJson(e,t){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},rx),e):rx}(t))}toJsonString(e,t){var n;let r=this.toJson(e,t);return JSON.stringify(r,null,null!==(n=null===t||void 0===t?void 0:t.prettySpaces)&&void 0!==n?n:0)}toBinary(e,t){let n=function(e){return e?Object.assign(Object.assign({},lx),e):lx}(t);return this.internalBinaryWrite(e,n.writerFactory(),n).finish()}internalJsonRead(e,t,n){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let r=null!==n&&void 0!==n?n:this.create();return this.refJsonReader.read(e,r,t),r}throw new Error(`Unable to parse message ${this.typeName} from JSON ${Ek(e)}.`)}internalJsonWrite(e,t){return this.refJsonWriter.write(e,t)}internalBinaryWrite(e,t,n){return this.refBinWriter.write(e,t,n),t}internalBinaryRead(e,t,n,r){let i=null!==r&&void 0!==r?r:this.create();return this.refBinReader.read(e,i,n,t),i}}function gx(e,t,n,r,i){var o,s,a,A;if("unary"==e){let e=(e,n,r)=>t.unary(e,n,r);for(const t of(null!==(o=r.interceptors)&&void 0!==o?o:[]).filter((e=>e.interceptUnary)).reverse()){const n=e;e=(e,r,i)=>t.interceptUnary(n,e,r,i)}return e(n,i,r)}if("serverStreaming"==e){let e=(e,n,r)=>t.serverStreaming(e,n,r);for(const t of(null!==(s=r.interceptors)&&void 0!==s?s:[]).filter((e=>e.interceptServerStreaming)).reverse()){const n=e;e=(e,r,i)=>t.interceptServerStreaming(n,e,r,i)}return e(n,i,r)}if("clientStreaming"==e){let e=(e,n)=>t.clientStreaming(e,n);for(const t of(null!==(a=r.interceptors)&&void 0!==a?a:[]).filter((e=>e.interceptClientStreaming)).reverse()){const n=e;e=(e,r)=>t.interceptClientStreaming(n,e,r)}return e(n,r)}if("duplex"==e){let e=(e,n)=>t.duplex(e,n);for(const t of(null!==(A=r.interceptors)&&void 0!==A?A:[]).filter((e=>e.interceptDuplex)).reverse()){const n=e;e=(e,r)=>t.interceptDuplex(n,e,r)}return e(n,r)}!function(e,t){throw new Error(null!==t&&void 0!==t?t:"Unexpected object: "+e)}(e)}class mx extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNKNOWN",n=arguments.length>2?arguments[2]:void 0;super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=t,this.meta=null!==n&&void 0!==n?n:{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let t=Object.entries(this.meta);if(t.length){e.push(""),e.push("Meta:");for(let[n,r]of t)e.push(`  ${n}: ${r}`)}return e.join("\n")}}function vx(e,t){return function(){return e.apply(t,arguments)}}const{toString:yx}=Object.prototype,{getPrototypeOf:wx}=Object,{iterator:bx,toStringTag:Cx}=Symbol,Bx=(Sx=Object.create(null),e=>{const t=yx.call(e);return Sx[t]||(Sx[t]=t.slice(8,-1).toLowerCase())});var Sx;const Ex=e=>(e=e.toLowerCase(),t=>Bx(t)===e),kx=e=>t=>typeof t===e,{isArray:xx}=Array,Tx=kx("undefined");const Ix=Ex("ArrayBuffer");const Ux=kx("string"),Fx=kx("function"),_x=kx("number"),Rx=e=>null!==e&&"object"===typeof e,Qx=e=>{if("object"!==Bx(e))return!1;const t=wx(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Cx in e)&&!(bx in e)},Px=Ex("Date"),Ox=Ex("File"),Nx=Ex("Blob"),Dx=Ex("FileList"),Mx=Ex("URLSearchParams"),[Lx,Hx,jx,Kx]=["ReadableStream","Request","Response","Headers"].map(Ex);function Vx(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),xx(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),o=r.length;let s;for(n=0;n<o;n++)s=r[n],t.call(null,e[s],s,e)}}function qx(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const $x="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Gx=e=>!Tx(e)&&e!==$x;const zx=(Wx="undefined"!==typeof Uint8Array&&wx(Uint8Array),e=>Wx&&e instanceof Wx);var Wx;const Jx=Ex("HTMLFormElement"),Yx=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Xx=Ex("RegExp"),Zx=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Vx(n,((n,i)=>{let o;!1!==(o=t(n,i,e))&&(r[i]=o||n)})),Object.defineProperties(e,r)};const eT=Ex("AsyncFunction"),tT=(nT="function"===typeof setImmediate,rT=Fx($x.postMessage),nT?setImmediate:rT?((e,t)=>($x.addEventListener("message",(n=>{let{source:r,data:i}=n;r===$x&&i===e&&t.length&&t.shift()()}),!1),n=>{t.push(n),$x.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e));var nT,rT;const iT="undefined"!==typeof queueMicrotask?queueMicrotask.bind($x):"undefined"!==typeof process&&process.nextTick||tT,oT={isArray:xx,isArrayBuffer:Ix,isBuffer:function(e){return null!==e&&!Tx(e)&&null!==e.constructor&&!Tx(e.constructor)&&Fx(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Fx(e.append)&&("formdata"===(t=Bx(e))||"object"===t&&Fx(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Ix(e.buffer),t},isString:Ux,isNumber:_x,isBoolean:e=>!0===e||!1===e,isObject:Rx,isPlainObject:Qx,isReadableStream:Lx,isRequest:Hx,isResponse:jx,isHeaders:Kx,isUndefined:Tx,isDate:Px,isFile:Ox,isBlob:Nx,isRegExp:Xx,isFunction:Fx,isStream:e=>Rx(e)&&Fx(e.pipe),isURLSearchParams:Mx,isTypedArray:zx,isFileList:Dx,forEach:Vx,merge:function e(){const{caseless:t}=Gx(this)&&this||{},n={},r=(r,i)=>{const o=t&&qx(n,i)||i;Qx(n[o])&&Qx(r)?n[o]=e(n[o],r):Qx(r)?n[o]=e({},r):xx(r)?n[o]=r.slice():n[o]=r};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Vx(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Vx(t,((t,r)=>{n&&Fx(t)?e[r]=vx(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&wx(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Bx,kindOfTest:Ex,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(xx(e))return e;let t=e.length;if(!_x(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[bx]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Jx,hasOwnProperty:Yx,hasOwnProp:Yx,reduceDescriptors:Zx,freezeMethods:e=>{Zx(e,((t,n)=>{if(Fx(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Fx(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return xx(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:qx,global:$x,isContextDefined:Gx,isSpecCompliantForm:function(e){return!!(e&&Fx(e.append)&&"FormData"===e[Cx]&&e[bx])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Rx(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=xx(e)?[]:{};return Vx(e,((e,t)=>{const o=n(e,r+1);!Tx(o)&&(i[t]=o)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:eT,isThenable:e=>e&&(Rx(e)||Fx(e))&&Fx(e.then)&&Fx(e.catch),setImmediate:tT,asap:iT,isIterable:e=>null!=e&&Fx(e[bx])};function sT(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}oT.inherits(sT,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:oT.toJSONObject(this.config),code:this.code,status:this.status}}});const aT=sT.prototype,AT={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{AT[e]={value:e}})),Object.defineProperties(sT,AT),Object.defineProperty(aT,"isAxiosError",{value:!0}),sT.from=(e,t,n,r,i,o)=>{const s=Object.create(aT);return oT.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),sT.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const cT=sT;function lT(e){return oT.isPlainObject(e)||oT.isArray(e)}function uT(e){return oT.endsWith(e,"[]")?e.slice(0,-2):e}function dT(e,t,n){return e?e.concat(t).map((function(e,t){return e=uT(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const hT=oT.toFlatObject(oT,{},null,(function(e){return/^is[A-Z]/.test(e)}));const fT=function(e,t,n){if(!oT.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=oT.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!oT.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,o=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&oT.isSpecCompliantForm(t);if(!oT.isFunction(i))throw new TypeError("visitor must be a function");function A(e){if(null===e)return"";if(oT.isDate(e))return e.toISOString();if(!a&&oT.isBlob(e))throw new cT("Blob is not supported. Use a Buffer instead.");return oT.isArrayBuffer(e)||oT.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(oT.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(oT.isArray(e)&&function(e){return oT.isArray(e)&&!e.some(lT)}(e)||(oT.isFileList(e)||oT.endsWith(n,"[]"))&&(a=oT.toArray(e)))return n=uT(n),a.forEach((function(e,r){!oT.isUndefined(e)&&null!==e&&t.append(!0===s?dT([n],r,o):null===s?n:n+"[]",A(e))})),!1;return!!lT(e)||(t.append(dT(i,n,o),A(e)),!1)}const l=[],u=Object.assign(hT,{defaultVisitor:c,convertValue:A,isVisitable:lT});if(!oT.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!oT.isUndefined(n)){if(-1!==l.indexOf(n))throw Error("Circular reference detected in "+r.join("."));l.push(n),oT.forEach(n,(function(n,o){!0===(!(oT.isUndefined(n)||null===n)&&i.call(t,n,oT.isString(o)?o.trim():o,r,u))&&e(n,r?r.concat(o):[o])})),l.pop()}}(e),t};function pT(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function gT(e,t){this._pairs=[],e&&fT(e,this,t)}const mT=gT.prototype;mT.append=function(e,t){this._pairs.push([e,t])},mT.toString=function(e){const t=e?function(t){return e.call(this,t,pT)}:pT;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const vT=gT;function yT(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function wT(e,t,n){if(!t)return e;const r=n&&n.encode||yT;oT.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(o=i?i(t,n):oT.isURLSearchParams(t)?t.toString():new vT(t,n).toString(r),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const bT=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){oT.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},CT={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},BT={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:vT,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ST="undefined"!==typeof window&&"undefined"!==typeof document,ET="object"===typeof navigator&&navigator||void 0,kT=ST&&(!ET||["ReactNative","NativeScript","NS"].indexOf(ET.product)<0),xT="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,TT=ST&&window.location.href||"http://localhost",IT={...s,...BT};const UT=function(e){function t(e,n,r,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&oT.isArray(r)?r.length:o,a)return oT.hasOwnProp(r,o)?r[o]=[r[o],n]:r[o]=n,!s;r[o]&&oT.isObject(r[o])||(r[o]=[]);return t(e,n,r[o],i)&&oT.isArray(r[o])&&(r[o]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}(r[o])),!s}if(oT.isFormData(e)&&oT.isFunction(e.entries)){const n={};return oT.forEachEntry(e,((e,r)=>{t(function(e){return oT.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const FT={transitional:CT,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=oT.isObject(e);i&&oT.isHTMLForm(e)&&(e=new FormData(e));if(oT.isFormData(e))return r?JSON.stringify(UT(e)):e;if(oT.isArrayBuffer(e)||oT.isBuffer(e)||oT.isStream(e)||oT.isFile(e)||oT.isBlob(e)||oT.isReadableStream(e))return e;if(oT.isArrayBufferView(e))return e.buffer;if(oT.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return fT(e,new IT.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return IT.isNode&&oT.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=oT.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return fT(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(oT.isString(e))try{return(t||JSON.parse)(e),oT.trim(e)}catch(hY){if("SyntaxError"!==hY.name)throw hY}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||FT.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(oT.isResponse(e)||oT.isReadableStream(e))return e;if(e&&oT.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(hY){if(n){if("SyntaxError"===hY.name)throw cT.from(hY,cT.ERR_BAD_RESPONSE,this,null,this.response);throw hY}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:IT.classes.FormData,Blob:IT.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};oT.forEach(["delete","get","head","post","put","patch"],(e=>{FT.headers[e]={}}));const _T=FT,RT=oT.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),QT=Symbol("internals");function PT(e){return e&&String(e).trim().toLowerCase()}function OT(e){return!1===e||null==e?e:oT.isArray(e)?e.map(OT):String(e)}function NT(e,t,n,r,i){return oT.isFunction(r)?r.call(this,t,n):(i&&(t=n),oT.isString(t)?oT.isString(r)?-1!==t.indexOf(r):oT.isRegExp(r)?r.test(t):void 0:void 0)}class DT{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=PT(t);if(!i)throw new Error("header name must be a non-empty string");const o=oT.findKey(r,i);(!o||void 0===r[o]||!0===n||void 0===n&&!1!==r[o])&&(r[o||t]=OT(e))}const o=(e,t)=>oT.forEach(e,((e,n)=>i(e,n,t)));if(oT.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(oT.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&RT[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(oT.isObject(e)&&oT.isIterable(e)){let n,r,i={};for(const t of e){if(!oT.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?oT.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}o(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=PT(e)){const n=oT.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(oT.isFunction(t))return t.call(this,e,n);if(oT.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=PT(e)){const n=oT.findKey(this,e);return!(!n||void 0===this[n]||t&&!NT(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=PT(e)){const i=oT.findKey(n,e);!i||t&&!NT(0,n[i],i,t)||(delete n[i],r=!0)}}return oT.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!NT(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return oT.forEach(this,((r,i)=>{const o=oT.findKey(n,i);if(o)return t[o]=OT(r),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();s!==i&&delete t[i],t[s]=OT(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return oT.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&oT.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[QT]=this[QT]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=PT(e);t[r]||(!function(e,t){const n=oT.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return oT.isArray(e)?e.forEach(r):r(e),this}}DT.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),oT.reduceDescriptors(DT.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),oT.freezeMethods(DT);const MT=DT;function LT(e,t){const n=this||_T,r=t||n,i=MT.from(r.headers);let o=r.data;return oT.forEach(e,(function(e){o=e.call(n,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function HT(e){return!(!e||!e.__CANCEL__)}function jT(e,t,n){cT.call(this,null==e?"canceled":e,cT.ERR_CANCELED,t,n),this.name="CanceledError"}oT.inherits(jT,cT,{__CANCEL__:!0});const KT=jT;function VT(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new cT("Request failed with status code "+n.status,[cT.ERR_BAD_REQUEST,cT.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const qT=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const A=Date.now(),c=r[s];i||(i=A),n[o]=a,r[o]=A;let l=s,u=0;for(;l!==o;)u+=n[l++],l%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),A-i<t)return;const d=c&&A-c;return d?Math.round(1e3*u/d):void 0}};const $T=function(e,t){let n,r,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,A=new Array(a),c=0;c<a;c++)A[c]=arguments[c];t>=o?s(A,e):(n=A,r||(r=setTimeout((()=>{r=null,s(n)}),o-t)))},()=>n&&s(n)]},GT=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=qT(50,250);return $T((n=>{const o=n.loaded,s=n.lengthComputable?n.total:void 0,a=o-r,A=i(a);r=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:A||void 0,estimated:A&&s&&o<=s?(s-o)/A:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},zT=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},WT=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return oT.asap((()=>e(...n)))},JT=IT.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,IT.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(IT.origin),IT.navigator&&/(msie|trident)/i.test(IT.navigator.userAgent)):()=>!0,YT=IT.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];oT.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),oT.isString(r)&&s.push("path="+r),oT.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function XT(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ZT=e=>e instanceof MT?{...e}:e;function eI(e,t){t=t||{};const n={};function r(e,t,n,r){return oT.isPlainObject(e)&&oT.isPlainObject(t)?oT.merge.call({caseless:r},e,t):oT.isPlainObject(t)?oT.merge({},t):oT.isArray(t)?t.slice():t}function i(e,t,n,i){return oT.isUndefined(t)?oT.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function o(e,t){if(!oT.isUndefined(t))return r(void 0,t)}function s(e,t){return oT.isUndefined(t)?oT.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,o){return o in t?r(n,i):o in e?r(void 0,n):void 0}const A={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,n)=>i(ZT(e),ZT(t),0,!0)};return oT.forEach(Object.keys(Object.assign({},e,t)),(function(r){const o=A[r]||i,s=o(e[r],t[r],r);oT.isUndefined(s)&&o!==a||(n[r]=s)})),n}const tI=e=>{const t=eI({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:A}=t;if(t.headers=a=MT.from(a),t.url=wT(XT(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),A&&a.set("Authorization","Basic "+btoa((A.username||"")+":"+(A.password?unescape(encodeURIComponent(A.password)):""))),oT.isFormData(r))if(IT.hasStandardBrowserEnv||IT.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(IT.hasStandardBrowserEnv&&(i&&oT.isFunction(i)&&(i=i(t)),i||!1!==i&&JT(t.url))){const e=o&&s&&YT.read(s);e&&a.set(o,e)}return t},nI="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=tI(e);let i=r.data;const o=MT.from(r.headers).normalize();let s,a,A,c,l,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=r;function f(){c&&c(),l&&l(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let p=new XMLHttpRequest;function g(){if(!p)return;const r=MT.from("getAllResponseHeaders"in p&&p.getAllResponseHeaders());VT((function(e){t(e),f()}),(function(e){n(e),f()}),{data:u&&"text"!==u&&"json"!==u?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p}),p=null}p.open(r.method.toUpperCase(),r.url,!0),p.timeout=r.timeout,"onloadend"in p?p.onloadend=g:p.onreadystatechange=function(){p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))&&setTimeout(g)},p.onabort=function(){p&&(n(new cT("Request aborted",cT.ECONNABORTED,e,p)),p=null)},p.onerror=function(){n(new cT("Network Error",cT.ERR_NETWORK,e,p)),p=null},p.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||CT;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new cT(t,i.clarifyTimeoutError?cT.ETIMEDOUT:cT.ECONNABORTED,e,p)),p=null},void 0===i&&o.setContentType(null),"setRequestHeader"in p&&oT.forEach(o.toJSON(),(function(e,t){p.setRequestHeader(t,e)})),oT.isUndefined(r.withCredentials)||(p.withCredentials=!!r.withCredentials),u&&"json"!==u&&(p.responseType=r.responseType),h&&([A,l]=GT(h,!0),p.addEventListener("progress",A)),d&&p.upload&&([a,c]=GT(d),p.upload.addEventListener("progress",a),p.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(s=t=>{p&&(n(!t||t.type?new KT(null,e,p):t),p.abort(),p=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);m&&-1===IT.protocols.indexOf(m)?n(new cT("Unsupported protocol "+m+":",cT.ERR_BAD_REQUEST,e)):p.send(i||null)}))},rI=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof cT?t:new KT(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new cT(`timeout ${t} of ms exceeded`,cT.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>oT.asap(s),a}},iI=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},oI=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},sI=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of oI(e))yield*iI(n,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let o=r.byteLength;if(n){let e=s+=o;n(e)}e.enqueue(new Uint8Array(r))}catch(dY){throw a(dY),dY}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},aI="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,AI=aI&&"function"===typeof ReadableStream,cI=aI&&("function"===typeof TextEncoder?(lI=new TextEncoder,e=>lI.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var lI;const uI=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(hY){return!1}},dI=AI&&uI((()=>{let e=!1;const t=new Request(IT.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),hI=AI&&uI((()=>oT.isReadableStream(new Response("").body))),fI={stream:hI&&(e=>e.body)};var pI;aI&&(pI=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!fI[e]&&(fI[e]=oT.isFunction(pI[e])?t=>t[e]():(t,n)=>{throw new cT(`Response type '${e}' is not supported`,cT.ERR_NOT_SUPPORT,n)})})));const gI=async(e,t)=>{const n=oT.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(oT.isBlob(e))return e.size;if(oT.isSpecCompliantForm(e)){const t=new Request(IT.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return oT.isArrayBufferView(e)||oT.isArrayBuffer(e)?e.byteLength:(oT.isURLSearchParams(e)&&(e+=""),oT.isString(e)?(await cI(e)).byteLength:void 0)})(t):n},mI=aI&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:A,responseType:c,headers:l,withCredentials:u="same-origin",fetchOptions:d}=tI(e);c=c?(c+"").toLowerCase():"text";let h,f=rI([i,o&&o.toAbortSignal()],s);const p=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let g;try{if(A&&dI&&"get"!==n&&"head"!==n&&0!==(g=await gI(l,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(oT.isFormData(r)&&(e=n.headers.get("content-type"))&&l.setContentType(e),n.body){const[e,t]=zT(g,GT(WT(A)));r=sI(n.body,65536,e,t)}}oT.isString(u)||(u=u?"include":"omit");const i="credentials"in Request.prototype;h=new Request(t,{...d,signal:f,method:n.toUpperCase(),headers:l.normalize().toJSON(),body:r,duplex:"half",credentials:i?u:void 0});let o=await fetch(h);const s=hI&&("stream"===c||"response"===c);if(hI&&(a||s&&p)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=oT.toFiniteNumber(o.headers.get("content-length")),[n,r]=a&&zT(t,GT(WT(a),!0))||[];o=new Response(sI(o.body,65536,n,(()=>{r&&r(),p&&p()})),e)}c=c||"text";let m=await fI[oT.findKey(fI,c)||"text"](o,e);return!s&&p&&p(),await new Promise(((t,n)=>{VT(t,n,{data:m,headers:MT.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})}))}catch(dY){if(p&&p(),dY&&"TypeError"===dY.name&&/Load failed|fetch/i.test(dY.message))throw Object.assign(new cT("Network Error",cT.ERR_NETWORK,e,h),{cause:dY.cause||dY});throw cT.from(dY,dY&&dY.code,e,h)}}),vI={http:null,xhr:nI,fetch:mI};oT.forEach(vI,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(hY){}Object.defineProperty(e,"adapterName",{value:t})}}));const yI=e=>`- ${e}`,wI=e=>oT.isFunction(e)||null===e||!1===e,bI=e=>{e=oT.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){let t;if(n=e[o],r=n,!wI(n)&&(r=vI[(t=String(n)).toLowerCase()],void 0===r))throw new cT(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+o]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(yI).join("\n"):" "+yI(e[0]):"as no adapter specified";throw new cT("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function CI(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new KT(null,e)}function BI(e){CI(e),e.headers=MT.from(e.headers),e.data=LT.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return bI(e.adapter||_T.adapter)(e).then((function(t){return CI(e),t.data=LT.call(e,e.transformResponse,t),t.headers=MT.from(t.headers),t}),(function(t){return HT(t)||(CI(e),t&&t.response&&(t.response.data=LT.call(e,e.transformResponse,t.response),t.response.headers=MT.from(t.response.headers))),Promise.reject(t)}))}const SI="1.9.0",EI={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{EI[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const kI={};EI.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,o)=>{if(!1===e)throw new cT(r(i," has been removed"+(t?" in "+t:"")),cT.ERR_DEPRECATED);return t&&!kI[i]&&(kI[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,o)}},EI.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const xI={assertOptions:function(e,t,n){if("object"!==typeof e)throw new cT("options must be an object",cT.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const t=e[o],n=void 0===t||s(t,o,e);if(!0!==n)throw new cT("option "+o+" must be "+n,cT.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new cT("Unknown option "+o,cT.ERR_BAD_OPTION)}},validators:EI},TI=xI.validators;class II{constructor(e){this.defaults=e||{},this.interceptors={request:new bT,response:new bT}}async request(e,t){try{return await this._request(e,t)}catch(dY){if(dY instanceof Error){let t={};Error.captureStackTrace?Error.captureStackTrace(t):t=new Error;const n=t.stack?t.stack.replace(/^.+\n/,""):"";try{dY.stack?n&&!String(dY.stack).endsWith(n.replace(/^.+\n.+\n/,""))&&(dY.stack+="\n"+n):dY.stack=n}catch(hY){}}throw dY}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=eI(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&xI.assertOptions(n,{silentJSONParsing:TI.transitional(TI.boolean),forcedJSONParsing:TI.transitional(TI.boolean),clarifyTimeoutError:TI.transitional(TI.boolean)},!1),null!=r&&(oT.isFunction(r)?t.paramsSerializer={serialize:r}:xI.assertOptions(r,{encode:TI.function,serialize:TI.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),xI.assertOptions(t,{baseUrl:TI.spelling("baseURL"),withXsrfToken:TI.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&oT.merge(i.common,i[t.method]);i&&oT.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=MT.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const A=[];let c;this.interceptors.response.forEach((function(e){A.push(e.fulfilled,e.rejected)}));let l,u=0;if(!a){const e=[BI.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,A),l=e.length,c=Promise.resolve(t);u<l;)c=c.then(e[u++],e[u++]);return c}l=s.length;let d=t;for(u=0;u<l;){const e=s[u++],t=s[u++];try{d=e(d)}catch(h){t.call(this,h);break}}try{c=BI.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,l=A.length;u<l;)c=c.then(A[u++],A[u++]);return c}getUri(e){return wT(XT((e=eI(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}oT.forEach(["delete","get","head","options"],(function(e){II.prototype[e]=function(t,n){return this.request(eI(n||{},{method:e,url:t,data:(n||{}).data}))}})),oT.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(eI(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}II.prototype[e]=t(),II.prototype[e+"Form"]=t(!0)}));const UI=II;class FI{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new KT(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new FI((function(t){e=t})),cancel:e}}}const _I=FI;const RI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(RI).forEach((e=>{let[t,n]=e;RI[n]=t}));const QI=RI;const PI=function e(t){const n=new UI(t),r=vx(UI.prototype.request,n);return oT.extend(r,UI.prototype,n,{allOwnKeys:!0}),oT.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(eI(t,n))},r}(_T);PI.Axios=UI,PI.CanceledError=KT,PI.CancelToken=_I,PI.isCancel=HT,PI.VERSION=SI,PI.toFormData=fT,PI.AxiosError=cT,PI.Cancel=PI.CanceledError,PI.all=function(e){return Promise.all(e)},PI.spread=function(e){return function(t){return e.apply(null,t)}},PI.isAxiosError=function(e){return oT.isObject(e)&&!0===e.isAxiosError},PI.mergeConfig=eI,PI.AxiosHeaders=MT,PI.formToJSON=e=>UT(oT.isHTMLForm(e)?new FormData(e):e),PI.getAdapter=bI,PI.HttpStatusCode=QI,PI.default=PI;const OI=PI;var NI,DI;function MI(e,t,n){if(n)for(let[r,i]of Object.entries(n))if("string"==typeof i)e.append(r,i);else for(let t of i)e.append(r,t);return e.set("Content-Type",t?"application/json":"application/protobuf"),e.set("Accept",t?"application/json":"application/protobuf, application/json"),e}function LI(e,t){if(!e)return;let n=t;for(let[r,i]of Object.entries(e))i instanceof Date?n[r]=new Date(i.getTime()):Array.isArray(i)?n[r]=i.concat():n[r]=i}!function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"}(NI||(NI={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(DI||(DI={}));class HI{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._state=DI.PENDING,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t})),e&&this._promise.catch((e=>{}))}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==DI.PENDING)throw new Error(`cannot resolve ${DI[this.state].toLowerCase()}`);this._resolve(e),this._state=DI.RESOLVED}reject(e){if(this.state!==DI.PENDING)throw new Error(`cannot reject ${DI[this.state].toLowerCase()}`);this._reject(e),this._state=DI.REJECTED}resolvePending(e){this._state===DI.PENDING&&this.resolve(e)}rejectPending(e){this._state===DI.PENDING&&this.reject(e)}}var jI=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{A(r.next(e))}catch(hY){o(hY)}}function a(e){try{A(r.throw(e))}catch(hY){o(hY)}}function A(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}A((r=r.apply(e,t||[])).next())}))};class KI{constructor(e,t,n,r,i,o,s){this.method=e,this.requestHeaders=t,this.request=n,this.headers=r,this.response=i,this.status=o,this.trailers=s}then(e,t){return this.promiseFinished().then((t=>e?Promise.resolve(e(t)):t),(e=>t?Promise.resolve(t(e)):Promise.reject(e)))}promiseFinished(){return jI(this,void 0,void 0,(function*(){let[e,t,n,r]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:t,status:n,trailers:r}}))}}class VI{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,t){if(!t)return e;let n={};LI(e,n),LI(t,n);for(let o of Object.keys(t)){let s=t[o];switch(o){case"jsonOptions":n.jsonOptions=ox(e.jsonOptions,n.jsonOptions);break;case"binaryOptions":n.binaryOptions=(r=e.binaryOptions,i=n.binaryOptions,Object.assign(Object.assign({},r),i));break;case"meta":n.meta={},LI(e.meta,n.meta),LI(t.meta,n.meta);break;case"interceptors":n.interceptors=e.interceptors?e.interceptors.concat(s):s.concat()}}var r,i;return n}(this.defaultOptions,e)}unary(e,t,n){var r,i,o;let s=n,a=this.makeUrl(e,s),A=null!==(r=s.fetchInit)&&void 0!==r?r:{},c=s.sendJson?e.I.toJsonString(t,s.jsonOptions):e.I.toBinary(t,s.binaryOptions),l=new HI,u=new HI,d=new HI,h=new HI;return globalThis.fetch(a,Object.assign(Object.assign({},A),{method:"POST",headers:MI(new globalThis.Headers,!!s.sendJson,s.meta),body:c,signal:null!==(i=n.abort)&&void 0!==i?i:null})).then((t=>{let n;l.resolve(function(e){let t={};return e.forEach(((e,n)=>{"content-type"!==n.toLowerCase()&&"content-length"!==n.toLowerCase()&&(t.hasOwnProperty(n)?t[n].push(e):t[n]=e)})),t}(t.headers));try{n=t.type}catch(r){}switch(n){case"error":case"opaque":case"opaqueredirect":throw new mx(`fetch response type ${t.type}`,NI[NI.unknown])}return t.ok?s.sendJson?t.json().then((t=>e.O.fromJson(t,s.jsonOptions)),(()=>{throw new mx("unable to read response body as json",NI[NI.dataloss])})):t.arrayBuffer().then((t=>e.O.fromBinary(new Uint8Array(t),s.binaryOptions)),(()=>{throw new mx("unable to read response body",NI[NI.dataloss])})):t.json().then((e=>{throw function(e){if(!kk(e)||"string"!==typeof e.code||"string"!==typeof e.msg)return new mx("cannot read twirp error response",NI[NI.internal]);let t={};if(kk(e.meta))for(let[n,r]of Object.entries(e.meta))"string"==typeof r&&(t[n]=r);return new mx(e.msg,e.code,t)}(e)}),(()=>{throw new mx("received HTTP "+t.status+", unable to read response body as json",NI[NI.internal])}))}),(e=>{if(e instanceof Error&&"AbortError"===e.name)throw new mx(e.message,NI[NI.cancelled]);throw new mx(e instanceof Error?e.message:e)})).then((e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),h.resolve({})})).catch((t=>{let n=t instanceof mx?t:new mx(t instanceof Error?t.message:t,NI[NI.internal]);n.methodName=e.name,n.serviceName=e.service.typeName,l.rejectPending(n),u.rejectPending(n),d.rejectPending(n),h.rejectPending(n)})),new KI(e,null!==(o=s.meta)&&void 0!==o?o:{},t,l.promise,u.promise,d.promise,h.promise)}makeUrl(e,t){let n=t.baseUrl;n.endsWith("/")&&(n=n.substring(0,n.length-1));let r=e.name;return!0!==t.useProtoMethodName&&(r=vk(r),r=r.substring(0,1).toUpperCase()+r.substring(1)),`${n}/${e.service.typeName}/${r}`}clientStreaming(e){const t=new mx("Client streaming is not supported by Twirp",NI[NI.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}duplex(e){const t=new mx("Duplex streaming is not supported by Twirp",NI[NI.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}serverStreaming(e){const t=new mx("Server streaming is not supported by Twirp",NI[NI.unimplemented]);throw t.methodName=e.name,t.serviceName=e.service.typeName,t}}function qI(e){return"function"===typeof e}function $I(e){var t=e((function(e){Error.call(e),e.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var GI=$I((function(e){return function(t){e(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t}}));function zI(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var WI=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,t,n,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var s=Ra(o),a=s.next();!a.done;a=s.next()){a.value.remove(this)}}catch(h){e={error:h}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else o.remove(this);var A=this.initialTeardown;if(qI(A))try{A()}catch(hY){i=hY instanceof GI?hY.errors:[hY]}var c=this._finalizers;if(c){this._finalizers=null;try{for(var l=Ra(c),u=l.next();!u.done;u=l.next()){var d=u.value;try{XI(d)}catch(dY){i=null!==i&&void 0!==i?i:[],dY instanceof GI?i=Pa(Pa([],Qa(i)),Qa(dY.errors)):i.push(dY)}}}catch(f){n={error:f}}finally{try{u&&!u.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(i)throw new GI(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)XI(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&zI(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&zI(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),JI=WI.EMPTY;function YI(e){return e instanceof WI||e&&"closed"in e&&qI(e.remove)&&qI(e.add)&&qI(e.unsubscribe)}function XI(e){qI(e)?e():e.unsubscribe()}var ZI={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},eU={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=eU.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,Pa([e,t],Qa(n))):setTimeout.apply(void 0,Pa([e,t],Qa(n)))},clearTimeout:function(e){var t=eU.delegate;return((null===t||void 0===t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function tU(e){eU.setTimeout((function(){var t=ZI.onUnhandledError;if(!t)throw e;t(e)}))}function nU(){}var rU=iU("C",void 0,void 0);function iU(e,t,n){return{kind:e,value:t,error:n}}var oU=null;function sU(e){if(ZI.useDeprecatedSynchronousErrorHandling){var t=!oU;if(t&&(oU={errorThrown:!1,error:null}),e(),t){var n=oU,r=n.errorThrown,i=n.error;if(oU=null,r)throw i}}else e()}var aU=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,YI(t)&&t.add(n)):n.destination=fU,n}return Ta(t,e),t.create=function(e,t,n){return new uU(e,t,n)},t.prototype.next=function(e){this.isStopped?hU(function(e){return iU("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?hU(function(e){return iU("E",void 0,e)}(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?hU(rU,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(WI),AU=Function.prototype.bind;function cU(e,t){return AU.call(e,t)}var lU=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(n){dU(n)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(n){dU(n)}else dU(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){dU(t)}},e}(),uU=function(e){function t(t,n,r){var i,o,s=e.call(this)||this;qI(t)||!t?i={next:null!==t&&void 0!==t?t:void 0,error:null!==n&&void 0!==n?n:void 0,complete:null!==r&&void 0!==r?r:void 0}:s&&ZI.useDeprecatedNextContext?((o=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},i={next:t.next&&cU(t.next,o),error:t.error&&cU(t.error,o),complete:t.complete&&cU(t.complete,o)}):i=t;return s.destination=new lU(i),s}return Ta(t,e),t}(aU);function dU(e){var t;ZI.useDeprecatedSynchronousErrorHandling?(t=e,ZI.useDeprecatedSynchronousErrorHandling&&oU&&(oU.errorThrown=!0,oU.error=t)):tU(e)}function hU(e,t){var n=ZI.onStoppedNotification;n&&eU.setTimeout((function(){return n(e,t)}))}var fU={closed:!0,next:nU,error:function(e){throw e},complete:nU},pU="function"===typeof Symbol&&Symbol.observable||"@@observable";function gU(e){return e}function mU(e){return 0===e.length?gU:1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}}var vU=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,i=this,o=(r=e)&&r instanceof aU||function(e){return e&&qI(e.next)&&qI(e.error)&&qI(e.complete)}(r)&&YI(r)?e:new uU(e,t,n);return sU((function(){var e=i,t=e.operator,n=e.source;o.add(t?t.call(o,n):n?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(dY){e.error(dY)}},e.prototype.forEach=function(e,t){var n=this;return new(t=yU(t))((function(t,r){var i=new uU({next:function(t){try{e(t)}catch(dY){r(dY),i.unsubscribe()}},error:r,complete:t});n.subscribe(i)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[pU]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return mU(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=yU(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function yU(e){var t;return null!==(t=null!==e&&void 0!==e?e:ZI.Promise)&&void 0!==t?t:Promise}var wU=$I((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),bU=function(e){function t(){var t=e.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return Ta(t,e),t.prototype.lift=function(e){var t=new CU(this,this);return t.operator=e,t},t.prototype._throwIfClosed=function(){if(this.closed)throw new wU},t.prototype.next=function(e){var t=this;sU((function(){var n,r;if(t._throwIfClosed(),!t.isStopped){t.currentObservers||(t.currentObservers=Array.from(t.observers));try{for(var i=Ra(t.currentObservers),o=i.next();!o.done;o=i.next()){o.value.next(e)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}}))},t.prototype.error=function(e){var t=this;sU((function(){if(t._throwIfClosed(),!t.isStopped){t.hasError=t.isStopped=!0,t.thrownError=e;for(var n=t.observers;n.length;)n.shift().error(e)}}))},t.prototype.complete=function(){var e=this;sU((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var t=e.observers;t.length;)t.shift().complete()}}))},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(t){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},t.prototype._innerSubscribe=function(e){var t=this,n=this,r=n.hasError,i=n.isStopped,o=n.observers;return r||i?JI:(this.currentObservers=null,o.push(e),new WI((function(){t.currentObservers=null,zI(o,e)})))},t.prototype._checkFinalizedStatuses=function(e){var t=this,n=t.hasError,r=t.thrownError,i=t.isStopped;n?e.error(r):i&&e.complete()},t.prototype.asObservable=function(){var e=new vU;return e.source=this,e},t.create=function(e,t){return new CU(e,t)},t}(vU),CU=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return Ta(t,e),t.prototype.next=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===n||n.call(t,e)},t.prototype.error=function(e){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===n||n.call(t,e)},t.prototype.complete=function(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)},t.prototype._subscribe=function(e){var t,n;return null!==(n=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==n?n:JI},t}(bU),BU={now:function(){return(BU.delegate||Date).now()},delegate:void 0},SU=function(e){function t(t,n,r){void 0===t&&(t=1/0),void 0===n&&(n=1/0),void 0===r&&(r=BU);var i=e.call(this)||this;return i._bufferSize=t,i._windowTime=n,i._timestampProvider=r,i._buffer=[],i._infiniteTimeWindow=!0,i._infiniteTimeWindow=n===1/0,i._bufferSize=Math.max(1,t),i._windowTime=Math.max(1,n),i}return Ta(t,e),t.prototype.next=function(t){var n=this,r=n.isStopped,i=n._buffer,o=n._infiniteTimeWindow,s=n._timestampProvider,a=n._windowTime;r||(i.push(t),!o&&i.push(s.now()+a)),this._trimBuffer(),e.prototype.next.call(this,t)},t.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var t=this._innerSubscribe(e),n=this._infiniteTimeWindow,r=this._buffer.slice(),i=0;i<r.length&&!e.closed;i+=n?1:2)e.next(r[i]);return this._checkFinalizedStatuses(e),t},t.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,n=e._timestampProvider,r=e._buffer,i=e._infiniteTimeWindow,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){for(var s=n.now(),a=0,A=1;A<r.length&&r[A]<=s;A+=2)a=A;a&&r.splice(0,a+1)}},t}(bU),EU=Array.isArray,kU=Object.getPrototypeOf,xU=Object.prototype,TU=Object.keys;function IU(e){if(1===e.length){var t=e[0];if(EU(t))return{args:t,keys:null};if((r=t)&&"object"===typeof r&&kU(r)===xU){var n=TU(t);return{args:n.map((function(e){return t[e]})),keys:n}}}var r;return{args:e,keys:null}}var UU=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e};function FU(e){return qI(null===e||void 0===e?void 0:e.then)}function _U(e){return qI(e[pU])}function RU(e){return Symbol.asyncIterator&&qI(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}function QU(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var PU="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function OU(e){return qI(null===e||void 0===e?void 0:e[PU])}function NU(e){return Na(this,arguments,(function(){var t,n,r;return _a(this,(function(i){switch(i.label){case 0:t=e.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,Oa(t.read())];case 3:return n=i.sent(),r=n.value,n.done?[4,Oa(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,Oa(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function DU(e){return qI(null===e||void 0===e?void 0:e.getReader)}function MU(e){if(e instanceof vU)return e;if(null!=e){if(_U(e))return i=e,new vU((function(e){var t=i[pU]();if(qI(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(UU(e))return r=e,new vU((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(FU(e))return n=e,new vU((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,tU)}));if(RU(e))return LU(e);if(OU(e))return t=e,new vU((function(e){var n,r;try{for(var i=Ra(t),o=i.next();!o.done;o=i.next()){var s=o.value;if(e.next(s),e.closed)return}}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}e.complete()}));if(DU(e))return LU(NU(e))}var t,n,r,i;throw QU(e)}function LU(e){return new vU((function(t){(function(e,t){var n,r,i,o;return Fa(this,void 0,void 0,(function(){var s,a;return _a(this,(function(A){switch(A.label){case 0:A.trys.push([0,5,6,11]),n=Da(e),A.label=1;case 1:return[4,n.next()];case 2:if((r=A.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];A.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=A.sent(),i={error:a},[3,11];case 6:return A.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:A.sent(),A.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}function HU(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=t.schedule((function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()}),r);if(e.add(o),!i)return o}function jU(e){return function(t){if(function(e){return qI(null===e||void 0===e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(dY){this.error(dY)}}));throw new TypeError("Unable to lift unknown Observable type")}}function KU(e,t,n,r,i){return new VU(e,t,n,r,i)}var VU=function(e){function t(t,n,r,i,o,s){var a=e.call(this,t)||this;return a.onFinalize=o,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(dY){t.error(dY)}}:e.prototype._next,a._error=i?function(e){try{i(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(dY){t.error(dY)}finally{this.unsubscribe()}}:e.prototype._complete,a}return Ta(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(aU);function qU(e,t){return void 0===t&&(t=0),jU((function(n,r){n.subscribe(KU(r,(function(n){return HU(r,e,(function(){return r.next(n)}),t)}),(function(){return HU(r,e,(function(){return r.complete()}),t)}),(function(n){return HU(r,e,(function(){return r.error(n)}),t)})))}))}function $U(e,t){return void 0===t&&(t=0),jU((function(n,r){r.add(e.schedule((function(){return n.subscribe(r)}),t))}))}function GU(e,t){if(!e)throw new Error("Iterable cannot be null");return new vU((function(n){HU(n,t,(function(){var r=e[Symbol.asyncIterator]();HU(n,t,(function(){r.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))}function zU(e,t){if(null!=e){if(_U(e))return function(e,t){return MU(e).pipe($U(t),qU(t))}(e,t);if(UU(e))return function(e,t){return new vU((function(n){var r=0;return t.schedule((function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())}))}))}(e,t);if(FU(e))return function(e,t){return MU(e).pipe($U(t),qU(t))}(e,t);if(RU(e))return GU(e,t);if(OU(e))return function(e,t){return new vU((function(n){var r;return HU(n,t,(function(){r=e[PU](),HU(n,t,(function(){var e,t,i;try{t=(e=r.next()).value,i=e.done}catch(dY){return void n.error(dY)}i?n.complete():n.next(t)}),0,!0)})),function(){return qI(null===r||void 0===r?void 0:r.return)&&r.return()}}))}(e,t);if(DU(e))return function(e,t){return GU(NU(e),t)}(e,t)}throw QU(e)}function WU(e,t){return t?zU(e,t):MU(e)}function JU(e,t){return jU((function(n,r){var i=0;n.subscribe(KU(r,(function(n){r.next(e.call(t,n,i++))})))}))}var YU=Array.isArray;function XU(e){return JU((function(t){return function(e,t){return YU(t)?e.apply(void 0,Pa([],Qa(t))):e(t)}(e,t)}))}function ZU(e){return e[e.length-1]}function eF(e){return(t=ZU(e))&&qI(t.schedule)?e.pop():void 0;var t}function tF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eF(e),r=function(e){return qI(ZU(e))?e.pop():void 0}(e),i=IU(e),o=i.args,s=i.keys;if(0===o.length)return WU([],n);var a=new vU(function(e,t,n){void 0===n&&(n=gU);return function(r){nF(t,(function(){for(var i=e.length,o=new Array(i),s=i,a=i,A=function(i){nF(t,(function(){var A=WU(e[i],t),c=!1;A.subscribe(KU(r,(function(e){o[i]=e,c||(c=!0,a--),a||r.next(n(o.slice()))}),(function(){--s||r.complete()})))}),r)},c=0;c<i;c++)A(c)}),r)}}(o,n,s?function(e){return function(e,t){return e.reduce((function(e,n,r){return e[n]=t[r],e}),{})}(s,e)}:gU));return r?a.pipe(XU(r)):a}function nF(e,t,n){e?HU(n,e,t):t()}var rF=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return Ta(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){var e=this,t=e.hasError,n=e.thrownError,r=e._value;if(t)throw n;return this._throwIfClosed(),r},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(bU);function iF(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0!==t){if(!1!==t){var i=new uU({next:function(){i.unsubscribe(),e()}});return MU(t.apply(void 0,Pa([],Qa(n)))).subscribe(i)}}else e()}function oF(e,t,n){var r,i,o,s,a=!1;return e&&"object"===typeof e?(r=e.bufferSize,s=void 0===r?1/0:r,i=e.windowTime,t=void 0===i?1/0:i,a=void 0!==(o=e.refCount)&&o,n=e.scheduler):s=null!==e&&void 0!==e?e:1/0,function(e){void 0===e&&(e={});var t=e.connector,n=void 0===t?function(){return new bU}:t,r=e.resetOnError,i=void 0===r||r,o=e.resetOnComplete,s=void 0===o||o,a=e.resetOnRefCountZero,A=void 0===a||a;return function(e){var t,r,o,a=0,c=!1,l=!1,u=function(){null===r||void 0===r||r.unsubscribe(),r=void 0},d=function(){u(),t=o=void 0,c=l=!1},h=function(){var e=t;d(),null===e||void 0===e||e.unsubscribe()};return jU((function(e,f){a++,l||c||u();var p=o=null!==o&&void 0!==o?o:n();f.add((function(){0!==--a||l||c||(r=iF(h,A))})),p.subscribe(f),!t&&a>0&&(t=new uU({next:function(e){return p.next(e)},error:function(e){l=!0,u(),r=iF(d,i,e),p.error(e)},complete:function(){c=!0,u(),r=iF(d,s),p.complete()}}),MU(e).subscribe(t))}))(e)}}({connector:function(){return new SU(s,t,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function sF(e,t){return void 0===t&&(t=gU),e=null!==e&&void 0!==e?e:aF,jU((function(n,r){var i,o=!0;n.subscribe(KU(r,(function(n){var s=t(n);!o&&e(i,s)||(o=!1,i=s,r.next(n))})))}))}function aF(e,t){return e===t}function AF(e,t){return void 0===t&&(t=!1),jU((function(n,r){var i=0;n.subscribe(KU(r,(function(n){var o=e(n,i++);(o||t)&&r.next(n),!o&&r.complete()})))}))}function cF(e,t){return sF((function(n,r){return t?t(n[e],r[e]):n[e]===r[e]}))}function lF(e,t,n){return n?lF(e,t).pipe(XU(n)):new vU((function(n){var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return n.next(1===e.length?e[0]:e)},i=e(r);return qI(t)?function(){return t(r,i)}:void 0}))}function uF(e,t,n){return void 0===n&&(n=1/0),qI(t)?uF((function(n,r){return JU((function(e,i){return t(n,e,r,i)}))(MU(e(n,r)))}),n):("number"===typeof t&&(n=t),jU((function(t,r){return function(e,t,n,r,i,o,s,a){var A=[],c=0,l=0,u=!1,d=function(){!u||A.length||c||t.complete()},h=function(e){return c<r?f(e):A.push(e)},f=function(e){o&&t.next(e),c++;var a=!1;MU(n(e,l++)).subscribe(KU(t,(function(e){null===i||void 0===i||i(e),o?h(e):t.next(e)}),(function(){a=!0}),void 0,(function(){if(a)try{c--;for(var e=function(){var e=A.shift();s?HU(t,s,(function(){return f(e)})):f(e)};A.length&&c<r;)e();d()}catch(dY){t.error(dY)}})))};return e.subscribe(KU(t,h,(function(){u=!0,d()}))),function(){null===a||void 0===a||a()}}(t,r,e,n)})))}var dF=["addListener","removeListener"],hF=["addEventListener","removeEventListener"],fF=["on","off"];function pF(e,t,n,r){if(qI(n)&&(r=n,n=void 0),r)return pF(e,t,n).pipe(XU(r));var i=Qa(function(e){return qI(e.addEventListener)&&qI(e.removeEventListener)}(e)?hF.map((function(r){return function(i){return e[r](t,i,n)}})):function(e){return qI(e.addListener)&&qI(e.removeListener)}(e)?dF.map(gF(e,t)):function(e){return qI(e.on)&&qI(e.off)}(e)?fF.map(gF(e,t)):[],2),o=i[0],s=i[1];if(!o&&UU(e))return uF((function(e){return pF(e,t,n)}))(MU(e));if(!o)throw new TypeError("Invalid event target");return new vU((function(e){var t=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.next(1<t.length?t:t[0])};return o(t),function(){return s(t)}}))}function gF(e,t){return function(n){return function(r){return e[n](t,r)}}}var mF=function(e){function t(t,n){return e.call(this)||this}return Ta(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(WI),vF={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i=vF.delegate;return(null===i||void 0===i?void 0:i.setInterval)?i.setInterval.apply(i,Pa([e,t],Qa(n))):setInterval.apply(void 0,Pa([e,t],Qa(n)))},clearInterval:function(e){var t=vF.delegate;return((null===t||void 0===t?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},yF=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return Ta(t,e),t.prototype.schedule=function(e,t){var n;if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,i=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(i,r,t)),this.pending=!0,this.delay=t,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(i,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),vF.setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return t;null!=t&&vF.clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n,r=!1;try{this.work(e)}catch(hY){r=!0,n=hY||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},t.prototype.unsubscribe=function(){if(!this.closed){var t=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,zI(r,this),null!=t&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(mF),wF=function(){function e(t,n){void 0===n&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e.now=BU.now,e}(),bF=function(e){function t(t,n){void 0===n&&(n=wF.now);var r=e.call(this,t,n)||this;return r.actions=[],r._active=!1,r}return Ta(t,e),t.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var n;this._active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(wF),CF=new bF(yF);function BF(e){return void 0===e&&(e=1/0),uF(gU,e)}var SF=new vU((function(e){return e.complete()}));function EF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eF(e),r=function(e,t){return"number"===typeof ZU(e)?e.pop():t}(e,1/0),i=e;return i.length?1===i.length?MU(i[0]):BF(r)(WU(i,n)):SF}function kF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return BF(1)(WU(e,eF(e)))}function xF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=eF(e);return jU((function(t,r){(n?kF(e,t,n):kF(e,t)).subscribe(r)}))}function TF(e,t){return qI(t)?uF(e,t,1):uF(e,1)}function IF(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return WU(e,eF(e))}var UF=n(4121),FF=n(9640);const _F="disabled",RF="auto-on",QF="block-users",PF="enable-noise-cancellation",OF="join-backstage",NF="mute-users",DF="pin-for-everyone",MF="screenshare",LF="send-audio",HF="send-video",jF="start-record-call",KF="stop-record-call",VF="update-call-permissions";class qF extends Error{constructor(e){let{message:t,code:n,status:r,response:i,unrecoverable:o}=e;super(t),this.name="ErrorFromResponse",this.code=n,this.response=i,this.status=r,this.unrecoverable=o}toJSON(){const e=[["status",this.status],["code",this.code],["unrecoverable",this.unrecoverable]],t=[];for(const[n,r]of e)"undefined"!==typeof r&&null!==r&&t.push(`${n}: ${r}`);return{message:`(${t.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}}var $F;!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}($F||($F={}));const GF=new class extends px{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>zF}}])}internalJsonWrite(e,t){let n={};for(let[r,i]of Object.entries(e.fields))n[r]=zF.toJson(i);return n}internalJsonRead(e,t,n){if(!kk(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+Ek(e)+".");n||(n=this.create());for(let[r,i]of globalThis.Object.entries(e))n.fields[r]=zF.fromJson(i);return n}};const zF=new class extends px{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",$F]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>GF},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>WF}])}internalJsonWrite(e,t){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let t=e.kind.numberValue;if("number"==typeof t&&!Number.isFinite(t))throw new globalThis.Error;return t;case"stringValue":return e.kind.stringValue;case"listValue":let n=this.fields.find((e=>6===e.no));if("message"!==n?.kind)throw new globalThis.Error;return n.T().toJson(e.kind.listValue);case"structValue":let r=this.fields.find((e=>5===e.no));if("message"!==r?.kind)throw new globalThis.Error;return r.T().toJson(e.kind.structValue)}}internalJsonRead(e,t,n){switch(n||(n=this.create()),typeof e){case"number":n.kind={oneofKind:"numberValue",numberValue:e};break;case"string":n.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":n.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?n.kind={oneofKind:"nullValue",nullValue:$F.NULL_VALUE}:globalThis.Array.isArray(e)?n.kind={oneofKind:"listValue",listValue:WF.fromJson(e)}:n.kind={oneofKind:"structValue",structValue:GF.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+Ek(e))}return n}};const WF=new class extends px{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>zF}])}internalJsonWrite(e,t){return e.values.map((e=>zF.toJson(e)))}internalJsonRead(e,t,n){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+Ek(e));n||(n=this.create());let r=e.map((e=>zF.fromJson(e)));return n.values.push(...r),n}};const JF=new class extends px{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const e=this.create(),t=Date.now();return e.seconds=Kk.from(Math.floor(t/1e3)).toString(),e.nanos=t%1e3*1e6,e}toDate(e){return new Date(1e3*Kk.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){const t=this.create(),n=e.getTime();return t.seconds=Kk.from(Math.floor(n/1e3)).toString(),t.nanos=1e6*(n%1e3+(n<0&&n%1e3!==0?1e3:0)),t}internalJsonWrite(e,t){let n=1e3*Kk.from(e.seconds).toNumber();if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let r="Z";if(e.nanos>0){let t=(e.nanos+1e9).toString().substring(1);r="000000"===t.substring(3)?"."+t.substring(0,3)+"Z":"000"===t.substring(6)?"."+t.substring(0,6)+"Z":"."+t+"Z"}return new Date(n).toISOString().replace(".000Z",r)}internalJsonRead(e,t,n){if("string"!==typeof e)throw new Error("Unable to parse Timestamp from JSON "+Ek(e)+".");let r=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!r)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let i=Date.parse(r[1]+"-"+r[2]+"-"+r[3]+"T"+r[4]+":"+r[5]+":"+r[6]+(r[8]?r[8]:"Z"));if(Number.isNaN(i))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return n||(n=this.create()),n.seconds=Kk.from(i/1e3).toString(),n.nanos=0,r[7]&&(n.nanos=parseInt("1"+r[7]+"0".repeat(9-r[7].length))-1e9),n}};var YF,XF,ZF,e_,t_,n_,r_,i_,o_,s_,a_,A_;!function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"}(YF||(YF={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(XF||(XF={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(ZF||(ZF={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(e_||(e_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(t_||(t_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY",e[e.GO=8]="GO",e[e.PLAIN_JAVASCRIPT=9]="PLAIN_JAVASCRIPT"}(n_||(n_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(r_||(r_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(i_||(i_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ENDED=1]="ENDED",e[e.LIVE_ENDED=2]="LIVE_ENDED",e[e.KICKED=3]="KICKED",e[e.SESSION_ENDED=4]="SESSION_ENDED"}(o_||(o_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DISCONNECT=1]="DISCONNECT",e[e.FAST=2]="FAST",e[e.REJOIN=3]="REJOIN",e[e.MIGRATE=4]="MIGRATE"}(s_||(s_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.LIGHT=2]="LIGHT",e[e.MODERATE=3]="MODERATE",e[e.SEVERE=4]="SEVERE",e[e.CRITICAL=5]="CRITICAL",e[e.EMERGENCY=6]="EMERGENCY",e[e.SHUTDOWN=7]="SHUTDOWN"}(a_||(a_={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NOMINAL=1]="NOMINAL",e[e.FAIR=2]="FAIR",e[e.SERIOUS=3]="SERIOUS",e[e.CRITICAL=4]="CRITICAL"}(A_||(A_={}));const c_=new class extends px{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>d_},{no:2,name:"started_at",kind:"message",T:()=>JF},{no:3,name:"participant_count",kind:"message",T:()=>l_},{no:4,name:"pins",kind:"message",repeat:1,T:()=>u_}])}};const l_=new class extends px{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}};const u_=new class extends px{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const d_=new class extends px{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>JF},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",XF,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>GF},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}};const h_=new class extends px{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",ZF,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}};const f_=new class extends px{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}};const p_=new class extends px{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>f_},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",ZF,"VIDEO_QUALITY_"]}])}};const g_=new class extends px{constructor(){super("stream.video.sfu.models.SubscribeOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:2,name:"codecs",kind:"message",repeat:1,T:()=>v_}])}};const m_=new class extends px{constructor(){super("stream.video.sfu.models.PublishOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>v_},{no:3,name:"bitrate",kind:"scalar",T:5},{no:4,name:"fps",kind:"scalar",T:5},{no:5,name:"max_spatial_layers",kind:"scalar",T:5},{no:6,name:"max_temporal_layers",kind:"scalar",T:5},{no:7,name:"video_dimension",kind:"message",T:()=>f_},{no:8,name:"id",kind:"scalar",T:5},{no:9,name:"use_single_layer",kind:"scalar",T:8}])}};const v_=new class extends px{constructor(){super("stream.video.sfu.models.Codec",[{no:16,name:"payload_type",kind:"scalar",T:13},{no:10,name:"name",kind:"scalar",T:9},{no:14,name:"clock_rate",kind:"scalar",T:13},{no:15,name:"encoding_parameters",kind:"scalar",T:9},{no:12,name:"fmtp",kind:"scalar",T:9}])}};const y_=new class extends px{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",YF,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const w_=new class extends px{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>p_},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8},{no:10,name:"muted",kind:"scalar",T:8},{no:11,name:"codec",kind:"message",T:()=>v_},{no:12,name:"publish_option_id",kind:"scalar",T:5}])}};const b_=new class extends px{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",t_,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}};const C_=new class extends px{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>B_},{no:2,name:"os",kind:"message",T:()=>S_},{no:3,name:"browser",kind:"message",T:()=>E_},{no:4,name:"device",kind:"message",T:()=>x_}])}};const B_=new class extends px{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",n_,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}};const S_=new class extends px{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}};const E_=new class extends px{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const k_=new class extends px{constructor(){super("stream.video.sfu.models.RTMPIngress",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13},{no:3,name:"frame_rate",kind:"scalar",T:1},{no:4,name:"software",kind:"scalar",T:9},{no:5,name:"version",kind:"scalar",T:9},{no:6,name:"encoder",kind:"scalar",T:9},{no:7,name:"remote_addr",kind:"scalar",T:9}])}};const x_=new class extends px{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const T_=new class extends px{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>GF},{no:6,name:"created_at",kind:"message",T:()=>JF},{no:7,name:"updated_at",kind:"message",T:()=>JF}])}};const I_=new class extends px{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}};const U_=new class extends px{constructor(){super("stream.video.sfu.models.InputDevices",[{no:1,name:"available_devices",kind:"scalar",repeat:2,T:9},{no:2,name:"current_device",kind:"scalar",T:9},{no:3,name:"is_permitted",kind:"scalar",T:8}])}};const F_=new class extends px{constructor(){super("stream.video.sfu.models.AndroidState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AndroidThermalState",a_,"ANDROID_THERMAL_STATE_"]},{no:2,name:"is_power_saver_mode",kind:"scalar",T:8}])}};const __=new class extends px{constructor(){super("stream.video.sfu.models.AppleState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AppleThermalState",A_,"APPLE_THERMAL_STATE_"]},{no:2,name:"is_low_power_mode_enabled",kind:"scalar",T:8}])}};const R_=new class extends px{constructor(){super("stream.video.sfu.models.PerformanceStats",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>v_},{no:3,name:"avg_frame_time_ms",kind:"scalar",T:2},{no:4,name:"avg_fps",kind:"scalar",T:2},{no:5,name:"video_dimension",kind:"message",T:()=>f_},{no:6,name:"target_bitrate",kind:"scalar",T:5}])}};var Q_=Object.freeze({__proto__:null,AndroidState:F_,get AndroidThermalState(){return a_},AppleState:__,get AppleThermalState(){return A_},Browser:E_,Call:T_,get CallEndedReason(){return o_},CallGrants:I_,CallState:c_,ClientDetails:C_,Codec:v_,get ConnectionQuality(){return XF},Device:x_,Error:b_,get ErrorCode(){return t_},get GoAwayReason(){return i_},ICETrickle:y_,InputDevices:U_,OS:S_,Participant:d_,ParticipantCount:l_,get PeerType(){return YF},PerformanceStats:R_,Pin:u_,PublishOption:m_,RTMPIngress:k_,Sdk:B_,get SdkType(){return n_},StreamQuality:h_,SubscribeOption:g_,TrackInfo:w_,get TrackType(){return e_},get TrackUnpublishReason(){return r_},VideoDimension:f_,VideoLayer:p_,get VideoQuality(){return ZF},get WebsocketReconnectStrategy(){return s_}});const P_=new class extends px{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const O_=new class extends px{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>b_}])}};const N_=new class extends px{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const D_=new class extends px{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>b_}])}};const M_=new class extends px{constructor(){super("stream.video.sfu.signal.Reconnection",[{no:1,name:"time_seconds",kind:"scalar",T:2},{no:2,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",s_,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};const L_=new class extends px{constructor(){super("stream.video.sfu.signal.Telemetry",[{no:1,name:"connection_time_seconds",kind:"scalar",oneof:"data",T:2},{no:2,name:"reconnection",kind:"message",oneof:"data",T:()=>M_}])}};const H_=new class extends px{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9},{no:7,name:"audio_devices",kind:"message",T:()=>U_},{no:8,name:"video_devices",kind:"message",T:()=>U_},{no:9,name:"android",kind:"message",oneof:"deviceState",T:()=>F_},{no:10,name:"apple",kind:"message",oneof:"deviceState",T:()=>__},{no:11,name:"telemetry",kind:"message",T:()=>L_},{no:12,name:"rtmp",kind:"message",T:()=>k_},{no:13,name:"subscriber_rtc_stats",kind:"scalar",T:9},{no:14,name:"publisher_rtc_stats",kind:"scalar",T:9},{no:15,name:"rtc_stats",kind:"scalar",T:9},{no:16,name:"encode_stats",kind:"message",repeat:1,T:()=>R_},{no:17,name:"decode_stats",kind:"message",repeat:1,T:()=>R_},{no:18,name:"unified_session_id",kind:"scalar",T:9}])}};const j_=new class extends px{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>b_}])}};const K_=new class extends px{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",YF,"PEER_TYPE_"]}])}};const V_=new class extends px{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>b_}])}};const q_=new class extends px{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>G_}])}};const $_=new class extends px{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>b_}])}};const G_=new class extends px{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}};new class extends px{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}};new class extends px{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}};const z_=new class extends px{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>J_}])}};const W_=new class extends px{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>b_}])}};const J_=new class extends px{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>f_}])}};const Y_=new class extends px{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",YF,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const X_=new class extends px{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>b_}])}};const Z_=new class extends px{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>b_}])}};const eR=new class extends px{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>w_}])}};const tR=new class extends px{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>b_}])}},nR=new class{constructor(e,t,n){this.typeName=e,this.methods=t.map((e=>function(e,t){var n,r,i;let o=e;return o.service=t,o.localName=null!==(n=o.localName)&&void 0!==n?n:vk(o.name),o.serverStreaming=!!o.serverStreaming,o.clientStreaming=!!o.clientStreaming,o.options=null!==(r=o.options)&&void 0!==r?r:{},o.idempotency=null!==(i=o.idempotency)&&void 0!==i?i:void 0,o}(e,this))),this.options=null!==n&&void 0!==n?n:{}}}("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:eR,O:tR},{name:"SendAnswer",options:{},I:Y_,O:X_},{name:"IceTrickle",options:{},I:y_,O:Z_},{name:"UpdateSubscriptions",options:{},I:z_,O:W_},{name:"UpdateMuteStates",options:{},I:q_,O:$_},{name:"IceRestart",options:{},I:K_,O:V_},{name:"SendStats",options:{},I:H_,O:j_},{name:"StartNoiseCancellation",options:{},I:P_,O:O_},{name:"StopNoiseCancellation",options:{},I:N_,O:D_}]);const rR=new class extends px{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>CR},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>BR},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>SR},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>TR},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>y_},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>_R},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>yR},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>wR},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>kR},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>vR},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>dR},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>hR},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>fR},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>aR},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>RR},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>QR},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>AR},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>sR},{no:23,name:"call_ended",kind:"message",oneof:"eventPayload",T:()=>PR},{no:24,name:"participant_updated",kind:"message",oneof:"eventPayload",T:()=>bR},{no:25,name:"participant_migration_complete",kind:"message",oneof:"eventPayload",T:()=>oR},{no:27,name:"change_publish_options",kind:"message",oneof:"eventPayload",T:()=>iR}])}};const iR=new class extends px{constructor(){super("stream.video.sfu.event.ChangePublishOptions",[{no:1,name:"publish_options",kind:"message",repeat:1,T:()=>m_},{no:2,name:"reason",kind:"scalar",T:9}])}};new class extends px{constructor(){super("stream.video.sfu.event.ChangePublishOptionsComplete",[])}};const oR=new class extends px{constructor(){super("stream.video.sfu.event.ParticipantMigrationComplete",[])}};const sR=new class extends px{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>u_}])}};const aR=new class extends px{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>b_},{no:5,name:"reconnect_strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",s_,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};new class extends px{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",YF,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}};const AR=new class extends px{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",YF,"PEER_TYPE_"]}])}};const cR=new class extends px{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>pR},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>uR},{no:3,name:"leave_call_request",kind:"message",oneof:"requestPayload",T:()=>lR}])}};const lR=new class extends px{constructor(){super("stream.video.sfu.event.LeaveCallRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9}])}};const uR=new class extends px{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}};const dR=new class extends px{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>l_}])}};const hR=new class extends px{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>d_}])}};const fR=new class extends px{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",r_,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>d_}])}};const pR=new class extends px{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:8,name:"publisher_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>C_},{no:5,name:"migration",kind:"message",T:()=>mR},{no:6,name:"fast_reconnect",kind:"scalar",T:8},{no:7,name:"reconnect_details",kind:"message",T:()=>gR},{no:9,name:"preferred_publish_options",kind:"message",repeat:1,T:()=>m_},{no:10,name:"preferred_subscribe_options",kind:"message",repeat:1,T:()=>g_}])}};const gR=new class extends px{constructor(){super("stream.video.sfu.event.ReconnectDetails",[{no:1,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",s_,"WEBSOCKET_RECONNECT_STRATEGY_"]},{no:3,name:"announced_tracks",kind:"message",repeat:1,T:()=>w_},{no:4,name:"subscriptions",kind:"message",repeat:1,T:()=>J_},{no:5,name:"reconnect_attempt",kind:"scalar",T:13},{no:6,name:"from_sfu_id",kind:"scalar",T:9},{no:7,name:"previous_session_id",kind:"scalar",T:9},{no:8,name:"reason",kind:"scalar",T:9}])}};const mR=new class extends px{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>w_},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>J_}])}};const vR=new class extends px{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>c_},{no:2,name:"reconnected",kind:"scalar",T:8},{no:3,name:"fast_reconnect_deadline_seconds",kind:"scalar",T:5},{no:4,name:"publish_options",kind:"message",repeat:1,T:()=>m_}])}};const yR=new class extends px{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>d_}])}};const wR=new class extends px{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>d_}])}};const bR=new class extends px{constructor(){super("stream.video.sfu.event.ParticipantUpdated",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>d_}])}};const CR=new class extends px{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}};const BR=new class extends px{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}};const SR=new class extends px{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>ER}])}};const ER=new class extends px{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",XF,"CONNECTION_QUALITY_"]}])}};const kR=new class extends px{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const xR=new class extends px{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}};const TR=new class extends px{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>xR}])}};const IR=new class extends px{constructor(){super("stream.video.sfu.event.AudioSender",[{no:2,name:"codec",kind:"message",T:()=>v_},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:4,name:"publish_option_id",kind:"scalar",T:5}])}};const UR=new class extends px{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:6,name:"codec",kind:"message",T:()=>v_},{no:7,name:"max_framerate",kind:"scalar",T:13},{no:8,name:"scalability_mode",kind:"scalar",T:9}])}};const FR=new class extends px{constructor(){super("stream.video.sfu.event.VideoSender",[{no:2,name:"codec",kind:"message",T:()=>v_},{no:3,name:"layers",kind:"message",repeat:1,T:()=>UR},{no:4,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",e_,"TRACK_TYPE_"]},{no:5,name:"publish_option_id",kind:"scalar",T:5}])}};const _R=new class extends px{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>IR},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>FR}])}};const RR=new class extends px{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>I_},{no:2,name:"message",kind:"scalar",T:9}])}};const QR=new class extends px{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",i_,"GO_AWAY_REASON_"]}])}};const PR=new class extends px{constructor(){super("stream.video.sfu.event.CallEnded",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.CallEndedReason",o_,"CALL_ENDED_REASON_"]}])}};var OR,NR;!function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"}(OR||(OR={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(NR||(NR={}));class DR{constructor(e){this._transport=e,this.typeName=nR.typeName,this.methods=nR.methods,this.options=nR.options}setPublisher(e,t){const n=this.methods[0],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}sendAnswer(e,t){const n=this.methods[1],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}iceTrickle(e,t){const n=this.methods[2],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}updateSubscriptions(e,t){const n=this.methods[3],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}updateMuteStates(e,t){const n=this.methods[4],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}iceRestart(e,t){const n=this.methods[5],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}sendStats(e,t){const n=this.methods[6],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}startNoiseCancellation(e,t){const n=this.methods[7],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}stopNoiseCancellation(e,t){const n=this.methods[8],r=this._transport.mergeOptions(t);return gx("unary",this._transport,n,r,e)}}const MR={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},LR=(e,t)=>({interceptUnary:(n,r,i,o)=>{let s;try{s=n(r,i,o)}finally{e(t,`Invoked SFU RPC method ${r.name}`,{request:s?.request,headers:s?.requestHeaders,response:s?.response})}return s}}),HR=e=>{const t={SendStats:!0};return{interceptUnary(n,r,i,o){if(t[r.name])return n(r,i,o);try{return e(r.name,i),n(r,i,o)}catch(dY){throw e(`${r.name}OnFailure`,[i,dY]),dY}}}},jR=e=>new Promise((t=>setTimeout(t,e)));function KR(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"===typeof e||e instanceof Function)}const VR=40,qR=1e3;function $R(e){const t=Math.min(500+2e3*e,5e3),n=Math.min(Math.max(250,2e3*(e-1)),5e3);return Math.floor(Math.random()*(t-n)+n)}function GR(e){let t="";for(let n=0;n<e.length;n++)t+=e[n].toString(16).padStart(2,"0");return t}function zR(){const e=function(e){const t=new Uint8Array(e);return WR(t),t}(16);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,[GR(e.subarray(0,4)),GR(e.subarray(4,6)),GR(e.subarray(6,8)),GR(e.subarray(8,10)),GR(e.subarray(10,16))].join("-")}const WR="undefined"!==typeof crypto&&crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){const t=Math.pow(2,8*e.byteLength/e.length);for(let n=0;n<e.length;n++)e[n]=Math.random()*t};function JR(e){"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function YR(e){"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}const XR=()=>"undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase(),ZR=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4});let eQ,tQ="info";const nQ=function(e,t){let n;switch(e){case"error":if(XR()){t=`ERROR: ${t}`,n=console.info;break}n=console.error;break;case"warn":if(XR()){t=`WARN: ${t}`,n=console.info;break}n=console.warn;break;case"info":n=console.info;break;case"trace":n=console.trace;break;default:n=console.log}for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];n(t,...i)},rQ=e=>{tQ=e},iQ=()=>tQ,oQ=e=>{const t=eQ||nQ,n=(e||[]).filter(Boolean).join(":");return function(e,r){if(ZR[e]>=ZR[tQ]){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];t(e,`[${n}]: ${r}`,...o)}}},sQ=async(e,t)=>{let n,r=0;do{r>0&&await jR($R(r));try{n=await e()}catch(dY){if(dY instanceof mx&&dY.code===NI[NI.cancelled]||(t?.aborted??!1))throw dY;oQ(["sfu-client","rpc"])("debug",`rpc failed (${r})`,dY),r++}}while(!n||n.response.error?.shouldRetry);return n},aQ=async e=>{const t=new RTCPeerConnection;t.addTransceiver("video",{direction:e}),t.addTransceiver("audio",{direction:e});const n=(await t.createOffer()).sdp??"";return t.getTransceivers().forEach((e=>{e.stop?.()})),t.close(),n},AQ=e=>!!e&&("vp9"===(e=e.toLowerCase())||"av1"===e||"video/vp9"===e||"video/av1"===e),cQ={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0,callEnded:void 0,participantUpdated:void 0,participantMigrationComplete:void 0,changePublishOptions:void 0},lQ=e=>Object.prototype.hasOwnProperty.call(cQ,e);class uQ{constructor(){var e=this;this.logger=oQ(["Dispatcher"]),this.subscribers={},this.dispatch=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";const r=t.eventPayload.oneofKind;if(!r)return;const i=t.eventPayload[r];e.logger("debug",`Dispatching ${r}, tag=${n}`,i);const o=e.subscribers[r];if(o)for(const s of o)try{s(i)}catch(hY){e.logger("warn","Listener failed with error",hY)}},this.on=(e,t)=>{var n;return((n=this.subscribers)[e]??(n[e]=[])).push(t),()=>{this.off(e,t)}},this.off=(e,t)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter((e=>e!==t))}}}class dQ{constructor(){this.subscriberCandidates=new SU,this.publisherCandidates=new SU,this.push=e=>{const t=hQ(e);if(t)if(e.peerType===YF.SUBSCRIBER)this.subscriberCandidates.next(t);else if(e.peerType===YF.PUBLISHER_UNSPECIFIED)this.publisherCandidates.next(t);else{oQ(["sfu-client"])("warn","ICETrickle, Unknown peer type",e)}},this.dispose=()=>{this.subscriberCandidates.complete(),this.publisherCandidates.complete()}}}const hQ=e=>{try{return JSON.parse(e.iceCandidate)}catch(hY){return void oQ(["sfu-client"])("error","Failed to parse ICE Trickle",hY,e)}},fQ=vQ((function(e,t){let n=!1;return{cb:()=>t().finally((()=>{n||gQ.delete(e)})),onContinued:()=>n=!0}})),pQ=vQ((function(e,t){const n=new AbortController;return{cb:()=>n.signal.aborted?Promise.resolve("canceled"):t(n.signal).finally((()=>{n.signal.aborted||gQ.delete(e)})),onContinued:()=>n.abort()}})),gQ=new Map;async function mQ(e){let t;for(;t=gQ.get(e);)await t.promise}function vQ(e){return function(t,n){const{cb:r,onContinued:i}=e(t,n),o=gQ.get(t);o?.onContinued();const s=o?o.promise.then(r,r):r();return gQ.set(t,{promise:s,onContinued:i}),s}}const yQ=e=>{let t,n;if(tF([e]).subscribe({next:e=>{let[n]=e;t=n},error:e=>{n=e}}).unsubscribe(),n)throw n;return t},wQ=(e,t)=>{const n=(e=>"function"===typeof e)(t)?t(yQ(e)):t;return e.next(n),n},bQ=(e,t)=>{const n=e.getValue(),r=wQ(e,t);return{lastValue:n,value:r,rollback:()=>wQ(e,n)}},CQ=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>oQ(["RxUtils"])("warn","An observable emitted an error",e);const r=e.subscribe({next:t,error:n});return()=>{r.unsubscribe()}},BQ=(e,t)=>{const n=Symbol();return CQ(e,(e=>{fQ(n,(()=>t(e)))}))};var SQ,EQ=Object.freeze({__proto__:null,createSafeAsyncSubscription:BQ,createSubscription:CQ,getCurrentValue:yQ,setCurrentValue:wQ,updateValue:bQ});!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(SQ||(SQ={}));class kQ{constructor(){this.connectedUserSubject=new rF(void 0),this.callsSubject=new rF([]),this.setConnectedUser=e=>wQ(this.connectedUserSubject,e),this.setCalls=e=>wQ(this.callsSubject,e),this.registerCall=e=>{this.calls.find((t=>t.cid===e.cid))||this.setCalls((t=>[...t,e]))},this.unregisterCall=e=>(oQ(["client-state"])("trace",`Unregistering call: ${e.cid}`),this.setCalls((t=>t.filter((t=>t!==e))))),this.findCall=(e,t)=>this.calls.find((n=>n.type===e&&n.id===t)),this.connectedUserSubject.subscribe((async e=>{if(!e){const e=oQ(["client-state"]);for(const t of this.calls)t.state.callingState!==SQ.LEFT&&(e("info",`User disconnected, leaving call: ${t.cid}`),await t.leave({message:"client.disconnectUser() called"}).catch((n=>{e("error",`Error leaving call: ${t.cid}`,n)})))}}))}get connectedUser(){return yQ(this.connectedUserSubject)}get calls(){return yQ(this.callsSubject)}}class xQ{constructor(e){this.getCurrentValue=yQ,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return yQ(this.connectedUser$)}get calls(){return yQ(this.calls$)}}const TQ=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>{for(const r of t){const t=r(e,n);if(0!==t)return t}return 0}},IQ=e=>t=>(n,r)=>e(n,r)?t(n,r):0,UQ=e=>e.publishedTracks.includes(e_.VIDEO),FQ=e=>e.publishedTracks.includes(e_.AUDIO),_Q=e=>e.publishedTracks.includes(e_.SCREEN_SHARE),RQ=e=>e.publishedTracks.includes(e_.SCREEN_SHARE_AUDIO),QQ=(e,t)=>e.isDominantSpeaker&&!t.isDominantSpeaker?-1:!e.isDominantSpeaker&&t.isDominantSpeaker?1:0,PQ=(e,t)=>e.isSpeaking&&!t.isSpeaking?-1:!e.isSpeaking&&t.isSpeaking?1:0,OQ=(e,t)=>_Q(e)&&!_Q(t)?-1:!_Q(e)&&_Q(t)?1:0,NQ=(e,t)=>UQ(e)&&!UQ(t)?-1:!UQ(e)&&UQ(t)?1:0,DQ=(e,t)=>FQ(e)&&!FQ(t)?-1:!FQ(e)&&FQ(t)?1:0,MQ=(e,t)=>{if(e.pin&&t.pin){if(!e.pin.isLocalPin&&t.pin.isLocalPin)return-1;if(e.pin.isLocalPin&&!t.pin.isLocalPin)return 1;if(e.pin.pinnedAt>t.pin.pinnedAt)return-1;if(e.pin.pinnedAt<t.pin.pinnedAt)return 1}return e.pin&&!t.pin?-1:!e.pin&&t.pin?1:0},LQ=e=>(t,n)=>t.reaction?.type===e&&n.reaction?.type!==e?-1:t.reaction?.type!==e&&n.reaction?.type===e?1:0,HQ=(e,t)=>(e.roles||[]).some((e=>t.includes(e))),jQ=IQ(((e,t)=>e.viewportVisibilityState?.videoTrack===OR.INVISIBLE||t.viewportVisibilityState?.videoTrack===OR.INVISIBLE)),KQ=IQ(((e,t)=>e.viewportVisibilityState?.videoTrack===OR.INVISIBLE||e.viewportVisibilityState?.videoTrack===OR.UNKNOWN||t.viewportVisibilityState?.videoTrack===OR.INVISIBLE||t.viewportVisibilityState?.videoTrack===OR.UNKNOWN)),VQ=TQ(MQ,OQ,jQ(TQ(QQ,PQ,LQ("raised-hand"),NQ,DQ))),qQ=TQ(MQ,OQ,QQ,jQ(TQ(PQ,LQ("raised-hand"),NQ,DQ))),$Q=TQ(MQ,KQ(TQ(QQ,PQ,LQ("raised-hand"),NQ,DQ))),GQ=TQ(jQ(TQ(QQ,PQ,LQ("raised-hand"),NQ,DQ)),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(e,n)=>HQ(e,t)&&!HQ(n,t)?-1:!HQ(e,t)&&HQ(n,t)?1:0}("admin","host","speaker")),zQ={broadcasting:!1,hls:{playlist_url:"",status:""},rtmps:[]};class WQ{constructor(){this.backstageSubject=new rF(!0),this.blockedUserIdsSubject=new rF([]),this.createdAtSubject=new rF(new Date),this.endedAtSubject=new rF(void 0),this.startsAtSubject=new rF(void 0),this.updatedAtSubject=new rF(new Date),this.createdBySubject=new rF(void 0),this.customSubject=new rF({}),this.egressSubject=new rF(void 0),this.ingressSubject=new rF(void 0),this.recordingSubject=new rF(!1),this.sessionSubject=new rF(void 0),this.settingsSubject=new rF(void 0),this.transcribingSubject=new rF(!1),this.captioningSubject=new rF(!1),this.endedBySubject=new rF(void 0),this.thumbnailsSubject=new rF(void 0),this.membersSubject=new rF([]),this.ownCapabilitiesSubject=new rF([]),this.callingStateSubject=new rF(SQ.UNKNOWN),this.startedAtSubject=new rF(void 0),this.participantCountSubject=new rF(0),this.anonymousParticipantCountSubject=new rF(0),this.participantsSubject=new rF([]),this.callStatsReportSubject=new rF(void 0),this.closedCaptionsSubject=new rF([]),this.orphanedTracks=[],this.logger=oQ(["CallState"]),this.sortParticipantsBy=VQ,this.closedCaptionsTasks=new Map,this.dispose=()=>{for(const[e,t]of this.closedCaptionsTasks.entries())clearTimeout(t),this.closedCaptionsTasks.delete(e)},this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,(e=>e))},this.getCurrentValue=yQ,this.setCurrentValue=wQ,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setCaptioning=e=>bQ(this.captioningSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.setBackstage=e=>this.setCurrentValue(this.backstageSubject,e),this.setEndedAt=e=>this.setCurrentValue(this.endedAtSubject,e),this.findParticipantBySessionId=e=>this.participants.find((t=>t.sessionId===e)),this.getParticipantLookupBySessionId=()=>this.participants.reduce(((e,t)=>(e[t.sessionId]=t,e)),{}),this.updateParticipant=(e,t)=>{const n=this.findParticipantBySessionId(e);if(!n)return void this.logger("warn",`Participant with sessionId ${e} not found`);const r="function"===typeof t?t(n):t,i={...n,...r};return this.setParticipants((t=>t.map((t=>t.sessionId===e?i:t))))},this.updateOrAddParticipant=(e,t)=>this.setParticipants((n=>{let r=!0;const i=n.map((n=>n.sessionId===e?(r=!1,{...n,...t}):n));return r&&i.push(t),i})),this.updateParticipants=e=>0===Object.keys(e).length?this.participants:this.setParticipants((t=>t.map((t=>{const n=e[t.sessionId];return n?{...t,...n}:t})))),this.updateParticipantTracks=(e,t)=>this.updateParticipants(Object.entries(t).reduce(((t,n)=>{let[r,i]=n;i.dimension&&(i.dimension.height=Math.ceil(i.dimension.height),i.dimension.width=Math.ceil(i.dimension.width));const o="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return o&&(t[r]={[o]:i.dimension}),t}),{})),this.updateFromEvent=e=>{const t=this.eventHandlers[e.type];t&&t(e)},this.setServerSidePins=e=>{const t=e.reduce(((e,t)=>(e[t.sessionId]=Date.now(),e)),{});return this.setParticipants((e=>e.map((e=>{const n=t[e.sessionId];return n?{...e,pin:{isLocalPin:!1,pinnedAt:n}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))))},this.registerOrphanedTrack=e=>{this.orphanedTracks.push(e)},this.removeOrphanedTrack=e=>{this.orphanedTracks=this.orphanedTracks.filter((t=>t.id!==e))},this.takeOrphanedTracks=e=>{const t=this.orphanedTracks.filter((t=>t.trackLookupPrefix===e));return t.length>0&&(this.orphanedTracks=this.orphanedTracks.filter((t=>t.trackLookupPrefix!==e))),t},this.updateClosedCaptionSettings=e=>{this.closedCaptionsSettings={...this.closedCaptionsSettings,...e}},this.updateFromCallResponse=e=>{this.setBackstage(e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setEndedAt(e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording);const t=this.setCurrentValue(this.sessionSubject,e.session);this.updateParticipantCountFromSession(t),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.captioningSubject,e.captioning),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromSfuCallState=(e,t,n)=>{const{participants:r,participantCount:i,startedAt:o,pins:s}=e,a=n?.announcedTracks.map((e=>e.trackType))??[];this.setParticipants((()=>{const e=this.getParticipantLookupBySessionId();return r.map((n=>{const r=e[n.sessionId],i=n.sessionId===t;return Object.assign({},r,n,{isLocalParticipant:i,publishedTracks:i?a:n.publishedTracks,viewportVisibilityState:r?.viewportVisibilityState??{videoTrack:OR.UNKNOWN,screenShareTrack:OR.UNKNOWN}})}))})),this.setParticipantCount(i?.total||0),this.setAnonymousParticipantCount(i?.anonymous||0),this.setStartedAt(o?JF.toDate(o):new Date),this.setServerSidePins(s)},this.updateFromMemberRemoved=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>t.filter((t=>-1===e.members.indexOf(t.user_id)))))},this.updateFromMemberAdded=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>[...t,...e.members]))},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zQ;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zQ;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateParticipantCountFromSession=e=>{if(!e||this.callingState===SQ.JOINED)return;const t=Object.values(e.participants_count_by_role).reduce(((e,t)=>e+t),0),n=Math.max(t,e.participants.length);this.setParticipantCount(n),this.setAnonymousParticipantCount(e.anonymous_participant_count||0)},this.updateFromSessionParticipantCountUpdate=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>t?{...t,anonymous_participant_count:e.anonymous_participant_count,participants_count_by_role:e.participants_count_by_role}:t));this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantLeft=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>{if(!t)return t;const{participants:n,participants_count_by_role:r}=t,{user:i,user_session_id:o}=e.participant;return{...t,participants:n.filter((e=>e.user_session_id!==o)),participants_count_by_role:{...r,[i.role]:Math.max(0,(r[i.role]||0)-1)}}}));this.updateParticipantCountFromSession(t)},this.updateFromSessionParticipantJoined=e=>{const t=this.setCurrentValue(this.sessionSubject,(t=>{if(!t)return t;const{participants:n,participants_count_by_role:r}=t,{user:i,user_session_id:o}=e.participant;let s=!0;const a=n.map((t=>t.user_session_id===o?(s=!1,e.participant):t));s&&a.push(e.participant);const A=s?1:0;return{...t,participants:a,participants_count_by_role:{...r,[i.role]:(r[i.role]||0)+A}}}));this.updateParticipantCountFromSession(t)},this.updateMembers=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(t=>t.map((t=>{const n=e.members.find((e=>e.user_id===t.user_id));return n||t}))))},this.updateParticipantReaction=e=>{const{user:t,custom:n,type:r,emoji_code:i}=e.reaction;this.setParticipants((e=>e.map((e=>e.userId!==t.id?e:{...e,reaction:{type:r,emoji_code:i,custom:n}}))))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(t=>t?t.filter((t=>t!==e.user.id)):t))},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(t=>[...t||[],e.user.id]))},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.updateFromClosedCaptions=e=>{this.setCurrentValue(this.closedCaptionsSubject,(t=>{const{closed_caption:n}=e,r=e=>`${e.speaker_id}/${e.start_time}`,i=r(n);if(t.some((e=>r(e)===i)))return t;const o=[...t,n],{visibilityDurationMs:s=2700,maxVisibleCaptions:a=2}=this.closedCaptionsSettings||{};if(s>0){const e=setTimeout((()=>{this.setCurrentValue(this.closedCaptionsSubject,(e=>e.filter((e=>e!==n)))),this.closedCaptionsTasks.delete(i)}),s);this.closedCaptionsTasks.set(i,e);for(let t=0;t<o.length-a;t++){const e=r(o[t]),n=this.closedCaptionsTasks.get(e);clearTimeout(n),this.closedCaptionsTasks.delete(e)}}return o.slice(-a)}))},this.participants$=this.participantsSubject.asObservable().pipe(JU((e=>e.sort(this.sortParticipantsBy))),oF({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(JU((e=>e.find((e=>e.isLocalParticipant)))),oF({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(JU((e=>e.filter((e=>!e.isLocalParticipant)))),oF({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(JU((e=>e.filter((e=>!!e.pin)))),oF({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(JU((e=>e.find((e=>e.isDominantSpeaker)))),oF({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(JU((e=>e.some((e=>_Q(e))))),sF(),oF({bufferSize:1,refCount:!0})),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.startedAt$=this.startedAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.closedCaptions$=this.closedCaptionsSubject.asObservable();const e=(e,t)=>{if(e.length!==t.length)return!1;for(const n of e)if(!t.includes(n))return!1;for(const n of t)if(!e.includes(n))return!1;return!0},t=(e,t)=>e.asObservable().pipe(sF(t));this.anonymousParticipantCount$=t(this.anonymousParticipantCountSubject),this.blockedUserIds$=t(this.blockedUserIdsSubject,e),this.backstage$=t(this.backstageSubject),this.callingState$=t(this.callingStateSubject),this.ownCapabilities$=t(this.ownCapabilitiesSubject,e),this.participantCount$=t(this.participantCountSubject),this.recording$=t(this.recordingSubject),this.transcribing$=t(this.transcribingSubject),this.captioning$=t(this.captioningSubject),this.eventHandlers={"call.frame_recording_ready":void 0,"call.permission_request":void 0,"call.recording_ready":void 0,"call.rtmp_broadcast_failed":void 0,"call.rtmp_broadcast_started":void 0,"call.rtmp_broadcast_stopped":void 0,"call.transcription_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,"user.updated":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.closed_caption":this.updateFromClosedCaptions,"call.closed_captions_failed":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.closed_captions_started":()=>{this.setCurrentValue(this.captioningSubject,!0)},"call.closed_captions_stopped":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.created":e=>this.updateFromCallResponse(e.call),"call.deleted":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.frame_recording_failed":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_started":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_stopped":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.recording_failed":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.missed":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_count_updated":this.updateFromSessionParticipantCountUpdate,"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.transcription_started":()=>{this.setCurrentValue(this.transcribingSubject,!0)},"call.transcription_stopped":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.transcription_failed":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get captioning(){return this.getCurrentValue(this.captioning$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}get closedCaptions(){return this.getCurrentValue(this.closedCaptions$)}}const JQ=e=>{const t=[];return e.forEach((e=>{t.push(e)})),t},YQ=e=>({id:e.id,tracks:e.getTracks().map((e=>({id:e.id,kind:e.kind,label:e.label,enabled:e.enabled,muted:e.muted,readyState:e.readyState})))}),XQ=e=>e&&e.type===n_.REACT?"stream-react":e&&e.type===n_.REACT_NATIVE?"stream-react-native":"stream-js",ZQ=e=>e?`${e.major}.${e.minor}.${e.patch}`:"0.0.0-development",eP=()=>"undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),tP=()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Firefox");var nP=Object.freeze({__proto__:null,isChrome:()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:tP,isSafari:eP});const rP=(e,t)=>{const{trackKind:n,kind:r,publisher:i}=t,o="subscriber"===r?"inbound-rtp":"outbound-rtp",s=JQ(e);return{rawStats:e,streams:s.filter((e=>e.type===o&&e.kind===n)).map((e=>{const t=e,n=s.find((e=>"codec"===e.type&&e.id===t.codecId)),o=s.find((e=>"transport"===e.type&&e.id===t.transportId));let a,A;if(o&&"connected"===o.dtlsState){const e=s.find((e=>"candidate-pair"===e.type&&e.id===o.selectedCandidatePairId));a=e?.currentRoundTripTime}if("publisher"===r&&i){const e=tP(),n=s.find((n=>"media-source"===n.type&&(!!e||n.id===t.mediaSourceId)));n&&(A=i.getTrackType(n.trackIdentifier))}return{bytesSent:t.bytesSent,bytesReceived:t.bytesReceived,codec:n?.mimeType,currentRoundTripTime:a,frameHeight:t.frameHeight,frameWidth:t.frameWidth,framesPerSecond:t.framesPerSecond,jitter:t.jitter,kind:t.kind,mediaSourceId:t.mediaSourceId,qualityLimitationReason:t.qualityLimitationReason,rid:t.rid,ssrc:t.ssrc,trackType:A}})),timestamp:Date.now()}},iP=e=>({rawReport:e??{streams:[],timestamp:Date.now()},totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,codec:"",codecPerTrackType:{},timestamp:Date.now()}),oP=e=>{const t=iP(e);let n=-1;const r=new Set,i=e.streams,o=i.reduce(((e,t)=>{e.totalBytesSent+=t.bytesSent||0,e.totalBytesReceived+=t.bytesReceived||0,e.averageJitterInMs+=t.jitter||0,e.averageRoundTripTimeInMs+=t.currentRoundTripTime||0;const i=(o=t.frameWidth||0,s=t.frameHeight||0,o*s);var o,s;return i>n&&(e.highestFrameWidth=t.frameWidth||0,e.highestFrameHeight=t.frameHeight||0,e.highestFramesPerSecond=t.framesPerSecond||0,n=i),r.add(t.qualityLimitationReason||""),e}),t);i.length>0&&(o.averageJitterInMs=Math.round(o.averageJitterInMs/i.length*1e3),o.averageRoundTripTimeInMs=Math.round(o.averageRoundTripTimeInMs/i.length*1e3),o.codec=i[0].codec||"",o.codecPerTrackType=i.reduce(((e,t)=>(t.trackType&&(e[t.trackType]=t.codec||""),e)),{}));const s=[r.has("cpu")&&"cpu",r.has("bandwidth")&&"bandwidth",r.has("other")&&"other"].filter(Boolean).join(", ");return s&&(o.qualityLimitationReasons=s),o},[sP,aP,AP]="1.23.1".split(".");let cP,lP,uP,dP={type:n_.PLAIN_JAVASCRIPT,major:sP,minor:aP,patch:AP},hP={oneofKind:void 0};const fP=()=>dP,pP=async()=>{if(XR())return{sdk:dP,os:cP,device:lP};const e=navigator.userAgentData;let t;if(e&&e.getHighEntropyValues)try{t=await e.getHighEntropyValues(["platform","platformVersion"])}catch{}const n=new UF.UAParser(navigator.userAgent),{browser:r,os:i,device:o,cpu:s}=n.getResult();return{sdk:dP,browser:{name:r.name||navigator.userAgent,version:r.version||""},os:{name:t?.platform||i.name||"",version:t?.platformVersion||i.version||"",architecture:s.architecture||""},device:{name:[o.vendor,o.model,o.type].filter(Boolean).join(" "),version:""}}};class gP{constructor(e,t){let{options:n,clientDetails:r,subscriber:i,publisher:o,microphone:s,camera:a,state:A,tracer:c,unifiedSessionId:l}=t;this.logger=oQ(["SfuStatsReporter"]),this.inputDevices=new Map,this.observeDevice=(e,t)=>{const{browserPermissionState$:n}=e.state;this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=CQ(tF([n,this.state.ownCapabilities$]),(n=>{let[r,i]=n;this.unsubscribeListDevicesSubscription?.();const o="mic"===t?i.includes(LF):i.includes(HF);"granted"===r&&o?this.unsubscribeListDevicesSubscription=CQ(tF([e.listDevices(),e.state.selectedDevice$]),(e=>{let[n,r]=e;const i=n.find((e=>e.deviceId===r));this.inputDevices.set(t,{currentDevice:i?.label||r||"",availableDevices:n.map((e=>e.label)),isPermitted:!0})})):this.inputDevices.set(t,{currentDevice:"",availableDevices:[],isPermitted:!1})}))},this.sendConnectionTime=e=>{this.sendTelemetryData({data:{oneofKind:"connectionTimeSeconds",connectionTimeSeconds:e}})},this.sendReconnectionTime=(e,t)=>{this.sendTelemetryData({data:{oneofKind:"reconnection",reconnection:{strategy:e,timeSeconds:t}}})},this.sendTelemetryData=e=>{this.run(e).catch((e=>{this.logger("warn","Failed to send telemetry data",e)}))},this.run=async e=>{const[t,n]=await Promise.all([this.subscriber.stats.get(),this.publisher?.stats.get()]);this.subscriber.tracer?.trace("getstats",t.delta),n&&this.publisher?.tracer?.trace("getstats",n.delta);const r=this.subscriber.tracer?.take(),i=this.publisher?.tracer?.take(),o=this.tracer.take(),s=this.sfuClient.getTrace(),a=[...o.snapshot,...s?.snapshot??[],...i?.snapshot??[],...r?.snapshot??[]];try{await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:JSON.stringify(JQ(t.stats)),publisherStats:n?JSON.stringify(JQ(n.stats)):"[]",subscriberRtcStats:"",publisherRtcStats:"",rtcStats:JSON.stringify(a),encodeStats:n?.performanceStats??[],decodeStats:t.performanceStats,audioDevices:this.inputDevices.get("mic"),videoDevices:this.inputDevices.get("camera"),unifiedSessionId:this.unifiedSessionId,deviceState:hP,telemetry:e})}catch(dY){throw i?.rollback(),r?.rollback(),o.rollback(),s?.rollback(),dY}},this.start=()=>{this.options.reporting_interval_ms<=0||(this.observeDevice(this.microphone,"mic"),this.observeDevice(this.camera,"camera"),clearInterval(this.intervalId),this.intervalId=setInterval((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),this.options.reporting_interval_ms))},this.stop=()=>{this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=void 0,this.unsubscribeListDevicesSubscription?.(),this.unsubscribeListDevicesSubscription=void 0,this.inputDevices.clear(),clearInterval(this.intervalId),this.intervalId=void 0,clearTimeout(this.timeoutId),this.timeoutId=void 0},this.flush=()=>{this.run().catch((e=>{this.logger("warn","Failed to flush report stats",e)}))},this.scheduleOne=e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),e)},this.sfuClient=e,this.options=n,this.subscriber=i,this.publisher=o,this.microphone=s,this.camera=a,this.state=A,this.tracer=c,this.unifiedSessionId=l;const{sdk:u,browser:d}=r;this.sdkName=XQ(u),this.sdkVersion=ZQ(u);const h=uP;this.webRTCVersion=h?.version||`${d?.name||""}-${d?.version||""}`||"N/A"}}const mP=(e,t)=>{e.addEventListener("icecandidate",(e=>{t("onicecandidate",e.candidate)})),e.addEventListener("track",(e=>{const n=e.streams.map((e=>`stream:${e.id}`));t("ontrack",`${e.track.kind}:${e.track.id} ${n}`)})),e.addEventListener("signalingstatechange",(()=>{t("signalingstatechange",e.signalingState)})),e.addEventListener("iceconnectionstatechange",(()=>{t("iceconnectionstatechange",e.iceConnectionState)})),e.addEventListener("icegatheringstatechange",(()=>{t("icegatheringstatechange",e.iceGatheringState)})),e.addEventListener("connectionstatechange",(()=>{t("connectionstatechange",e.connectionState)})),e.addEventListener("negotiationneeded",(()=>{t("negotiationneeded",void 0)})),e.addEventListener("datachannel",(e=>{let{channel:n}=e;t("datachannel",[n.id,n.label])}));const n=e.close;e.close=function(){return t("close",void 0),n.call(this)};for(const r of["createOffer","createAnswer","setLocalDescription","setRemoteDescription","addIceCandidate"]){const n=e[r];n&&(e[r]=async function(){try{for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];t(r,i);const s=await n.apply(this,i);return t(`${r}OnSuccess`,s),s}catch(dY){throw t(`${r}OnFailure`,dY.toString()),dY}})}};class vP{constructor(e,t,n){var r=this;this.previousStats={},this.frameTimeHistory=[],this.fpsHistory=[],this.get=async()=>{const e=await this.pc.getStats(),t=yP(e),n=this.withOverrides(this.peerType===YF.SUBSCRIBER?this.getDecodeStats(t):this.getEncodeStats(t)),r=wP(this.previousStats,t);return this.previousStats=t,this.frameTimeHistory=this.frameTimeHistory.slice(-2),this.fpsHistory=this.fpsHistory.slice(-2),{performanceStats:n,delta:r,stats:e}},this.getEncodeStats=e=>{const t=[];for(const n of Object.values(e)){if("outbound-rtp"!==n.type)continue;const{codecId:r,framesSent:i=0,kind:o,id:s,totalEncodeTime:a=0,framesPerSecond:A=0,frameHeight:c=0,frameWidth:l=0,targetBitrate:u=0,mediaSourceId:d}=n;if("audio"===o||!this.previousStats[s])continue;const h=this.previousStats[s],f=a-(h.totalEncodeTime||0),p=i-(h.framesSent||0),g=p>0?f/p*1e3:0;this.frameTimeHistory.push(g),this.fpsHistory.push(A);let m=e_.VIDEO;if(d&&e[d]){const t=e[d];m=this.trackIdToTrackType.get(t.trackIdentifier)||m}t.push({trackType:m,codec:CP(e,r),avgFrameTimeMs:bP(this.frameTimeHistory),avgFps:bP(this.fpsHistory),targetBitrate:Math.round(u),videoDimension:{width:l,height:c}})}return t},this.getDecodeStats=e=>{let t,n=0;for(const d of Object.values(e)){if("inbound-rtp"!==d.type)continue;const e=d,{kind:r,frameWidth:i=0,frameHeight:o=0}=e,s=i*o;"video"===r&&s>n&&(t=e,n=s)}if(!t||!this.previousStats[t.id])return[];const r=this.previousStats[t.id],{framesDecoded:i=0,framesPerSecond:o=0,totalDecodeTime:s=0,trackIdentifier:a}=t,A=s-(r.totalDecodeTime||0),c=i-(r.framesDecoded||0),l=c>0?A/c*1e3:0;this.frameTimeHistory.push(l),this.fpsHistory.push(o);const u=this.trackIdToTrackType.get(a)||e_.VIDEO;return[R_.create({trackType:u,codec:CP(e,t.codecId),avgFrameTimeMs:bP(this.frameTimeHistory),avgFps:bP(this.fpsHistory),videoDimension:{width:t.frameWidth,height:t.frameHeight}})]},this.withOverrides=e=>{if(this.costOverrides)for(const t of e){const e=this.costOverrides.get(t.trackType);void 0!==e&&(t.avgFrameTimeMs=e+(t.avgFrameTimeMs||0)/1e3)}return e},this.setCost=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e_.VIDEO;r.costOverrides||(r.costOverrides=new Map),r.costOverrides.set(t,e)},this.pc=e,this.peerType=t,this.trackIdToTrackType=n}}const yP=e=>{const t={};return e.forEach(((e,n)=>{t[n]=e})),t},wP=(e,t)=>{t=JSON.parse(JSON.stringify(t));for(const[i,o]of Object.entries(t))if(delete o.id,e[i])for(const[t,n]of Object.entries(o))n===e[i][t]&&delete o[t];let n=-1/0;const r=Object.values(t);for(const i of r)i.timestamp>n&&(n=i.timestamp);for(const i of r)i.timestamp===n&&(i.timestamp=0);return t.timestamp=n,t},bP=e=>e.reduce(((e,t)=>e+t),0)/e.length,CP=(e,t)=>{if(!t||!e[t])return;const n=e[t];return v_.create({name:n.mimeType.split("/").pop(),clockRate:n.clockRate,payloadType:n.payloadType,fmtp:n.sdpFmtpLine})};class BP{constructor(e){this.buffer=[],this.enabled=!0,this.setEnabled=e=>{this.enabled!==e&&(this.enabled=e,this.buffer=[])},this.trace=(e,t)=>{this.enabled&&this.buffer.push([e,this.id,t,Date.now()])},this.take=()=>{const e=this.buffer;return this.buffer=[],{snapshot:e,rollback:()=>{this.buffer.unshift(...e)}}},this.dispose=()=>{this.buffer=[]},this.id=e}}class SP{constructor(e,t){let{sfuClient:n,connectionConfig:r,state:i,dispatcher:o,onUnrecoverableError:s,logTag:a,enableTracing:A}=t;if(this.isIceRestarting=!1,this.isDisposed=!1,this.trackIdToTrackType=new Map,this.subscriptions=[],this.lock=Math.random().toString(36).slice(2),this.on=(e,t)=>{this.subscriptions.push(this.dispatcher.on(e,(n=>{const r=`pc.${this.lock}.${e}`;fQ(r,(async()=>t(n))).catch((t=>{this.isDisposed||this.logger("warn",`Error handling ${e}`,t)}))})))},this.addTrickledIceCandidates=()=>{const{iceTrickleBuffer:e}=this.sfuClient,t=this.peerType===YF.SUBSCRIBER?e.subscriberCandidates:e.publisherCandidates;this.unsubscribeIceTrickle?.(),this.unsubscribeIceTrickle=BQ(t,(async e=>this.pc.addIceCandidate(e).catch((t=>{this.isDisposed||this.logger("warn","ICE candidate error",t,e)}))))},this.setSfuClient=e=>{this.sfuClient=e},this.getStats=e=>this.pc.getStats(e),this.getTrackType=e=>this.trackIdToTrackType.get(e),this.onIceCandidate=e=>{const{candidate:t}=e;if(!t)return void this.logger("debug","null ice candidate");const n=this.asJSON(t);this.sfuClient.iceTrickle({peerType:this.peerType,iceCandidate:n}).catch((e=>{this.isDisposed||this.logger("warn","ICETrickle failed",e)}))},this.asJSON=e=>{if(!e.usernameFragment){const t=e.candidate.split(" "),n=t.findIndex((e=>"ufrag"===e))+1,r=t[n];return JSON.stringify({...e,usernameFragment:r})}return JSON.stringify(e.toJSON())},this.onConnectionStateChange=async()=>{const e=this.pc.connectionState;if(this.logger("debug","Connection state changed",e),this.tracer&&("connected"===e||"failed"===e))try{const e=await this.stats.get();this.tracer.trace("getstats",e.delta)}catch(dY){this.tracer.trace("getstatsOnFailure",dY.toString())}},this.onIceConnectionStateChange=()=>{const e=this.pc.iceConnectionState;this.logger("debug","ICE connection state changed",e),this.state.callingState!==SQ.OFFLINE&&this.state.callingState!==SQ.RECONNECTING&&(this.isIceRestarting||("failed"===e?this.onUnrecoverableError?.("ICE connection failed"):"disconnected"===e&&(this.logger("debug","Attempting to restart ICE"),this.restartIce().catch((e=>{const t="ICE restart failed";this.logger("error",t,e),this.onUnrecoverableError?.(`${t}: ${e}`)})))))},this.onIceCandidateError=e=>{const t=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,n=this.pc.iceConnectionState,r="connected"===n||"checking"===n?"debug":"warn";this.logger(r,"ICE Candidate error",t)},this.onIceGatherChange=()=>{this.logger("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingChange=()=>{this.logger("debug","Signaling state changed",this.pc.signalingState)},this.peerType=e,this.sfuClient=n,this.state=i,this.dispatcher=o,this.onUnrecoverableError=s,this.logger=oQ([e===YF.SUBSCRIBER?"Subscriber":"Publisher",a]),this.pc=new RTCPeerConnection(r),this.pc.addEventListener("icecandidate",this.onIceCandidate),this.pc.addEventListener("icecandidateerror",this.onIceCandidateError),this.pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.addEventListener("icegatheringstatechange",this.onIceGatherChange),this.pc.addEventListener("signalingstatechange",this.onSignalingChange),this.pc.addEventListener("connectionstatechange",this.onConnectionStateChange),this.stats=new vP(this.pc,e,this.trackIdToTrackType),A){const t=`${a}-${e===YF.SUBSCRIBER?"sub":"pub"}`;this.tracer=new BP(t),this.tracer.trace("create",{url:n.edgeName,...r}),mP(this.pc,this.tracer.trace)}}dispose(){this.onUnrecoverableError=void 0,this.isDisposed=!0,this.detachEventHandlers(),this.pc.close(),this.tracer?.dispose()}detachEventHandlers(){this.pc.removeEventListener("icecandidate",this.onIceCandidate),this.pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this.pc.removeEventListener("signalingstatechange",this.onSignalingChange),this.pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.removeEventListener("icegatheringstatechange",this.onIceGatherChange),this.unsubscribeIceTrickle?.(),this.subscriptions.forEach((e=>e()))}}class EP{constructor(){var e=this;this.cache=[],this.layers=[],this.transceiverOrder=[],this.add=(e,t)=>{this.cache.push({publishOption:e,transceiver:t}),this.transceiverOrder.push(t)},this.get=e=>this.findTransceiver(e)?.transceiver,this.has=e=>!!this.get(e),this.find=e=>this.cache.find(e),this.items=()=>this.cache,this.indexOf=e=>this.transceiverOrder.indexOf(e),this.getLayers=e=>{const t=this.layers.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType));return t?.layers},this.setLayers=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=e.findLayer(t);r?r.layers=n:e.layers.push({publishOption:t,layers:n})},this.findTransceiver=e=>this.cache.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType)),this.findLayer=e=>this.layers.find((t=>t.publishOption.id===e.id&&t.publishOption.trackType===e.trackType))}}const kP=(e,t)=>{oQ(["helpers"])("warn",t,e)},xP=e=>{switch(e){case e_.SCREEN_SHARE:return"screenShareStream";case e_.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case e_.VIDEO:return"videoStream";case e_.AUDIO:return"audioStream";case e_.UNSPECIFIED:throw new Error("Track type is unspecified");default:kP(e,"Unknown track type")}},TP=e=>e===e_.AUDIO||e===e_.SCREEN_SHARE_AUDIO,IP={q:3e5,h:75e4,f:125e4},UP=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{return{rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:(t=e.rid||"","q"===t?ZF.LOW_UNSPECIFIED:"h"===t?ZF.MID:ZF.HIGH),videoDimension:{width:e.width,height:e.height}};var t}))},FP=(e,t)=>{if(TP(t.trackType))return;const n=[],r=e.getSettings(),{width:i=0,height:o=0}=r,{bitrate:s,codec:a,fps:A,maxSpatialLayers:c=3,maxTemporalLayers:l=3,videoDimension:u={width:1280,height:720},useSingleLayer:d}=t,h=_P(u,i,o,s);let f=1,p=1;const g=AQ(a?.name);for(const v of["f","h","q"].slice(0,c)){const e={active:!0,rid:v,width:Math.round(i/f),height:Math.round(o/f),maxBitrate:Math.round(h/p)||IP[v],maxFramerate:A};g?e.scalabilityMode=`L${m=d?1:c}T${l}${m>1?"_KEY":""}`:e.scaleResolutionDownBy=f,f*=2,p*=2,n.unshift(e)}var m;return RP(r,n,d)},_P=(e,t,n,r)=>{const{width:i,height:o}=e;if(t<i||n<o){const e=t*n/(i*o);return Math.round(r*e)}return r},RP=(e,t,n)=>{let r;const i=Math.max(e.width||0,e.height||0);r=i<=320?t.filter((e=>"f"===e.rid)):i<=640?t.filter((e=>"h"!==e.rid)):t;const o=["q","h","f"];return r.map(((e,t,r)=>({...e,rid:o[t],active:!(n&&t<r.length-1)&&e.active})))},QP=(e,t,n)=>{if(e.mid)return e.mid;if(!n)return String(t);const r=e.sender.track,i=(0,FF.qg)(n).media.find((e=>e.type===r.kind&&(e.msid?.includes(r.id)??!0)));return"undefined"!==typeof i?.mid?String(i.mid):t<0?"":String(t)};class PP extends SP{constructor(e){var t;let{publishOptions:n,...r}=e;super(YF.PUBLISHER_UNSPECIFIED,r),t=this,this.transceiverCache=new EP,this.clonedTracks=new Set,this.publish=async(e,t)=>{if(!this.publishOptions.some((e=>e.trackType===t)))throw new Error(`No publish options found for ${e_[t]}`);for(const n of this.publishOptions){if(n.trackType!==t)continue;const r=this.cloneTrack(e),i=this.transceiverCache.get(n);if(i){const e=i.sender.track;await this.updateTransceiver(i,r,t),XR()||this.stopTrack(e)}else await this.addTransceiver(r,n)}},this.addTransceiver=async(e,t)=>{const n=FP(e,t),r=AQ(t.codec?.name)?(e=>{if(!e)return;const t=e=>t=>t.rid===e;return[{...e.find(t("f"))||e.find(t("h"))||e.find(t("q")),rid:"q"}]})(n):n,i=this.pc.addTransceiver(e,{direction:"sendonly",sendEncodings:r}),o=i.sender.getParameters();o.degradationPreference="maintain-framerate",await i.sender.setParameters(o);const s=t.trackType;this.logger("debug",`Added ${e_[s]} transceiver`),this.transceiverCache.add(t,i),this.trackIdToTrackType.set(e.id,s),await this.negotiate()},this.updateTransceiver=async(e,t,n)=>{const r=e.sender;r.track&&this.trackIdToTrackType.delete(r.track.id),await r.replaceTrack(t),t&&this.trackIdToTrackType.set(t.id,n)},this.syncPublishOptions=async()=>{for(const e of this.publishOptions){const{trackType:t}=e;if(!this.isPublishing(t))continue;if(this.transceiverCache.has(e))continue;const n=this.transceiverCache.find((e=>!!e.transceiver.sender.track&&e.publishOption.trackType===t));if(!n||!n.transceiver)continue;const r=this.cloneTrack(n.transceiver.sender.track);await this.addTransceiver(r,e)}for(const e of this.transceiverCache.items()){const{publishOption:t,transceiver:n}=e;this.publishOptions.some((e=>e.id===t.id&&e.trackType===t.trackType))||(this.stopTrack(n.sender.track),await this.updateTransceiver(n,null,t.trackType))}},this.isPublishing=e=>{for(const t of this.transceiverCache.items()){if(t.publishOption.trackType!==e)continue;const n=t.transceiver.sender.track;if(n&&("live"===n.readyState&&n.enabled))return!0}return!1},this.stopTracks=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(const i of t.transceiverCache.items()){const{publishOption:e,transceiver:r}=i;n.includes(e.trackType)&&t.stopTrack(r.sender.track)}},this.stopAllTracks=()=>{for(const{transceiver:e}of this.transceiverCache.items())this.stopTrack(e.sender.track);for(const e of this.clonedTracks)this.stopTrack(e)},this.changePublishQuality=async e=>{const{trackType:t,layers:n,publishOptionId:r}=e,i=n.filter((e=>e.active)),o="Update publish quality:";this.logger("info",`${o} requested layers by SFU:`,i);const s=this.transceiverCache.find((e=>e.publishOption.id===r&&e.publishOption.trackType===t)),a=s?.transceiver.sender;if(!a)return this.logger("warn",`${o} no video sender found.`);const A=a.getParameters();if(0===A.encodings.length)return this.logger("warn",`${o} there are no encodings set.`);const c=s?.publishOption.codec?.name,l=c&&AQ(c);let u=!1;for(const h of A.encodings){const e=l?i[0]:i.find((e=>e.name===h.rid))??(1===A.encodings.length?i[0]:void 0),t=!!e?.active;if(t!==h.active&&(h.active=t,u=!0),!e)continue;const{maxFramerate:n,scaleResolutionDownBy:r,maxBitrate:o,scalabilityMode:s}=e;r>=1&&r!==h.scaleResolutionDownBy&&(h.scaleResolutionDownBy=r,u=!0),o>0&&o!==h.maxBitrate&&(h.maxBitrate=o,u=!0),n>0&&n!==h.maxFramerate&&(h.maxFramerate=n,u=!0),s&&s!==h.scalabilityMode&&(h.scalabilityMode=s,u=!0)}const d=A.encodings.filter((e=>e.active));if(!u)return this.logger("info",`${o} no change:`,d);await a.setParameters(A),this.logger("info",`${o} enabled rids:`,d)},this.restartIce=async()=>{this.logger("debug","Restarting ICE connection");const e=this.pc.signalingState;this.isIceRestarting||"have-local-offer"===e?this.logger("debug","ICE restart is already in progress"):await this.negotiate({iceRestart:!0})},this.negotiate=async e=>fQ(`publisher.negotiate.${this.lock}`,(async()=>{const t=await this.pc.createOffer(e),n=this.getAnnouncedTracks(t.sdp);if(!n.length)throw new Error("Can't negotiate without any tracks");try{this.isIceRestarting=e?.iceRestart??!1,await this.pc.setLocalDescription(t);const{sdp:r=""}=t,{response:i}=await this.sfuClient.setPublisher({sdp:r,tracks:n});if(i.error)throw new Error(i.error.message);const{sdp:o}=i;await this.pc.setRemoteDescription({type:"answer",sdp:o})}finally{this.isIceRestarting=!1}this.addTrickledIceCandidates()})),this.getPublishedTracks=()=>{const e=[];for(const{transceiver:t}of this.transceiverCache.items()){const n=t.sender.track;n&&"live"===n.readyState&&e.push(n)}return e},this.getAnnouncedTracks=e=>{const t=[];for(const n of this.transceiverCache.items()){const{transceiver:r,publishOption:i}=n;r.sender.track&&t.push(this.toTrackInfo(r,i,e))}return t},this.getAnnouncedTracksForReconnect=()=>{const e=this.pc.localDescription?.sdp,t=[];for(const n of this.publishOptions){const r=this.transceiverCache.get(n);r&&r.sender.track&&t.push(this.toTrackInfo(r,n,e))}return t},this.toTrackInfo=(e,t,n)=>{const r=e.sender.track,i="live"===r.readyState,o=i?FP(r,t):this.transceiverCache.getLayers(t);this.transceiverCache.setLayers(t,o);const s=TP(t.trackType),a=s&&2===r.getSettings().channelCount,A=this.transceiverCache.indexOf(e),c=this.state.settings?.audio;return{trackId:r.id,layers:UP(o),trackType:t.trackType,mid:QP(e,A,n),stereo:a,dtx:s&&!!c?.opus_dtx_enabled,red:s&&!!c?.redundant_coding_enabled,muted:!i,codec:t.codec,publishOptionId:t.id}},this.cloneTrack=e=>{const t=e.clone();return this.clonedTracks.add(t),t},this.stopTrack=e=>{e&&(e.stop(),this.clonedTracks.delete(e))},this.publishOptions=n,this.on("iceRestart",(e=>{e.peerType===YF.PUBLISHER_UNSPECIFIED&&this.restartIce().catch((e=>{const t="ICE restart failed";this.logger("warn",t,e),this.onUnrecoverableError?.(`${t}: ${e}`)}))})),this.on("changePublishQuality",(async e=>{for(const t of e.videoSenders)await this.changePublishQuality(t)})),this.on("changePublishOptions",(e=>(this.publishOptions=e.publishOptions,this.syncPublishOptions())))}dispose(){super.dispose(),this.stopAllTracks(),this.clonedTracks.clear()}}class OP extends SP{constructor(e){super(YF.SUBSCRIBER,e),this.restartIce=async()=>{if(this.logger("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState)return void this.logger("debug","ICE restart is already in progress");if("new"===this.pc.connectionState)return void this.logger("debug","ICE connection is not yet established, skipping restart.");const e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:YF.SUBSCRIBER})}catch(hY){throw this.isIceRestarting=e,hY}},this.handleOnTrack=e=>{const[t]=e.streams,[n,r]=t.id.split(":"),i=this.state.participants.find((e=>e.trackLookupPrefix===n));this.logger("debug",`[onTrack]: Got remote ${r} track for userId: ${i?.userId}`,e.track.id,e.track);const o=`${i?.userId} ${r}:${n}`;e.track.addEventListener("mute",(()=>{this.logger("info",`[onTrack]: Track muted: ${o}`)})),e.track.addEventListener("unmute",(()=>{this.logger("info",`[onTrack]: Track unmuted: ${o}`)})),e.track.addEventListener("ended",(()=>{this.logger("info",`[onTrack]: Track ended: ${o}`),this.state.removeOrphanedTrack(t.id)}));const s=(e=>{switch(e){case"TRACK_TYPE_AUDIO":return e_.AUDIO;case"TRACK_TYPE_VIDEO":return e_.VIDEO;case"TRACK_TYPE_SCREEN_SHARE":return e_.SCREEN_SHARE;case"TRACK_TYPE_SCREEN_SHARE_AUDIO":return e_.SCREEN_SHARE_AUDIO;default:return}})(r);if(!s)return this.logger("error",`Unknown track type: ${r}`);if(this.trackIdToTrackType.set(e.track.id,s),!i)return this.logger("warn",`[onTrack]: Received track for unknown participant: ${n}`,e),void this.state.registerOrphanedTrack({id:t.id,trackLookupPrefix:n,track:t,trackType:s});const a=xP(s);if(!a)return void this.logger("error",`Unknown track type: ${r}`);const A=i[a];this.state.updateParticipant(i.sessionId,{[a]:t}),A&&(this.logger("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${i.userId}`),A.getTracks().forEach((e=>{e.stop(),A.removeTrack(e)})))},this.negotiate=async e=>{await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.addTrickledIceCandidates();const t=await this.pc.createAnswer();await this.pc.setLocalDescription(t),await this.sfuClient.sendAnswer({peerType:YF.SUBSCRIBER,sdp:t.sdp||""}),this.isIceRestarting=!1},this.pc.addEventListener("track",this.handleOnTrack),this.on("subscriberOffer",(async e=>this.negotiate(e).catch((e=>{this.logger("error","Negotiation failed.",e)}))))}detachEventHandlers(){super.detachEventHandlers(),this.pc.removeEventListener("track",this.handleOnTrack)}}function NP(e){let t=!0;const n=e.then((e=>({status:"resolved",result:e})),(e=>({status:"rejected",error:e}))).finally((()=>t=!1)),r=()=>n.then((e=>{if("rejected"===e.status)throw e.error;return e.result}));return r.checkPending=()=>t,r}const DP=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));let r=!1,i=!1;return{promise:n,resolve:t=>{r=!0,e(t)},reject:e=>{i=!0,t(e)},isResolved:()=>r,isRejected:()=>i}},MP=Symbol("uninitialized");function LP(e){let t=MP;return()=>(t===MP&&(t=e()),t)}const HP={src:"const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}"};class jP{constructor(){this.currentTimerId=1,this.callbacks=new Map,this.fallback=!1}setup(){let{useTimerWorker:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)try{const e=new Blob([HP.src],{type:"application/javascript; charset=utf-8"}),t=URL.createObjectURL(e);this.worker=new Worker(t,{name:"str-timer-worker"}),this.worker.addEventListener("message",(e=>{const{type:t,id:n}=e.data;"tick"===t&&this.callbacks.get(n)?.()}))}catch(dY){oQ(["timer-worker"])("error",dY),this.fallback=!0}else this.fallback=!0}destroy(){this.callbacks.clear(),this.worker?.terminate(),this.worker=void 0,this.fallback=!1}get ready(){return this.fallback||Boolean(this.worker)}setInterval(e,t){return this.setTimer("setInterval",e,t)}clearInterval(e){this.clearTimer("clearInterval",e)}setTimeout(e,t){return this.setTimer("setTimeout",e,t)}clearTimeout(e){this.clearTimer("clearTimeout",e)}setTimer(e,t,n){if(this.ready||this.setup(),this.fallback)return("setTimeout"===e?setTimeout:setInterval)(t,n);const r=this.getTimerId();return this.callbacks.set(r,(()=>{t(),"setTimeout"===e&&this.callbacks.delete(r)})),this.sendMessage({type:e,id:r,timeout:n}),r}clearTimer(e,t){t&&(this.ready||this.setup(),this.fallback?("clearTimeout"===e?clearTimeout:clearInterval)(t):(this.callbacks.delete(t),this.sendMessage({type:e,id:t})))}getTimerId(){return this.currentTimerId++}sendMessage(e){if(!this.worker)throw new Error("Cannot use timer worker before it's set up");this.worker.postMessage(e)}}let KP=!1;const VP=LP((()=>{const e=new jP;return e.setup({useTimerWorker:KP}),e}));class qP{constructor(e){var t=this;let{dispatcher:n,credentials:r,sessionId:i,logTag:o,joinResponseTimeout:s=5e3,onSignalClose:a,streamClient:A,enableTracing:c}=e;this.iceTrickleBuffer=new dQ,this.isLeaving=!1,this.isClosing=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.joinResponseTask=DP(),this.abortController=new AbortController,this.createWebSocket=()=>{const e={callEnded:!0,changePublishQuality:!0,error:!0,goAway:!0};this.signalWs=(e=>{const{endpoint:t,onMessage:n,logTag:r}=e,i=oQ(["SfuClientWS",r]);i("debug","Creating signaling WS channel:",t);const o=new WebSocket(t);return o.binaryType="arraybuffer",o.addEventListener("error",(e=>{i("error","Signaling WS channel error",e)})),o.addEventListener("close",(e=>{i("info","Signaling WS channel is closed",e)})),o.addEventListener("open",(e=>{i("info","Signaling WS channel is open",e)})),o.addEventListener("message",(e=>{try{const t=e.data instanceof ArrayBuffer?rR.fromBinary(new Uint8Array(e.data)):rR.fromJsonString(e.data.toString());n(t)}catch(dY){i("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:dY})}})),o})({logTag:this.logTag,endpoint:`${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,onMessage:t=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck();const n=t.eventPayload.oneofKind;e[n]&&this.tracer?.trace(n,t),this.dispatcher.dispatch(t,this.logTag)}}),this.signalReady=NP(Promise.race([new Promise(((e,t)=>{const n=()=>{this.signalWs.removeEventListener("open",n),e(this.signalWs)};this.signalWs.addEventListener("open",n),this.signalWs.addEventListener("close",(e=>{this.handleWebSocketClose(e),t(new Error("SFU WS closed unexpectedly"))}))})),new Promise(((e,t)=>{setTimeout((()=>t(new Error("SFU WS connection timed out"))),this.joinResponseTimeout)}))]))},this.cleanUpWebSocket=()=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose)},this.handleWebSocketClose=e=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose),VP().clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),this.onSignalClose?.(`${e.code} ${e.reason}`)},this.close=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qP.NORMAL_CLOSURE,n=arguments.length>1?arguments[1]:void 0;t.isClosing=!0,t.signalWs.readyState===WebSocket.OPEN&&(t.logger("debug",`Closing SFU WS connection: ${e} - ${n}`),t.signalWs.close(e,`js-client: ${n}`),t.cleanUpWebSocket()),t.dispose()},this.dispose=()=>{this.logger("debug","Disposing SFU client"),this.unsubscribeIceTrickle(),this.unsubscribeNetworkChanged(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),clearTimeout(this.migrateAwayTimeout),this.abortController.abort(),this.migrationTask?.resolve(),this.iceTrickleBuffer.dispose()},this.getTrace=()=>this.tracer?.take(),this.leaveAndClose=async e=>{await this.joinTask;try{this.isLeaving=!0,await this.notifyLeave(e)}catch(dY){this.logger("debug","Error notifying SFU about leaving call",dY)}this.close(qP.NORMAL_CLOSURE,e.substring(0,115))},this.updateSubscriptions=async e=>(await this.joinTask,sQ((()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e})),this.abortController.signal)),this.setPublisher=async e=>(await this.joinTask,sQ((()=>this.rpc.setPublisher({...e,sessionId:this.sessionId})),this.abortController.signal)),this.sendAnswer=async e=>(await this.joinTask,sQ((()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceTrickle=async e=>(await this.joinTask,sQ((()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceRestart=async e=>(await this.joinTask,sQ((()=>this.rpc.iceRestart({...e,sessionId:this.sessionId})),this.abortController.signal)),this.updateMuteStates=async e=>(await this.joinTask,sQ((()=>this.rpc.updateMuteStates({muteStates:e,sessionId:this.sessionId})),this.abortController.signal)),this.sendStats=async e=>(await this.joinTask,this.rpc.sendStats({...e,sessionId:this.sessionId})),this.startNoiseCancellation=async()=>(await this.joinTask,sQ((()=>this.rpc.startNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.stopNoiseCancellation=async()=>(await this.joinTask,sQ((()=>this.rpc.stopNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.enterMigration=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.isLeaving=!0;const{timeout:n=7e3}=e;t.migrationTask?.reject(new Error("Cancelled previous migration"));const r=t.migrationTask=DP(),i=t.dispatcher.on("participantMigrationComplete",(()=>{i(),clearTimeout(t.migrateAwayTimeout),r.resolve()}));return t.migrateAwayTimeout=setTimeout((()=>{i(),r.reject(new Error(`Migration (${t.logTag}) failed to complete in ${n}ms`))}),n),r.promise},this.join=async e=>{await this.signalReady(),(this.joinResponseTask.isResolved()||this.joinResponseTask.isRejected())&&(this.joinResponseTask=DP());const t=this.joinResponseTask;let n;const r=this.dispatcher.on("joinResponse",(e=>{this.logger("debug","Received joinResponse",e),clearTimeout(n),r(),this.keepAlive(),t.resolve(e)}));n=setTimeout((()=>{r(),t.reject(new Error('Waiting for "joinResponse" has timed out'))}),this.joinResponseTimeout);const i=cR.create({requestPayload:{oneofKind:"joinRequest",joinRequest:pR.create({...e,sessionId:this.sessionId,token:this.credentials.token})}});return this.tracer?.trace("joinRequest",i),await this.send(i),t.promise},this.ping=async()=>this.send(cR.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}})),this.notifyLeave=async e=>this.send(cR.create({requestPayload:{oneofKind:"leaveCallRequest",leaveCallRequest:{sessionId:this.sessionId,reason:e}}})),this.send=async e=>{await this.signalReady();const t=cR.toJson(e);this.signalWs.readyState===WebSocket.OPEN?(this.logger("debug",`Sending message to: ${this.edgeName}`,t),this.signalWs.send(cR.toBinary(e))):this.logger("debug","Signal WS is not open. Skipping message",t)},this.keepAlive=()=>{const e=VP();e.clearInterval(this.keepAliveInterval),this.keepAliveInterval=e.setInterval((()=>{this.ping().catch((e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)}))}),this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout((()=>{if(this.lastMessageTimestamp){(new Date).getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(qP.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)}}),this.unhealthyTimeoutInMs)},this.dispatcher=n,this.sessionId=i||zR(),this.onSignalClose=a,this.credentials=r;const{server:l,token:u}=r;var d;this.edgeName=l.edge_name,this.joinResponseTimeout=s,this.logTag=o,this.logger=oQ(["SfuClient",o]),this.tracer=c?new BP(`${o}-${this.edgeName}`):void 0,this.rpc=(e=>{const t=new VI({...MR,...e});return new DR(t)})({baseUrl:l.url,interceptors:[(d={Authorization:`Bearer ${u}`},{interceptUnary:(e,t,n,r)=>(r.meta={...r.meta,...d},e(t,n,r))}),this.tracer&&HR(this.tracer.trace),"trace"===iQ()&&LR(this.logger,"trace")].filter((e=>!!e))}),this.unsubscribeIceTrickle=n.on("iceTrickle",(e=>{this.iceTrickleBuffer.push(e)})),this.unsubscribeNetworkChanged=A.on("network.changed",(e=>{e.online?this.networkAvailableTask?.resolve():this.networkAvailableTask=DP()})),this.createWebSocket()}get isHealthy(){return this.signalWs.readyState===WebSocket.OPEN&&this.joinResponseTask.isResolved()}get joinTask(){return this.joinResponseTask.promise}}qP.NORMAL_CLOSURE=1e3,qP.ERROR_CONNECTION_UNHEALTHY=4001,qP.DISPOSE_OLD_SOCKET=4002;const $P=e=>async function(t){if(t.user.id===e.currentUserId)return;const{state:n}=e;t.call.created_by.id===e.currentUserId&&n.callingState===SQ.RINGING&&await e.join()},GP=e=>async function(t){if(t.user.id===e.currentUserId)return;const{call:n}=t,{session:r}=n;if(!r)return void e.logger("warn","No call session provided. Ignoring call.rejected event.",t);const i=r.rejected_by,{members:o,callingState:s}=e.state;if(s===SQ.RINGING)if(e.isCreatedByMe){o.filter((t=>t.user_id!==e.currentUserId)).every((e=>i[e.user_id]))&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reject:!0,reason:"cancel",message:"ring: everyone rejected"}))}else i[n.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({message:"ring: creator rejected"}));else e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",t)},zP=e=>function(){const{callingState:t}=e.state;t!==SQ.IDLE&&t!==SQ.LEFT&&e.leave({message:"call.ended event received",reject:!1}).catch((t=>{e.logger("error","Failed to leave call after call.ended ",t)}))},WP=e=>e.on("callEnded",(async t=>{if(e.state.callingState!==SQ.LEFT)try{if(t.reason===o_.LIVE_ENDED){e.state.setBackstage(!0);const{hasPermission:t}=e.permissionsContext;if(t(OF))return}e.state.setEndedAt(new Date);const n=o_[t.reason];await e.leave({message:`callEnded received: ${n}`})}catch(dY){e.logger("error","Failed to leave call after being ended by the SFU",dY)}})),JP=e=>function(t){const{currentGrants:n}=t;if(n){const{canPublishAudio:t,canPublishVideo:r,canScreenshare:i}=n,o={[LF]:t,[HF]:r,[MF]:i},s=e.ownCapabilities.filter((e=>!1!==o[e]));Object.entries(o).forEach((e=>{let[t,n]=e;n&&!s.includes(t)&&s.push(t)})),e.setOwnCapabilities(s)}},YP=(e,t)=>e.on("connectionQualityChanged",(e=>{const{connectionQualityUpdates:n}=e;n&&t.updateParticipants(n.reduce(((e,t)=>{const{sessionId:n,connectionQuality:r}=t;return e[n]={connectionQuality:r},e}),{}))})),XP=(e,t)=>e.on("healthCheckResponse",(e=>{const{participantCount:n}=e;n&&(t.setParticipantCount(n.total),t.setAnonymousParticipantCount(n.anonymous))})),ZP=(e,t)=>e.on("error",(e=>{e.error&&e.error.code!==t_.LIVE_ENDED||(t.state.setBackstage(!0),t.permissionsContext.hasPermission(OF)||t.leave({message:"live ended"}).catch((e=>{t.logger("error","Failed to leave call after live ended",e)})))})),eO=e=>e.on("error",(e=>{if(!e.error)return;const t=oQ(["SfuClient"]),{error:n,reconnectStrategy:r}=e;t("error","SFU reported error",{code:t_[n.code],reconnectStrategy:s_[r],message:n.message,shouldRetry:n.shouldRetry})})),tO=e=>function(t){const{pins:n}=t;e.setServerSidePins(n)},nO=e=>e.on("trackUnpublished",(async t=>{const{cause:n,type:r,sessionId:i}=t,{localParticipant:o}=e.state;if(n===r_.MODERATION&&i===o?.sessionId){const t=e.logger;t("info",`Local participant's ${e_[r]} track is muted remotely`);try{r===e_.VIDEO?await e.camera.disable():r===e_.AUDIO?await e.microphone.disable():r===e_.SCREEN_SHARE||r===e_.SCREEN_SHARE_AUDIO?await e.screenShare.disable():t("warn","Unsupported track type to soft mute",e_[r])}catch(s){t("error","Failed to stop publishing",s)}}})),rO=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const i of n)e.includes(i)||e.push(i);return e},iO=e=>function(t){const{participant:n}=t;if(!n)return;const r=cO(e,n);e.updateOrAddParticipant(n.sessionId,Object.assign(n,r,{viewportVisibilityState:{videoTrack:OR.UNKNOWN,screenShareTrack:OR.UNKNOWN}}))},oO=e=>function(t){const{participant:n}=t;n&&e.setParticipants((e=>e.filter((e=>e.sessionId!==n.sessionId))))},sO=e=>function(t){const{participant:n}=t;n&&e.updateParticipant(n.sessionId,n)},aO=e=>function(t){const{type:n,sessionId:r}=t;if(t.participant){const n=cO(e,t.participant),i=Object.assign(t.participant,n);e.updateOrAddParticipant(r,i)}else e.updateParticipant(r,(e=>({publishedTracks:rO([...e.publishedTracks],n)})))},AO=e=>function(t){const{type:n,sessionId:r}=t;if(t.participant){const n=cO(e,t.participant),i=Object.assign(t.participant,n);e.updateOrAddParticipant(r,i)}else e.updateParticipant(r,(e=>({publishedTracks:e.publishedTracks.filter((e=>e!==n))})))},cO=(e,t)=>{const n=e.takeOrphanedTracks(t.trackLookupPrefix);if(!n.length)return;const r={};for(const i of n){const e=xP(i.trackType);e&&(r[e]=i.track)}return r},lO=(e,t)=>e.on("dominantSpeakerChanged",(e=>{const{sessionId:n}=e;n!==t.dominantSpeaker?.sessionId&&t.setParticipants((e=>e.map((e=>e.sessionId===n?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))))})),uO=(e,t)=>e.on("audioLevelChanged",(e=>{const{audioLevels:n}=e;t.updateParticipants(n.reduce(((e,t)=>(e[t.sessionId]={audioLevel:t.level,isSpeaking:t.isSpeaking},e)),{}))})),dO=e=>{const t={"call.accepted":$P(e),"call.rejected":GP(e)},n=Object.keys(t).map((n=>{const r=n;return e.on(r,t[r])}));return()=>{n.forEach((e=>e()))}};class hO{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,t)=>(this.observer=new IntersectionObserver((e=>{e.forEach((e=>{const t=this.elementHandlerMap.get(e.target);t?.(e)}))}),{root:e,...t,threshold:t?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach((t=>{let[n,r]=t;e.contains(n)&&(this.observer.observe(n),this.elementHandlerMap.set(n,r))})),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,t)=>{const n=[e,t],r=()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(n)};return this.elementHandlerMap.has(e)?r:this.observer?(this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,t),this.observer.observe(e)),r):(this.queueSet.add(n),r)}}}const fO={videoTrack:OR.UNKNOWN,screenShareTrack:OR.UNKNOWN},pO=Symbol("globalOverrideKey");class gO{constructor(e,t){var n=this;this.viewportTracker=new hO,this.logger=oQ(["DynascaleManager"]),this.pendingSubscriptionsUpdate=null,this.videoTrackSubscriptionOverridesSubject=new rF({}),this.videoTrackSubscriptionOverrides$=this.videoTrackSubscriptionOverridesSubject.asObservable(),this.incomingVideoSettings$=this.videoTrackSubscriptionOverrides$.pipe(JU((e=>{const{[pO]:t,...n}=e;return{enabled:!1!==t?.enabled,preferredResolution:t?.enabled?t.dimension:void 0,participants:Object.fromEntries(Object.entries(n).map((e=>{let[t,n]=e;return[t,{enabled:!1!==n?.enabled,preferredResolution:n?.enabled?n.dimension:void 0}]}))),isParticipantVideoEnabled:t=>e[t]?.enabled??e[pO]?.enabled??!0}})),oF(1)),this.setVideoTrackSubscriptionOverrides=(e,t)=>wQ(this.videoTrackSubscriptionOverridesSubject,t?n=>({...n,...Object.fromEntries(t.map((t=>[t,e])))}):e?{[pO]:e}:{}),this.applyTrackSubscriptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NR.SLOW;n.pendingSubscriptionsUpdate&&clearTimeout(n.pendingSubscriptionsUpdate);const t=()=>{n.pendingSubscriptionsUpdate=null,n.sfuClient?.updateSubscriptions(n.trackSubscriptions).catch((e=>{n.logger("debug","Failed to update track subscriptions",e)}))};e?n.pendingSubscriptionsUpdate=setTimeout(t,e):t()},this.trackElementVisibility=(e,t,n)=>{const r=this.viewportTracker.observe(e,(r=>{this.callState.updateParticipant(t,(t=>{const i=t.viewportVisibilityState??fO,o=r.isIntersecting||document.fullscreenElement===e?OR.VISIBLE:OR.INVISIBLE;return{...t,viewportVisibilityState:{...i,[n]:o}}}))}));return()=>{r(),this.callState.updateParticipant(t,(e=>{const t=e.viewportVisibilityState??fO;return{...e,viewportVisibilityState:{...t,[n]:OR.UNKNOWN}}}))}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,t,n)=>{const r=this.callState.findParticipantBySessionId(t);if(!r)return;const i=(e,i)=>{!i||0!==i.width&&0!==i.height||(this.logger("debug","Ignoring 0x0 dimension",r),i=void 0),this.callState.updateParticipantTracks(n,{[t]:{dimension:i}}),this.applyTrackSubscriptions(e)},o=this.callState.participants$.pipe(JU((e=>e.find((e=>e.sessionId===t)))),AF((e=>!!e)),sF(),oF({bufferSize:1,refCount:!0}));let s;const a=r.isLocalParticipant?null:o.pipe(JU((e=>e.viewportVisibilityState?.[n])),sF()).subscribe((t=>{if(s){if(s=t??OR.UNKNOWN,t===OR.INVISIBLE)return i(NR.MEDIUM,void 0);i(NR.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}else s=t??OR.UNKNOWN}));let A;const c=r.isLocalParticipant?null:new ResizeObserver((()=>{const t={width:e.clientWidth,height:e.clientHeight};if(!A)return void(A=t);if(A.width===t.width&&A.height===t.height||s===OR.INVISIBLE)return;const n=Math.max(t.width/A.width,t.height/A.height)>1.2?NR.IMMEDIATE:NR.MEDIUM;i(n,{width:e.clientWidth,height:e.clientHeight}),A=t}));c?.observe(e);const l=r.isLocalParticipant?null:o.pipe(cF("publishedTracks"),JU((e=>"videoTrack"===n?UQ(e):_Q(e))),sF()).subscribe((t=>{t?i(NR.IMMEDIATE,{width:e.clientWidth,height:e.clientHeight}):i(NR.FAST,void 0)}));e.autoplay=!0,e.playsInline=!0,e.muted=!0;const u=o.pipe(cF("videoTrack"===n?"videoStream":"screenShareStream")).subscribe((t=>{const r="videoTrack"===n?t.videoStream:t.screenShareStream;e.srcObject!==r&&(e.srcObject=r??null,(eP()||tP())&&setTimeout((()=>{e.srcObject=r??null,e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}))}),25))}));return()=>{i(NR.FAST,void 0),a?.unsubscribe(),l?.unsubscribe(),u.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,t,n)=>{const r=this.callState.findParticipantBySessionId(t);if(!r||r.isLocalParticipant)return;const i=this.callState.participants$.pipe(JU((e=>e.find((e=>e.sessionId===t)))),AF((e=>!!e)),sF(),oF({bufferSize:1,refCount:!0})),o=i.pipe(cF("screenShareAudioTrack"===n?"screenShareAudioStream":"audioStream")).subscribe((t=>{const r="screenShareAudioTrack"===n?t.screenShareAudioStream:t.audioStream;e.srcObject!==r&&setTimeout((()=>{if(e.srcObject=r??null,e.srcObject){e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}));const{selectedDevice:t}=this.speaker.state;t&&"setSinkId"in e&&e.setSinkId(t)}}))})),s="setSinkId"in e?this.speaker.state.selectedDevice$.subscribe((t=>{t&&e.setSinkId(t)})):null,a=tF([this.speaker.state.volume$,i.pipe(cF("audioVolume"))]).subscribe((t=>{let[n,r]=t;e.volume=r.audioVolume??n}));return e.autoplay=!0,()=>{s?.unsubscribe(),a.unsubscribe(),o.unsubscribe()}},this.callState=e,this.speaker=t}setSfuClient(e){this.sfuClient=e}get trackSubscriptions(){const e=[];for(const t of this.callState.remoteParticipants){if(t.videoDimension&&UQ(t)){const n=this.videoTrackSubscriptionOverrides[t.sessionId]??this.videoTrackSubscriptionOverrides[pO];!1!==n?.enabled&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:e_.VIDEO,dimension:n?.dimension??t.videoDimension})}t.screenShareDimension&&_Q(t)&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:e_.SCREEN_SHARE,dimension:t.screenShareDimension}),RQ(t)&&e.push({userId:t.userId,sessionId:t.sessionId,trackType:e_.SCREEN_SHARE_AUDIO})}return e}get videoTrackSubscriptionOverrides(){return yQ(this.videoTrackSubscriptionOverrides$)}}class mO{constructor(){var e=this;this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canPublish=e=>{switch(e){case e_.AUDIO:return this.hasPermission(LF);case e_.VIDEO:return this.hasPermission(HF);case e_.SCREEN_SHARE:case e_.SCREEN_SHARE_AUDIO:return this.hasPermission(MF);case e_.UNSPECIFIED:return!1;default:kP(e,"Unknown track type")}},this.canRequest=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.settings;if(!n)return!1;const{audio:r,video:i,screensharing:o}=n;switch(t){case LF:return r.access_request_enabled;case HF:return i.access_request_enabled;case MF:return o.access_request_enabled;default:return!1}}}}class vO{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sortParticipantsBy:VQ};this.name=e,this.options=t}}const yO=new class{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new vO(e)),this.callTypes[e]),this.callTypes=e.reduce(((e,t)=>(e[t.name]=t,e)),{})}}([new vO("default",{sortParticipantsBy:VQ}),new vO("development",{sortParticipantsBy:VQ}),new vO("livestream",{sortParticipantsBy:GQ}),new vO("audio_room",{sortParticipantsBy:GQ})]);class wO{constructor(e){this.permission=e,this.disposeController=new AbortController,this.wasPrompted=!1,this.listeners=new Set,this.logger=oQ(["permissions"]);const t=this.disposeController.signal;this.ready=(async()=>{const n=()=>{this.setState("prompt")};if(XR()||"undefined"===typeof navigator||!navigator.permissions?.query)return n();try{const n=await navigator.permissions.query({name:e.queryName});t.aborted||(this.setState(n.state),n.addEventListener("change",(()=>this.setState(n.state)),{signal:t}))}catch(dY){this.logger("debug","Failed to query permission status",dY),n()}})()}dispose(){this.state=void 0,this.disposeController.abort()}async getState(){if(await this.ready,!this.state)throw new Error("BrowserPermission instance possibly disposed");return this.state}async prompt(){let{forcePrompt:e=!1,throwOnNotAllowed:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await fQ(`permission-prompt-${this.permission.queryName}`,(async()=>{if("prompt"!==await this.getState()||this.wasPrompted&&!e){const e="granted"===this.state;if(!e&&t)throw new Error("Permission was not granted previously, and prompting again is not allowed");return e}try{this.wasPrompted=!0,this.setState("prompting");const e=await navigator.mediaDevices.getUserMedia(this.permission.constraints);return NO(e),this.setState("granted"),!0}catch(hY){if(hY&&"object"===typeof hY&&"name"in hY&&("NotAllowedError"===hY.name||"SecurityError"===hY.name)){if(this.logger("info","Browser permission was not granted",{permission:this.permission}),this.setState("denied"),t)throw hY;return!1}throw this.logger("error","Failed to getUserMedia",{error:hY,permission:this.permission}),this.setState("prompt"),hY}}))}listen(e){return this.listeners.add(e),this.state&&e(this.state),()=>this.listeners.delete(e)}asObservable(){return this.getStateObservable().pipe(JU((e=>"denied"!==e)))}asStateObservable(){return this.getStateObservable()}getIsPromptingObservable(){return this.getStateObservable().pipe(JU((e=>"prompting"===e)))}getStateObservable(){return lF((e=>this.listen(e)),((e,t)=>t()))}setState(e){this.state!==e&&(this.state=e,this.listeners.forEach((t=>t(e))))}}const bO=(e,t)=>WU((async()=>{let n=await navigator.mediaDevices.enumerateDevices();return n.some((e=>e.kind===t&&""===e.label))&&await e.prompt()&&(n=await navigator.mediaDevices.enumerateDevices()),n.filter((e=>e.kind===t&&""!==e.label&&"default"!==e.deviceId))})()),CO={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},BO={video:{width:1280,height:720}},SO=LP((()=>new wO({constraints:CO,queryName:"microphone"}))),EO=LP((()=>new wO({constraints:BO,queryName:"camera"}))),kO=LP((()=>{return navigator.mediaDevices.addEventListener?pF(navigator.mediaDevices,"devicechange").pipe(JU((()=>{})),(e=500,void 0===t&&(t=CF),jU((function(n,r){var i=null,o=null,s=null,a=function(){if(i){i.unsubscribe(),i=null;var e=o;o=null,r.next(e)}};function A(){var n=s+e,o=t.now();if(o<n)return i=this.schedule(void 0,n-o),void r.add(i);a()}n.subscribe(KU(r,(function(n){o=n,s=t.now(),i||(i=t.schedule(A,e),r.add(i))}),(function(){a(),r.complete()}),void 0,(function(){o=i=null})))})))):WU([]);var e,t})),xO=LP((()=>EF(kO(),SO().asObservable()).pipe(xF(void 0),TF((()=>bO(SO(),"audioinput"))),oF(1)))),TO=LP((()=>EF(kO(),EO().asObservable()).pipe(xF(void 0),TF((()=>bO(EO(),"videoinput"))),oF(1)))),IO=LP((()=>EF(kO(),SO().asObservable()).pipe(xF(void 0),TF((()=>bO(SO(),"audiooutput"))),oF(1))));let UO=0;const FO=async(e,t)=>{const n=`navigator.mediaDevices.getUserMedia.${UO++}.`;try{t?.trace(n,e);const r=await navigator.mediaDevices.getUserMedia(e);return t?.trace(`${n}OnSuccess`,YQ(r)),tP()&&navigator.mediaDevices.dispatchEvent(new Event("devicechange")),r}catch(r){throw t?.trace(`${n}OnFailure`,r.name),r}};function _O(e){if(!e||"object"!==typeof e)return!1;if("name"in e&&"string"===typeof e.name){const t=e.name;if(["OverconstrainedError","NotFoundError"].includes(t))return!0}if("message"in e&&"string"===typeof e.message){if(e.message.startsWith("OverconstrainedError"))return!0}return!1}const RO=async(e,t)=>{const n={audio:{...CO.audio,...e}};try{return await SO().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await FO(n,t)}catch(r){if(_O(r)&&e?.deviceId){const{deviceId:t,...i}=e;return oQ(["devices"])("warn","Failed to get audio stream, will try again with relaxed constraints",{error:r,constraints:n,relaxedConstraints:i}),RO(i)}throw oQ(["devices"])("error","Failed to get audio stream",{error:r,constraints:n}),r}},QO=async(e,t)=>{const n={video:{...BO.video,...e}};try{return await EO().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await FO(n,t)}catch(r){if(_O(r)&&e?.deviceId){const{deviceId:t,...i}=e;return oQ(["devices"])("warn","Failed to get video stream, will try again with relaxed constraints",{error:r,constraints:n,relaxedConstraints:i}),QO(i)}throw oQ(["devices"])("error","Failed to get video stream",{error:r,constraints:n}),r}};let PO=0;const OO="undefined"!==typeof navigator&&"undefined"!==typeof navigator.mediaDevices?kO().pipe(xF(void 0),TF((()=>navigator.mediaDevices.enumerateDevices())),oF(1)):void 0,NO=e=>{e.active&&(e.getTracks().forEach((e=>{e.stop()})),"function"===typeof e.release&&e.release())},DO=()=>/Mobi/i.test(navigator.userAgent);class MO{constructor(e,t,n){this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.statusChangeConcurrencyTag=Symbol("statusChangeConcurrencyTag"),this.filterRegistrationConcurrencyTag=Symbol("filterRegistrationConcurrencyTag"),this.dispose=()=>{this.subscriptions.forEach((e=>e()))},this.call=e,this.state=t,this.trackType=n,this.logger=oQ([`${e_[n].toLowerCase()} manager`]),!OO||XR()||this.trackType!==e_.AUDIO&&this.trackType!==e_.VIDEO||this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}get enabled(){return"enabled"===this.state.status}async enable(){this.state.prevStatus=this.state.optimisticStatus,"enabled"!==this.state.optimisticStatus&&(this.state.setPendingStatus("enabled"),await pQ(this.statusChangeConcurrencyTag,(async e=>{try{await this.unmuteStream(),this.state.setStatus("enabled")}finally{e.aborted||this.state.setPendingStatus(this.state.status)}})))}async disable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.prevStatus=this.state.optimisticStatus,(e||"disabled"!==this.state.optimisticStatus)&&(this.state.setPendingStatus("disabled"),await pQ(this.statusChangeConcurrencyTag,(async t=>{try{const t=e||"stop-tracks"===this.state.disableMode;await this.muteStream(t),this.state.setStatus("disabled")}finally{t.aborted||this.state.setPendingStatus(this.state.status)}})))}async statusChangeSettled(){await mQ(this.statusChangeConcurrencyTag)}async resume(){"enabled"===this.state.prevStatus&&"enabled"!==this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.optimisticStatus?await this.disable():await this.enable()}registerFilter(e){const t={start:e,stop:void 0};this.call.tracer.trace(`registerFilter.${e_[this.trackType]}`,null);return{registered:fQ(this.filterRegistrationConcurrencyTag,(async()=>{await mQ(this.statusChangeConcurrencyTag),this.filters.push(t),await this.applySettingsToStream()})),unregister:()=>fQ(this.filterRegistrationConcurrencyTag,(async()=>{await mQ(this.statusChangeConcurrencyTag),t.stop?.(),this.filters=this.filters.filter((e=>e!==t)),await this.applySettingsToStream()}))}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(XR())throw new Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");const t=this.state.selectedDevice;if(e!==t)try{this.state.setDevice(e),await this.applySettingsToStream()}catch(n){throw this.state.setDevice(t),n}}async applySettingsToStream(){await pQ(this.statusChangeConcurrencyTag,(async()=>{this.enabled&&(await this.muteStream(),await this.unmuteStream())}))}publishStream(e){return this.call.publish(e,this.trackType)}stopPublishStream(){return this.call.stopPublish(this.trackType)}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.state.mediaStream;if(!t)return;this.logger("debug",(e?"Stopping":"Disabling")+" stream"),this.call.state.callingState===SQ.JOINED&&await this.stopPublishStream(),this.muteLocalStream(e);const n=this.getTracks().every((e=>"ended"===e.readyState));n&&("function"===typeof t.release&&t.release(),this.state.setMediaStream(void 0,void 0),this.filters.forEach((e=>e.stop?.())))}disableTracks(){this.getTracks().forEach((e=>{e.enabled&&(e.enabled=!1)}))}enableTracks(){this.getTracks().forEach((e=>{e.enabled||(e.enabled=!0)}))}stopTracks(){this.getTracks().forEach((e=>{"live"===e.readyState&&e.stop()}))}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.disableTracks())}async unmuteStream(){let e,t;this.logger("debug","Starting stream");try{if(this.state.mediaStream&&this.getTracks().every((e=>"live"===e.readyState)))e=this.state.mediaStream,this.enableTracks();else{const n={...this.state.defaultConstraints,deviceId:this.state.selectedDevice?{exact:this.state.selectedDevice}:void 0},r=e=>async t=>{if(!e)return t;const n=await e;return t.getTracks().forEach((e=>{const t=e.stop;e.stop=function(){t.call(e),n.getTracks().forEach((t=>{t.kind===e.kind&&t.stop()}))}})),n.getTracks().forEach((e=>{const n=()=>{t.getTracks().forEach((t=>{e.kind===t.kind&&(t.stop(),t.dispatchEvent(new Event("ended")))}))};e.addEventListener("ended",n),this.subscriptions.push((()=>{e.removeEventListener("ended",n)}))})),t};t=this.getStream(n),e=await this.filters.reduce(((e,t)=>e.then((e=>{const{stop:n,output:r}=t.start(e);return t.stop=n,r})).then(r(e),(t=>(this.logger("warn","Filter failed to start and will be ignored",t),e)))),t)}if(this.call.state.callingState===SQ.JOINED&&await this.publishStream(e),this.state.mediaStream!==e){this.state.setMediaStream(e,await t);const n=async()=>{await this.statusChangeSettled(),this.enabled&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout((()=>{this.isTrackStoppedDueToTrackEnd=!1}),2e3),await this.disable())},r=e=>()=>{DO()&&this.trackType===e_.VIDEO&&this.call.notifyTrackMuteState(e,this.trackType).catch((e=>{this.logger("warn","Error while notifying track mute state",e)}))};e.getTracks().forEach((e=>{const t=r(!0),i=r(!1);e.addEventListener("mute",t),e.addEventListener("unmute",i),e.addEventListener("ended",n),this.subscriptions.push((()=>{e.removeEventListener("mute",t),e.removeEventListener("unmute",i),e.removeEventListener("ended",n)}))}))}}catch(dY){throw t&&NO(await t),dY}}get mediaDeviceKind(){return this.trackType===e_.AUDIO?"audioinput":this.trackType===e_.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(CQ(tF([OO.pipe(jU((function(e,t){var n,r=!1;e.subscribe(KU(t,(function(e){var i=n;n=e,r&&t.next([i,e]),r=!0})))}))),this.state.selectedDevice$]),(async e=>{let[[t,n],r]=e;try{if(!r)return;await this.statusChangeSettled();let e=!1,i=!1;const o=this.findDevice(n,r),s=this.findDevice(t,r);!o&&s?e=!0:o&&s&&o.deviceId===s.deviceId&&o.groupId!==s.groupId&&(i=!0),e&&(await this.disable(),await this.select(void 0)),i&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}catch(dY){this.logger("warn","Unexpected error while handling disconnected or replaced device",dY)}})))}findDevice(e,t){const n=this.mediaDeviceKind;return e.find((e=>e.deviceId===t&&e.kind===n))}}class LO{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stop-tracks",t=arguments.length>1?arguments[1]:void 0;this.disableMode=e,this.statusSubject=new rF(void 0),this.optimisticStatusSubject=new rF(void 0),this.mediaStreamSubject=new rF(void 0),this.selectedDeviceSubject=new rF(void 0),this.defaultConstraintsSubject=new rF(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(sF()),this.status$=this.statusSubject.asObservable().pipe(sF()),this.optimisticStatus$=this.optimisticStatusSubject.asObservable().pipe(sF()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=t?t.asObservable().pipe(oF(1)):IF(!0),this.browserPermissionState$=t?t.asStateObservable().pipe(oF(1)):IF("prompt"),this.isPromptingPermission$=t?t.getIsPromptingObservable().pipe(oF(1)):IF(!1)}get status(){return yQ(this.status$)}get optimisticStatus(){return yQ(this.optimisticStatus$)}get selectedDevice(){return yQ(this.selectedDevice$)}get mediaStream(){return yQ(this.mediaStream$)}setStatus(e){wQ(this.statusSubject,e)}setPendingStatus(e){wQ(this.optimisticStatusSubject,e)}setMediaStream(e,t){wQ(this.mediaStreamSubject,e),t&&this.setDevice(this.getDeviceIdFromStream(t))}setDevice(e){wQ(this.selectedDeviceSubject,e)}get defaultConstraints(){return yQ(this.defaultConstraints$)}setDefaultConstraints(e){wQ(this.defaultConstraintsSubject,e)}}class HO extends LO{constructor(){super("stop-tracks",EO()),this.directionSubject=new rF(void 0),this.direction$=this.directionSubject.asObservable().pipe(sF())}get direction(){return yQ(this.direction$)}setDirection(e){wQ(this.directionSubject,e)}setMediaStream(e,t){if(super.setMediaStream(e,t),e){const t=XR()?this.direction:"environment"===e.getVideoTracks()[0]?.getSettings().facingMode?"back":"front";this.setDirection(t)}}getDeviceIdFromStream(e){const[t]=e.getVideoTracks();return t?.getSettings().deviceId}}class jO extends MO{constructor(e){super(e,new HO,e_.VIDEO),this.targetResolution={width:1280,height:720}}isDirectionSupportedByDevice(){return XR()||DO()}async selectDirection(e){if(this.isDirectionSupportedByDevice())if(this.state.setDirection(e),this.state.setDevice(void 0),XR()){const t=this.getTracks()[0];await(t?.applyConstraints({facingMode:"front"===e?"user":"environment"}))}else{this.getTracks().forEach((e=>e.stop()));try{await this.unmuteStream()}catch(t){throw t instanceof Error&&"NotReadableError"===t.name&&(await this.muteStream(),await this.unmuteStream()),t}}else this.logger("warn","Setting direction is not supported on this device")}async flip(){const e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,"enabled"===this.state.optimisticStatus)try{await this.statusChangeSettled()}catch(t){this.logger("warn","could not apply target resolution",t)}if(this.enabled&&this.state.mediaStream){const[e]=this.state.mediaStream.getVideoTracks();if(!e)return;const{width:t,height:n}=e.getSettings();t===this.targetResolution.width&&n===this.targetResolution.height||(await this.applySettingsToStream(),this.logger("debug",`${t}x${n} target resolution applied to media stream`))}}async apply(e,t){const n=!!this.call.state.localParticipant?.videoStream,r=this.call.permissionsContext.hasPermission(LF);if(n||!r)return;await this.statusChangeSettled();const{target_resolution:i,camera_facing:o,camera_default_on:s}=e;if(await this.selectTargetResolution(i),this.state.direction||this.state.selectedDevice||this.state.setDirection("front"===o?"front":"back"),!t)return;const{mediaStream:a}=this.state;this.enabled&&a?await this.publishStream(a):void 0===this.state.status&&s&&await this.enable()}getDevices(){return TO()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&this.isDirectionSupportedByDevice()&&(e.facingMode="front"===this.state.direction?"user":"environment"),QO(e,this.call.tracer)}}class KO extends LO{constructor(e){super(e,SO()),this.speakingWhileMutedSubject=new rF(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(sF())}get speakingWhileMuted(){return yQ(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){wQ(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){const[t]=e.getAudioTracks();return t?.getSettings().deviceId}}const VO=500,qO=150,$O=128;class GO{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(e){try{this.cleanupAudioStream();const t=await navigator.mediaDevices.getUserMedia({audio:!0});this.audioStream=t,this.pc1.addEventListener("icecandidate",(async e=>{await this.pc2.addIceCandidate(e.candidate)})),this.pc2.addEventListener("icecandidate",(async e=>{await this.pc1.addIceCandidate(e.candidate)})),this.pc2.addEventListener("track",(e=>{e.streams[0].getTracks().forEach((e=>{e._setVolume(0)}))})),t.getTracks().forEach((e=>this.pc1.addTrack(e,t)));const n=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(n),await this.pc1.setLocalDescription(n);const r=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(r),await this.pc2.setLocalDescription(r);const i=this.onSpeakingDetectedStateChange(e);return()=>{i(),this.stop()}}catch(t){return oQ(["RNSpeechDetector"])("error","error handling permissions: ",t),()=>{}}}stop(){this.pc1.close(),this.pc2.close(),this.cleanupAudioStream()}onSpeakingDetectedStateChange(e){let t,n,r=.13,i=!1;const o=[],s=setInterval((async()=>{try{const s=await this.pc1.getStats(),a=JQ(s).find((e=>"media-source"===e.type&&"audio"===e.kind));if(a){const{audioLevel:s}=a;if(s){o.push(s),o.length>10&&o.shift();const a=o.reduce(((e,t)=>e+t),0)/o.length;a<1.1*r?n||(n=setTimeout((()=>{r=Math.min(.9*a,.13)}),5e3)):(clearTimeout(n),n=void 0),a>1.5*r&&(i||(i=!0,e({isSoundDetected:!0,audioLevel:s})),clearTimeout(t),t=setTimeout((()=>{i=!1,e({isSoundDetected:!1,audioLevel:0})}),500))}}}catch(s){oQ(["RNSpeechDetector"])("error","error checking audio level from stats",s)}}),100);return()=>{clearInterval(s),clearTimeout(t),clearTimeout(n)}}cleanupAudioStream(){this.audioStream&&(this.audioStream.getTracks().forEach((e=>e.stop())),"function"===typeof this.audioStream.release&&this.audioStream.release())}}class zO extends MO{constructor(e){super(e,new KO(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stop-tracks"),e_.AUDIO),this.speakingWhileMutedNotificationEnabled=!0,this.soundDetectorConcurrencyTag=Symbol("soundDetectorConcurrencyTag"),this.subscriptions.push(BQ(tF([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]),(async e=>{let[t,n,r,i]=e;try{if(t===SQ.LEFT&&await this.stopSpeakingWhileMutedDetection(),t!==SQ.JOINED)return;if(!this.speakingWhileMutedNotificationEnabled)return;n.includes(LF)&&"disabled"===i?await this.startSpeakingWhileMutedDetection(r):await this.stopSpeakingWhileMutedDetection()}catch(dY){this.logger("warn","Could not enable speaking while muted",dY)}}))),this.subscriptions.push(CQ(this.call.state.callingState$,(e=>{if(!this.noiseCancellationRegistration||!this.noiseCancellation)return;this.call.state.settings?.audio.noise_cancellation?.mode===RF&&e===SQ.JOINED?this.noiseCancellationRegistration.then((()=>!this.noiseCancellation?.canAutoEnable||this.noiseCancellation.canAutoEnable())).then((e=>{e&&this.noiseCancellation?.enable()})).catch((e=>(this.logger("warn","Failed to enable noise cancellation",e),this.call.notifyNoiseCancellationStopped()))):e===SQ.LEFT&&this.noiseCancellationRegistration.then((()=>this.noiseCancellation?.disable())).catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))})))}async enableNoiseCancellation(e){const{ownCapabilities:t,settings:n}=this.call.state;if(!t.includes(PF))throw new Error("Noise cancellation is not available.");const r=n?.audio.noise_cancellation;if(!r||r.mode===_F)throw new Error("Noise cancellation is disabled for this call type.");try{if(this.noiseCancellation=e,this.noiseCancellationChangeUnsubscribe=this.noiseCancellation.on("change",(e=>{this.call.tracer.trace("noiseCancellation.enabled",e),e?this.call.notifyNoiseCancellationStarting().catch((e=>{this.logger("warn","notifyNoiseCancellationStart failed",e)})):this.call.notifyNoiseCancellationStopped().catch((e=>{this.logger("warn","notifyNoiseCancellationStop failed",e)}))})),XR())this.noiseCancellationRegistration=Promise.resolve();else{const t=this.registerFilter(e.toFilter());this.noiseCancellationRegistration=t.registered,this.unregisterNoiseCancellation=t.unregister,await this.noiseCancellationRegistration}if(r.mode===RF&&this.call.state.callingState===SQ.JOINED){let t=!0;e.canAutoEnable&&(t=await e.canAutoEnable()),t&&e.enable()}}catch(hY){this.logger("warn","Failed to enable noise cancellation",hY),await this.disableNoiseCancellation().catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))}}async disableNoiseCancellation(){await(this.unregisterNoiseCancellation?.()??Promise.resolve()).then((()=>this.noiseCancellation?.disable())).then((()=>this.noiseCancellationChangeUnsubscribe?.())).catch((e=>{this.logger("warn","Failed to unregister noise cancellation",e)})),await this.call.notifyNoiseCancellationStopped()}async enableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!0,"disabled"===this.state.status&&await this.startSpeakingWhileMutedDetection(this.state.selectedDevice)}async disableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!1,await this.stopSpeakingWhileMutedDetection()}async apply(e,t){if(!t)return;const n=!!this.call.state.localParticipant?.audioStream,r=this.call.permissionsContext.hasPermission(LF);if(n||!r)return;await this.statusChangeSettled();const{mediaStream:i}=this.state;this.enabled&&i?await this.publishStream(i):void 0===this.state.status&&e.mic_default_on&&await this.enable()}getDevices(){return xO()}getStream(e){return RO(e,this.call.tracer)}async startSpeakingWhileMutedDetection(e){await fQ(this.soundDetectorConcurrencyTag,(async()=>{if(await this.stopSpeakingWhileMutedDetection(),XR()){this.rnSpeechDetector=new GO;const e=await this.rnSpeechDetector.start((e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}));this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector=void 0}}else{const t=await this.getStream({deviceId:{exact:e}});this.soundDetectorCleanup=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{detectionFrequencyInMs:r=VO,audioLevelThreshold:i=qO,fftSize:o=$O,destroyStreamOnStop:s=!0}=n,a=new AudioContext,A=a.createAnalyser();A.fftSize=o;const c=a.createMediaStreamSource(e);c.connect(A);const l=setInterval((()=>{const n=new Uint8Array(A.frequencyBinCount);A.getByteFrequencyData(n);const r=n.some((e=>e>=i)),o=n.reduce(((e,t)=>e+t),0)/n.length,s=o>i?100:Math.round(o/i*100);e.getAudioTracks()[0]?.enabled?t({isSoundDetected:r,audioLevel:s}):t({isSoundDetected:!1,audioLevel:0})}),r);return async function(){clearInterval(l),c.disconnect(),A.disconnect(),"closed"!==a.state&&await a.close(),s&&e.getTracks().forEach((t=>{t.stop(),e.removeTrack(t)}))}}(t,(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}))}}))}async stopSpeakingWhileMutedDetection(){await fQ(this.soundDetectorConcurrencyTag,(async()=>{if(!this.soundDetectorCleanup)return;const e=this.soundDetectorCleanup;this.soundDetectorCleanup=void 0,this.state.setSpeakingWhileMuted(!1),await e()}))}}class WO extends LO{constructor(){super(...arguments),this.audioEnabledSubject=new rF(!0),this.settingsSubject=new rF(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(sF()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{const[t]=e.getTracks();return t?.getSettings().deviceId}}get audioEnabled(){return yQ(this.audioEnabled$)}setAudioEnabled(e){wQ(this.audioEnabledSubject,e)}get settings(){return yQ(this.settings$)}setSettings(e){wQ(this.settingsSubject,e)}}class JO extends MO{constructor(e){super(e,new WO,e_.SCREEN_SHARE),this.subscriptions.push(CQ(e.state.settings$,(e=>{const t=e?.screensharing.target_resolution;t&&this.setDefaultConstraints({video:{width:t.width,height:t.height}})})))}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(e_.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(e_.SCREEN_SHARE_AUDIO)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return IF([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),(async(e,t)=>{const n=`navigator.mediaDevices.getDisplayMedia.${PO++}.`;try{t?.trace(n,e);const r=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e});return t?.trace(`${n}OnSuccess`,YQ(r)),r}catch(hY){throw t?.trace(`${n}OnFailure`,hY.name),oQ(["devices"])("error","Failed to get screen share stream",hY),hY}})(e,this.call.tracer)}async stopPublishStream(){return this.call.stopPublish(e_.SCREEN_SHARE,e_.SCREEN_SHARE_AUDIO)}async select(){throw new Error("Not supported")}}class YO{constructor(e){this.selectedDeviceSubject=new rF(""),this.volumeSubject=new rF(1),this.isDeviceSelectionSupported="undefined"!==typeof document&&"setSinkId"in document.createElement("audio"),this.tracer=e,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(sF()),this.volume$=this.volumeSubject.asObservable().pipe(sF())}get selectedDevice(){return yQ(this.selectedDevice$)}get volume(){return yQ(this.volume$)}setDevice(e){wQ(this.selectedDeviceSubject,e),this.tracer.trace("navigator.mediaDevices.setSinkId",e)}setVolume(e){wQ(this.volumeSubject,e)}}class XO{constructor(e){this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach((e=>e.unsubscribe()))},this.call=e,this.state=new YO(e.tracer),OO&&!XR()&&this.subscriptions.push(tF([OO,this.state.selectedDevice$]).subscribe((e=>{let[t,n]=e;if(!n)return;t.find((e=>e.deviceId===n&&"audiooutput"===e.kind))||this.select("")})))}listDevices(){if(XR())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return IO()}select(e){if(XR())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(XR())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw new Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,t){if(XR())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(t&&(t<0||t>1))throw new Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:t})}}class ZO{constructor(e){var t=this;let{type:n,id:r,streamClient:i,members:o,ownCapabilities:s,sortParticipantsBy:a,clientStore:A,ringing:c=!1,watching:l=!1}=e;this.state=new WQ,this.permissionsContext=new mO,this.tracer=new BP(null),this.dispatcher=new uQ,this.sfuClientTag=0,this.reconnectConcurrencyTag=Symbol("reconnectConcurrencyTag"),this.reconnectAttempts=0,this.reconnectStrategy=s_.UNSPECIFIED,this.reconnectReason="",this.fastReconnectDeadlineSeconds=0,this.disconnectionTimeoutSeconds=0,this.lastOfflineTimestamp=0,this.trackPublishOrder=[],this.hasJoinedOnce=!1,this.deviceSettingsAppliedOnce=!1,this.initialized=!1,this.joinLeaveConcurrencyTag=Symbol("joinLeaveConcurrencyTag"),this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.setup=async()=>{await fQ(this.joinLeaveConcurrencyTag,(async()=>{this.initialized||(this.leaveCallHooks.add(this.on("all",(e=>{this.state.updateFromEvent(e)}))),this.leaveCallHooks.add(this.on("changePublishOptions",(e=>{this.currentPublishOptions=e.publishOptions}))),this.leaveCallHooks.add(((e,t)=>{const n=e.state,r=[e.on("call.ended",zP(e)),WP(e),ZP(t,e),eO(t),YP(t,n),XP(t,n),e.on("participantJoined",iO(n)),e.on("participantLeft",oO(n)),e.on("participantUpdated",sO(n)),e.on("trackPublished",aO(n)),e.on("trackUnpublished",AO(n)),uO(t,n),lO(t,n),e.on("callGrantsUpdated",JP(n)),e.on("pinsUpdated",tO(n)),nO(e)];return e.ringing&&r.push(dO(e)),()=>{r.forEach((e=>e()))}})(this,this.dispatcher)),this.registerEffects(),this.registerReconnectHandlers(),this.state.callingState===SQ.LEFT&&this.state.setCallingState(SQ.IDLE),this.initialized=!0)}))},this.registerEffects=()=>{this.leaveCallHooks.add(CQ(this.state.settings$,(e=>{e&&this.permissionsContext.setCallSettings(e)}))),this.leaveCallHooks.add(BQ(this.state.ownCapabilities$,this.handleOwnCapabilitiesUpdated)),this.leaveCallHooks.add(CQ(this.state.blockedUserIds$,(async e=>{if(!e||0===e.length)return;const t=this.currentUserId;t&&e.includes(t)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({message:"user blocked"}).catch((e=>{this.logger("error","Error leaving call after being blocked",e)})))}))),this.leaveCallHooks.add(CQ(this.state.session$,(e=>{if(!this.ringing)return;const t=this.clientStore.connectedUser?.id;if(!t)return;const n=Boolean(e?.accepted_by[t]),r=Boolean(e?.rejected_by[t]);(n||r)&&this.cancelAutoDrop();var i;!(n&&this.state.callingState===SQ.RINGING)&&!r||(i=this.joinLeaveConcurrencyTag,gQ.has(i))||this.leave().catch((()=>{this.logger("error","Could not leave a call that was accepted or rejected elsewhere")}))}))),this.leaveCallHooks.add(CQ(this.ringingSubject,(e=>{if(!e)return;const t=this.state.session,n=this.clientStore.connectedUser?.id,r=t?.ended_at,i=this.state.createdBy?.id,o=t?.rejected_by,s=t?.accepted_by;let a=!1;r?a=!0:i&&o?o[i]&&(a=!0):n&&o?o[n]&&(a=!0):n&&s&&s[n]&&(a=!0),a?this.state.callingState!==SQ.IDLE&&this.state.setCallingState(SQ.IDLE):(this.state.callingState===SQ.IDLE&&this.state.setCallingState(SQ.RINGING),this.scheduleAutoDrop(),this.leaveCallHooks.add(dO(this)))})))},this.handleOwnCapabilitiesUpdated=async e=>{if(this.permissionsContext.setPermissions(e),!this.publisher)return;const t={[LF]:e_.AUDIO,[HF]:e_.VIDEO,[MF]:e_.SCREEN_SHARE};for(const[n,r]of Object.entries(t)){if(!this.permissionsContext.hasPermission(n))try{switch(r){case e_.AUDIO:this.microphone.enabled&&await this.microphone.disable();break;case e_.VIDEO:this.camera.enabled&&await this.camera.disable();break;case e_.SCREEN_SHARE:this.screenShare.enabled&&await this.screenShare.disable()}}catch(dY){this.logger("error","Can't disable mic/camera/screenshare after revoked permissions",dY)}}},this.on=(e,t)=>{if(lQ(e))return this.dispatcher.on(e,t);const n=this.streamClient.on(e,(e=>{const n=e;n.call_cid&&n.call_cid===this.cid&&t(n)}));return this.streamClientEventHandlers.set(t,n),()=>{this.off(e,t)}},this.off=(e,t)=>{if(lQ(e))return this.dispatcher.off(e,t);const n=this.streamClientEventHandlers.get(t);n&&n()},this.leave=async function(){let{reject:e,reason:n,message:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await fQ(t.joinLeaveConcurrencyTag,(async()=>{const i=t.state.callingState;if(i===SQ.LEFT)throw new Error("Cannot leave call that has already been left.");if(i===SQ.JOINING){const e=()=>new Promise((e=>{t.state.callingState$.pipe(AF((e=>e!==SQ.JOINED),!0)).subscribe((()=>e()))}));await e()}if(i===SQ.RINGING&&!1!==e)if(e)await t.reject(n??"decline");else{const e=t.state.remoteParticipants.length>0;t.isCreatedByMe&&!e&&await t.reject("cancel")}t.statsReporter?.stop(),t.statsReporter=void 0,t.sfuStatsReporter?.flush(),t.sfuStatsReporter?.stop(),t.sfuStatsReporter=void 0,t.subscriber?.dispose(),t.subscriber=void 0,t.publisher?.dispose(),t.publisher=void 0,await(t.sfuClient?.leaveAndClose(r??n??"user is leaving the call")),t.sfuClient=void 0,t.dynascaleManager.setSfuClient(void 0),t.state.setCallingState(SQ.LEFT),t.state.setParticipants([]),t.state.dispose(),t.leaveCallHooks.forEach((e=>e())),t.initialized=!1,t.hasJoinedOnce=!1,t.unifiedSessionId=void 0,t.ringingSubject.next(!1),t.cancelAutoDrop(),t.clientStore.unregisterCall(t),t.camera.dispose(),t.microphone.dispose(),t.screenShare.dispose(),t.speaker.dispose();const o=[];t.camera.stopOnLeave&&o.push(t.camera.disable(!0)),t.microphone.stopOnLeave&&o.push(t.microphone.disable(!0)),t.screenShare.stopOnLeave&&o.push(t.screenShare.disable(!0)),await Promise.all(o)}))},this.updateFromRingingEvent=async e=>{await this.setup();const{created_by:t,settings:n}=e.call,r=this.state.members.find((e=>e.user.id===t.id));r?this.state.setMembers([r,...e.members]):this.state.setMembers(e.members),this.state.updateFromCallResponse(e.call),this.watching=!0,this.ringingSubject.next(!0);const i=this.clientStore.calls.filter((e=>e.cid!==this.cid));this.clientStore.setCalls([this,...i]),await this.applyDeviceConfig(n,!1)},this.get=async e=>{await this.setup();const t=await this.streamClient.get(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(t.call.settings,!1),t},this.getOrCreate=async e=>{await this.setup();const t=await this.streamClient.post(this.streamClientBasePath,e);return this.state.updateFromCallResponse(t.call),this.state.setMembers(t.members),this.state.setOwnCapabilities(t.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(t.call.settings,!1),t},this.create=async e=>this.getOrCreate(e),this.delete=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post(`${t.streamClientBasePath}/delete`,e)},this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decline";return t.streamClient.post(`${t.streamClientBasePath}/reject`,{reason:e})},this.join=async function(){let{maxJoinRetries:e=3,...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await t.setup();const r=t.state.callingState;if([SQ.JOINED,SQ.JOINING].includes(r))throw new Error("Illegal State: call.join() shall be called only once");t.state.setCallingState(SQ.JOINING),e=Math.max(e,1);for(let i=0;i<e;i++){try{return t.logger("trace",`Joining call (${i})`,t.cid),await t.doJoin(n)}catch(dY){if(t.logger("warn",`Failed to join call (${i})`,t.cid),i===e-1)throw t.state.setCallingState(r),dY}await jR($R(i))}},this.doJoin=async e=>{const t=Date.now(),n=this.state.callingState;this.joinCallData=e,this.logger("debug","Starting join flow"),this.state.setCallingState(SQ.JOINING);const r=this.reconnectStrategy===s_.MIGRATE,i=this.reconnectStrategy===s_.REJOIN,o=this.reconnectStrategy===s_.FAST;let s=this.sfuStatsReporter?.options;if(!this.credentials||!s||i||r)try{const t=await this.doJoinRequest(e);this.credentials=t.credentials,s=t.stats_options}catch(d){throw this.state.callingState===SQ.OFFLINE||this.state.setCallingState(n),d}const a=this.sfuClient,A=a?.sessionId,c=!!a?.isHealthy,l=i||r||!c?new qP({logTag:String(++this.sfuClientTag),dispatcher:this.dispatcher,credentials:this.credentials,streamClient:this.streamClient,enableTracing:s.enable_rtc_stats,sessionId:i?void 0:A,onSignalClose:e=>this.handleSfuSignalClose(l,e)}):a;this.sfuClient=l,this.dynascaleManager.setSfuClient(l);const u=await pP();if(a!==l){const[t,r]=await Promise.all([aQ("recvonly"),aQ("sendonly")]),i=this.reconnectStrategy!==s_.UNSPECIFIED,s=i?this.getReconnectDetails(e?.migrating_from,A):void 0,a=i?this.currentPublishOptions||[]:this.getPreferredPublishOptions(),c=i?[]:this.getPreferredSubscribeOptions();try{const{callState:e,fastReconnectDeadlineSeconds:n,publishOptions:i}=await l.join({subscriberSdp:t,publisherSdp:r,clientDetails:u,fastReconnect:o,reconnectDetails:s,preferredPublishOptions:a,preferredSubscribeOptions:c});this.currentPublishOptions=i,this.fastReconnectDeadlineSeconds=n,e&&this.state.updateFromSfuCallState(e,l.sessionId,s)}catch(d){throw this.logger("warn","Join SFU request failed",d),l.close(qP.ERROR_CONNECTION_UNHEALTHY,"Join request failed, connection considered unhealthy"),this.state.setCallingState(n),d}}if(r||this.state.setCallingState(SQ.JOINED),this.hasJoinedOnce=!0,o)await this.restoreICE(l,{includeSubscriber:!1});else{const e=(e=>({bundlePolicy:"max-bundle",iceServers:e.map((e=>({urls:e.urls,username:e.username,credential:e.password})))}))(this.credentials.ice_servers);this.initPublisherAndSubscriber({sfuClient:l,connectionConfig:e,clientDetails:u,statsOptions:s,publishOptions:this.currentPublishOptions||[],closePreviousInstances:!r})}if(i||o||r||this.sfuStatsReporter?.sendConnectionTime((Date.now()-t)/1e3),i&&c){const e=s_[this.reconnectStrategy];await(a?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${e}`))}else c||a?.close(qP.DISPOSE_OLD_SOCKET,"Closing unhealthy WS after reconnect");!this.deviceSettingsAppliedOnce&&this.state.settings&&(await this.applyDeviceConfig(this.state.settings,!0),this.deviceSettingsAppliedOnce=!0),delete this.joinCallData?.ring,delete this.joinCallData?.notify,this.reconnectStrategy=s_.UNSPECIFIED,this.reconnectReason="",this.logger("info",`Joined call ${this.cid}`)},this.getReconnectDetails=(e,t)=>{const n=this.reconnectStrategy,r=n===s_.REJOIN;return{strategy:n,announcedTracks:this.publisher?.getAnnouncedTracksForReconnect()||[],subscriptions:this.dynascaleManager.trackSubscriptions,reconnectAttempt:this.reconnectAttempts,fromSfuId:e||"",previousSessionId:r&&t||"",reason:this.reconnectReason}},this.getPreferredPublishOptions=()=>{const{preferredCodec:e,fmtpLine:t,preferredBitrate:n,maxSimulcastLayers:r}=this.clientPublishOptions||{};if(!e&&!n&&!r)return[];const i=e?v_.create({name:e.split("/").pop(),fmtp:t}):void 0,o=[m_.create({trackType:e_.VIDEO,codec:i,bitrate:n,maxSpatialLayers:r})],s=this.screenShare.getSettings();return s&&o.push(m_.create({trackType:e_.SCREEN_SHARE,fps:s.maxFramerate,bitrate:s.maxBitrate})),o},this.getPreferredSubscribeOptions=()=>{const{subscriberCodec:e,subscriberFmtpLine:t}=this.clientPublishOptions||{};return e&&t?[g_.create({trackType:e_.VIDEO,codecs:[{name:e.split("/").pop(),fmtp:t}]})]:[]},this.restoreICE=async function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeSubscriber:r=!0,includePublisher:i=!0}=n;t.subscriber&&(t.subscriber.setSfuClient(e),r&&await t.subscriber.restartIce()),t.publisher&&(t.publisher.setSfuClient(e),i&&await t.publisher.restartIce())},this.initPublisherAndSubscriber=e=>{const{sfuClient:t,connectionConfig:n,clientDetails:r,statsOptions:i,publishOptions:o,closePreviousInstances:s}=e,{enable_rtc_stats:a}=i;s&&this.subscriber&&this.subscriber.dispose(),this.subscriber=new OP({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,logTag:String(this.sfuClientTag),enableTracing:a,onUnrecoverableError:e=>{this.reconnect(s_.REJOIN,e).catch((t=>{this.logger("warn",`[Reconnect] Error reconnecting after a subscriber error: ${e}`,t)}))}});"anonymous"===this.streamClient.user?.type||(s&&this.publisher&&this.publisher.dispose(),this.publisher=new PP({sfuClient:t,dispatcher:this.dispatcher,state:this.state,connectionConfig:n,publishOptions:o,logTag:String(this.sfuClientTag),enableTracing:a,onUnrecoverableError:e=>{this.reconnect(s_.REJOIN,e).catch((t=>{this.logger("warn",`[Reconnect] Error reconnecting after a publisher error: ${e}`,t)}))}})),this.statsReporter?.stop(),this.statsReporter=(e=>{let{subscriber:t,publisher:n,state:r,datacenter:i,pollingIntervalInMs:o=2e3}=e;const s=oQ(["stats"]),a=async(e,r)=>"subscriber"===e&&t?t.getStats(r):"publisher"===e&&n?n.getStats(r):void 0,A=async(e,r)=>{const i="subscriber"===e?t:n;if(!i)return[];const o=[];for(const t of r){const n=await i.getStats(t),r=rP(n,{trackKind:t.kind,kind:e,publisher:void 0});o.push(r)}return o},c=new Set,l=async()=>{const e={};if(c.size>0){const t=new Set(c);for(const i of r.participants){if(!t.has(i.sessionId))continue;const{audioStream:r,isLocalParticipant:o,sessionId:a,userId:c,videoStream:l}=i,u=o?"publisher":"subscriber";try{const t=o?n?.getPublishedTracks()||[]:[...l?.getVideoTracks()||[],...r?.getAudioTracks()||[]];e[a]=await A(u,t)}catch(hY){s("warn",`Failed to collect ${u} stats for ${c}`,hY)}}}const[t,o]=await Promise.all([a("subscriber"),n?a("publisher"):void 0]),l=(e,t)=>oP(rP(e,{kind:t,trackKind:"video",publisher:n})),u=t?l(t,"subscriber"):iP(),d=o?l(o,"publisher"):iP();r.setCallStatsReport({datacenter:i,publisherStats:d,subscriberStats:u,subscriberRawStats:t,publisherRawStats:o,participants:e,timestamp:Date.now()})};let u;if(o>0){const e=async()=>{await l().catch((e=>{s("debug","Failed to collect stats",e)})),u=setTimeout(e,o)};e()}return{getRawStatsForTrack:a,getStatsForStream:A,startReportingStatsFor:e=>{c.add(e),l()},stopReportingStatsFor:e=>{c.delete(e),l()},stop:()=>{u&&clearTimeout(u)}}})({subscriber:this.subscriber,publisher:this.publisher,state:this.state,datacenter:t.edgeName}),this.tracer.setEnabled(a),this.sfuStatsReporter?.stop(),i?.reporting_interval_ms>0&&(this.unifiedSessionId??(this.unifiedSessionId=t.sessionId),this.sfuStatsReporter=new gP(t,{clientDetails:r,options:i,subscriber:this.subscriber,publisher:this.publisher,microphone:this.microphone,camera:this.camera,state:this.state,tracer:this.tracer,unifiedSessionId:this.unifiedSessionId}),this.sfuStatsReporter.start())},this.doJoinRequest=async e=>{const t=await this.streamClient.getLocationHint(),n={...e,location:t},r=await this.streamClient.post(`${this.streamClientBasePath}/join`,n);this.state.updateFromCallResponse(r.call),this.state.setMembers(r.members),this.state.setOwnCapabilities(r.own_capabilities),e?.ring&&this.ringingSubject.next(!0);return this.reconnectStrategy!==s_.UNSPECIFIED||!this.ringing||this.isCreatedByMe||await this.accept(),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),r},this.handleSfuSignalClose=(e,t)=>{this.logger("debug","[Reconnect] SFU signal connection closed");const{callingState:n}=this.state;n!==SQ.JOINING&&n!==SQ.RECONNECTING&&n!==SQ.IDLE&&n!==SQ.LEFT&&(e.isLeaving||e.isClosing||this.reconnect(s_.REJOIN,t).catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))},this.reconnect=async(e,t)=>{if(this.state.callingState!==SQ.RECONNECTING&&this.state.callingState!==SQ.MIGRATING&&this.state.callingState!==SQ.RECONNECTING_FAILED)return fQ(this.reconnectConcurrencyTag,(async()=>{const n=Date.now();this.reconnectStrategy=e,this.reconnectReason=t;do{if(this.disconnectionTimeoutSeconds>0&&(Date.now()-n)/1e3>this.disconnectionTimeoutSeconds)return this.logger("warn","[Reconnect] Stopping reconnection attempts after reaching disconnection timeout"),void this.state.setCallingState(SQ.RECONNECTING_FAILED);this.reconnectStrategy!==s_.FAST&&this.reconnectAttempts++;const e=s_[this.reconnectStrategy];try{switch(await(this.networkAvailableTask?.promise),this.logger("info",`[Reconnect] Reconnecting with strategy ${s_[this.reconnectStrategy]}`),this.reconnectStrategy){case s_.UNSPECIFIED:case s_.DISCONNECT:this.logger("debug",`[Reconnect] No-op strategy ${e}`);break;case s_.FAST:await this.reconnectFast();break;case s_.REJOIN:await this.reconnectRejoin();break;case s_.MIGRATE:await this.reconnectMigrate();break;default:kP(this.reconnectStrategy,"Unknown reconnection strategy")}break}catch(r){if(this.state.callingState===SQ.OFFLINE){this.logger("trace","[Reconnect] Can't reconnect while offline, stopping reconnection attempts");break}if(r instanceof qF&&r.unrecoverable)return this.logger("warn","[Reconnect] Can't reconnect due to coordinator unrecoverable error",r),void this.state.setCallingState(SQ.RECONNECTING_FAILED);this.logger("warn",`[Reconnect] ${e} (${this.reconnectAttempts}) failed. Attempting with REJOIN`,r),await jR(500),this.reconnectStrategy=s_.REJOIN}}while(this.state.callingState!==SQ.JOINED&&this.state.callingState!==SQ.RECONNECTING_FAILED&&this.state.callingState!==SQ.LEFT);this.logger("info","[Reconnect] Reconnection flow finished")}))},this.reconnectFast=async()=>{const e=Date.now();this.reconnectStrategy=s_.FAST,this.state.setCallingState(SQ.RECONNECTING),await this.doJoin(this.joinCallData),this.sfuStatsReporter?.sendReconnectionTime(s_.FAST,(Date.now()-e)/1e3)},this.reconnectRejoin=async()=>{const e=Date.now();this.reconnectStrategy=s_.REJOIN,this.state.setCallingState(SQ.RECONNECTING),await this.doJoin(this.joinCallData),await this.restorePublishedTracks(),this.restoreSubscribedTracks(),this.sfuStatsReporter?.sendReconnectionTime(s_.REJOIN,(Date.now()-e)/1e3)},this.reconnectMigrate=async()=>{const e=Date.now(),t=this.sfuClient;if(!t)throw new Error("Cannot migrate without an active SFU client");this.reconnectStrategy=s_.MIGRATE,this.state.setCallingState(SQ.MIGRATING);const n=this.subscriber,r=this.publisher;n?.detachEventHandlers(),r?.detachEventHandlers();const i=NP(t.enterMigration());try{const e=t.edgeName;await this.doJoin({...this.joinCallData,migrating_from:e})}finally{delete this.joinCallData?.migrating_from}await this.restorePublishedTracks(),this.restoreSubscribedTracks();try{await i(),this.state.setCallingState(SQ.JOINED)}finally{n?.dispose(),r?.dispose(),t.close(qP.NORMAL_CLOSURE,"Migrating away")}this.sfuStatsReporter?.sendReconnectionTime(s_.MIGRATE,(Date.now()-e)/1e3)},this.registerReconnectHandlers=()=>{const e=this.on("goAway",(()=>{this.reconnect(s_.MIGRATE,"goAway").catch((e=>this.logger("warn","[Reconnect] Error reconnecting",e)))})),t=this.on("error",(e=>{const{reconnectStrategy:t,error:n}=e;t!==s_.UNSPECIFIED&&(t===s_.DISCONNECT?this.leave({message:"SFU instructed to disconnect"}).catch((e=>{this.logger("warn","Can't leave call after disconnect request",e)})):this.reconnect(t,n?.message||"SFU Error").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))})),n=this.streamClient.on("network.changed",(e=>{if(this.tracer.trace("network.changed",e),e.online)this.logger("debug","[Reconnect] Going online"),this.sfuClient?.close(qP.DISPOSE_OLD_SOCKET,"Closing WS to reconnect after going online"),this.networkAvailableTask?.resolve(),this.networkAvailableTask=void 0,this.sfuStatsReporter?.start();else{if(this.logger("debug","[Reconnect] Going offline"),!this.hasJoinedOnce)return;this.lastOfflineTimestamp=Date.now();const e=DP();e.promise.then((()=>{let e=s_.FAST;if(this.lastOfflineTimestamp){(Date.now()-this.lastOfflineTimestamp)/1e3>this.fastReconnectDeadlineSeconds&&(e=s_.REJOIN)}this.reconnect(e,"Going online").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting after going online",e)}))})),this.networkAvailableTask=e,this.sfuStatsReporter?.stop(),this.state.setCallingState(SQ.OFFLINE)}}));this.leaveCallHooks.add(e).add(t).add(n)},this.restorePublishedTracks=async()=>{for(const e of this.trackPublishOrder){let t;switch(e){case e_.AUDIO:t=this.microphone.state.mediaStream;break;case e_.VIDEO:t=this.camera.state.mediaStream;break;case e_.SCREEN_SHARE:t=this.screenShare.state.mediaStream;break;case e_.SCREEN_SHARE_AUDIO:case e_.UNSPECIFIED:break;default:kP(e,"Unknown track type")}t&&await this.publish(t,e)}},this.restoreSubscribedTracks=()=>{const{remoteParticipants:e}=this.state;e.length<=0||this.dynascaleManager.applyTrackSubscriptions(void 0)},this.publishVideoStream=async e=>{await this.publish(e,e_.VIDEO)},this.publishAudioStream=async e=>{await this.publish(e,e_.AUDIO)},this.publishScreenShareStream=async e=>{await this.publish(e,e_.SCREEN_SHARE)},this.publish=async(e,t)=>{if(!this.sfuClient)throw new Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.canPublish(t))throw new Error(`No permission to publish ${e_[t]}`);if(!this.publisher)throw new Error("Publisher is not initialized");const[n]=TP(t)?e.getAudioTracks():e.getVideoTracks();if(!n)throw new Error(`There is no ${e_[t]} track in the stream`);if("ended"===n.readyState)throw new Error("Can't publish ended tracks.");rO(this.trackPublishOrder,t),await this.publisher.publish(n,t);const r=[t];if(t===e_.SCREEN_SHARE){const[t]=e.getAudioTracks();t&&(rO(this.trackPublishOrder,e_.SCREEN_SHARE_AUDIO),await this.publisher.publish(t,e_.SCREEN_SHARE_AUDIO),r.push(e_.SCREEN_SHARE_AUDIO))}"video"===n.kind&&this.sfuStatsReporter?.scheduleOne(3e3),await this.updateLocalStreamState(e,...r)},this.stopPublish=async function(){if(t.sfuClient&&t.publisher){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.publisher.stopTracks(...n),await t.updateLocalStreamState(void 0,...n)}},this.updateLocalStreamState=async function(e){if(!t.sfuClient||!t.sfuClient.sessionId)return;for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];await t.notifyTrackMuteState(!e,...r);const{sessionId:o}=t.sfuClient;for(const s of r){const n=xP(s);n&&t.state.updateParticipant(o,(t=>({publishedTracks:e?rO([...t.publishedTracks],s):t.publishedTracks.filter((e=>e!==s)),[n]:e})))}},this.updatePublishOptions=e=>{this.logger("warn","[call.updatePublishOptions]: You are manually overriding the publish options for this call. This is not recommended, and it can cause call stability/compatibility issues. Use with caution."),this.state.callingState===SQ.JOINED&&this.logger("warn","Updating publish options after joining the call does not have an effect"),this.clientPublishOptions={...this.clientPublishOptions,...e}},this.notifyNoiseCancellationStarting=async()=>this.sfuClient?.startNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify start of noise cancellation",e)})),this.notifyNoiseCancellationStopped=async()=>this.sfuClient?.stopNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify stop of noise cancellation",e)})),this.notifyTrackMuteState=async function(e){if(t.sfuClient){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];await t.sfuClient.updateMuteStates(r.map((t=>({trackType:t,muted:e}))))}},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{const t=this.currentUserId;if(t)return this.muteUser(t,e)},this.muteOthers=e=>{const t=(e=>{switch(e){case"audio":return e_.AUDIO;case"video":return e_.VIDEO;case"screenshare":return e_.SCREEN_SHARE;case"screenshare_audio":return e_.SCREEN_SHARE_AUDIO;default:kP(e,"Unknown mute type")}})(e);if(!t)return;const n=[];for(const r of this.state.remoteParticipants)r.publishedTracks.includes(t)&&n.push(r.userId);return n.length>0?this.muteUser(n,e):void 0},this.muteUser=(e,t)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[t]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.startClosedCaptions=async e=>{const t=this.state.setCaptioning(!0);try{return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`,e)}catch(dY){throw t.rollback(),dY}},this.stopClosedCaptions=async e=>{const t=this.state.setCaptioning(!1);try{return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`,e)}catch(dY){throw t.rollback(),dY}},this.updateClosedCaptionSettings=e=>{this.state.updateClosedCaptionSettings(e)},this.requestPermissions=async e=>{const{permissions:t}=e;if(!t.every((e=>this.permissionsContext.canRequest(e))))throw new Error(`You are not allowed to request permissions: ${t.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,t)=>this.updateUserPermissions({user_id:e,grant_permissions:t}),this.revokePermissions=async(e,t)=>this.updateUserPermissions({user_id:e,revoke_permissions:t}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return t.streamClient.post(`${t.streamClientBasePath}/go_live`,e,n)},this.stopLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post(`${t.streamClientBasePath}/stop_live`,e)},this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.startRTMPBroadcasts=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts`,e),this.stopAllRTMPBroadcasts=async()=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/stop`),this.stopRTMPBroadcast=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/${e}/stop`),this.startFrameRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_frame_recording`,e),this.stopFrameRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_frame_recording`),this.update=async e=>{const t=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:n,members:r,own_capabilities:i}=t;return this.state.updateFromCallResponse(n),this.state.setMembers(r),this.state.setOwnCapabilities(i),t},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{this.cancelAutoDrop();const e=this.state.settings;if(!e)return;if(this.state.callingState!==SQ.RINGING)return;const t=this.isCreatedByMe?e.ring.auto_cancel_timeout_ms:e.ring.incoming_call_timeout_ms;t<=0||(this.dropTimeout=setTimeout((()=>{this.state.callingState===SQ.RINGING&&this.leave({reject:!0,reason:"timeout",message:"ringing timeout - "+(this.isCreatedByMe?"no one accepted":"user didn't interact with incoming call screen")}).catch((e=>{this.logger("error","Failed to drop call",e)}))}),t))},this.cancelAutoDrop=()=>{clearTimeout(this.dropTimeout),this.dropTimeout=void 0},this.queryRecordings=async e=>{let t=this.streamClientBasePath;return e&&(t=`${t}/${e}`),this.streamClient.get(`${t}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{const t=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(t)},this.getCallReport=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const n=`${t.streamClientBasePath}/report`,r=""!==e?{session_id:e}:{};return t.streamClient.get(n,r)},this.submitFeedback=async function(e){let{reason:n,custom:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sdkName:i,sdkVersion:o,...s}=(e=>{const{sdk:t,...n}=e;return{sdkName:XQ(t),sdkVersion:ZQ(t),...n}})(await pP());return t.streamClient.post(`${t.streamClientBasePath}/feedback`,{rating:e,reason:n,user_session_id:t.sfuClient?.sessionId,sdk:i,sdk_version:o,custom:{...r,"x-stream-platform-data":s}})},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=async(e,t)=>{await this.camera.apply(e.video,t).catch((e=>{this.logger("warn","Camera init failed",e)})),await this.microphone.apply(e.audio,t).catch((e=>{this.logger("warn","Mic init failed",e)}))},this.trackElementVisibility=(e,t,n)=>this.dynascaleManager.trackElementVisibility(e,t,n),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,t,n)=>{const r=this.dynascaleManager.bindVideoElement(e,t,n);if(r)return this.leaveCallHooks.add(r),()=>{this.leaveCallHooks.delete(r),r()}},this.bindAudioElement=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audioTrack";const i=t.dynascaleManager.bindAudioElement(e,n,r);if(i)return t.leaveCallHooks.add(i),()=>{t.leaveCallHooks.delete(i),i()}},this.bindCallThumbnailElement=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=()=>{e.src=n.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},i=CQ(t.state.thumbnails$,(t=>{if(!t)return;e.addEventListener("error",r);const n=new URL(t.image_url);n.searchParams.set("w",String(e.clientWidth)),n.searchParams.set("h",String(e.clientHeight)),e.src=n.toString()}));return()=>{i(),e.removeEventListener("error",r)}},this.setPreferredIncomingVideoResolution=(e,t)=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?{enabled:!0,dimension:e}:void 0,t),this.dynascaleManager.applyTrackSubscriptions()},this.setIncomingVideoEnabled=e=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?void 0:{enabled:!1}),this.dynascaleManager.applyTrackSubscriptions()},this.setDisconnectionTimeout=e=>{this.disconnectionTimeoutSeconds=e},this.type=n,this.id=r,this.cid=`${n}:${r}`,this.ringingSubject=new rF(c),this.watching=l,this.streamClient=i,this.clientStore=A,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=oQ(["Call"]);const u=yO.get(n),d=a||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(o||[]),this.state.setOwnCapabilities(s||[]),this.state.setCallingState(c?SQ.RINGING:SQ.IDLE),this.camera=new jO(this),this.microphone=new zO(this),this.speaker=new XO(this),this.screenShare=new JO(this),this.dynascaleManager=new gO(this.state,this.speaker)}get ringing(){return yQ(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}}class eN{constructor(e){var t=this;this._log=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";t.client.logger(r,`connection:${e}`,n)},this.setClient=e=>{this.client=e},this._buildUrl=()=>{const e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"===e.type&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;const t=this.client.user;if(!t)return void this.client.logger("error","User not set, can't connect to WS");const n=this.client._getToken();if(!n)return void this.client.logger("error","Token not set, can't connect authenticate");const r=JSON.stringify({token:n,user_details:{id:t.id,name:t.name,image:t.image,custom:t.custom}});this._log(`onopen() - Sending auth message ${r}`,{},"trace"),this.ws?.send(r),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,t)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:t,wsID:e});const n="string"===typeof t.data?JSON.parse(t.data):null;if(!this.isConnectionOpenResolved&&n&&"connection.error"===n.type&&(this.isConnectionOpenResolved=!0,n.error))this.rejectConnectionOpen?.(this._errorFromWSEvent(n,!1));else{if(this.lastEvent=new Date,!n||"health.check"!==n.type&&"connection.ok"!==n.type||this.scheduleNextPing(),n&&"connection.ok"===n.type&&(this.resolveConnectionOpen?.(n),this._setHealth(!0)),n&&"connection.error"===n.type&&n.error){const{code:e}=n.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==VR||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}n&&(n.received_at=new Date,this.client.dispatchEvent(n)),this.scheduleConnectionCheck()}},this.onclose=(e,t)=>{if(this.wsID===e)if(this._log("onclose() - onclose callback - "+t.code,{event:t,wsID:e}),t.code===qR){const e=new Error(`WS connection reject with error ${t.reason}`);e.reason=t.reason,e.code=t.code,e.wasClean=t.wasClean,e.target=t.target,this.rejectConnectionOpen?.(e),this._log(`onclose() - WS connection reject with error ${t.reason}`,{event:t})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(this._errorFromWSEvent(t)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:t}),this._reconnect()},this.onerror=(e,t)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(new Error(`WebSocket error: ${t}`)),this._log("onerror() - WS connection resulted into error",{event:t}),this._reconnect())},this._setHealth=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==t.isHealthy&&(t.isHealthy=e,t.isHealthy||n?t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy}):setTimeout((()=>{t.isHealthy||t.client.dispatchEvent({type:"connection.changed",online:t.isHealthy})}),5e3))},this._errorFromWSEvent=function(e){let n,r,i,o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(function(e){return void 0!==e.code}(e))n=e.code,i=e.reason,r=0;else{const{error:t}=e;n=t.code,i=t.message,r=t.StatusCode}const s=`WS failed with code: ${n} and reason: ${i}`;t._log(s,{event:e},"warn");const a=new Error(s);return a.code=n,a.StatusCode=r,a.isWSFailure=o,a},this._setupConnectionPromise=()=>{this.isConnectionOpenResolved=!1,this.connectionOpenSafe=NP(new Promise(((e,t)=>{this.resolveConnectionOpen=e,this.rejectConnectionOpen=t})))},this.scheduleNextPing=()=>{const e=VP();this.healthCheckTimeoutRef&&e.clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=e.setTimeout((()=>{const e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch{}}),this.pingInterval)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout((()=>{const e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())}),this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isConnectionOpenResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,JR(this.onlineStatusChanged)}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(t){if(this.isHealthy=!1,this.consecutiveFailures+=1,t.code!==VR||this.client.tokenManager.isStatic()){if(!t.isWSFailure)throw new Error(JSON.stringify({code:t.code,StatusCode:t.StatusCode,message:t.message,isWSFailure:t.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return Promise.race([(async()=>{for(let n=0;n<=e;n+=50)try{return await this.connectionOpen}catch(t){if(n===e)throw new Error(JSON.stringify({code:t.code,StatusCode:t.StatusCode,message:t.message,isWSFailure:t.isWSFailure}));await jR(50)}})(),(async()=>{throw await jR(e),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let t;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&VP().clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),YR(this.onlineStatusChanged),this.isHealthy=!1;const{ws:n}=this;return n&&n.close&&n.readyState===n.OPEN?(t=new Promise((t=>{const r=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),t()};n.onclose=r,setTimeout(r,null!=e?e:1e3)})),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),n.close(qR,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),t=Promise.resolve()),delete this.ws,t}async _connect(){if(this.isConnecting)return;this.isConnecting=!0;let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch{}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this.client.isConnectionIsPromisePending||this.client._setupConnectionIdPromise(),this._setupConnectionPromise();const t=this._buildUrl();this._log(`_connect() - Connecting to ${t}`);const n=this.client.options.WebSocketImpl??WebSocket;this.ws=new n(t),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const r=await this.connectionOpen;if(this.isConnecting=!1,r)return this.connectionID=r.connection_id,this.client.resolveConnectionId?.(this.connectionID),r}catch(dY){throw this.client._setupConnectionIdPromise(),this.isConnecting=!1,this._log("_connect() - Error - ",dY),this.client.rejectConnectionId?.(dY),dY}}async _reconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy)return void this._log("_reconnect() - Abort (1) since already connecting or healthy");let t=e.interval;if(t||(t=$R(this.consecutiveFailures)),await jR(t),this.isConnecting||this.isHealthy)this._log("_reconnect() - Abort (2) since already connecting or healthy");else if(this.isDisconnected)this._log("_reconnect() - Abort (3) since disconnect() is called");else{this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(n){if(this.isHealthy=!1,this.consecutiveFailures+=1,n.code===VR&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});n.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.close()}catch{}}get connectionOpen(){return this.connectionOpenSafe?.()}}const tN=e=>{const t={},n=String.fromCharCode,r=e.length;let i,o,s,a,A=0,c=0,l="";for(i=0;i<64;i++)t["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i)]=i;for(s=0;s<r;s++)for(o=t[e.charAt(s)],A=(A<<6)+o,c+=6;c>=8;)((a=A>>>(c-=8)&255)||s<r-2)&&(l+=n(a));return l};class nN{constructor(e){this.loadTokenPromise=null,this.type="static",this.setTokenOrProvider=async(e,t,n)=>{this.user=t,this.isAnonymous=n,this.validateToken(e),KR(e)&&(this.tokenProvider=e,this.type="provider"),"string"===typeof e&&(this.token=e,this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=e=>{if(!this.user||!this.isAnonymous||e){if(!this.secret&&!e)throw new Error("User token can not be empty");if("string"!==typeof e&&!KR(e))throw new Error("User token should either be a string or a function");if("string"===typeof e){if(this.isAnonymous&&""===e)return;const t=function(e){const t=e.split(".");if(3!==t.length)return"";const n=t[1],r=tN(n);return JSON.parse(r).user_id}(e);if(null!=e&&(null==t||""===t||!this.isAnonymous&&t!==this.user.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise((async(e,t)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!==typeof this.tokenProvider){try{const e=await this.tokenProvider();this.validateToken(e),this.token=e}catch(hY){return t(new Error(`Call to tokenProvider failed with message: ${hY}`))}e(this.token)}})),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&!this.token)return this.token;throw new Error("User token is not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.secret=e}}const rN=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://hint.stream-io-video.com/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const r=oQ(["location-hint"]);let i=0,o="ERR";do{const n=new AbortController,i=setTimeout((()=>n.abort()),t);try{const t=(await fetch(e,{method:"HEAD",signal:n.signal})).headers.get("x-amz-cf-pop")||"ERR";r("debug",`Location header: ${t}`),o=t.substring(0,3)}catch(hY){r("warn",`Failed to get location hint from ${e}`,hY),o="ERR"}finally{clearTimeout(i)}}while("ERR"===o&&++i<n);return o};class iN{constructor(e,t){var n=this;this.listeners={},this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,t)=>{const n=await this.locationHint;return n&&"ERR"!==n?n:(this.locationHint=rN(e??this.options.locationHintUrl,t??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID,this._hasConnectionID=()=>Boolean(this._getConnectionID()),this.connectUser=async(e,t)=>{if(!e.id)throw new Error('The "id" field on the user is missing');if(this.userID===e.id&&this.connectUserTask)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.connectUserTask;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");!this.secret&&!this.node||this.options.allowServerSideConnect||this.logger("warn","Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/"),this.userID=e.id,this.anonymous=!1,await this.tokenManager.setTokenOrProvider(t,e,!1),this._setUser(e),this.connectUserTask=this.openConnection();try{return JR(this.updateNetworkConnectionStatus),await this.connectUserTask}catch(dY){throw this.persistUserOnConnectionFailure?await this.closeConnection():await this.disconnectUser(),dY}},this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>{await(this.wsConnection?.disconnect(e))},this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");const e=this.wsPromiseSafe?.();if(this.wsConnection?.isConnecting&&e)return this.logger("info","client:openConnection() - connection already in progress"),await e;if(this.wsConnection?.isHealthy&&this._hasConnectionID())return void this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists");this._setupConnectionIdPromise(),this.clientID=`${this.userID}--${zR()}`;const t=this.connect();return this.wsPromiseSafe=NP(t),await t},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),YR(this.updateNetworkConnectionStatus),this.tokenManager.reset(),this.connectionIdPromiseSafe=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:e},{publicEndpoint:!0});const t=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally((()=>this.guestUserCreatePromise=void 0)),this.connectUser(t.user,t.access_token)},this.connectAnonymousUser=async(e,t)=>{JR(this.updateNetworkConnectionStatus),this._setupConnectionIdPromise(),this.anonymous=!0,await this.tokenManager.setTokenOrProvider(t,e,!0),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,t)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(t),()=>{this.off(e,t)}),this.off=(e,t)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter((e=>e!==t))},this._setupConnectionIdPromise=()=>{this.connectionIdPromiseSafe=NP(new Promise(((e,t)=>{this.resolveConnectionId=e,this.rejectConnectionId=t})))},this._logApiRequest=(e,t,n,r)=>{"trace"===iQ()&&this.logger("trace",`client: ${e} - Request - ${t}`,{payload:n,config:r})},this._logApiResponse=(e,t,n)=>{"trace"===iQ()&&this.logger("trace",`client:${e} - Response - url: ${t} > status ${n.status}`,{response:n})},this._logApiError=(e,t,n)=>{this.logger("error",`client:${e} - Error - url: ${t}`,{url:t,error:n})},this.doAxiosRequest=async function(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!i.publicEndpoint){await Promise.all([n.tokenManager.tokenReady(),n.guestUserCreatePromise]);try{await n.connectionIdPromise}catch{await(n.wsConnection?._waitForHealthy()),await n.connectionIdPromise}}const o=n._enrichAxiosOptions(i);try{let i;switch(n._logApiRequest(e,t,r,o),e){case"get":i=await n.axiosInstance.get(t,o);break;case"delete":i=await n.axiosInstance.delete(t,o);break;case"post":i=await n.axiosInstance.post(t,r,o);break;case"put":i=await n.axiosInstance.put(t,r,o);break;case"patch":i=await n.axiosInstance.patch(t,r,o);break;case"options":i=await n.axiosInstance.options(t,o);break;default:throw new Error("Invalid request type")}return n._logApiResponse(e,t,i),n.consecutiveFailures=0,n.handleResponse(i)}catch(hY){if(hY.client_request_id=o.headers?.["x-client-request-id"],n.consecutiveFailures+=1,hY.response)return n._logApiError(e,t,hY.response),hY.response.data.code!==VR||n.tokenManager.isStatic()?n.handleResponse(hY.response):(n.consecutiveFailures>1&&await jR($R(n.consecutiveFailures)),await n.tokenManager.loadToken(),await n.doAxiosRequest(e,t,r,i));throw n._logApiError(e,t,hY),hY}},this.get=(e,t)=>this.doAxiosRequest("get",e,null,{params:t}),this.put=(e,t,n)=>this.doAxiosRequest("put",e,t,{params:n}),this.post=(e,t,n)=>this.doAxiosRequest("post",e,t,{params:n}),this.patch=(e,t,n)=>this.doAxiosRequest("patch",e,t,{params:n}),this.delete=(e,t)=>this.doAxiosRequest("delete",e,null,{params:t}),this.errorFromResponse=e=>{const{data:t,status:n}=e;return new qF({message:`Stream error code ${t.code}: ${t.message}`,code:t.code??null,unrecoverable:t.unrecoverable??null,response:e,status:n})},this.handleResponse=e=>{const t=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return t},this.dispatchEvent=e=>{if(this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(const t of this.listeners.all||[])t(e);for(const t of this.listeners[e.type]||[])t(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");return this.wsConnection=new eN(this),this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.defaultWSTimeout)},this.getUserAgent=()=>{if(!this.cachedUserAgent){const{clientAppIdentifier:e={}}=this.options,{sdkName:t="js",sdkVersion:n="1.23.1",...r}=e;this.cachedUserAgent=[`stream-video-${t}-v${n}`,...Object.entries(r).map((e=>{let[t,n]=e;return`${t}=${n}`})),"client_bundle=browser-esm"].join("|")}return this.cachedUserAgent},this._enrichAxiosOptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}};const t=e.publicEndpoint&&!n.user?void 0:n._getToken(),r=t?{Authorization:t}:void 0;return e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":zR()}),{params:{user_id:n.userID,connection_id:n._getConnectionID(),api_key:n.key,...e.params},headers:{...r,"stream-auth-type":e.publicEndpoint&&!n.user?"anonymous":n.getAuthType(),"X-Stream-Client":n.getUserAgent(),...e.headers},...e.config,...n.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this.updateNetworkConnectionStatus=e=>{"offline"===e.type?(this.logger("debug","device went offline"),this.dispatchEvent({type:"network.changed",online:!1})):"online"===e.type&&(this.logger("debug","device went online"),this.dispatchEvent({type:"network.changed",online:!0}))},this.key=e,this.secret=t?.secret;const r=t||{browser:"undefined"!==typeof window};this.browser=r.browser||"undefined"!==typeof window,this.node=!this.browser,this.browser&&(this.locationHint=rN(t?.locationHintUrl,t?.locationHintTimeout,t?.locationHintMaxAttempts)),this.options={timeout:5e3,withCredentials:!1,...r},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new null.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),this.axiosInstance=OI.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromiseSafe=null,this.connectUserTask=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new nN(this.secret),this.consecutiveFailures=0,this.defaultWSTimeout=this.options.defaultWsTimeout??15e3,this.logger=KR(r.logger)?r.logger:()=>null}get connectionIdPromise(){return this.connectionIdPromiseSafe?.()}get isConnectionIsPromisePending(){return this.connectionIdPromiseSafe?.checkPending()??!1}get wsPromise(){return this.wsPromiseSafe?.()}}const oN=(e,t)=>`${e}/${t.id}`,sN=(e,t)=>{const n=(e=>{const t=e?.clientAppIdentifier||{},n=fP();return n&&(t.sdkName=n_[n.type].toLowerCase(),t.sdkVersion=`${n.major}.${n.minor}.${n.patch}`),t})(t),r=oQ(["coordinator"]);return new iN(e,{persistUserOnConnectionFailure:!0,...t,clientAppIdentifier:n,logger:r})};class aN{constructor(e,t){var n=this;this.effectsRegistered=!1,this.eventHandlersToUnregister=[],this.connectionConcurrencyTag=Symbol("connectionConcurrencyTag"),this.registerClientInstance=(e,t)=>{const n=oN(e,t);aN._instances.has(n)&&this.logger("warn",`A StreamVideoClient already exists for ${t.id}; Prefer using getOrCreateInstance method`),aN._instances.set(n,this)},this.registerEffects=()=>{this.effectsRegistered||(this.eventHandlersToUnregister.push(this.on("connection.changed",(e=>{if(!e.online)return;const t=this.writeableStateStore.calls.filter((e=>e.watching)).map((e=>e.cid));t.length<=0||(this.logger("info",`Rewatching calls ${t.join(", ")}`),this.queryCalls({watch:!0,filter_conditions:{cid:{$in:t}},sort:[{field:"cid",direction:1}]}).catch((e=>{this.logger("error","Failed to re-watch calls",e)})))}))),this.eventHandlersToUnregister.push(this.on("call.created",(e=>{const{call:t,members:n}=e;if(this.state.connectedUser?.id===t.created_by.id)return void this.logger("warn","Received `call.created` sent by the current user");this.logger("info",`New call created and registered: ${t.cid}`);const r=new ZO({streamClient:this.streamClient,type:t.type,id:t.id,members:n,clientStore:this.writeableStateStore});r.state.updateFromCallResponse(t),this.writeableStateStore.registerCall(r)}))),this.eventHandlersToUnregister.push(this.on("call.ring",(async e=>{const{call:t,members:n}=e;if(this.state.connectedUser?.id===t.created_by.id)return void this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");const r=this.writeableStateStore.findCall(t.type,t.id);if(r)await r.updateFromRingingEvent(e);else{const e=new ZO({streamClient:this.streamClient,type:t.type,id:t.id,members:n,clientStore:this.writeableStateStore,ringing:!0});await e.get()}}))),this.effectsRegistered=!0)},this.connectUser=async(e,t)=>{if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,t);const n=await fQ(this.connectionConcurrencyTag,(async()=>{const n=this.streamClient,{onConnectUserError:r,persistUserOnConnectionFailure:i}=n.options;let{maxConnectUserRetries:o=5}=n.options;o=Math.max(o,1);const s=[];for(let a=0;a<o;a++)try{return this.logger("trace",`Connecting user (${a})`,e),"guest"===e.type?await n.connectGuestUser(e):await n.connectUser(e,t)}catch(dY){if(this.logger("warn",`Failed to connect a user (${a})`,dY),s.push(dY),a===o-1)throw r?.(dY,s),dY;i&&await n.disconnectUser(),await jR($R(a))}}));return n?.me&&this.writeableStateStore.setConnectedUser(n.me),this.registerEffects(),n},this.disconnectUser=async e=>{await fQ(this.connectionConcurrencyTag,(async()=>{const{user:t,key:n}=this.streamClient;t&&(await this.streamClient.disconnectUser(e),t.id&&aN._instances.delete(oN(n,t)),this.eventHandlersToUnregister.forEach((e=>e())),this.eventHandlersToUnregister=[],this.effectsRegistered=!1,this.writeableStateStore.setConnectedUser(void 0))}))},this.on=(e,t)=>this.streamClient.on(e,t),this.off=(e,t)=>this.streamClient.off(e,t),this.call=(e,t)=>new ZO({streamClient:this.streamClient,id:t,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=await n.streamClient.post("/calls",e),r=[];for(const i of t.calls){const t=new ZO({streamClient:n.streamClient,id:i.call.id,type:i.call.type,members:i.members,ownCapabilities:i.own_capabilities,watching:e.watch,clientStore:n.writeableStateStore});t.state.updateFromCallResponse(i.call),await t.applyDeviceConfig(i.call.settings,!1),e.watch&&(await t.setup(),n.writeableStateStore.registerCall(t)),r.push(t)}return{...t,calls:r}},this.queryCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.streamClient.post("/call/stats",e)},this.queryAggregateCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return n.streamClient.post("/stats",e)},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,t,n,r,i)=>await this.streamClient.post("/devices",{id:e,push_provider:t,voip_token:i,...null!=r?{user_id:r}:{},...null!=n?{push_provider_name:n}:{}}),this.addVoipDevice=async(e,t,n,r)=>await this.addDevice(e,t,n,r,!0),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,t)=>await this.streamClient.delete("/devices",{id:e,...t?{user_id:t}:{}}),this.onRingingCall=async e=>{let t=this.state.calls.find((t=>t.cid===e&&t.ringing));if(!t){const[n,r]=e.split(":");t=new ZO({streamClient:this.streamClient,type:n,id:r,clientStore:this.writeableStateStore,ringing:!0}),await t.get()}return t},this.connectAnonymousUser=async(e,t)=>fQ(this.connectionConcurrencyTag,(()=>this.streamClient.connectAnonymousUser(e,t)));const r="string"===typeof e?e:e.apiKey,i="string"===typeof e?t:e.options;i?.enableTimerWorker&&(KP=!0);var o;if(eQ=i?.logger||nQ,(o=i?.logLevel||"warn")&&rQ(o),this.logger=oQ(["client"]),this.streamClient=sN(r,i),this.writeableStateStore=new kQ,this.readOnlyStateStore=new xQ(this.writeableStateStore),"string"!==typeof e&&e.user){const t=e.user;"anonymous"===t.type&&(t.id="!anon"),t.id&&this.registerClientInstance(r,t);const n=(e=>{const{token:t,tokenProvider:n}=e;if(t&&n){let e=!1;return async function(){return e?n():(e=!0,t)}}return t||n})(e);this.connectUser(t,n).catch((e=>{this.logger("error","Failed to connect",e)}))}}static getOrCreateInstance(e){const{apiKey:t,user:n,token:r,tokenProvider:i}=e;if(!n.id&&"anonymous"!==n.type)throw new Error("user.id is required for a non-anonymous user");if(!r&&!i&&"anonymous"!==n.type&&"guest"!==n.type)throw new Error("tokenProvider or token is required for a authenticated users");return aN._instances.get(oN(t,n))||new aN(e)}get state(){return this.readOnlyStateStore}}aN._instances=new Map;const AN=e=>"string"===typeof e,cN=()=>{let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n},lN=e=>null==e?"":""+e,uN=/###/g,dN=e=>e&&e.indexOf("###")>-1?e.replace(uN,"."):e,hN=e=>!e||AN(e),fN=(e,t,n)=>{const r=AN(t)?t.split("."):t;let i=0;for(;i<r.length-1;){if(hN(e))return{};const t=dN(r[i]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++i}return hN(e)?{}:{obj:e,k:dN(r[i])}},pN=(e,t,n)=>{const{obj:r,k:i}=fN(e,t,Object);if(void 0!==r||1===t.length)return void(r[i]=n);let o=t[t.length-1],s=t.slice(0,t.length-1),a=fN(e,s,Object);for(;void 0===a.obj&&s.length;)o=`${s[s.length-1]}.${o}`,s=s.slice(0,s.length-1),a=fN(e,s,Object),a&&a.obj&&"undefined"!==typeof a.obj[`${a.k}.${o}`]&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=n},gN=(e,t)=>{const{obj:n,k:r}=fN(e,t);if(n)return n[r]},mN=(e,t,n)=>{for(const r in t)"__proto__"!==r&&"constructor"!==r&&(r in e?AN(e[r])||e[r]instanceof String||AN(t[r])||t[r]instanceof String?n&&(e[r]=t[r]):mN(e[r],t[r],n):e[r]=t[r]);return e},vN=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yN={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const wN=e=>AN(e)?e.replace(/[&<>"'\/]/g,(e=>yN[e])):e;const bN=[" ",",","?","!",";"],CN=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),BN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const r=t.split(n);let i=e;for(let o=0;o<r.length;){if(!i||"object"!==typeof i)return;let e,t="";for(let s=o;s<r.length;++s)if(s!==o&&(t+=n),t+=r[s],e=i[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<r.length-1)continue;o+=s-o+1;break}i=e}return i},SN=e=>e&&e.replace("_","-"),EN={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class kN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||EN,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,r){return r&&!this.debug?null:(AN(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new kN(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new kN(this.logger,e)}}var xN=new kN;class TN{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[t,r]=e;for(let i=0;i<r;i++)t(...n)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((t=>{let[r,i]=t;for(let o=0;o<i;o++)r.apply(r,[e,...n])}))}}}class IN extends TN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=void 0!==r.ignoreJSONStructure?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):AN(n)&&i?s.push(...n.split(i)):s.push(n)));const a=gN(this.data,s);return!a&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),!a&&o&&AN(n)?BN(this.data&&this.data[e]&&this.data[e][t],n,i):a}addResource(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const o=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(s=e.split("."),r=t,t=s[1]),this.addNamespaces(t),pN(this.data,s,r),i.silent||this.emit("added",e,t,n,r)}addResources(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const i in n)(AN(n[i])||Array.isArray(n[i]))&&this.addResource(e,t,i,n[i],{silent:!0});r.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),r=n,n=t,t=s[1]),this.addNamespaces(t);let a=gN(this.data,s)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?mN(a,n,i):a={...a,...n},pN(this.data,s,a),o.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var UN={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,r,i){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,r,i))})),t}};const FN={};class _N extends TN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,t,n)=>{e.forEach((e=>{t[e]&&(n[e]=t[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=xN.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let i=t.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!((e,t,n)=>{t=t||"",n=n||"";const r=bN.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===r.length)return!0;const i=CN.getRegExp(`(${r.map((e=>"?"===e?"\\?":e)).join("|")})`);let o=!i.test(e);if(!o){const t=e.indexOf(n);t>0&&!i.test(e.substring(0,t))&&(o=!0)}return o})(e,n,r);if(o&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:AN(i)?[i]:i};const o=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(o[0])>-1)&&(i=o.shift()),e=o.join(r)}return{key:e,namespaces:AN(i)?[i]:i}}translate(e,t,n){if("object"!==typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof t&&(t={...t}),t||(t={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const r=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:o,namespaces:s}=this.extractFromKey(e[e.length-1],t),a=s[s.length-1],A=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(A&&"cimode"===A.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return r?{res:`${a}${e}${o}`,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${o}`}return r?{res:o,usedKey:o,exactUsedKey:o,usedLng:A,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:o}const l=this.resolve(e,t);let u=l&&l.res;const d=l&&l.usedKey||o,h=l&&l.exactUsedKey||o,f=Object.prototype.toString.apply(u),p=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,g=!this.i18nFormat||this.i18nFormat.handleAsObject,m=!AN(u)&&"boolean"!==typeof u&&"number"!==typeof u;if(!(g&&u&&m&&["[object Number]","[object Function]","[object RegExp]"].indexOf(f)<0)||AN(p)&&Array.isArray(u))if(g&&AN(p)&&Array.isArray(u))u=u.join(p),u&&(u=this.extendTranslation(u,e,t,n));else{let r=!1,s=!1;const c=void 0!==t.count&&!AN(t.count),d=_N.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(A,t.count,t):"",f=t.ordinal&&c?this.pluralResolver.getSuffix(A,t.count,{ordinal:!1}):"",p=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),g=p&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${f}`]||t.defaultValue;!this.isValidLookup(u)&&d&&(r=!0,u=g),this.isValidLookup(u)||(s=!0,u=o);const m=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:u,v=d&&g!==u&&this.options.updateMissing;if(s||r||v){if(this.logger.log(v?"updateKey":"missingKey",A,a,o,v?g:u),i){const e=this.resolve(o,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const r=(e,n,r)=>{const i=d&&r!==u?r:m;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,i,v,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,n,i,v,t),this.emit("missingKey",e,a,n,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);p&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{r([e],o+n,t[`defaultValue${n}`]||g)}))})):r(e,o,g))}u=this.extendTranslation(u,e,t,l,n),s&&u===o&&this.options.appendNamespaceToMissingKey&&(u=`${a}:${o}`),(s||r)&&this.options.parseMissingKeyHandler&&(u="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${o}`:o,r?u:void 0):this.options.parseMissingKeyHandler(u))}else{if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(d,u,{...t,ns:s}):`key '${o} (${this.language})' returned an object instead of string.`;return r?(l.res=e,l.usedParams=this.getUsedParamsDetails(t),l):e}if(i){const e=Array.isArray(u),n=e?[]:{},r=e?h:d;for(const o in u)if(Object.prototype.hasOwnProperty.call(u,o)){const e=`${r}${i}${o}`;n[o]=this.translate(e,{...t,joinArrays:!1,ns:s}),n[o]===e&&(n[o]=u[o])}u=n}}return r?(l.res=u,l.usedParams=this.getUsedParamsDetails(t),l):u}extendTranslation(e,t,n,r,i){var o=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s=AN(e)&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(s){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let A=n.replace&&!AN(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(A={...this.options.interpolation.defaultVariables,...A}),e=this.interpolator.interpolate(e,A,n.lng||this.language||r.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&r&&r.res&&(n.lng=this.language||r.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i&&i[0]===r[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${r[0]} in key: ${t[0]}`),null):o.translate(...r,t)}),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,a=AN(s)?[s]:s;return void 0!==e&&null!==e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=UN.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,r,i,o,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return AN(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,s),A=a.key;n=A;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const l=void 0!==s.count&&!AN(s.count),u=l&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),d=void 0!==s.context&&(AN(s.context)||"number"===typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(o=e,!FN[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(FN[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;i=n;const o=[A];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(o,A,n,e,s);else{let e;l&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t=`${this.options.pluralSeparator}zero`,r=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(l&&(o.push(A+e),s.ordinal&&0===e.indexOf(r)&&o.push(A+e.replace(r,this.options.pluralSeparator)),u&&o.push(A+t)),d){const n=`${A}${this.options.contextSeparator}${s.context}`;o.push(n),l&&(o.push(n+e),s.ordinal&&0===e.indexOf(r)&&o.push(n+e.replace(r,this.options.pluralSeparator)),u&&o.push(n+t))}}let a;for(;a=o.pop();)this.isValidLookup(t)||(r=a,t=this.getResource(n,e,a,s))})))}))})),{res:t,usedKey:n,exactUsedKey:r,usedLng:i,usedNS:o}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,r):this.resourceStore.getResource(e,t,n,r)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!AN(e.replace);let r=n?e.replace:e;if(n&&"undefined"!==typeof e.count&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const e of t)delete r[e]}return r}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const RN=e=>e.charAt(0).toUpperCase()+e.slice(1);class QN{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xN.create("languageUtils")}getScriptPartFromCode(e){if(!(e=SN(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=SN(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(AN(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let t=Intl.getCanonicalLocales(e)[0];if(t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t)return t}catch(hY){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=RN(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=RN(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=RN(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"===typeof e&&(e=e(t)),AN(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),r=[],i=e=>{e&&(this.isSupportedCode(e)?r.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return AN(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&i(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&i(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&i(this.getLanguagePartFromCode(e))):AN(e)&&i(this.formatLanguageCode(e)),n.forEach((e=>{r.indexOf(e)<0&&i(this.formatLanguageCode(e))})),r}}let PN=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ON={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const NN=["v1","v2","v3"],DN=["v4"],MN={zero:0,one:1,two:2,few:3,many:4,other:5};class LN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=xN.create("pluralResolver"),this.options.compatibilityJSON&&!DN.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return PN.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:ON[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=SN("dev"===e?"en":e),r=t.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:r})}catch(dY){if(!e.match(/-|_/))return;const r=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(r,t)}return this.pluralRulesCache[i]=o,o}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>MN[e]-MN[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(t)}`:this.getSuffixRetroCompatible(r,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let r=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===r?r="plural":1===r&&(r=""));const i=()=>this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString();return"v1"===this.options.compatibilityJSON?1===r?"":"number"===typeof r?`_plural_${r.toString()}`:i():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?i():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!NN.includes(this.options.compatibilityJSON)}}const HN=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=((e,t,n)=>{const r=gN(e,n);return void 0!==r?r:gN(t,n)})(e,t,n);return!o&&i&&AN(n)&&(o=BN(e,n,r),void 0===o&&(o=BN(t,n,r))),o},jN=e=>e.replace(/\$/g,"$$$$");class KN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xN.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:o,suffix:s,suffixEscaped:a,formatSeparator:A,unescapeSuffix:c,unescapePrefix:l,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:f,nestingOptionsSeparator:p,maxReplaces:g,alwaysFormat:m}=e.interpolation;this.escape=void 0!==t?t:wN,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==r&&r,this.prefix=i?vN(i):o||"{{",this.suffix=s?vN(s):a||"}}",this.formatSeparator=A||",",this.unescapePrefix=c?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?vN(u):d||vN("$t("),this.nestingSuffix=h?vN(h):f||vN(")"),this.nestingOptionsSeparator=p||",",this.maxReplaces=g||1e3,this.alwaysFormat=void 0!==m&&m,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,r){let i,o,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},A=e=>{if(e.indexOf(this.formatSeparator)<0){const i=HN(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(i,void 0,n,{...r,...t,interpolationkey:e}):i}const i=e.split(this.formatSeparator),o=i.shift().trim(),s=i.join(this.formatSeparator).trim();return this.format(HN(t,a,o,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...r,...t,interpolationkey:o})};this.resetRegExp();const c=r&&r.missingInterpolationHandler||this.options.missingInterpolationHandler,l=r&&r.interpolation&&void 0!==r.interpolation.skipOnVariables?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>jN(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?jN(this.escape(e)):jN(e)}].forEach((t=>{for(s=0;i=t.regex.exec(e);){const n=i[1].trim();if(o=A(n),void 0===o)if("function"===typeof c){const t=c(e,i,r);o=AN(t)?t:""}else if(r&&Object.prototype.hasOwnProperty.call(r,n))o="";else{if(l){o=i[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),o=""}else AN(o)||this.useRawValueToEscape||(o=lN(o));const a=t.safeValue(o);if(e=e.replace(i[0],a),l?(t.regex.lastIndex+=o.length,t.regex.lastIndex-=i[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),e}nest(e,t){let n,r,i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const r=e.split(new RegExp(`${n}[ ]*{`));let o=`{${r[1]}`;e=r[0],o=this.interpolate(o,i);const s=o.match(/'/g),a=o.match(/"/g);(s&&s.length%2===0&&!a||a.length%2!==0)&&(o=o.replace(/'/g,'"'));try{i=JSON.parse(o),t&&(i={...t,...i})}catch(hY){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,hY),`${e}${n}${o}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];i={...o},i=i.replace&&!AN(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let A=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),a=e,A=!0}if(r=t(s.call(this,n[1].trim(),i),i),r&&n[0]===e&&!AN(r))return r;AN(r)||(r=lN(r)),r||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),r=""),A&&(r=a.reduce(((e,t)=>this.format(e,t,o.lng,{...o,interpolationkey:n[1].trim()})),r.trim())),e=e.replace(n[0],r),this.regexp.lastIndex=0}return e}}const VN=e=>{const t={};return(n,r,i)=>{let o=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(o={...o,[i.interpolationkey]:void 0});const s=r+JSON.stringify(o);let a=t[s];return a||(a=e(SN(r),i),t[s]=a),a(n)}};class qN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=xN.create("formatter"),this.options=e,this.formats={number:VN(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:VN(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:VN(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:VN(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:VN(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=VN(t)}format(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i=t.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find((e=>e.indexOf(")")>-1))){const e=i.findIndex((e=>e.indexOf(")")>-1));i[0]=[i[0],...i.splice(1,e)].join(this.formatSeparator)}const o=i.reduce(((e,t)=>{const{formatName:i,formatOptions:o}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const r=e.split("(");t=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);"currency"===t&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):"relativetime"===t&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach((e=>{if(e){const[t,...r]=e.split(":"),i=r.join(":").trim().replace(/^'+|'+$/g,""),o=t.trim();n[o]||(n[o]=i),"false"===i&&(n[o]=!1),"true"===i&&(n[o]=!0),isNaN(i)||(n[o]=parseInt(i,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[i]){let t=e;try{const s=r&&r.formatParams&&r.formatParams[r.interpolationkey]||{},a=s.locale||s.lng||r.locale||r.lng||n;t=this.formats[i](e,a,{...o,...r,...s})}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${i}`),e}),e);return o}}class $N extends TN{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=xN.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,r.backend,r)}queueLoad(e,t,n,r){const i={},o={},s={},a={};return e.forEach((e=>{let r=!0;t.forEach((t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===o[s]&&(o[s]=!0):(this.state[s]=1,r=!1,void 0===o[s]&&(o[s]=!0),void 0===i[s]&&(i[s]=!0),void 0===a[t]&&(a[t]=!0)))})),r||(s[e]=!0)})),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const r=e.split("|"),i=r[0],o=r[1];t&&this.emit("failedLoading",i,o,t),!t&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:r,k:i}=fN(e,t,Object);r[i]=r[i]||[],r[i].push(n)})(n.loaded,[i],o),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:r,wait:i,callback:o});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&r<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,r+1,2*i,o)}),i):o(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"===typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(dY){s(dY)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();AN(e)&&(e=this.languageUtils.toResolveHierarchy(e)),AN(t)&&(t=[t]);const i=this.queueLoad(e,t,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,((n,o)=>{n&&this.logger.warn(`${t}loading namespace ${i} for language ${r} failed`,n),!n&&o&&this.logger.log(`${t}loaded namespace ${i} for language ${r}`,o),this.loaded(e,n,o)}))}saveMissing(e,t,n,r,i){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==n&&null!==n&&""!==n){if(this.backend&&this.backend.create){const a={...o,isUpdate:i},A=this.backend.create.bind(this.backend);if(A.length<6)try{let i;i=5===A.length?A(e,t,n,r,a):A(e,t,n,r),i&&"function"===typeof i.then?i.then((e=>s(null,e))).catch(s):s(null,i)}catch(dY){s(dY)}else A(e,t,n,r,s,a)}e&&e[0]&&this.store.addResource(e[0],t,n,r)}}}const GN=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"===typeof e[1]&&(t=e[1]),AN(e[1])&&(t.defaultValue=e[1]),AN(e[2])&&(t.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),zN=e=>(AN(e.ns)&&(e.ns=[e.ns]),AN(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),AN(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),WN=()=>{};class JN extends TN{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=zN(e),this.services={},this.logger=xN,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"===typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&(AN(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const r=GN();this.options={...r,...this.options,...zN(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...r.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const i=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?xN.init(i(this.modules.logger),this.options):xN.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!==typeof Intl&&(t=qN);const n=new QN(this.options);this.store=new IN(this.options.resources,this.options);const o=this.services;o.logger=xN,o.resourceStore=this.store,o.languageUtils=n,o.pluralResolver=new LN(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format||(o.formatter=i(t),o.formatter.init(o,this.options),this.options.interpolation.format=o.formatter.format.bind(o.formatter)),o.interpolator=new KN(this.options),o.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},o.backendConnector=new $N(i(this.modules.backend),o.resourceStore,o,this.options),o.backendConnector.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.languageDetector&&(o.languageDetector=i(this.modules.languageDetector),o.languageDetector.init&&o.languageDetector.init(o,this.options.detection,this.options)),this.modules.i18nFormat&&(o.i18nFormat=i(this.modules.i18nFormat),o.i18nFormat.init&&o.i18nFormat.init(this)),this.translator=new _N(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.emit(t,...r)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=WN),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const o=cN(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),o}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WN;const n=AN(e)?e:this.language;if("function"===typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],r=t=>{if(!t)return;if("cimode"===t)return;this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};if(n)r(n);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>r(e)))}this.options.preload&&this.options.preload.forEach((e=>r(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const r=cN();return"function"===typeof e&&(n=e,e=void 0),"function"===typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=WN),this.services.backendConnector.reload(e,t,(e=>{r.resolve(),n(e)})),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&UN.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const r=cN();this.emit("languageChanging",e);const i=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,o)=>{o?(i(o),this.translator.changeLanguage(o),this.isLanguageChangingTo=void 0,this.emit("languageChanged",o),this.logger.log("languageChanged",o)):this.isLanguageChangingTo=void 0,r.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n=AN(t)?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||i(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{o(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),r}getFixedT(e,t,n){var r=this;const i=function(e,t){let o;if("object"!==typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),A=2;A<s;A++)a[A-2]=arguments[A];o=r.options.overloadTranslationOptionHandler([e,t].concat(a))}else o={...t};o.lng=o.lng||i.lng,o.lngs=o.lngs||i.lngs,o.ns=o.ns||i.ns,""!==o.keyPrefix&&(o.keyPrefix=o.keyPrefix||n||i.keyPrefix);const c=r.options.keySeparator||".";let l;return l=o.keyPrefix&&Array.isArray(e)?e.map((e=>`${o.keyPrefix}${c}${e}`)):o.keyPrefix?`${o.keyPrefix}${c}${e}`:e,r.t(l,o)};return AN(e)?i.lng=e:i.lngs=e,i.ns=t,i.keyPrefix=n,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],r=!!this.options&&this.options.fallbackLng,i=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const o=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,o);if(void 0!==e)return e}return!!this.hasResourceBundle(n,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!o(n,e)||r&&!o(i,e)))}loadNamespaces(e,t){const n=cN();return this.options.ns?(AN(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=cN();AN(e)&&(e=[e]);const r=this.options.preload||[],i=e.filter((e=>r.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return i.length?(this.options.preload=r.concat(i),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new QN(GN());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new JN(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:WN;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},i=new JN(r);void 0===e.debug&&void 0===e.prefix||(i.logger=i.logger.clone(e));return["store","services","language"].forEach((e=>{i[e]=this[e]})),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n&&(i.store=new IN(this.store.data,r),i.services.resourceStore=i.store),i.translator=new _N(i.services,r),i.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];i.emit(e,...n)})),i.init(r,t),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const YN=JN.createInstance();YN.createInstance=JN.createInstance;YN.createInstance,YN.dir,YN.init,YN.loadResources,YN.reloadResources,YN.use,YN.changeLanguage,YN.getFixedT,YN.t,YN.exists,YN.setDefaultNamespace,YN.hasLoadedNamespace,YN.loadNamespaces,YN.loadLanguages;const XN=(0,a.createContext)(void 0),ZN=()=>(0,a.useContext)(XN),eD="stream-video",tD={debug:!1,currentLanguage:"en",fallbackLanguage:!1},nD=(rD={},iD=eD,Object.entries(rD).reduce(((e,t)=>{let[n,r]=t;return e[n]={[iD]:r},e}),{}));var rD,iD;const oD=e=>e;class sD{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.t=oD,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(hY){console.error(`Failed to initialize translations: ${JSON.stringify(hY)}`)}return this},this.changeLanguage=async(e,t)=>{if(!this._checkIsInitialized())return;const n="undefined"!==typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||n),t?.(this.currentLanguage)},this.registerTranslationsForLanguage=e=>{let{lng:t,translations:n}=e;this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(t,eD,n,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);const{debug:t=tD.debug,currentLanguage:n=tD.currentLanguage,fallbackLanguage:r=tD.fallbackLanguage,translationsOverrides:i}=e;this.i18nInstance=YN.createInstance({debug:t,defaultNS:eD,fallbackLng:r,interpolation:{escapeValue:!1},keySeparator:!1,lng:n,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:nD}),i&&this.i18nInstance.on("initialized",(()=>{Object.entries(i).forEach((e=>{let[t,n]=e;this.registerTranslationsForLanguage({lng:t,translations:n})}))}))}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}const aD=(0,a.createContext)({t:oD}),AD=e=>{let{children:t,...n}=e;const{i18n:r,t:i}=cD(n);return(0,Fe.jsx)(aD.Provider,{value:{t:i,i18n:r},children:t})},cD=e=>{let{i18nInstance:t,language:n,fallbackLanguage:r,translationsOverrides:i}=e;const[o]=(0,a.useState)((()=>t||new sD({currentLanguage:n,fallbackLanguage:r,translationsOverrides:i}))),[s,A]=(0,a.useState)((()=>oD));return(0,a.useEffect)((()=>{const{isInitialized:e}=o;e?n&&o?.currentLanguage!==n&&o.changeLanguage(n).catch((e=>{console.log("Error while changing language",e)})):o.init().then((e=>A((()=>e.i18nInstance.t))))}),[o,t,n,i]),{i18n:o,t:s}},lD=()=>(0,a.useContext)(aD),uD=(0,a.createContext)(void 0),dD=e=>{let{children:t,client:n,i18nInstance:r,language:i,translationsOverrides:o}=e;return(0,Fe.jsx)(uD.Provider,{value:n,children:(0,Fe.jsx)(AD,{i18nInstance:r,language:i,translationsOverrides:o,children:t})})},hD=(e,t)=>{const[n,r]=(0,a.useState)((()=>{try{return EQ.getCurrentValue(e)}catch(dY){if("undefined"===typeof t)throw dY;return t}}));return(0,a.useEffect)((()=>EQ.createSubscription(e,r,(e=>{console.log("An error occurred while reading an observable",e),t&&r(t)}))),[t,e]),n},fD=Object.freeze([]),pD=()=>{const e=ZN();if(!e){const e='You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.';return console.warn(e),new WQ}return e.state},gD=()=>{const{recording$:e}=pD();return hD(e)},mD=()=>{const{ownCapabilities$:e}=pD();return hD(e)};function vD(e,t){const n=t??e;return{status:e,optimisticStatus:n,isEnabled:"enabled"===e,isMute:"enabled"!==e,optimisticIsMute:"enabled"!==n,isTogglePending:n!==e}}function yD(e){const t=(0,a.useMemo)((()=>IF(fD)),[]),[n,r]=(0,a.useState)(t),i=hD(n,fD);return{getDevices:()=>(n===t&&r(e.listDevices()),i)}}var wD=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{const{anonymousParticipantCount$:e}=pD();return hD(e)},useCallBlockedUserIds:()=>{const{blockedUserIds$:e}=pD();return hD(e)},useCallCallingState:()=>{const{callingState$:e}=pD();return hD(e)},useCallClosedCaptions:()=>{const{closedCaptions$:e}=pD();return hD(e)},useCallCreatedAt:()=>{const{createdAt$:e}=pD();return hD(e)},useCallCreatedBy:()=>{const{createdBy$:e}=pD();return hD(e)},useCallCustomData:()=>{const{custom$:e}=pD();return hD(e)},useCallEgress:()=>{const{egress$:e}=pD();return hD(e)},useCallEndedAt:()=>{const{endedAt$:e}=pD();return hD(e)},useCallEndedBy:()=>{const{endedBy$:e}=pD();return hD(e)},useCallIngress:()=>{const{ingress$:e}=pD();return hD(e)},useCallMembers:()=>{const{members$:e}=pD();return hD(e)},useCallSession:()=>{const{session$:e}=pD();return hD(e)},useCallSettings:()=>{const{settings$:e}=pD();return hD(e)},useCallStartedAt:()=>{const{startedAt$:e}=pD();return hD(e)},useCallStartsAt:()=>{const{startsAt$:e}=pD();return hD(e)},useCallState:pD,useCallStatsReport:()=>{const{callStatsReport$:e}=pD();return hD(e)},useCallThumbnail:()=>{const{thumbnails$:e}=pD();return hD(e)},useCallUpdatedAt:()=>{const{updatedAt$:e}=pD();return hD(e)},useCameraState:()=>{const e=ZN(),{camera:t}=e,{state:n}=t,r=hD(n.direction$),i=hD(n.mediaStream$),o=hD(n.selectedDevice$),{getDevices:s}=yD(t),a=hD(n.hasBrowserPermission$),A=hD(n.isPromptingPermission$);return{camera:t,direction:r,mediaStream:i,get devices(){return s()},hasBrowserPermission:a,isPromptingPermission:A,selectedDevice:o,...vD(hD(n.status$),hD(n.optimisticStatus$))}},useDominantSpeaker:()=>{const{dominantSpeaker$:e}=pD();return hD(e)},useHasOngoingScreenShare:()=>{const{hasOngoingScreenShare$:e}=pD();return hD(e)},useHasPermissions:function(){const e=mD();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.every((t=>e?.includes(t)))},useIncomingVideoSettings:()=>{const e=ZN();return hD(e.dynascaleManager.incomingVideoSettings$)},useIsCallCaptioningInProgress:()=>{const{captioning$:e}=pD();return hD(e)},useIsCallHLSBroadcastingInProgress:()=>{const{egress$:e}=pD(),t=hD(e);return!!t&&t.broadcasting},useIsCallLive:()=>{const{backstage$:e}=pD();return!hD(e)},useIsCallRecordingInProgress:gD,useIsCallTranscribingInProgress:()=>{const{transcribing$:e}=pD();return hD(e)},useLocalParticipant:()=>{const{localParticipant$:e}=pD();return hD(e)},useMicrophoneState:()=>{const e=ZN(),{microphone:t}=e,{state:n}=t,r=hD(n.mediaStream$),i=hD(n.selectedDevice$),{getDevices:o}=yD(t),s=hD(n.hasBrowserPermission$),a=hD(n.isPromptingPermission$),A=hD(n.speakingWhileMuted$);return{microphone:t,mediaStream:r,get devices(){return o()},selectedDevice:i,hasBrowserPermission:s,isPromptingPermission:a,isSpeakingWhileMuted:A,...vD(hD(n.status$),hD(n.optimisticStatus$))}},useOwnCapabilities:mD,useParticipantCount:()=>{const{participantCount$:e}=pD();return hD(e)},useParticipants:function(){let{sortBy:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{participants$:t}=pD(),n=hD(t);return(0,a.useMemo)((()=>e?[...n].sort(e):n),[n,e])},useRemoteParticipants:()=>{const{remoteParticipants$:e}=pD();return hD(e)},useScreenShareState:()=>{const e=ZN(),{screenShare:t}=e;return{screenShare:t,mediaStream:hD(t.state.mediaStream$),...vD(hD(t.state.status$),hD(t.state.optimisticStatus$))}},useSpeakerState:()=>{if("undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");const e=ZN(),{speaker:t}=e,{getDevices:n}=yD(t),r=hD(t.state.selectedDevice$);return{speaker:t,get devices(){return n()},selectedDevice:r,isDeviceSelectionSupported:t.state.isDeviceSelectionSupported}}});const bD=()=>wD,CD=e=>{let{canRequestOnly:t,hasPermissionsOnly:n,requiredGrants:r,requireAll:i=!0,children:o}=e;const s=ZN(),{useCallSettings:a,useOwnCapabilities:A}=bD(),c=A(),l=a(),u=r[i?"every":"some"]((e=>c?.includes(e)));if(n)return u?(0,Fe.jsx)(Fe.Fragment,{children:o}):null;const d=r.some((e=>s?.permissionsContext.canRequest(e,l)));return t?d?(0,Fe.jsx)(Fe.Fragment,{children:o}):null:u||d?(0,Fe.jsx)(Fe.Fragment,{children:o}):null};var BD=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],SD=BD.join(","),ED="undefined"===typeof Element,kD=ED?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xD=!ED&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},TD=function e(t,n){var r;void 0===n&&(n=!0);var i=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===i||"true"===i||n&&t&&e(t.parentNode)},ID=function(e,t,n){if(TD(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(SD));return t&&kD.call(e,SD)&&r.unshift(e),r=r.filter(n)},UD=function e(t,n,r){for(var i=[],o=Array.from(t);o.length;){var s=o.shift();if(!TD(s,!1))if("SLOT"===s.tagName){var a=s.assignedElements(),A=e(a.length?a:s.children,!0,r);r.flatten?i.push.apply(i,A):i.push({scopeParent:s,candidates:A})}else{kD.call(s,SD)&&r.filter(s)&&(n||!t.includes(s))&&i.push(s);var c=s.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(s),l=!TD(c,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(s));if(c&&l){var u=e(!0===c?s.children:c.children,!0,r);r.flatten?i.push.apply(i,u):i.push({scopeParent:s,candidates:u})}else o.unshift.apply(o,s.children)}}return i},FD=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},_D=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!FD(e)?0:e.tabIndex},RD=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},QD=function(e){return"INPUT"===e.tagName},PD=function(e){return function(e){return QD(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||xD(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(dY){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",dY.message),!1}var i=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!i||i===e}(e)},OD=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},ND=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var i=kD.call(e,"details>summary:first-of-type")?e.parentElement:e;if(kD.call(i,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return OD(e)}else{if("function"===typeof r){for(var o=e;e;){var s=e.parentElement,a=xD(e);if(s&&!s.shadowRoot&&!0===r(s))return OD(e);e=e.assignedSlot?e.assignedSlot:s||a===e.ownerDocument?s:a.host}e=o}if(function(e){var t,n,r,i,o=e&&xD(e),s=null===(t=o)||void 0===t?void 0:t.host,a=!1;if(o&&o!==e)for(a=!!(null!==(n=s)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(s)||null!==e&&void 0!==e&&null!==(i=e.ownerDocument)&&void 0!==i&&i.contains(e));!a&&s;){var A,c,l;a=!(null===(c=s=null===(A=o=xD(s))||void 0===A?void 0:A.host)||void 0===c||null===(l=c.ownerDocument)||void 0===l||!l.contains(s))}return a}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},DD=function(e,t){return!(t.disabled||TD(t)||function(e){return QD(e)&&"hidden"===e.type}(t)||ND(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!kD.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},MD=function(e,t){return!(PD(t)||_D(t)<0||!DD(e,t))},LD=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},HD=function e(t){var n=[],r=[];return t.forEach((function(t,i){var o=!!t.scopeParent,s=o?t.scopeParent:t,a=function(e,t){var n=_D(e);return n<0&&t&&!FD(e)?0:n}(s,o),A=o?e(t.candidates):s;0===a?o?n.push.apply(n,A):n.push(s):r.push({documentOrder:i,tabIndex:a,item:t,isScope:o,content:A})})),r.sort(RD).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},jD=function(e,t){var n;return n=(t=t||{}).getShadowRoot?UD([e],t.includeContainer,{filter:MD.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:LD}):ID(e,t.includeContainer,MD.bind(null,t)),HD(n)},KD=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==kD.call(e,SD)&&MD(t,e)};function VD(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function qD(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:t,version:n}=e;return t+"/"+n})).join(" "):navigator.userAgent}function $D(){const e=/android/i;return e.test(VD())||e.test(qD())}function GD(){return qD().includes("jsdom/")}const zD="data-floating-ui-focusable",WD="ArrowLeft",JD="ArrowRight";function YD(e){let t=e.activeElement;for(;null!=(null==(n=t)||null==(n=n.shadowRoot)?void 0:n.activeElement);){var n;t=t.shadowRoot.activeElement}return t}function XD(e,t){if(!e||!t)return!1;const n=null==t.getRootNode?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Yo(n)){let n=t;for(;n;){if(e===n)return!0;n=n.parentNode||n.host}}return!1}function ZD(e){return"composedPath"in e?e.composedPath()[0]:e.target}function eM(e,t){if(null==t)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return null!=n.target&&t.contains(n.target)}function tM(e){return(null==e?void 0:e.ownerDocument)||document}function nM(e){return Jo(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function rM(e){return!!e&&("combobox"===e.getAttribute("role")&&nM(e))}function iM(e){return e?e.hasAttribute(zD)?e:e.querySelector("["+zD+"]")||e:null}function oM(e,t,n){void 0===n&&(n=!0);let r=e.filter((e=>{var n;return e.parentId===t&&(null==(n=e.context)?void 0:n.open)})),i=r;for(;i.length;)i=n?e.filter((e=>{var t;return null==(t=i)?void 0:t.some((t=>{var n;return e.parentId===t.id&&(null==(n=e.context)?void 0:n.open)}))})):e,r=r.concat(i);return r}function sM(e,t){var n;let r=[],i=null==(n=e.find((e=>e.id===t)))?void 0:n.parentId;for(;i;){const t=e.find((e=>e.id===i));i=null==t?void 0:t.parentId,t&&(r=r.concat(t))}return r}function aM(e){e.preventDefault(),e.stopPropagation()}function AM(e){return!(0!==e.mozInputSource||!e.isTrusted)||($D()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function cM(e){return!GD()&&(!$D()&&0===e.width&&0===e.height||$D()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function lM(e,t){const n=["mouse","pen"];return t||n.push("",void 0),n.includes(e)}var uM="undefined"!==typeof document?a.useLayoutEffect:a.useEffect;function dM(e){const t=a.useRef(e);return uM((()=>{t.current=e})),t}const hM={...A}.useInsertionEffect||(e=>e());function fM(e){const t=a.useRef((()=>{0}));return hM((()=>{t.current=e})),a.useCallback((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return null==t.current?void 0:t.current(...n)}),[])}function pM(e,t,n){return Math.floor(e/t)!==n}function gM(e,t){return t<0||t>=e.current.length}function mM(e,t){return yM(e,{disabledIndices:t})}function vM(e,t){return yM(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:t})}function yM(e,t){let{startingIndex:n=-1,decrement:r=!1,disabledIndices:i,amount:o=1}=void 0===t?{}:t,s=n;do{s+=r?-o:o}while(s>=0&&s<=e.current.length-1&&CM(e,s,i));return s}function wM(e,t,n,r,i){if(-1===e)return-1;const o=n.indexOf(e),s=t[e];switch(i){case"tl":return o;case"tr":return s?o+s.width-1:o;case"bl":return s?o+(s.height-1)*r:o;case"br":return n.lastIndexOf(e)}}function bM(e,t){return t.flatMap(((t,n)=>e.includes(t)?[n]:[]))}function CM(e,t,n){if(n)return n.includes(t);const r=e.current[t];return null==r||r.hasAttribute("disabled")||"true"===r.getAttribute("aria-disabled")}const BM=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function SM(e,t){const n=jD(e,BM()),r=n.length;if(0===r)return;const i=YD(tM(e)),o=n.indexOf(i);return n[-1===o?1===t?0:r-1:o+t]}function EM(e){return SM(tM(e).body,1)||e}function kM(e){return SM(tM(e).body,-1)||e}function xM(e,t){const n=t||e.currentTarget,r=e.relatedTarget;return!r||!XD(n,r)}function TM(e){jD(e,BM()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function IM(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const t=e.dataset.tabindex;delete e.dataset.tabindex,t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")}))}function UM(e,t){const n=e.compareDocumentPosition(t);return n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0}const FM=a.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function _M(e){const{children:t,elementsRef:n,labelsRef:r}=e,[i,o]=a.useState((()=>new Set)),s=a.useCallback((e=>{o((t=>new Set(t).add(e)))}),[]),A=a.useCallback((e=>{o((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),c=a.useMemo((()=>{const e=new Map;return Array.from(i.keys()).sort(UM).forEach(((t,n)=>{e.set(t,n)})),e}),[i]);return(0,Fe.jsx)(FM.Provider,{value:a.useMemo((()=>({register:s,unregister:A,map:c,elementsRef:n,labelsRef:r})),[s,A,c,n,r]),children:t})}function RM(e){void 0===e&&(e={});const{label:t}=e,{register:n,unregister:r,map:i,elementsRef:o,labelsRef:s}=a.useContext(FM),[A,c]=a.useState(null),l=a.useRef(null),u=a.useCallback((e=>{if(l.current=e,null!==A&&(o.current[A]=e,s)){var n;const r=void 0!==t;s.current[A]=r?t:null!=(n=null==e?void 0:e.textContent)?n:null}}),[A,o,s,t]);return uM((()=>{const e=l.current;if(e)return n(e),()=>{r(e)}}),[n,r]),uM((()=>{const e=l.current?i.get(l.current):null;null!=e&&c(e)}),[i]),a.useMemo((()=>({ref:u,index:null==A?-1:A})),[A,u])}const QM="data-floating-ui-focusable",PM="active",OM="selected",NM="ArrowLeft",DM="ArrowRight",MM="ArrowUp",LM="ArrowDown";const HM=[NM,DM],jM=[MM,LM],KM={...A};let VM=!1,qM=0;const $M=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+qM++;const GM=KM.useId||function(){const[e,t]=a.useState((()=>VM?$M():void 0));return uM((()=>{null==e&&t($M())}),[]),a.useEffect((()=>{VM=!0}),[]),e};const zM=a.forwardRef((function(e,t){const{context:{placement:n,elements:{floating:r},middlewareData:{arrow:i,shift:o}},width:s=14,height:A=7,tipRadius:c=0,strokeWidth:l=0,staticOffset:u,stroke:d,d:h,style:{transform:f,...p}={},...g}=e;const m=GM(),[v,y]=a.useState(!1);if(uM((()=>{if(!r)return;"rtl"===is(r).direction&&y(!0)}),[r]),!r)return null;const[w,b]=n.split("-"),C="top"===w||"bottom"===w;let B=u;(C&&null!=o&&o.x||!C&&null!=o&&o.y)&&(B=null);const S=2*l,E=S/2,k=s/2*(c/-8+1),x=A/2*c/4,T=!!h,I=B&&"end"===b?"bottom":"top";let U=B&&"end"===b?"right":"left";B&&v&&(U="end"===b?"left":"right");const F=null!=(null==i?void 0:i.x)?B||i.x:"",_=null!=(null==i?void 0:i.y)?B||i.y:"",R=h||"M0,0 H"+s+" L"+(s-k)+","+(A-x)+" Q"+s/2+","+A+" "+k+","+(A-x)+" Z",Q={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[w];return(0,Fe.jsxs)("svg",{...g,"aria-hidden":!0,ref:t,width:T?s:s+S,height:s,viewBox:"0 0 "+s+" "+(A>s?A:s),style:{position:"absolute",pointerEvents:"none",[U]:F,[I]:_,[w]:C||T?"100%":"calc(100% - "+S/2+"px)",transform:[Q,f].filter((e=>!!e)).join(" "),...p},children:[S>0&&(0,Fe.jsx)("path",{clipPath:"url(#"+m+")",fill:"none",stroke:d,strokeWidth:S+(h?0:1),d:R}),(0,Fe.jsx)("path",{stroke:S&&!h?g.fill:"none",d:R}),(0,Fe.jsx)("clipPath",{id:m,children:(0,Fe.jsx)("rect",{x:-E,y:E*(T?-1:1),width:s+S,height:s})})]})}));function WM(){const e=new Map;return{emit(t,n){var r;null==(r=e.get(t))||r.forEach((e=>e(n)))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;null==(r=e.get(t))||r.delete(n)}}}const JM=a.createContext(null),YM=a.createContext(null),XM=()=>{var e;return(null==(e=a.useContext(JM))?void 0:e.id)||null},ZM=()=>a.useContext(YM);function eL(e){return"data-floating-ui-"+e}function tL(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}let nL=0;function rL(e,t){void 0===t&&(t={});const{preventScroll:n=!1,cancelPrevious:r=!0,sync:i=!1}=t;r&&cancelAnimationFrame(nL);const o=()=>null==e?void 0:e.focus({preventScroll:n});i?o():nL=requestAnimationFrame(o)}let iL=new WeakMap,oL=new WeakSet,sL={},aL=0;const AL=e=>e&&(e.host||AL(e.parentNode));function cL(e,t,n,r){const i="data-floating-ui-inert",o=r?"inert":n?"aria-hidden":null,s=(a=t,e.map((e=>{if(a.contains(e))return e;const t=AL(e);return a.contains(t)?t:null})).filter((e=>null!=e)));var a;const A=new Set,c=new Set(s),l=[];sL[i]||(sL[i]=new WeakMap);const u=sL[i];return s.forEach((function e(t){if(!t||A.has(t))return;A.add(t),t.parentNode&&e(t.parentNode)})),function e(t){if(!t||c.has(t))return;[].forEach.call(t.children,(t=>{if("script"!==qo(t))if(A.has(t))e(t);else{const e=o?t.getAttribute(o):null,n=null!==e&&"false"!==e,r=iL.get(t)||0,s=o?r+1:r,a=(u.get(t)||0)+1;iL.set(t,s),u.set(t,a),l.push(t),1===s&&n&&oL.add(t),1===a&&t.setAttribute(i,""),!n&&o&&t.setAttribute(o,"inert"===o?"":"true")}}))}(t),A.clear(),aL++,()=>{l.forEach((e=>{const t=iL.get(e)||0,n=o?t-1:t,r=(u.get(e)||0)-1;iL.set(e,n),u.set(e,r),n||(!oL.has(e)&&o&&e.removeAttribute(o),oL.delete(e)),r||e.removeAttribute(i)})),aL--,aL||(iL=new WeakMap,iL=new WeakMap,oL=new WeakSet,sL={})}}function lL(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);const r=(i=e[0],(null==i?void 0:i.ownerDocument)||document).body;var i;return cL(e.concat(Array.from(r.querySelectorAll("[aria-live]"))),r,t,n)}const uL={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},dL=a.forwardRef((function(e,t){const[n,r]=a.useState();uM((()=>{/apple/i.test(navigator.vendor)&&r("button")}),[]);const i={ref:t,tabIndex:0,role:n,"aria-hidden":!n||void 0,[eL("focus-guard")]:"",style:uL};return(0,Fe.jsx)("span",{...e,...i})})),hL=a.createContext(null),fL=eL("portal");function pL(e){const{children:t,id:n,root:r,preserveTabOrder:i=!0}=e,o=function(e){void 0===e&&(e={});const{id:t,root:n}=e,r=GM(),i=gL(),[o,s]=a.useState(null),A=a.useRef(null);return uM((()=>()=>{null==o||o.remove(),queueMicrotask((()=>{A.current=null}))}),[o]),uM((()=>{if(!r)return;if(A.current)return;const e=t?document.getElementById(t):null;if(!e)return;const n=document.createElement("div");n.id=r,n.setAttribute(fL,""),e.appendChild(n),A.current=n,s(n)}),[t,r]),uM((()=>{if(null===n)return;if(!r)return;if(A.current)return;let e=n||(null==i?void 0:i.portalNode);e&&!Wo(e)&&(e=e.current),e=e||document.body;let o=null;t&&(o=document.createElement("div"),o.id=t,e.appendChild(o));const a=document.createElement("div");a.id=r,a.setAttribute(fL,""),e=o||e,e.appendChild(a),A.current=a,s(a)}),[t,n,r,i]),o}({id:n,root:r}),[s,A]=a.useState(null),c=a.useRef(null),l=a.useRef(null),u=a.useRef(null),d=a.useRef(null),h=null==s?void 0:s.modal,f=null==s?void 0:s.open,p=!!s&&!s.modal&&s.open&&i&&!(!r&&!o);return a.useEffect((()=>{if(o&&i&&!h)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){if(o&&xM(e)){("focusin"===e.type?IM:TM)(o)}}}),[o,i,h]),a.useEffect((()=>{o&&(f||IM(o))}),[f,o]),(0,Fe.jsxs)(hL.Provider,{value:a.useMemo((()=>({preserveTabOrder:i,beforeOutsideRef:c,afterOutsideRef:l,beforeInsideRef:u,afterInsideRef:d,portalNode:o,setFocusManagerState:A})),[i,o]),children:[p&&o&&(0,Fe.jsx)(dL,{"data-type":"outside",ref:c,onFocus:e=>{if(xM(e,o)){var t;null==(t=u.current)||t.focus()}else{const e=kM(s?s.domReference:null);null==e||e.focus()}}}),p&&o&&(0,Fe.jsx)("span",{"aria-owns":o.id,style:uL}),o&&$e.createPortal(t,o),p&&o&&(0,Fe.jsx)(dL,{"data-type":"outside",ref:l,onFocus:e=>{if(xM(e,o)){var t;null==(t=d.current)||t.focus()}else{const t=EM(s?s.domReference:null);null==t||t.focus(),(null==s?void 0:s.closeOnFocusOut)&&(null==s||s.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}const gL=()=>a.useContext(hL);function mL(e){return a.useMemo((()=>t=>{e.forEach((e=>{e&&(e.current=t)}))}),e)}let vL=[];function yL(){return vL.slice().reverse().find((e=>e.isConnected))}function wL(e,t){var n;if(!t.current.includes("floating")&&(null==(n=e.getAttribute("role"))||!n.includes("dialog")))return;const r=BM(),i=function(e,t){return(t=t||{}).getShadowRoot?UD([e],t.includeContainer,{filter:DD.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):ID(e,t.includeContainer,DD.bind(null,t))}(e,r),o=i.filter((e=>{const t=e.getAttribute("data-tabindex")||"";return KD(e,r)||e.hasAttribute("data-tabindex")&&!t.startsWith("-")})),s=e.getAttribute("tabindex");t.current.includes("floating")||0===o.length?"0"!==s&&e.setAttribute("tabindex","0"):("-1"!==s||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const bL=a.forwardRef((function(e,t){return(0,Fe.jsx)("button",{...e,type:"button",ref:t,tabIndex:-1,style:uL})}));function CL(e){const{context:t,children:n,disabled:r=!1,order:i=["content"],guards:o=!0,initialFocus:s=0,returnFocus:A=!0,restoreFocus:c=!1,modal:l=!0,visuallyHiddenDismiss:u=!1,closeOnFocusOut:d=!0,outsideElementsInert:h=!1,getInsideElements:f=()=>[]}=e,{open:p,onOpenChange:g,events:m,dataRef:v,elements:{domReference:y,floating:w}}=t,b=fM((()=>{var e;return null==(e=v.current.floatingContext)?void 0:e.nodeId})),C=fM(f),B="number"===typeof s&&s<0,S=rM(y)&&B,E="undefined"!==typeof HTMLElement&&"inert"in HTMLElement.prototype,k=!E||o,x=!k||E&&h,T=dM(i),I=dM(s),U=dM(A),F=ZM(),_=gL(),R=a.useRef(null),Q=a.useRef(null),P=a.useRef(!1),O=a.useRef(!1),N=a.useRef(-1),D=null!=_,M=iM(w),L=fM((function(e){return void 0===e&&(e=M),e?jD(e,BM()):[]})),H=fM((e=>{const t=L(e);return T.current.map((e=>y&&"reference"===e?y:M&&"floating"===e?M:t)).filter(Boolean).flat()}));a.useEffect((()=>{if(r)return;if(!l)return;function e(e){if("Tab"===e.key){XD(M,YD(tM(M)))&&0===L().length&&!S&&aM(e);const t=H(),n=ZD(e);"reference"===T.current[0]&&n===y&&(aM(e),e.shiftKey?rL(t[t.length-1]):rL(t[1])),"floating"===T.current[1]&&n===M&&e.shiftKey&&(aM(e),rL(t[0]))}}const t=tM(M);return t.addEventListener("keydown",e),()=>{t.removeEventListener("keydown",e)}}),[r,y,M,l,T,S,L,H]),a.useEffect((()=>{if(!r&&w)return w.addEventListener("focusin",e),()=>{w.removeEventListener("focusin",e)};function e(e){const t=ZD(e),n=L().indexOf(t);-1!==n&&(N.current=n)}}),[r,w,L]),a.useEffect((()=>{if(!r&&d)return w&&Jo(y)?(y.addEventListener("focusout",t),y.addEventListener("pointerdown",e),w.addEventListener("focusout",t),()=>{y.removeEventListener("focusout",t),y.removeEventListener("pointerdown",e),w.removeEventListener("focusout",t)}):void 0;function e(){O.current=!0,setTimeout((()=>{O.current=!1}))}function t(e){const t=e.relatedTarget,n=e.currentTarget;queueMicrotask((()=>{const r=b(),i=!(XD(y,t)||XD(w,t)||XD(t,w)||XD(null==_?void 0:_.portalNode,t)||null!=t&&t.hasAttribute(eL("focus-guard"))||F&&(oM(F.nodesRef.current,r).find((e=>{var n,r;return XD(null==(n=e.context)?void 0:n.elements.floating,t)||XD(null==(r=e.context)?void 0:r.elements.domReference,t)}))||sM(F.nodesRef.current,r).find((e=>{var n,r,i;return[null==(n=e.context)?void 0:n.elements.floating,iM(null==(r=e.context)?void 0:r.elements.floating)].includes(t)||(null==(i=e.context)?void 0:i.elements.domReference)===t}))));if(n===y&&M&&wL(M,T),c&&i&&YD(tM(M))===tM(M).body){Jo(M)&&M.focus();const e=N.current,t=L(),n=t[e]||t[t.length-1]||M;Jo(n)&&n.focus()}!S&&l||!t||!i||O.current||t===yL()||(P.current=!0,g(!1,e,"focus-out"))}))}}),[r,y,w,M,l,F,_,g,d,c,L,S,b,T]);const j=a.useRef(null),K=a.useRef(null),V=mL([j,null==_?void 0:_.beforeInsideRef]),q=mL([K,null==_?void 0:_.afterInsideRef]);function $(e){return!r&&u&&l?(0,Fe.jsx)(bL,{ref:"start"===e?R:Q,onClick:e=>g(!1,e.nativeEvent),children:"string"===typeof u?u:"Dismiss"}):null}a.useEffect((()=>{var e,t;if(r)return;if(!w)return;const n=Array.from((null==_||null==(e=_.portalNode)?void 0:e.querySelectorAll("["+eL("portal")+"]"))||[]),i=F?sM(F.nodesRef.current,b()):[],o=F&&!l?i.map((e=>{var t;return null==(t=e.context)?void 0:t.elements.floating})):[],s=null==(t=i.find((e=>{var t;return rM((null==(t=e.context)?void 0:t.elements.domReference)||null)})))||null==(t=t.context)?void 0:t.elements.domReference,a=[w,s,...n,...o,...C(),R.current,Q.current,j.current,K.current,null==_?void 0:_.beforeOutsideRef.current,null==_?void 0:_.afterOutsideRef.current,T.current.includes("reference")||S?y:null].filter((e=>null!=e)),A=l||S?lL(a,!x,x):lL(a);return()=>{A()}}),[r,y,w,l,T,_,S,k,x,F,b,C]),uM((()=>{if(r||!Jo(M))return;const e=YD(tM(M));queueMicrotask((()=>{const t=H(M),n=I.current,r=("number"===typeof n?t[n]:n.current)||M,i=XD(M,e);B||i||!p||rL(r,{preventScroll:r===M})}))}),[r,p,M,B,H,I]),uM((()=>{if(r||!M)return;let e=!1;const t=tM(M),n=YD(t);var i;function o(t){let{reason:n,event:r,nested:i}=t;if(["hover","safe-polygon"].includes(n)&&"mouseleave"===r.type&&(P.current=!0),"outside-press"===n)if(i)P.current=!1,e=!0;else if(AM(r)||cM(r))P.current=!1;else{let t=!1;document.createElement("div").focus({get preventScroll(){return t=!0,!1}}),t?(P.current=!1,e=!0):P.current=!0}}i=n,vL=vL.filter((e=>e.isConnected)),i&&"body"!==qo(i)&&(vL.push(i),vL.length>20&&(vL=vL.slice(-20))),m.on("openchange",o);const s=t.createElement("span");return s.setAttribute("tabindex","-1"),s.setAttribute("aria-hidden","true"),Object.assign(s.style,uL),D&&y&&y.insertAdjacentElement("afterend",s),()=>{m.off("openchange",o);const n=YD(t),r=XD(w,n)||F&&oM(F.nodesRef.current,b()).some((e=>{var t;return XD(null==(t=e.context)?void 0:t.elements.floating,n)})),i=function(){if("boolean"===typeof U.current){const e=y||yL();return e&&e.isConnected?e:s}return U.current.current||s}();queueMicrotask((()=>{const o=function(e){const t=BM();return KD(e,t)?e:jD(e,t)[0]||e}(i);U.current&&!P.current&&Jo(o)&&(o===n||n===t.body||r)&&o.focus({preventScroll:e}),s.remove()}))}}),[r,w,M,U,v,m,F,D,y,b]),a.useEffect((()=>{queueMicrotask((()=>{P.current=!1}))}),[r]),uM((()=>{if(!r&&_)return _.setFocusManagerState({modal:l,closeOnFocusOut:d,open:p,onOpenChange:g,domReference:y}),()=>{_.setFocusManagerState(null)}}),[r,_,l,p,g,d,y]),uM((()=>{r||M&&wL(M,T)}),[r,M,T]);const G=!r&&k&&(!l||!S)&&(D||l);return(0,Fe.jsxs)(Fe.Fragment,{children:[G&&(0,Fe.jsx)(dL,{"data-type":"inside",ref:V,onFocus:e=>{if(l){const e=H();rL("reference"===i[0]?e[0]:e[e.length-1])}else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(P.current=!1,xM(e,_.portalNode)){const e=EM(y);null==e||e.focus()}else{var t;null==(t=_.beforeOutsideRef.current)||t.focus()}}}),!S&&$("start"),n,$("end"),G&&(0,Fe.jsx)(dL,{"data-type":"inside",ref:q,onFocus:e=>{if(l)rL(H()[0]);else if(null!=_&&_.preserveTabOrder&&_.portalNode)if(d&&(P.current=!0),xM(e,_.portalNode)){const e=kM(y);null==e||e.focus()}else{var t;null==(t=_.afterOutsideRef.current)||t.focus()}}})]})}let BL=0;let SL=()=>{};const EL=a.forwardRef((function(e,t){const{lockScroll:n=!1,...r}=e;return uM((()=>{if(n)return BL++,1===BL&&(SL=function(){const e=/iP(hone|ad|od)|iOS/.test(VD()),t=document.body.style,n=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",r=window.innerWidth-document.documentElement.clientWidth,i=t.left?parseFloat(t.left):window.scrollX,o=t.top?parseFloat(t.top):window.scrollY;if(t.overflow="hidden",r&&(t[n]=r+"px"),e){var s,a;const e=(null==(s=window.visualViewport)?void 0:s.offsetLeft)||0,n=(null==(a=window.visualViewport)?void 0:a.offsetTop)||0;Object.assign(t,{position:"fixed",top:-(o-Math.floor(n))+"px",left:-(i-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(t,{overflow:"",[n]:""}),e&&(Object.assign(t,{position:"",top:"",left:"",right:""}),window.scrollTo(i,o))}}()),()=>{BL--,0===BL&&SL()}}),[n]),(0,Fe.jsx)("div",{ref:t,...r,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...r.style}})}));function kL(e){return Jo(e.target)&&"BUTTON"===e.target.tagName}function xL(e){return nM(e)}function TL(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:A="click",toggle:c=!0,ignoreMouse:l=!1,keyboardHandlers:u=!0,stickIfOpen:d=!0}=t,h=a.useRef(),f=a.useRef(!1),p=a.useMemo((()=>({onPointerDown(e){h.current=e.pointerType},onMouseDown(e){const t=h.current;0===e.button&&"click"!==A&&(lM(t,!0)&&l||(!n||!c||i.current.openEvent&&d&&"mousedown"!==i.current.openEvent.type?(e.preventDefault(),r(!0,e.nativeEvent,"click")):r(!1,e.nativeEvent,"click")))},onClick(e){const t=h.current;"mousedown"===A&&h.current?h.current=void 0:lM(t,!0)&&l||(!n||!c||i.current.openEvent&&d&&"click"!==i.current.openEvent.type?r(!0,e.nativeEvent,"click"):r(!1,e.nativeEvent,"click"))},onKeyDown(e){h.current=void 0,e.defaultPrevented||!u||kL(e)||(" "!==e.key||xL(o)||(e.preventDefault(),f.current=!0),function(e){return Jo(e.target)&&"A"===e.target.tagName}(e)||"Enter"===e.key&&r(!n||!c,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!u||kL(e)||xL(o)||" "===e.key&&f.current&&(f.current=!1,r(!n||!c,e.nativeEvent,"click"))}})),[i,o,A,l,u,r,n,d,c]);return a.useMemo((()=>s?{reference:p}:{}),[s,p])}const IL={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},UL={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},FL=e=>{var t,n;return{escapeKey:"boolean"===typeof e?e:null!=(t=null==e?void 0:e.escapeKey)&&t,outsidePress:"boolean"===typeof e?e:null==(n=null==e?void 0:e.outsidePress)||n}};function _L(e){void 0===e&&(e={});const{nodeId:t}=e,n=function(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=GM(),o=a.useRef({}),[s]=a.useState((()=>WM())),A=null!=XM(),[c,l]=a.useState(r.reference),u=fM(((e,t,r)=>{o.current.openEvent=e?t:void 0,s.emit("openchange",{open:e,event:t,reason:r,nested:A}),null==n||n(e,t,r)})),d=a.useMemo((()=>({setPositionReference:l})),[]),h=a.useMemo((()=>({reference:c||r.reference||null,floating:r.floating||null,domReference:r.reference})),[c,r.reference,r.floating]);return a.useMemo((()=>({dataRef:o,open:t,onOpenChange:u,elements:h,events:s,floatingId:i,refs:d})),[t,u,h,s,i,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=a.useState(null),[A,c]=a.useState(null),l=(null==i?void 0:i.domReference)||o,u=a.useRef(null),d=ZM();uM((()=>{l&&(u.current=l)}),[l]);const h=Ls({...e,elements:{...i,...A&&{reference:A}}}),f=a.useCallback((e=>{const t=Wo(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;c(t),h.refs.setReference(t)}),[h.refs]),p=a.useCallback((e=>{(Wo(e)||null===e)&&(u.current=e,s(e)),(Wo(h.refs.reference.current)||null===h.refs.reference.current||null!==e&&!Wo(e))&&h.refs.setReference(e)}),[h.refs]),g=a.useMemo((()=>({...h.refs,setReference:p,setPositionReference:f,domReference:u})),[h.refs,p,f]),m=a.useMemo((()=>({...h.elements,domReference:l})),[h.elements,l]),v=a.useMemo((()=>({...h,...r,refs:g,elements:m,nodeId:t})),[h,g,m,t,r]);return uM((()=>{r.dataRef.current.floatingContext=v;const e=null==d?void 0:d.nodesRef.current.find((e=>e.id===t));e&&(e.context=v)})),a.useMemo((()=>({...h,context:v,refs:g,elements:m})),[h,g,m,v])}function RL(e,t,n){const r=new Map,i="item"===n;let o=e;if(i&&e){const{[PM]:t,[OM]:n,...r}=e;o=r}return{..."floating"===n&&{tabIndex:-1,[QM]:""},...o,...t.map((t=>{const r=t?t[n]:null;return"function"===typeof r?e?r(e):null:r})).concat(e).reduce(((e,t)=>t?(Object.entries(t).forEach((t=>{let[n,o]=t;var s;i&&[PM,OM].includes(n)||(0===n.indexOf("on")?(r.has(n)||r.set(n,[]),"function"===typeof o&&(null==(s=r.get(n))||s.push(o),e[n]=function(){for(var e,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return null==(e=r.get(n))?void 0:e.map((e=>e(...i))).find((e=>void 0!==e))})):e[n]=o)})),e):e),{})}}function QL(e,t,n){switch(e){case"vertical":return t;case"horizontal":return n;default:return t||n}}function PL(e,t){return QL(t,e===MM||e===LM,e===NM||e===DM)}function OL(e,t,n){return QL(t,e===LM,n?e===NM:e===DM)||"Enter"===e||" "===e||""===e}function NL(e,t,n){return QL(t,n?e===NM:e===DM,e===LM)}function DL(e,t,n,r){return"both"===t||"horizontal"===t&&r&&r>1?"Escape"===e:QL(t,n?e===DM:e===NM,e===MM)}function ML(e,t){const{open:n,onOpenChange:r,elements:i,floatingId:o}=e,{listRef:s,activeIndex:A,onNavigate:c=()=>{},enabled:l=!0,selectedIndex:u=null,allowEscape:d=!1,loop:h=!1,nested:f=!1,rtl:p=!1,virtual:g=!1,focusItemOnOpen:m="auto",focusItemOnHover:v=!0,openOnArrowKeyDown:y=!0,disabledIndices:w,orientation:b="vertical",parentOrientation:C,cols:B=1,scrollItemIntoView:S=!0,virtualItemRef:E,itemSizes:k,dense:x=!1}=t;const T=dM(iM(i.floating)),I=XM(),U=ZM();uM((()=>{e.dataRef.current.orientation=b}),[e,b]);const F=fM((()=>{c(-1===Q.current?null:Q.current)})),_=rM(i.domReference),R=a.useRef(m),Q=a.useRef(null!=u?u:-1),P=a.useRef(null),O=a.useRef(!0),N=a.useRef(F),D=a.useRef(!!i.floating),M=a.useRef(n),L=a.useRef(!1),H=a.useRef(!1),j=dM(w),K=dM(n),V=dM(S),q=dM(u),[$,G]=a.useState(),[z,W]=a.useState(),J=fM((()=>{function e(e){var t;g?(null!=(t=e.id)&&t.endsWith("-fui-option")&&(e.id=o+"-"+Math.random().toString(16).slice(2,10)),G(e.id),null==U||U.events.emit("virtualfocus",e),E&&(E.current=e)):rL(e,{sync:L.current,preventScroll:!0})}const t=s.current[Q.current],n=H.current;t&&e(t);(L.current?e=>e():requestAnimationFrame)((()=>{const r=s.current[Q.current]||t;if(!r)return;t||e(r);const i=V.current;i&&X&&(n||!O.current)&&(null==r.scrollIntoView||r.scrollIntoView("boolean"===typeof i?{block:"nearest",inline:"nearest"}:i))}))}));uM((()=>{l&&(n&&i.floating?R.current&&null!=u&&(H.current=!0,Q.current=u,F()):D.current&&(Q.current=-1,N.current()))}),[l,n,i.floating,u,F]),uM((()=>{if(l&&n&&i.floating)if(null==A){if(L.current=!1,null!=q.current)return;if(D.current&&(Q.current=-1,J()),(!M.current||!D.current)&&R.current&&(null!=P.current||!0===R.current&&null==P.current)){let e=0;const t=()=>{if(null==s.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(t)}e++}else Q.current=null==P.current||OL(P.current,b,p)||f?mM(s,j.current):vM(s,j.current),P.current=null,F()};t()}}else gM(s,A)||(Q.current=A,J(),H.current=!1)}),[l,n,i.floating,A,q,f,s,b,p,F,J,j]),uM((()=>{var e;if(!l||i.floating||!U||g||!D.current)return;const t=U.nodesRef.current,n=null==(e=t.find((e=>e.id===I)))||null==(e=e.context)?void 0:e.elements.floating,r=YD(tM(i.floating)),o=t.some((e=>e.context&&XD(e.context.elements.floating,r)));n&&!o&&O.current&&n.focus({preventScroll:!0})}),[l,i.floating,U,I,g]),uM((()=>{if(l&&U&&g&&!I)return U.events.on("virtualfocus",e),()=>{U.events.off("virtualfocus",e)};function e(e){W(e.id),E&&(E.current=e)}}),[l,U,g,I,E]),uM((()=>{N.current=F,M.current=n,D.current=!!i.floating})),uM((()=>{n||(P.current=null)}),[n]);const Y=null!=A,X=a.useMemo((()=>{function e(e){if(!n)return;const t=s.current.indexOf(e);-1!==t&&Q.current!==t&&(Q.current=t,F())}return{onFocus(t){let{currentTarget:n}=t;L.current=!0,e(n)},onClick:e=>{let{currentTarget:t}=e;return t.focus({preventScroll:!0})},...v&&{onMouseMove(t){let{currentTarget:n}=t;L.current=!0,H.current=!1,e(n)},onPointerLeave(e){let{pointerType:t}=e;var n;O.current&&"touch"!==t&&(L.current=!0,Q.current=-1,F(),g||null==(n=T.current)||n.focus({preventScroll:!0}))}}}}),[n,T,v,s,F,g]),Z=a.useCallback((()=>{var e;return null!=C?C:null==U||null==(e=U.nodesRef.current.find((e=>e.id===I)))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation}),[I,U,C]),ee=fM((e=>{if(O.current=!1,L.current=!0,229===e.which)return;if(!K.current&&e.currentTarget===T.current)return;if(f&&DL(e.key,b,p,B))return PL(e.key,Z())||aM(e),r(!1,e.nativeEvent,"list-navigation"),void(Jo(i.domReference)&&(g?null==U||U.events.emit("virtualfocus",i.domReference):i.domReference.focus()));const t=Q.current,o=mM(s,w),a=vM(s,w);if(_||("Home"===e.key&&(aM(e),Q.current=o,F()),"End"===e.key&&(aM(e),Q.current=a,F())),B>1){const t=k||Array.from({length:s.current.length},(()=>({width:1,height:1}))),n=function(e,t,n){const r=[];let i=0;return e.forEach(((e,o)=>{let{width:s,height:a}=e,A=!1;for(n&&(i=0);!A;){const e=[];for(let n=0;n<s;n++)for(let r=0;r<a;r++)e.push(i+n+r*t);i%t+s<=t&&e.every((e=>null==r[e]))?(e.forEach((e=>{r[e]=o})),A=!0):i++}})),[...r]}(t,B,x),r=n.findIndex((e=>null!=e&&!CM(s,e,w))),i=n.reduce(((e,t,n)=>null==t||CM(s,t,w)?e:n),-1),A=n[function(e,t){let{event:n,orientation:r,loop:i,rtl:o,cols:s,disabledIndices:a,minIndex:A,maxIndex:c,prevIndex:l,stopEvent:u=!1}=t,d=l;if("ArrowUp"===n.key){if(u&&aM(n),-1===l)d=c;else if(d=yM(e,{startingIndex:d,amount:s,decrement:!0,disabledIndices:a}),i&&(l-s<A||d<0)){const e=l%s,t=c%s,n=c-(t-e);d=t===e?c:t>e?n:n-s}gM(e,d)&&(d=l)}if("ArrowDown"===n.key&&(u&&aM(n),-1===l?d=A:(d=yM(e,{startingIndex:l,amount:s,disabledIndices:a}),i&&l+s>c&&(d=yM(e,{startingIndex:l%s-s,amount:s,disabledIndices:a}))),gM(e,d)&&(d=l)),"both"===r){const t=So(l/s);n.key===(o?WD:JD)&&(u&&aM(n),l%s!==s-1?(d=yM(e,{startingIndex:l,disabledIndices:a}),i&&pM(d,s,t)&&(d=yM(e,{startingIndex:l-l%s-1,disabledIndices:a}))):i&&(d=yM(e,{startingIndex:l-l%s-1,disabledIndices:a})),pM(d,s,t)&&(d=l)),n.key===(o?JD:WD)&&(u&&aM(n),l%s!==0?(d=yM(e,{startingIndex:l,decrement:!0,disabledIndices:a}),i&&pM(d,s,t)&&(d=yM(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a}))):i&&(d=yM(e,{startingIndex:l+(s-l%s),decrement:!0,disabledIndices:a})),pM(d,s,t)&&(d=l));const r=So(c/s)===t;gM(e,d)&&(d=i&&r?n.key===(o?JD:WD)?c:yM(e,{startingIndex:l-l%s-1,disabledIndices:a}):l)}return d}({current:n.map((e=>null!=e?s.current[e]:null))},{event:e,orientation:b,loop:h,rtl:p,cols:B,disabledIndices:bM([...w||s.current.map(((e,t)=>CM(s,t)?t:void 0)),void 0],n),minIndex:r,maxIndex:i,prevIndex:wM(Q.current>a?o:Q.current,t,n,B,e.key===LM?"bl":e.key===(p?NM:DM)?"tr":"tl"),stopEvent:!0})];if(null!=A&&(Q.current=A,F()),"both"===b)return}if(PL(e.key,b)){if(aM(e),n&&!g&&YD(e.currentTarget.ownerDocument)===e.currentTarget)return Q.current=OL(e.key,b,p)?o:a,void F();OL(e.key,b,p)?Q.current=h?t>=a?d&&t!==s.current.length?-1:o:yM(s,{startingIndex:t,disabledIndices:w}):Math.min(a,yM(s,{startingIndex:t,disabledIndices:w})):Q.current=h?t<=o?d&&-1!==t?s.current.length:a:yM(s,{startingIndex:t,decrement:!0,disabledIndices:w}):Math.max(o,yM(s,{startingIndex:t,decrement:!0,disabledIndices:w})),gM(s,Q.current)&&(Q.current=-1),F()}})),te=a.useMemo((()=>g&&n&&Y&&{"aria-activedescendant":z||$}),[g,n,Y,z,$]),ne=a.useMemo((()=>({"aria-orientation":"both"===b?void 0:b,..._?{}:te,onKeyDown:ee,onPointerMove(){O.current=!0}})),[te,ee,b,_]),re=a.useMemo((()=>{function e(e){"auto"===m&&AM(e.nativeEvent)&&(R.current=!0)}function t(e){R.current=m,"auto"===m&&cM(e.nativeEvent)&&(R.current=!0)}return{...te,onKeyDown(e){O.current=!1;const t=e.key.startsWith("Arrow"),i=["Home","End"].includes(e.key),o=t||i,a=NL(e.key,b,p),A=DL(e.key,b,p,B),c=NL(e.key,Z(),p),l=PL(e.key,b),d=(f?c:l)||"Enter"===e.key||""===e.key.trim();if(g&&n){const t=null==U?void 0:U.nodesRef.current.find((e=>null==e.parentId)),n=U&&t?function(e,t){let n,r=-1;return function t(i,o){o>r&&(n=i,r=o),oM(e,i).forEach((e=>{t(e.id,o+1)}))}(t,0),e.find((e=>e.id===n))}(U.nodesRef.current,t.id):null;if(o&&n&&E){const t=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(a||A){var h,m;const r=(null==(h=n.context)?void 0:h.elements.domReference)===e.currentTarget,i=A&&!r?null==(m=n.context)?void 0:m.elements.domReference:a?s.current.find((e=>(null==e?void 0:e.id)===$)):null;i&&(aM(e),i.dispatchEvent(t),W(void 0))}var v;if((l||i)&&n.context)if(n.context.open&&n.parentId&&e.currentTarget!==n.context.elements.domReference)return aM(e),void(null==(v=n.context.elements.domReference)||v.dispatchEvent(t))}return ee(e)}if(n||y||!t){if(d){const t=PL(e.key,Z());P.current=f&&t?null:e.key}f?c&&(aM(e),n?(Q.current=mM(s,j.current),F()):r(!0,e.nativeEvent,"list-navigation")):l&&(null!=u&&(Q.current=u),aM(e),!n&&y?r(!0,e.nativeEvent,"list-navigation"):ee(e),n&&F())}},onFocus(){n&&!g&&(Q.current=-1,F())},onPointerDown:t,onPointerEnter:t,onMouseDown:e,onClick:e}}),[$,te,B,ee,j,m,s,f,F,r,n,y,b,Z,p,u,U,g,E]);return a.useMemo((()=>l?{reference:re,floating:ne,item:X}:{}),[l,re,ne,X])}const LL=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);const HL=e=>{let{participant:t,trackType:n="audioTrack",...r}=e;const i=ZN(),[o,s]=(0,a.useState)(null),{userId:A,sessionId:c}=t;return(0,a.useEffect)((()=>{if(!i||!o)return;const e=i.bindAudioElement(o,c,n);return()=>{e?.()}}),[i,c,o,n]),(0,Fe.jsx)("audio",{autoPlay:!0,...r,ref:s,"data-user-id":A,"data-session-id":c,"data-track-type":n})};HL.displayName="Audio";const jL=e=>{const{participants:t,audioProps:n}=e;return(0,Fe.jsx)(Fe.Fragment,{children:t.map((e=>{if(e.isLocalParticipant)return null;const{audioStream:t,screenShareAudioStream:r,sessionId:i}=e,o=FQ(e)&&t&&(0,Fe.jsx)(HL,{...n,trackType:"audioTrack",participant:e}),s=RQ(e)&&r&&(0,Fe.jsx)(HL,{...n,trackType:"screenShareAudioTrack",participant:e});return(0,Fe.jsxs)(a.Fragment,{children:[o,s]},i)}))})};jL.displayName="ParticipantsAudio";const KL=(0,a.createContext)(void 0),VL=()=>(0,a.useContext)(KL),qL=e=>{let{middleware:t=[],placement:n,strategy:r,offset:i=10}=e;const{refs:o,x:s,y:A,update:c,elements:{domReference:l,floating:u},context:d}=_L({placement:n,strategy:r,middleware:[js(i),Ks(),qs(),$s({padding:10,apply:e=>{let{availableHeight:t,elements:n}=e;Object.assign(n.floating.style,{maxHeight:`${t}px`})}}),...t]});return(0,a.useEffect)((()=>{if(!l||!u)return;const e=ks(l,u,c);return()=>e()}),[l,u,c]),{refs:o,x:s,y:A,domReference:l,floating:u,strategy:r,context:d}};function $L(e,t){const{t:n}=lD();return(0,a.useMemo)((()=>{let r=null,i=null;const o=e.map(((e,n)=>{const o=e.deviceId===t,s={deviceId:e.deviceId,label:e.label,isSelected:o};return o&&(r=s,i=n),s}));if(null===r||null===i){const e={deviceId:"default",label:n("Default"),isSelected:!0};r=e,i=0,o.unshift(e)}return{deviceList:o,selectedDeviceInfo:r,selectedIndex:i}}),[e,t,n])}var GL;!function(e){e.PORTAL="portal",e.MENU="menu"}(GL||(GL={}));const zL=(0,a.createContext)({}),WL=()=>(0,a.useContext)(zL),JL=e=>{let{children:t,refs:n}=e;const r=(0,a.useMemo)((()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`),[]);return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{id:r,className:"str-video__portal"}),(0,Fe.jsx)(EL,{children:(0,Fe.jsx)(pL,{id:r,children:(0,Fe.jsx)("div",{className:"str-video__portal-content",ref:n.setFloating,children:t})})})]})},YL=e=>{let{ToggleButton:t,placement:n="top-start",strategy:r="absolute",offset:i,visualType:o=GL.MENU,children:s,onToggle:A}=e;const[c,l]=(0,a.useState)(!1),u=(0,a.useRef)(A);u.current=A;const{floating:d,domReference:h,refs:f,x:p,y:g}=qL({placement:n,strategy:r,offset:i});return(0,a.useEffect)((()=>{const e=h?.ownerDocument,t=e=>{!d&&h?.contains(e.target)?(l(!0),u.current?.(!0)):d&&!d?.contains(e.target)&&(l(!1),u.current?.(!1))},n=e=>{!e.key||"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||(l(!1),u.current?.(!1))};return e?.addEventListener("click",t,{capture:!0}),e?.addEventListener("keydown",n),()=>{e?.removeEventListener("click",t,{capture:!0}),e?.removeEventListener("keydown",n)}}),[d,h]),(0,Fe.jsxs)(Fe.Fragment,{children:[c&&(0,Fe.jsx)(zL.Provider,{value:{close:()=>l(!1)},children:o===GL.PORTAL?(0,Fe.jsx)(JL,{refs:f,children:s}):o===GL.MENU?(0,Fe.jsx)("div",{className:"str-video__menu-container",ref:f.setFloating,style:{position:r,top:g??0,left:p??0,overflowY:"auto"},role:"menu",children:s}):null}),(0,Fe.jsx)(t,{menuShown:c,ref:f.setReference})]})},XL=e=>{let{children:t,onItemClick:n}=e;const r=(0,a.useRef)(null);return(0,Fe.jsx)("ul",{className:"str-video__generic-menu",ref:r,onClick:e=>{n&&e.target!==r.current&&r.current?.contains(e.target)&&n(e)},children:t})},ZL=e=>{let{children:t,...n}=e;return(0,Fe.jsx)("li",{className:"str-video__generic-menu--item",children:(0,Fe.jsx)("button",{...n,children:t})})},eH=e=>{let{className:t,icon:n}=e;return(0,Fe.jsx)("span",{className:Sn("str-video__icon",n&&`str-video__icon--${n}`,t)})};function tH(e){const[t,n]=(0,a.useState)(document.pictureInPictureElement===e);return!e&&t&&n(!1),(0,a.useEffect)((()=>{if(!e)return;const t=()=>{n(document.pictureInPictureElement===e)};return e.addEventListener("enterpictureinpicture",t),e.addEventListener("leavepictureinpicture",t),()=>{e.removeEventListener("enterpictureinpicture",t),e.removeEventListener("leavepictureinpicture",t)}}),[e]),t}const nH=()=>{const{participant:e,participantViewElement:t,videoElement:n}=VL(),[r,i]=(0,a.useState)(!!document.fullscreenElement),o=ZN(),s=tH(n??void 0),{t:A}=lD(),{pin:c,sessionId:l,userId:u}=e,d=FQ(e),h=UQ(e),f=_Q(e),p=RQ(e),g=e=>()=>{o?.updateUserPermissions({user_id:u,grant_permissions:[e]})},m=e=>()=>{o?.updateUserPermissions({user_id:u,revoke_permissions:[e]})};(0,a.useEffect)((()=>{const e=()=>{i(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const{close:v}=WL()||{};return(0,Fe.jsxs)(XL,{onItemClick:v,children:[(0,Fe.jsxs)(ZL,{onClick:()=>{c?o?.unpin(l):o?.pin(l)},disabled:c&&!c.isLocalPin,children:[(0,Fe.jsx)(eH,{icon:"pin"}),A(c?"Unpin":"Pin")]}),(0,Fe.jsxs)(CD,{requiredGrants:[DF],children:[(0,Fe.jsxs)(ZL,{onClick:()=>{o?.pinForEveryone({user_id:u,session_id:l}).catch((e=>{console.error(`Failed to pin participant ${u}`,e)}))},disabled:c&&!c.isLocalPin,children:[(0,Fe.jsx)(eH,{icon:"pin"}),A("Pin for everyone")]}),(0,Fe.jsxs)(ZL,{onClick:()=>{o?.unpinForEveryone({user_id:u,session_id:l}).catch((e=>{console.error(`Failed to unpin participant ${u}`,e)}))},disabled:!c||c.isLocalPin,children:[(0,Fe.jsx)(eH,{icon:"pin"}),A("Unpin for everyone")]})]}),(0,Fe.jsx)(CD,{requiredGrants:[QF],children:(0,Fe.jsxs)(ZL,{onClick:()=>o?.blockUser(u),children:[(0,Fe.jsx)(eH,{icon:"not-allowed"}),A("Block")]})}),(0,Fe.jsxs)(CD,{requiredGrants:[NF],children:[h&&(0,Fe.jsxs)(ZL,{onClick:()=>o?.muteUser(u,"video"),children:[(0,Fe.jsx)(eH,{icon:"camera-off-outline"}),A("Turn off video")]}),f&&(0,Fe.jsxs)(ZL,{onClick:()=>o?.muteUser(u,"screenshare"),children:[(0,Fe.jsx)(eH,{icon:"screen-share-off"}),A("Turn off screen share")]}),d&&(0,Fe.jsxs)(ZL,{onClick:()=>o?.muteUser(u,"audio"),children:[(0,Fe.jsx)(eH,{icon:"no-audio"}),A("Mute audio")]}),p&&(0,Fe.jsxs)(ZL,{onClick:()=>o?.muteUser(u,"screenshare_audio"),children:[(0,Fe.jsx)(eH,{icon:"no-audio"}),A("Mute screen share audio")]})]}),t&&"undefined"!==typeof t.requestFullscreen&&(0,Fe.jsx)(ZL,{onClick:()=>r?document.exitFullscreen().catch(console.error):t?.requestFullscreen().catch(console.error),children:A("{{ direction }} fullscreen",{direction:A(r?"Leave":"Enter")})}),n&&document.pictureInPictureEnabled&&(0,Fe.jsx)(ZL,{onClick:()=>n&&!s?n.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:A("{{ direction }} picture-in-picture",{direction:A(s?"Leave":"Enter")})}),(0,Fe.jsxs)(CD,{requiredGrants:[VF],children:[(0,Fe.jsx)(ZL,{onClick:g(LF),children:A("Allow audio")}),(0,Fe.jsx)(ZL,{onClick:g(HF),children:A("Allow video")}),(0,Fe.jsx)(ZL,{onClick:g(MF),children:A("Allow screen sharing")}),(0,Fe.jsx)(ZL,{onClick:m(LF),children:A("Disable audio")}),(0,Fe.jsx)(ZL,{onClick:m(HF),children:A("Disable video")}),(0,Fe.jsx)(ZL,{onClick:m(MF),children:A("Disable screen sharing")})]})]})},rH=e=>null!==e&&!(0,a.isValidElement)(e),iH=(e,t)=>{if(e)return"function"===typeof e?e(t):void(e.current=t)},oH=((0,a.forwardRef)((function(e,t){let{stream:n,...r}=e;const[i,o]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(i&&n&&n!==i.srcObject)return i.srcObject=n,(nP.isSafari()||nP.isFirefox())&&setTimeout((()=>{i.srcObject=n,i.play().catch((e=>{console.error("Failed to play stream",e)}))}),0),()=>{i.pause(),i.srcObject=null}}),[n,i]),(0,Fe.jsx)("video",{autoPlay:!0,playsInline:!0,...r,ref:e=>{iH(t,e),o(e)}})})),(0,a.forwardRef)((function(e,t){let{participant:n,style:r,children:i}=e;const[o,s]=(0,a.useState)(!1),A=n.name||n.userId;return(0,Fe.jsxs)("div",{className:"str-video__video-placeholder",style:r,ref:t,children:[(!n.image||o)&&(A?(0,Fe.jsx)(sH,{name:A}):(0,Fe.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:i})),n.image&&!o&&(0,Fe.jsx)("img",{onError:()=>s(!0),alt:A,className:"str-video__video-placeholder__avatar",src:n.image})]})}))),sH=e=>{const{name:t}=e,n=t.split(" ").slice(0,2).map((e=>e[0])).join("");return(0,Fe.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:n})},aH=(0,a.forwardRef)((function(e,t){const{t:n}=lD();return(0,Fe.jsx)(oH,{ref:t,...e,children:n("Video is disabled")})})),AH=(0,a.forwardRef)((function(e,t){const{t:n}=lD();return(0,Fe.jsx)(oH,{ref:t,...e,children:n("Video is playing in a popup")})})),cH=e=>{let{enabled:t=!0,mirror:n,trackType:r,participant:i,className:o,VideoPlaceholder:s=aH,PictureInPicturePlaceholder:A=AH,refs:c,...l}=e;const{sessionId:u,videoStream:d,screenShareStream:h,viewportVisibilityState:f,isLocalParticipant:p,userId:g}=i,m=ZN(),[v,y]=(0,a.useState)(null),[w,b]=(0,a.useState)(!0),[C,B]=(0,a.useState)(!0),S=tH(v??void 0),E="videoTrack"===r?d:"screenShareTrack"===r?h:void 0;if((0,a.useLayoutEffect)((()=>{if(!m||!v||"none"===r)return;const e=m.bindVideoElement(v,u,r);return()=>{e?.()}}),[m,r,u,v]),(0,a.useEffect)((()=>{if(!E||!v)return;const[e]=E.getVideoTracks();if(!e)return;const t=()=>{b(v.paused);const{width:t=0,height:n=0}=e.getSettings();B(t>=n)};return b(v.paused),v.addEventListener("play",t),v.addEventListener("pause",t),e.addEventListener("unmute",t),()=>{v.removeEventListener("play",t),v.removeEventListener("pause",t),e.removeEventListener("unmute",t),b(!0)}}),[E,v]),!m)return null;const k="videoTrack"===r?UQ(i):"screenShareTrack"===r&&_Q(i),x="none"===r||f?.[r]===OR.INVISIBLE,T=!t||!k||x,I=void 0===n?p&&"videoTrack"===r:n,U="screenShareTrack"===r;return(0,Fe.jsxs)(Fe.Fragment,{children:[!T&&(0,Fe.jsx)("video",{...l,className:Sn("str-video__video",o,{"str-video__video--not-playing":w,"str-video__video--tall":!C,"str-video__video--mirror":I,"str-video__video--screen-share":U}),"data-user-id":g,"data-session-id":u,ref:e=>{y(e),c?.setVideoElement?.(e)}}),S&&A&&(0,Fe.jsx)(A,{style:{position:"absolute"},participant:i}),(T||w)&&s&&(0,Fe.jsx)(s,{style:{position:"absolute"},participant:i,ref:c?.setVideoPlaceholderElement})]})};cH.displayName="Video";(0,a.createContext)(void 0);const lH=(0,a.forwardRef)((function(e,t){const{icon:n,enabled:r,variant:i,onClick:o,className:s,...a}=e;return(0,Fe.jsx)("button",{className:Sn("str-video__call-controls__button",s,{[`str-video__call-controls__button--variant-${i}`]:i,"str-video__call-controls__button--enabled":r}),onClick:e=>{e.preventDefault(),o?.(e)},ref:t,...a,children:(0,Fe.jsx)(eH,{icon:n})})})),uH=(0,a.forwardRef)((function(e,t){let{disabled:n,caption:r,children:i,className:o,active:s,Menu:a,menuPlacement:A,menuOffset:c,title:l,ToggleMenuButton:u=dH,variant:d,onClick:h,onMenuToggle:f,...p}=e;return(0,Fe.jsxs)("div",{className:Sn("str-video__composite-button",o,{"str-video__composite-button--caption":r,"str-video__composite-button--menu":a}),title:l,ref:t,children:[(0,Fe.jsxs)("div",{className:Sn("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":s,"str-video__composite-button__button-group--active-primary":s&&"primary"===d,"str-video__composite-button__button-group--active-secondary":s&&"secondary"===d,"str-video__composite-button__button-group--disabled":n}),children:[(0,Fe.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),h?.(e)},disabled:n,...p,children:i}),a&&(0,Fe.jsx)(YL,{offset:c,placement:A,ToggleButton:u,onToggle:f,children:rH(a)?(0,Fe.jsx)(a,{}):a})]}),r&&(0,Fe.jsx)("div",{className:"str-video__composite-button__caption",children:r})]})})),dH=(0,a.forwardRef)((function(e,t){let{menuShown:n}=e;return(0,Fe.jsx)(lH,{className:Sn("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":n}),icon:n?"caret-down":"caret-up",ref:t})})),hH=e=>{const{isVisible:t,message:n,children:r,visibilityTimeout:i,resetIsVisible:o,placement:s="top",iconClassName:A="str-video__notification__icon",close:c}=e,{refs:l,x:u,y:d,strategy:h}=qL({placement:s,strategy:"absolute"});return(0,a.useEffect)((()=>{if(!t||!i||!o)return;const e=setTimeout((()=>{o()}),i);return()=>clearTimeout(e)}),[t,o,i]),(0,Fe.jsxs)("div",{ref:l.setReference,children:[t&&(0,Fe.jsxs)("div",{className:"str-video__notification",ref:l.setFloating,style:{position:h,top:d??0,left:u??0,overflowY:"auto"},children:[A&&(0,Fe.jsx)("i",{className:A}),(0,Fe.jsx)("span",{className:"str-video__notification__message",children:n}),c?(0,Fe.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:c}):null]}),r]})},fH=e=>{let{className:t,type:n="spinner",text:r,tooltip:i}=e;return(0,Fe.jsxs)("div",{className:Sn("str-video__loading-indicator",t),title:i,children:[(0,Fe.jsx)("div",{className:Sn("str-video__loading-indicator__icon",n)}),r&&(0,Fe.jsx)("p",{className:"str-video__loading-indicator-text",children:r})]})},pH=e=>{let{children:t,referenceElement:n,tooltipClassName:r,tooltipPlacement:i="top",visible:o=!1}=e;const s=(0,a.useRef)(null),{refs:A,x:c,y:l,strategy:u,context:d}=qL({placement:i,strategy:"absolute",middleware:[zs({element:s})]});return(0,a.useEffect)((()=>{A.setReference(n)}),[n,A]),o?(0,Fe.jsxs)("div",{className:Sn("str-video__tooltip",r),ref:A.setFloating,style:{position:u,top:l??0,left:c??0},children:[(0,Fe.jsx)(zM,{ref:s,context:d,fill:"var(--str-video__tooltip--background-color)"}),t]}):null},gH=e=>{let{title:t,tooltipClassName:n,tooltipPlacement:r,tooltipDisabled:i,...o}=e;const{handleMouseEnter:s,handleMouseLeave:A,tooltipVisible:c}=function(){let{onMouseEnter:e,onMouseLeave:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,a.useState)(!1);return{handleMouseEnter:(0,a.useCallback)((t=>{r(!0),e?.(t)}),[e]),handleMouseLeave:(0,a.useCallback)((e=>{r(!1),t?.(e)}),[t]),tooltipVisible:n}}(),[l,u]=(0,a.useState)(null),d=!i&&Boolean(t)&&c;return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(pH,{referenceElement:l,visible:d,tooltipClassName:n,tooltipPlacement:r,children:t||""}),(0,Fe.jsx)("div",{ref:u,onMouseEnter:s,onMouseLeave:A,...o})]})},mH=((0,a.forwardRef)((function(e,t){return(0,Fe.jsx)(uH,{ref:t,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,Fe.jsx)(eH,{icon:"recording-off"})})})),e=>{let{caption:t}=e;const{t:n}=lD(),{toggleCallRecording:r,isAwaitingResponse:i,isCallRecordingInProgress:o}=(()=>{const e=ZN(),t=gD(),[n,r]=(0,a.useState)(!1);return(0,a.useEffect)((()=>{r((e=>!e&&e))}),[t]),{toggleCallRecording:(0,a.useCallback)((async()=>{try{r(!0),t?await(e?.stopRecording()):await(e?.startRecording())}catch(hY){throw console.error("Failed start recording",hY),hY}}),[e,t]),isAwaitingResponse:n,isCallRecordingInProgress:t}})();let s=t??n("Record call");return i&&(s=n(o?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,Fe.jsx)(CD,{requiredGrants:[jF,KF],children:(0,Fe.jsx)(uH,{active:o,caption:t,variant:"secondary","data-testid":o?"recording-stop-button":"recording-start-button",title:s,onClick:i?void 0:r,children:i?(0,Fe.jsx)(fH,{}):(0,Fe.jsx)(eH,{icon:o?"recording-on":"recording-off"})})})}),vH={":like:":"\ud83d\udc4d",":raise-hand:":"\u270b",":fireworks:":"\ud83c\udf89",":dislike:":"\ud83d\udc4e",":heart:":"\u2764\ufe0f",":smile:":"\ud83d\ude00"},yH=e=>{let{participant:{reaction:t,sessionId:n},hideAfterTimeoutInMs:r=5500,emojiReactionMap:i=vH}=e;const o=ZN();if((0,a.useEffect)((()=>{if(!o||!t)return;const e=setTimeout((()=>{o.resetReaction(n)}),r);return()=>{clearTimeout(e)}}),[o,r,t,n]),!t)return null;const{emoji_code:s}=t;return(0,Fe.jsx)("div",{className:"str-video__reaction",children:(0,Fe.jsx)("span",{className:"str-video__reaction__emoji",children:s&&i[s]})})},wH=((0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=lD();return(0,Fe.jsx)(gH,{title:r("Reactions"),tooltipDisabled:n,children:(0,Fe.jsx)(uH,{ref:t,active:n,variant:"primary",children:(0,Fe.jsx)(eH,{icon:"reactions"})})})})),(e,t)=>{const n=oQ(["react-sdk"]);return async()=>{try{await t()}catch(r){if(e.onError)return void e.onError(r);(function(e){return e instanceof DOMException&&"NotAllowedError"===e.name})(r)||n("error","Call control handler failed",r)}}});const bH=(0,a.createContext)({}),CH=e=>{const{children:t,icon:n,defaultSelectedLabel:r,defaultSelectedIndex:i,handleSelect:o}=e,[s,A]=(0,a.useState)(!1),[c,l]=(0,a.useState)(null),[u,d]=(0,a.useState)(i),[h,f]=(0,a.useState)(r),{refs:p,context:g}=_L({placement:"bottom-start",open:s,onOpenChange:A,whileElementsMounted:ks,middleware:[qs()]}),m=(0,a.useRef)([]),v=(0,a.useRef)([]),y=(0,a.useCallback)((e=>{d(e),o(e||0),A(!1),null!==e&&f(v.current[e])}),[o]),w=ML(g,{listRef:m,activeIndex:c,selectedIndex:u,onNavigate:l}),b=function(e,t){var n;const{open:r,dataRef:i}=e,{listRef:o,activeIndex:s,onMatch:A,onTypingChange:c,enabled:l=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:h=[],selectedIndex:f=null}=t,p=a.useRef(-1),g=a.useRef(""),m=a.useRef(null!=(n=null!=f?f:s)?n:-1),v=a.useRef(null),y=fM(A),w=fM(c),b=dM(u),C=dM(h);uM((()=>{r&&(tL(p),v.current=null,g.current="")}),[r]),uM((()=>{var e;r&&""===g.current&&(m.current=null!=(e=null!=f?f:s)?e:-1)}),[r,f,s]);const B=fM((e=>{e?i.current.typing||(i.current.typing=e,w(e)):i.current.typing&&(i.current.typing=e,w(e))})),S=fM((e=>{function t(e,t,n){const r=b.current?b.current(t,n):t.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(n.toLocaleLowerCase()))));return r?e.indexOf(r):-1}const n=o.current;if(g.current.length>0&&" "!==g.current[0]&&(-1===t(n,n,g.current)?B(!1):" "===e.key&&aM(e)),null==n||C.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;r&&" "!==e.key&&(aM(e),B(!0)),n.every((e=>{var t,n;return!e||(null==(t=e[0])?void 0:t.toLocaleLowerCase())!==(null==(n=e[1])?void 0:n.toLocaleLowerCase())}))&&g.current===e.key&&(g.current="",m.current=v.current),g.current+=e.key,tL(p),p.current=window.setTimeout((()=>{g.current="",m.current=v.current,B(!1)}),d);const i=m.current,s=t(n,[...n.slice((i||0)+1),...n.slice(0,(i||0)+1)],g.current);-1!==s?(y(s),v.current=s):" "!==e.key&&(g.current="",B(!1))})),E=a.useMemo((()=>({onKeyDown:S})),[S]),k=a.useMemo((()=>({onKeyDown:S,onKeyUp(e){" "===e.key&&B(!1)}})),[S,B]);return a.useMemo((()=>l?{reference:E,floating:k}:{}),[l,E,k])}(g,{listRef:v,activeIndex:c,selectedIndex:u,onMatch:e=>{s?l(e):y(e)}}),C=TL(g),B=function(e,t){void 0===t&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:A=!0,outsidePress:c=!0,outsidePressEvent:l="pointerdown",referencePress:u=!1,referencePressEvent:d="pointerdown",ancestorScroll:h=!1,bubbles:f,capture:p}=t,g=ZM(),m=fM("function"===typeof c?c:()=>!1),v="function"===typeof c?m:c,y=a.useRef(!1),w=a.useRef(!1),{escapeKey:b,outsidePress:C}=FL(f),{escapeKey:B,outsidePress:S}=FL(p),E=a.useRef(!1),k=fM((e=>{var t;if(!n||!s||!A||"Escape"!==e.key)return;if(E.current)return;const i=null==(t=o.current.floatingContext)?void 0:t.nodeId,a=g?oM(g.nodesRef.current,i):[];if(!b&&(e.stopPropagation(),a.length>0)){let e=!0;if(a.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}r(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),x=fM((e=>{var t;const n=()=>{var t;k(e),null==(t=ZD(e))||t.removeEventListener("keydown",n)};null==(t=ZD(e))||t.addEventListener("keydown",n)})),T=fM((e=>{var t;const n=y.current;y.current=!1;const s=w.current;if(w.current=!1,"click"===l&&s)return;if(n)return;if("function"===typeof v&&!v(e))return;const a=ZD(e),A="["+eL("inert")+"]",c=tM(i.floating).querySelectorAll(A);let u=Wo(a)?a:null;for(;u&&!rs(u);){const e=ss(u);if(rs(e)||!Wo(e))break;u=e}if(c.length&&Wo(a)&&!a.matches("html,body")&&!XD(a,i.floating)&&Array.from(c).every((e=>!XD(u,e))))return;if(Jo(a)&&F){const t=rs(a),n=is(a),r=/auto|scroll/,i=t||r.test(n.overflowX),o=t||r.test(n.overflowY),s=i&&a.clientWidth>0&&a.scrollWidth>a.clientWidth,A=o&&a.clientHeight>0&&a.scrollHeight>a.clientHeight,c="rtl"===n.direction,l=A&&(c?e.offsetX<=a.offsetWidth-a.clientWidth:e.offsetX>a.clientWidth),u=s&&e.offsetY>a.clientHeight;if(l||u)return}const d=null==(t=o.current.floatingContext)?void 0:t.nodeId,h=g&&oM(g.nodesRef.current,d).some((t=>{var n;return eM(e,null==(n=t.context)?void 0:n.elements.floating)}));if(eM(e,i.floating)||eM(e,i.domReference)||h)return;const f=g?oM(g.nodesRef.current,d):[];if(f.length>0){let e=!0;if(f.forEach((t=>{var n;null==(n=t.context)||!n.open||t.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}r(!1,e,"outside-press")})),I=fM((e=>{var t;const n=()=>{var t;T(e),null==(t=ZD(e))||t.removeEventListener(l,n)};null==(t=ZD(e))||t.addEventListener(l,n)}));a.useEffect((()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=b,o.current.__outsidePressBubbles=C;let e=-1;function t(e){r(!1,e,"ancestor-scroll")}function a(){window.clearTimeout(e),E.current=!0}function c(){e=window.setTimeout((()=>{E.current=!1}),ns()?5:0)}const u=tM(i.floating);A&&(u.addEventListener("keydown",B?x:k,B),u.addEventListener("compositionstart",a),u.addEventListener("compositionend",c)),v&&u.addEventListener(l,S?I:T,S);let d=[];return h&&(Wo(i.domReference)&&(d=As(i.domReference)),Wo(i.floating)&&(d=d.concat(As(i.floating))),!Wo(i.reference)&&i.reference&&i.reference.contextElement&&(d=d.concat(As(i.reference.contextElement)))),d=d.filter((e=>{var t;return e!==(null==(t=u.defaultView)?void 0:t.visualViewport)})),d.forEach((e=>{e.addEventListener("scroll",t,{passive:!0})})),()=>{A&&(u.removeEventListener("keydown",B?x:k,B),u.removeEventListener("compositionstart",a),u.removeEventListener("compositionend",c)),v&&u.removeEventListener(l,S?I:T,S),d.forEach((e=>{e.removeEventListener("scroll",t)})),window.clearTimeout(e)}}),[o,i,A,v,l,n,r,h,s,b,C,k,B,x,T,S,I]),a.useEffect((()=>{y.current=!1}),[v,l]);const U=a.useMemo((()=>({onKeyDown:k,...u&&{[IL[d]]:e=>{r(!1,e.nativeEvent,"reference-press")},..."click"!==d&&{onClick(e){r(!1,e.nativeEvent,"reference-press")}}}})),[k,r,u,d]),F=a.useMemo((()=>({onKeyDown:k,onMouseDown(){w.current=!0},onMouseUp(){w.current=!0},[UL[l]]:()=>{y.current=!0}})),[k,l]);return a.useMemo((()=>s?{reference:U,floating:F}:{}),[s,U,F])}(g),S=function(e,t){var n,r;void 0===t&&(t={});const{open:i,elements:o,floatingId:s}=e,{enabled:A=!0,role:c="dialog"}=t,l=GM(),u=(null==(n=o.domReference)?void 0:n.id)||l,d=a.useMemo((()=>{var e;return(null==(e=iM(o.floating))?void 0:e.id)||s}),[o.floating,s]),h=null!=(r=LL.get(c))?r:c,f=null!=XM(),p=a.useMemo((()=>"tooltip"===h||"label"===c?{["aria-"+("label"===c?"labelledby":"describedby")]:i?d:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":"alertdialog"===h?"dialog":h,"aria-controls":i?d:void 0,..."listbox"===h&&{role:"combobox"},..."menu"===h&&{id:u},..."menu"===h&&f&&{role:"menuitem"},..."select"===c&&{"aria-autocomplete":"none"},..."combobox"===c&&{"aria-autocomplete":"list"}}),[h,d,f,i,u,c]),g=a.useMemo((()=>{const e={id:d,...h&&{role:h}};return"tooltip"===h||"label"===c?e:{...e,..."menu"===h&&{"aria-labelledby":u}}}),[h,d,u,c]),m=a.useCallback((e=>{let{active:t,selected:n}=e;const r={role:"option",...t&&{id:d+"-fui-option"}};switch(c){case"select":return{...r,"aria-selected":t&&n};case"combobox":return{...r,"aria-selected":n}}return{}}),[d,c]);return a.useMemo((()=>A?{reference:p,floating:g,item:m}:{}),[A,p,g,m])}(g,{role:"listbox"}),{getReferenceProps:E,getFloatingProps:k,getItemProps:x}=function(e){void 0===e&&(e=[]);const t=e.map((e=>null==e?void 0:e.reference)),n=e.map((e=>null==e?void 0:e.floating)),r=e.map((e=>null==e?void 0:e.item)),i=a.useCallback((t=>RL(t,e,"reference")),t),o=a.useCallback((t=>RL(t,e,"floating")),n),s=a.useCallback((t=>RL(t,e,"item")),r);return a.useMemo((()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s})),[i,o,s])}([w,b,C,B,S]),T=(0,a.useMemo)((()=>({activeIndex:c,selectedIndex:u,getItemProps:x,handleSelect:y})),[c,u,x,y]);return(0,Fe.jsxs)("div",{className:"str-video__dropdown",children:[(0,Fe.jsxs)("div",{className:"str-video__dropdown-selected",ref:p.setReference,tabIndex:0,...E(),children:[(0,Fe.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[n&&(0,Fe.jsx)(eH,{className:"str-video__dropdown-selected__icon",icon:n}),h]}),(0,Fe.jsx)(eH,{className:"str-video__dropdown-selected__chevron",icon:s?"chevron-up":"chevron-down"})]}),(0,Fe.jsx)(bH.Provider,{value:T,children:s&&(0,Fe.jsx)(CL,{context:g,modal:!1,children:(0,Fe.jsx)("div",{className:"str-video__dropdown-list",ref:p.setFloating,...k(),children:(0,Fe.jsx)(_M,{elementsRef:m,labelsRef:v,children:t})})})})]})},BH=e=>{const{selected:t,label:n,icon:r}=e,{getItemProps:i,handleSelect:o}=(0,a.useContext)(bH),{ref:s,index:A}=RM();return(0,Fe.jsxs)("div",{className:Sn("str-video__dropdown-option",{"str-video__dropdown-option--selected":t}),ref:s,...i({onClick:()=>o(A)}),children:[r&&(0,Fe.jsx)(eH,{className:"str-video__dropdown-icon",icon:r}),(0,Fe.jsx)("span",{className:"str-video__dropdown-label",children:n})]})},SH=e=>{const{children:t,icon:n,handleSelect:r,defaultSelectedLabel:i,defaultSelectedIndex:o}=e;return(0,Fe.jsx)(CH,{icon:n,handleSelect:r,defaultSelectedIndex:o,defaultSelectedLabel:i,children:t})},EH=e=>{let{disabled:t,id:n,label:r,onChange:i,name:o,selected:s,defaultChecked:a,value:A}=e;return(0,Fe.jsxs)("label",{className:Sn("str-video__device-settings__option",{"str-video__device-settings__option--selected":s,"str-video__device-settings__option--disabled":t}),htmlFor:n,children:[(0,Fe.jsx)("input",{type:"radio",name:o,onChange:i,value:A,id:n,checked:s,defaultChecked:a,disabled:t}),r]})},kH=e=>{const{devices:t=[],selectedDeviceId:n,title:r,type:i,onChange:o}=e,{close:s}=WL(),{deviceList:a}=$L(t,n);return(0,Fe.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[r&&(0,Fe.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:r}),a.map((e=>(0,Fe.jsx)(EH,{id:`${i}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{const t=e.target.value;"default"!==t&&o?.(t),s?.()},name:i,selected:e.isSelected},e.deviceId)))]})},xH=e=>{const{devices:t=[],selectedDeviceId:n,title:r,onChange:i,icon:o}=e,{deviceList:s,selectedDeviceInfo:A,selectedIndex:c}=$L(t,n),l=(0,a.useCallback)((e=>{const t=s[e].deviceId;"default"!==t&&i?.(t)}),[s,i]);return(0,Fe.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,Fe.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:r}),(0,Fe.jsx)(SH,{icon:o,defaultSelectedIndex:c,defaultSelectedLabel:A.label,handleSelect:l,children:s.map((e=>(0,Fe.jsx)(BH,{icon:o,label:e.label,selected:e.isSelected},e.deviceId)))})]})},TH=e=>{const{visualType:t="list",icon:n,...r}=e;return"list"===t?(0,Fe.jsx)(kH,{...r}):(0,Fe.jsx)(xH,{...r,icon:n})},IH=e=>{let{title:t,visualType:n}=e;const{useCameraState:r}=bD(),{camera:i,devices:o,selectedDevice:s}=r();return(0,Fe.jsx)(TH,{devices:o||[],type:"videoinput",selectedDeviceId:s,onChange:async e=>{await i.select(e)},title:t,visualType:n,icon:"camera"})},UH=((0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=lD();return(0,Fe.jsx)(lH,{className:Sn("str-video__device-settings__button",{"str-video__device-settings__button--active":n}),title:r("Toggle device menu"),icon:"device-settings",ref:t})})),e=>{const{caption:t,onMenuToggle:n,...r}=e,{t:i}=lD(),{useMicrophoneState:o}=bD(),{microphone:s,optimisticIsMute:A,hasBrowserPermission:c,isPromptingPermission:l}=o(),[u,d]=(0,a.useState)(!1),h=wH(e,(()=>s.toggle()));return(0,Fe.jsx)(gH,{title:c?t??i("Mic"):i("Check your browser audio permissions"),tooltipDisabled:u,children:(0,Fe.jsxs)(uH,{active:A,caption:t,className:Sn(!c&&"str-video__device-unavailable"),variant:"secondary",disabled:!c,"data-testid":A?"preview-audio-unmute-button":"preview-audio-mute-button",onClick:h,...r,onMenuToggle:e=>{d(e),n?.(e)},children:[(0,Fe.jsx)(eH,{icon:A?"mic-off":"mic"}),!c&&(0,Fe.jsx)("span",{className:"str-video__no-media-permission",title:i("Check your browser audio permissions"),children:"!"}),l&&(0,Fe.jsx)("span",{className:"str-video__pending-permission",title:i("Waiting for permission"),children:"?"})]})})}),FH=e=>{const{caption:t,Menu:n=IH,menuPlacement:r="top",onMenuToggle:i,...o}=e,{t:s}=lD(),{useCameraState:A}=bD(),{camera:c,optimisticIsMute:l,hasBrowserPermission:u,isPromptingPermission:d}=A(),[h,f]=(0,a.useState)(!1),p=wH(e,(()=>c.toggle()));return(0,Fe.jsx)(gH,{title:u?t??s("Video"):s("Check your browser video permissions"),tooltipDisabled:h,children:(0,Fe.jsxs)(uH,{active:l,caption:t,className:Sn(!u&&"str-video__device-unavailable"),variant:"secondary","data-testid":l?"preview-video-unmute-button":"preview-video-mute-button",onClick:p,disabled:!u,Menu:n,menuPlacement:r,...o,onMenuToggle:e=>{f(e),i?.(e)},children:[(0,Fe.jsx)(eH,{icon:l?"camera-off":"camera"}),!u&&(0,Fe.jsx)("span",{className:"str-video__no-media-permission",title:s("Check your browser video permissions"),children:"!"}),d&&(0,Fe.jsx)("span",{className:"str-video__pending-permission",title:s("Waiting for permission"),children:"?"})]})})},_H=((0,a.forwardRef)((function(e,t){let{menuShown:n}=e;const{t:r}=lD();return(0,Fe.jsx)(gH,{title:r("Leave call"),tooltipDisabled:n,children:(0,Fe.jsx)(lH,{icon:n?"close":"call-end",variant:n?"active":"danger","data-testid":"leave-call-button",ref:t})})})),e=>{let{disabled:t,caption:n,onClick:r,onLeave:i}=e;const o=ZN(),{t:s}=lD(),A=(0,a.useCallback)((async e=>{r?r(e):o&&(await o.leave(),i?.())}),[r,i,o]);return(0,Fe.jsx)(lH,{disabled:t,icon:"call-end",variant:"danger",title:n??s("Leave call"),"data-testid":"cancel-call-button",onClick:A})});(0,a.lazy)((()=>n.e(55).then(n.bind(n,8055))));var RH;!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(RH||(RH={}));(0,a.forwardRef)((function(e,t){const{t:n}=lD(),{caption:r,menuShown:i}=e;return(0,Fe.jsx)(uH,{ref:t,active:i,caption:r,title:r||n("Statistics"),"data-testid":"stats-button",children:(0,Fe.jsx)(eH,{icon:"stats"})})})),(0,a.forwardRef)((function(e,t){return(0,Fe.jsx)(lH,{enabled:e.menuShown,icon:"ellipsis",ref:t})}));(0,a.forwardRef)((function(e,t){return(0,Fe.jsx)(lH,{enabled:e.menuShown,icon:"filter",ref:t})})),(0,a.createContext)(null),SQ.JOINING,SQ.RINGING,SQ.MIGRATING,SQ.RECONNECTING,SQ.RECONNECTING_FAILED,SQ.OFFLINE,SQ.IDLE,SQ.UNKNOWN,SQ.JOINED,SQ.LEFT,(0,a.forwardRef)((function(e,t){const{permissionRequests:n,handleUpdatePermission:r,...i}=e,{t:o}=lD();return(0,Fe.jsx)("div",{className:"str-video__permission-requests-list",ref:t,...i,children:n.map(((e,t)=>{const{user:n,permissions:i}=e;return(0,Fe.jsx)(a.Fragment,{children:i.map((t=>(0,Fe.jsxs)("div",{className:"str-video__permission-request",children:[(0,Fe.jsx)("div",{className:"str-video__permission-request__message",children:PH(n.name||n.id,t,o)}),(0,Fe.jsx)(QH,{className:"str-video__permission-request__button--allow",type:"button",onClick:r(e,"grant"),children:o("Allow")}),(0,Fe.jsx)(QH,{className:"str-video__permission-request__button--reject",type:"button",onClick:r(e,"revoke"),children:o("Revoke")}),(0,Fe.jsx)(QH,{className:"str-video__permission-request__button--reject",type:"button",onClick:r(e,"dismiss"),children:o("Dismiss")})]},t)))},`${n.id}/${t}`)}))})}));const QH=e=>{const{className:t,...n}=e;return(0,Fe.jsx)("button",{className:Sn("str-video__permission-request__button",t),...n})},PH=(e,t,n)=>{switch(t){case LF:return n("{{ userName }} is requesting to speak",{userName:e});case HF:return n("{{ userName }} is requesting to share their camera",{userName:e});case MF:return n("{{ userName }} is requesting to present their screen",{userName:e});default:return n("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:t})}},OH=e=>{let{as:t="div",className:n,children:r,...i}=e;return(0,Fe.jsx)(t,{...i,className:Sn("str-video",n),children:r})},NH=(0,a.forwardRef)((function(e,t){return(0,Fe.jsx)(lH,{enabled:e.menuShown,icon:"ellipsis",ref:t})})),DH=()=>{const e=ZN(),{t:t}=lD();return(0,Fe.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,Fe.jsx)(eH,{icon:"screen-share-off"}),(0,Fe.jsx)("span",{className:"str-video__screen-share-overlay__title",children:t("You are presenting your screen")}),(0,Fe.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,Fe.jsx)(eH,{icon:"close"})," ",t("Stop Screen Sharing")]})]})},MH=e=>{let{indicatorsVisible:t=!0,menuPlacement:n="bottom-start",showMenuButton:r=!0,ParticipantActionsContextMenu:i=nH}=e;const{participant:o,trackType:s}=VL(),a=_Q(o);return o.isLocalParticipant&&a&&"screenShareTrack"===s?(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)(DH,{}),(0,Fe.jsx)(LH,{indicatorsVisible:t})]}):(0,Fe.jsxs)(Fe.Fragment,{children:[r&&(0,Fe.jsx)(YL,{strategy:"fixed",placement:n,ToggleButton:NH,children:(0,Fe.jsx)(i,{})}),(0,Fe.jsx)(yH,{participant:o}),(0,Fe.jsx)(LH,{indicatorsVisible:t})]})},LH=e=>{let{indicatorsVisible:t=!0}=e;const{participant:n}=VL(),{isLocalParticipant:r,connectionQuality:i,pin:o,sessionId:s,name:a,userId:A}=n,c=ZN(),{t:l}=lD(),u=!!i&&Q_.ConnectionQuality[i].toLowerCase(),d=FQ(n),h=UQ(n),f=!!o&&o.isLocalPin;return(0,Fe.jsxs)(Fe.Fragment,{children:[(0,Fe.jsx)("div",{className:"str-video__participant-details",children:(0,Fe.jsxs)("span",{className:"str-video__participant-details__name",children:[a||A,t&&!d&&(0,Fe.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),t&&!h&&(0,Fe.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),t&&f&&(0,Fe.jsx)("span",{title:l("Unpin"),onClick:()=>c?.unpin(s),className:"str-video__participant-details__name--pinned"}),t&&(0,Fe.jsx)(HH,{})]})}),t&&(0,Fe.jsx)(hH,{isVisible:r&&i===Q_.ConnectionQuality.POOR,message:l("Poor connection quality"),children:u&&(0,Fe.jsx)("span",{className:Sn("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${u}`),title:u})})]})},HH=()=>{const{participant:e}=VL(),{isSpeaking:t,isDominantSpeaker:n}=e;return(0,Fe.jsxs)("span",{className:Sn("str-video__speech-indicator",t&&"str-video__speech-indicator--speaking",n&&"str-video__speech-indicator--dominant"),children:[(0,Fe.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,Fe.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,Fe.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},jH=(0,a.forwardRef)((function(e,t){let{participant:n,trackType:r="videoTrack",mirror:i,muteAudio:o,refs:{setVideoElement:s,setVideoPlaceholderElement:A}={},className:c,VideoPlaceholder:l,PictureInPicturePlaceholder:u,ParticipantViewUI:d=MH}=e;const{isLocalParticipant:h,isSpeaking:f,isDominantSpeaker:p,sessionId:g}=n,m=FQ(n),v=UQ(n),y=RQ(n),[w,b]=(0,a.useState)(null),[C,B]=(0,a.useState)(null),[S,E]=(0,a.useState)(null);(e=>{let{trackedElement:t,dynascaleManager:n,sessionId:r,trackType:i}=e;const o=ZN(),s=n??o?.dynascaleManager;(0,a.useEffect)((()=>{if(!t||!s||!o||"none"===i)return;const e=s.trackElementVisibility(t,r,i);return()=>{e()}}),[t,s,o,r,i])})({sessionId:g,trackedElement:w,trackType:r});const{useIncomingVideoSettings:k}=bD(),{isParticipantVideoEnabled:x}=k(),T=(0,a.useMemo)((()=>({participant:n,participantViewElement:w,videoElement:C,videoPlaceholderElement:S,trackType:r})),[C,S,n,w,r]),I=(0,a.useMemo)((()=>({setVideoElement:e=>{s?.(e),B(e)},setVideoPlaceholderElement:e=>{A?.(e),E(e)}})),[s,A]);return(0,Fe.jsx)("div",{"data-testid":"participant-view",ref:e=>{iH(t,e),b(e)},className:Sn("str-video__participant-view",p&&"str-video__participant-view--dominant-speaker",f&&"str-video__participant-view--speaking",!v&&"str-video__participant-view--no-video",!m&&"str-video__participant-view--no-audio",c),children:(0,Fe.jsxs)(KL.Provider,{value:T,children:[!h&&!o&&(0,Fe.jsxs)(Fe.Fragment,{children:[m&&(0,Fe.jsx)(HL,{participant:n,trackType:"audioTrack"}),y&&(0,Fe.jsx)(HL,{participant:n,trackType:"screenShareAudioTrack"})]}),(0,Fe.jsx)(cH,{VideoPlaceholder:l,PictureInPicturePlaceholder:u,participant:n,trackType:r,refs:I,enabled:h||"videoTrack"!==r||x(n.sessionId),mirror:i,autoPlay:!0}),rH(d)?(0,Fe.jsx)(d,{}):d]})})}));jH.displayName="ParticipantView";const KH=e=>{const{call:t,children:n}=e;return(0,Fe.jsx)(XN.Provider,{value:t,children:n})};KH.displayName="StreamCall";const VH={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu",Default:"Default","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},qH=e=>(0,Fe.jsx)(dD,{translationsOverrides:VH,...e});function $H(e,t){return"$and"in t?t.$and.every((t=>$H(e,t))):"$or"in t?t.$or.some((t=>$H(e,t))):"$not"in t?!$H(e,t.$not):function(e,t){let n=!0;for(const r of Object.keys(t)){const i=t[r],o=i&&"object"===typeof i,s=e[r];if(o&&"$eq"in i){n&&(n=i.$eq===s)}else if(o&&"$neq"in i){n&&(n=i.$neq!==s)}else if(o&&"$in"in i){n&&(n=i.$in.includes(s))}else if(o&&"$contains"in i)if(Array.isArray(s)){const e=i;n&&(n=s.includes(e.$contains))}else n=!1;else{n&&(n=i===s)}if(!n)return!1}return!0}(e,t)}qH.displayName="StreamVideo";const GH=e=>{let{excludeLocalParticipant:t=!1,filterParticipants:n}=e;const{useParticipants:r,useRemoteParticipants:i}=bD(),o=r(),s=i();return(0,a.useMemo)((()=>{const e=t?s:o;return n?zH(e,n):e}),[o,s,t,n])},zH=(e,t)=>{const n="function"===typeof t?t:e=>{return $H({userId:e.userId,isSpeaking:e.isSpeaking,isDominantSpeaker:e.isDominantSpeaker,name:e.name,roles:e.roles,isPinned:(n=e,!!n.pin&&(n.pin.isLocalPin||n.pin.pinnedAt>0)),hasVideo:UQ(e),hasAudio:FQ(e)},t);var n};return e.filter(n)},WH=e=>{(0,a.useEffect)((()=>{if(e)return e.setSortParticipantsBy($Q),()=>{JH(e)}}),[e])},JH=e=>{const t=yO.get(e.type);e.setSortParticipantsBy(t.options.sortParticipantsBy||VQ)},YH=(e,t)=>e.isLocalParticipant?1:t.isLocalParticipant?-1:0,XH=e=>{const{useParticipants:t,useRemoteParticipants:n,useHasOngoingScreenShare:r}=bD(),i=ZN(),o=t(),[s]=o,a=n(),A=r(),c=A?o.find(_Q):void 0;WH(i);const l=(0,Fe.jsx)(ZH,{showParticipantCount:e.showParticipantCount,showDuration:e.showDuration,showLiveBadge:e.showLiveBadge,showSpeakerName:e.showSpeakerName}),{floatingParticipantProps:u,muted:d}=e,h=A&&(0,Fe.jsx)(ZH,{showParticipantCount:u?.showParticipantCount??!1,showDuration:u?.showDuration??!1,showLiveBadge:u?.showLiveBadge??!1,showSpeakerName:u?.showSpeakerName??!0});return(0,Fe.jsxs)("div",{className:"str-video__livestream-layout__wrapper",children:[!d&&(0,Fe.jsx)(jL,{participants:a}),A&&c&&(0,Fe.jsx)(jH,{className:"str-video__livestream-layout__screen-share",participant:c,ParticipantViewUI:l,trackType:"screenShareTrack",muteAudio:!0}),s&&(0,Fe.jsx)(jH,{className:Sn(A&&Sn("str-video__livestream-layout__floating-participant",`str-video__livestream-layout__floating-participant--${u?.position??"top-right"}`)),participant:s,ParticipantViewUI:h||l,mirror:!1!==e.mirrorLocalParticipantVideo&&void 0,muteAudio:!0})]})},ZH=e=>{const{enableFullScreen:t=!0,showParticipantCount:n=!0,showDuration:r=!0,showLiveBadge:i=!0,showSpeakerName:o=!1}=e,{participant:s}=VL(),{useParticipantCount:a}=bD(),A=a(),c=ej(),l=tj(),{t:u}=lD();return(0,Fe.jsx)("div",{className:"str-video__livestream-layout__overlay",children:(0,Fe.jsxs)("div",{className:"str-video__livestream-layout__overlay__bar",children:[i&&(0,Fe.jsx)("span",{className:"str-video__livestream-layout__live-badge",children:u("Live")}),n&&(0,Fe.jsx)("span",{className:"str-video__livestream-layout__viewers-count",children:A}),o&&(0,Fe.jsx)("span",{className:"str-video__livestream-layout__speaker-name",title:s.name||s.userId||"",children:s.name||s.userId||""}),r&&(0,Fe.jsx)("span",{className:"str-video__livestream-layout__duration",children:nj(c)}),t&&(0,Fe.jsx)("span",{className:"str-video__livestream-layout__go-fullscreen",onClick:l})]})})};XH.displayName="LivestreamLayout";const ej=()=>{const{useIsCallLive:e,useCallSession:t}=bD(),n=e(),r=t(),[i,o]=(0,a.useState)((()=>{if(!r||!r.live_started_at)return 0;const e=new Date(r.live_started_at),t=new Date;return Math.floor((t.getTime()-e.getTime())/1e3)}));return(0,a.useEffect)((()=>{if(!n)return;const e=setInterval((()=>{o((e=>e+1))}),1e3);return()=>{clearInterval(e)}}),[n]),i},tj=()=>{const{participantViewElement:e}=VL(),[t,n]=(0,a.useState)(!1);return(0,a.useCallback)((()=>{t?document.exitFullscreen().then((()=>{n(!1)})):e?.requestFullscreen().then((()=>{n(!0)}))}),[t,e])},nj=e=>{const t=Math.floor(e/86400),n=Math.floor(e/3600),r=Math.floor(e%3600/60),i=e%60;return`${t?t+" ":""}${n?n+":":""}${r<10?"0":""}${r}:${i<10?"0":""}${i}`},rj=16,ij=e=>{let{group:t,mirror:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i,ParticipantViewUI:o}=e;return(0,Fe.jsx)("div",{className:Sn("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===t.length,"str-video__paginated-grid-layout--two-four":t.length>=2&&t.length<=4,"str-video__paginated-grid-layout--five-nine":t.length>=5&&t.length<=9}),children:t.map((e=>(0,Fe.jsx)(jH,{participant:e,muteAudio:!0,mirror:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i,ParticipantViewUI:o},e.sessionId)))})};(e=>{const{groupSize:t=(e.groupSize||0)>0&&e.groupSize||rj,excludeLocalParticipant:n=!1,filterParticipants:r,mirrorLocalParticipantVideo:i=!0,pageArrowsVisible:o=!0,VideoPlaceholder:s,ParticipantViewUI:A=MH,PictureInPicturePlaceholder:c,muted:l}=e,[u,d]=(0,a.useState)(0),[h,f]=(0,a.useState)(null),p=ZN(),{useRemoteParticipants:g}=bD(),m=g(),v=GH({excludeLocalParticipant:n,filterParticipants:r});WH(p),(0,a.useEffect)((()=>{if(!h||!p)return;const e=p.setViewport(h);return()=>e()}),[h,p]);const y=(0,a.useMemo)((()=>((e,t)=>{const n=Math.ceil(e.length/t);return Array.from({length:n},((n,r)=>e.slice(t*r,t*r+t)))})(v,t)),[v,t]),w=y.length;(0,a.useEffect)((()=>{u>w-1&&d(Math.max(0,w-1))}),[u,w]);const b=y[u],C=!!i&&void 0;return p?(0,Fe.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:f,children:[!l&&(0,Fe.jsx)(jL,{participants:m}),(0,Fe.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[o&&w>1&&(0,Fe.jsx)(lH,{icon:"caret-left",disabled:0===u,onClick:()=>d((e=>Math.max(0,e-1)))}),b&&(0,Fe.jsx)(ij,{group:b,mirror:C,VideoPlaceholder:s,ParticipantViewUI:A,PictureInPicturePlaceholder:c}),o&&w>1&&(0,Fe.jsx)(lH,{disabled:u===w-1,icon:"caret-right",onClick:()=>d((e=>Math.min(w-1,e+1)))})]})]}):null}).displayName="PaginatedGridLayout";const oj=()=>(0,Fe.jsx)(MH,{menuPlacement:"top-end"}),sj=e=>{let{ParticipantViewUIBar:t=oj,ParticipantViewUISpotlight:n=MH,VideoPlaceholder:r,PictureInPicturePlaceholder:i,participantsBarPosition:o="bottom",participantsBarLimit:s,mirrorLocalParticipantVideo:A=!0,excludeLocalParticipant:c=!1,filterParticipants:l,pageArrowsVisible:u=!0,muted:d}=e;const h=ZN(),{useParticipants:f,useRemoteParticipants:p}=bD(),g=f(),m=p(),[v,...y]=GH({excludeLocalParticipant:c,filterParticipants:l}),[w,b]=(0,a.useState)(null),[C,B]=(0,a.useState)(null),[S,E]=(0,a.useState)(null),k=v&&_Q(v),x=((e,t,n)=>{const[r,i]=(0,a.useState)({vertical:"number"===typeof n?n:null,horizontal:"number"===typeof n?n:null});return(0,a.useEffect)((()=>{if(!t||!e||"number"===typeof n||"undefined"===typeof n)return;let r=null,o=null;const s=new ResizeObserver(((n,s)=>{if(n.length>1){const e=t.firstChild;e&&(o=e.clientHeight,r=e.clientWidth,s.unobserve(t))}if(null===o||null===r)return;const a=Math.floor(e.clientHeight/o),A=Math.floor(e.clientWidth/r);i((e=>e.vertical!==a||e.horizontal!==A?{vertical:a,horizontal:A}:e))}));return s.observe(e),s.observe(t),()=>{s.disconnect()}}),[t,n,e]),r})(S,C,s),T="left"===o||"right"===o,I="top"===o||"bottom"===o;(0,a.useEffect)((()=>{if(!w||!h)return;const e=h.setViewport(w);return()=>e()}),[w,h]);const U=2===g.length;((e,t)=>{(0,a.useEffect)((()=>{if(e)return t?e.setSortParticipantsBy(TQ(OQ,YH)):e.setSortParticipantsBy(qQ),()=>{JH(e)}}),[e,t])})(h,U);let F=y;const _=T?x.vertical:x.horizontal;"undefined"!==typeof s&&null!==_&&(F=y.slice(0,_-(k?1:0)));const R=!!A&&void 0;if(!h)return null;const Q=o&&(F.length>0||k);return(0,Fe.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[!d&&(0,Fe.jsx)(jL,{participants:m}),(0,Fe.jsxs)("div",{className:Sn("str-video__speaker-layout",o&&`str-video__speaker-layout--variant-${o}`),children:[(0,Fe.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:v&&(0,Fe.jsx)(jH,{participant:v,muteAudio:!0,mirror:R,trackType:k?"screenShareTrack":"videoTrack",ParticipantViewUI:n,VideoPlaceholder:r,PictureInPicturePlaceholder:i})}),Q&&(0,Fe.jsxs)("div",{ref:E,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,Fe.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:b,children:(0,Fe.jsxs)("div",{ref:B,className:"str-video__speaker-layout__participants-bar",children:[k&&(0,Fe.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,Fe.jsx)(jH,{participant:v,ParticipantViewUI:t,VideoPlaceholder:r,PictureInPicturePlaceholder:i,mirror:R,muteAudio:!0})},v.sessionId),F.map((e=>(0,Fe.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,Fe.jsx)(jH,{participant:e,ParticipantViewUI:t,VideoPlaceholder:r,PictureInPicturePlaceholder:i,mirror:R,muteAudio:!0})},e.sessionId)))]})}),u&&T&&(0,Fe.jsx)(Aj,{scrollWrapper:w}),u&&I&&(0,Fe.jsx)(aj,{scrollWrapper:w})]})]})]})};sj.displayName="SpeakerLayout";const aj=e=>{let{scrollWrapper:t}=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[n,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(!e)return;const n=()=>{const n=e;return n.scrollWidth>n.clientWidth?n.scrollLeft<=t?r("start"):Math.abs(n.scrollWidth-n.scrollLeft-n.clientWidth)<=t?r("end"):void r("between"):r(null)},i=new ResizeObserver(n);return i.observe(e),e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n),i.disconnect()}}),[e,t]),n}(t);return(0,Fe.jsxs)(Fe.Fragment,{children:[n&&"start"!==n&&(0,Fe.jsx)(lH,{onClick:()=>{t?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),n&&"end"!==n&&(0,Fe.jsx)(lH,{onClick:()=>{t?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},Aj=e=>{let{scrollWrapper:t}=e;const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[n,r]=(0,a.useState)(null);return(0,a.useEffect)((()=>{if(!e)return;const n=()=>{const n=e;return n.scrollHeight>n.clientHeight?n.scrollTop<=t?r("top"):Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<=t?r("bottom"):void r("between"):r(null)},i=new ResizeObserver(n);return i.observe(e),e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n),i.disconnect()}}),[e,t]),n}(t);return(0,Fe.jsxs)(Fe.Fragment,{children:[n&&"top"!==n&&(0,Fe.jsx)(lH,{onClick:()=>{t?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),n&&"bottom"!==n&&(0,Fe.jsx)(lH,{onClick:()=>{t?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},cj=e=>{const{t:t}=lD(),{excludeLocalParticipant:n=!1,filterParticipants:r,mirrorLocalParticipantVideo:i=!0,VideoPlaceholder:o,ParticipantViewUI:s=MH}=e,[A,c]=(0,a.useState)(null),l=ZN(),u=GH({excludeLocalParticipant:n,filterParticipants:r}),d=u.find((e=>_Q(e)));WH(l),(0,a.useEffect)((()=>{if(A&&l)return l.setViewport(A)}),[A,l]);const h=!!i&&void 0;return l?(0,Fe.jsxs)("div",{className:"str-video__pip-layout",ref:c,children:[d&&(d.isLocalParticipant?(0,Fe.jsxs)("div",{className:"str-video__pip-screen-share-local",children:[(0,Fe.jsx)(eH,{icon:"screen-share-off"}),(0,Fe.jsx)("span",{className:"str-video__pip-screen-share-local__title",children:t("You are presenting your screen")})]}):(0,Fe.jsx)(jH,{participant:d,trackType:"screenShareTrack",muteAudio:!0,mirror:!1,VideoPlaceholder:o,ParticipantViewUI:s})),u.map((e=>(0,Fe.jsx)(jH,{participant:e,muteAudio:!0,mirror:h,VideoPlaceholder:o,ParticipantViewUI:s},e.sessionId)))]}):null};cj.displayName="PipLayout.Pip";const lj=()=>{const{useRemoteParticipants:e}=bD(),t=e();return(0,Fe.jsx)(jL,{participants:t})};lj.displayName="PipLayout.Host";const[uj,dj,hj]="1.17.1".split(".");var fj;fj={type:Q_.SdkType.REACT,major:uj,minor:dj,patch:hj},dP=fj;var pj=n(5239),gj=n.n(pj);console.log(window.location.href);const mj=(()=>{const e=new Date;return`${String(e.getMonth()+1).padStart(2,"0")}${String(e.getDate()).padStart(2,"0")}-${String(e.getHours()).padStart(2,"0")}${String(e.getMinutes()).padStart(2,"0")}`})(),vj=new aN({apiKey:"mmhfdzb5evj2",user:{id:"Ben_Skywalker",name:"Doctor"},token:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJodHRwczovL3Byb250by5nZXRzdHJlYW0uaW8iLCJzdWIiOiJ1c2VyL0Jlbl9Ta3l3YWxrZXIiLCJ1c2VyX2lkIjoiQmVuX1NreXdhbGtlciIsInZhbGlkaXR5X2luX3NlY29uZHMiOjYwNDgwMCwiaWF0IjoxNzQ3ODY0ODY3LCJleHAiOjE3NDg0Njk2Njd9.EIcmcoGIrrb21i_M70DE5nvoc7IEMYqXh3gOSWidaHM"}),yj=vj.call("default","jGdKsruxWg4H");function wj(){return(0,Fe.jsx)(qH,{client:vj,children:(0,Fe.jsx)(KH,{call:yj,children:(0,Fe.jsx)(bj,{})})})}yj.join({create:!0});const bj=()=>{const{useCallCallingState:e}=bD(),t=e(),n=(0,a.useRef)(null),r=(0,a.useRef)(null),[i,o]=(0,a.useState)(!1),s=(0,a.useRef)(null),A=(0,a.useRef)([]),c=(0,a.useRef)(null),l=(0,a.useRef)(null),u=(0,a.useRef)(null),d=(0,a.useRef)(0),h=e=>{const t=new MediaRecorder(e,{mimeType:"video/webm"});A.current=[],t.ondataavailable=async e=>{if(e.data.size>0){const t=new Blob([e.data],{type:"video/webm"}),n=new FormData,r=d.current++;n.append("chunk",t,`recording-${r}.webm`);try{await fetch(`https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net/upload-chunk/Guest-${mj}/${r}`,{method:"POST",body:n})}catch(dY){console.error("Upload error:",dY)}}},t.start(),s.current=t},f=()=>{var e,t;clearInterval(c.current),clearInterval(l.current),"recording"===(null===(e=s.current)||void 0===e?void 0:e.state)&&s.current.stop(),null===(t=u.current)||void 0===t||t.getTracks().forEach((e=>e.stop())),o(!1)};return t!==SQ.JOINED?(console.log("Joining"),(0,Fe.jsx)("div",{children:"Loading..."})):(0,Fe.jsxs)(OH,{children:[(0,Fe.jsx)("canvas",{ref:r,style:{display:"none"}}),(0,Fe.jsx)("div",{ref:n,children:(0,Fe.jsx)(sj,{participantsBarPosition:"bottom"})}),(0,Fe.jsxs)("div",{style:{display:"flex",gap:"10px",justifyContent:"center",marginTop:"10px"},children:[(0,Fe.jsx)(UH,{}),(0,Fe.jsx)(FH,{}),(0,Fe.jsx)("div",{onClick:async()=>{console.log("Recording Button clicked"),i?f():await(async()=>{if(!n.current||!r.current)return;o(!0);const{offsetWidth:e,offsetHeight:t}=n.current;r.current.width=e,r.current.height=t,l.current=setInterval((()=>{gj()(n.current).then((n=>{const i=r.current.getContext("2d");i.clearRect(0,0,e,t),i.drawImage(n,0,0,e,t)}))}),100);const i=r.current.captureStream(60),a=await navigator.mediaDevices.getUserMedia({audio:!0}),A=new MediaStream([...i.getVideoTracks(),...a.getAudioTracks()]);u.current=A,h(A),c.current=setInterval((()=>{var e;"recording"===(null===(e=s.current)||void 0===e?void 0:e.state)&&(s.current.stop(),h(A))}),5e3),o(!0)})()},children:(0,Fe.jsx)(mH,{})}),(0,Fe.jsx)("div",{onClick:()=>{f(),B("/post-call")},children:(0,Fe.jsx)(_H,{})})]})]})},Cj=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:i=!0}=e??{};let o=new Od;return t&&("boolean"===typeof t?o.push(Ku):o.push(Vu(t.extraArgument))),o},{reducer:n,middleware:r,devTools:i=!0,duplicateMiddlewareCheck:o=!0,preloadedState:s,enhancers:a}=e||{};let A,c;if("function"===typeof n)A=n;else{if(!Du(n))throw new Error(Jd(1));A=Lu(n)}c="function"===typeof r?r(t):t();let l=Hu;i&&(l=Qd({trace:!1,..."object"===typeof i&&i}));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(Qu(15))};const s={getState:i.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,...n)}},a=t.map((e=>e(s)));return o=Hu(...a)(i.dispatch),{...i,dispatch:o}}}(...c),d=Hd(u);return Mu(A,s,l(..."function"===typeof a?a(d):d()))}({reducer:{appointments:Zd.reducer,patients:Rb.reducer}});function Bj(){const e=new URLSearchParams(window.location.search).get("role");return(0,Fe.jsxs)("div",{className:"h-screen flex overflow-hidden",children:["patient"!==e&&(0,Fe.jsx)(ol,{}),(0,Fe.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Fe.jsx)(Al,{}),(0,Fe.jsx)("main",{className:"flex-1 overflow-y-auto bg-neutral-50 p-6",children:(0,Fe.jsxs)(H,{children:[(0,Fe.jsx)(D,{path:"/",component:Ch}),(0,Fe.jsx)(D,{path:"/appointments",component:fb}),(0,Fe.jsx)(D,{path:"/video-call",component:Xb}),(0,Fe.jsx)(D,{path:"/patients",component:Pb}),(0,Fe.jsx)(D,{path:"/reports",component:Ob}),(0,Fe.jsx)(D,{path:"/settings",component:Nb}),(0,Fe.jsx)(D,{path:"/meeting-room",component:wj}),(0,Fe.jsx)(D,{path:"/post-call",component:Yc}),(0,Fe.jsx)(D,{component:Db})]})})]})]})}function Sj(){const e=cE(),{instance:t,accounts:n}=AE(),[r,i]=(0,a.useState)(!1),o=new Ue;return(0,a.useEffect)((()=>{e&&t.acquireTokenSilent({...hE,account:n[0]}).then((e=>{console.log(e.idTokenClaims),e.idTokenClaims.roles&&"SeismicDoctors"in e.idTokenClaims.roles&&i(!0)}))}),[e]),(0,Fe.jsxs)(Fe.Fragment,{children:[r?(0,Fe.jsx)(lE,{children:"Sign is successful but you dont previlaged role to view this app. Try contacting your admin"}):(0,Fe.jsx)(lE,{children:(0,Fe.jsxs)(Re,{client:o,children:[(0,Fe.jsx)(Bj,{}),(0,Fe.jsx)(Er,{})]})}),(0,Fe.jsxs)(uE,{children:[(0,Fe.jsx)("h5",{className:"card-title",children:"Please sign-in to see your profile information."}),(0,Fe.jsx)(pE,{})]})]})}const Ej=function(){return(0,Fe.jsx)(dh,{store:Cj,children:(0,Fe.jsx)("div",{className:"App",children:(0,Fe.jsx)(Sj,{})})})};var kj=n(2285),xj=n.n(kj),Tj=n(6382);const Ij="AAD",Uj="OIDC",Fj="EAR",_j="none",Rj="client_info_decoding_error",Qj="client_info_empty_error",Pj="token_parsing_error",Oj="null_or_empty_token",Nj="endpoints_resolution_error",Dj="network_error",Mj="openid_config_error",Lj="hash_not_deserialized",Hj="invalid_state",jj="state_mismatch",Kj="state_not_found",Vj="nonce_mismatch",qj="auth_time_not_found",$j="max_age_transpired",Gj="multiple_matching_tokens",zj="multiple_matching_accounts",Wj="multiple_matching_appMetadata",Jj="request_cannot_be_made",Yj="cannot_remove_empty_scope",Xj="cannot_append_scopeset",Zj="empty_input_scopeset",eK="device_code_polling_cancelled",tK="device_code_expired",nK="device_code_unknown_error",rK="no_account_in_silent_request",iK="invalid_cache_record",oK="invalid_cache_environment",sK="no_account_found",aK="no_crypto_object",AK="unexpected_credential_type",cK="invalid_assertion",lK="invalid_client_credential",uK="token_refresh_required",dK="user_timeout_reached",hK="token_claims_cnf_required_for_signedjwt",fK="authorization_code_missing_from_server_response",pK="binding_key_not_removed",gK="end_session_endpoint_not_supported",mK="key_id_missing",vK="no_network_connectivity",yK="user_canceled",wK="missing_tenant_id_error",bK="method_not_implemented",CK="nested_app_auth_bridge_disabled",BK={[Rj]:"The client info could not be parsed/decoded correctly",[Qj]:"The client info was empty",[Pj]:"Token cannot be parsed",[Oj]:"The token is null or empty",[Nj]:"Endpoints cannot be resolved",[Dj]:"Network request failed",[Mj]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Lj]:"The hash parameters could not be deserialized",[Hj]:"State was not the expected format",[jj]:"State mismatch error",[Kj]:"State not found",[Vj]:"Nonce mismatch error",[qj]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[$j]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[Gj]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[zj]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Wj]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[Jj]:"Token request cannot be made without authorization code or refresh token.",[Yj]:"Cannot remove null or empty scope from ScopeSet",[Xj]:"Cannot append ScopeSet",[Zj]:"Empty input ScopeSet cannot be processed",[eK]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[tK]:"Device code is expired.",[nK]:"Device code stopped polling for unknown reasons.",[rK]:"Please pass an account object, silent flow is not supported without account information",[iK]:"Cache record object was null or undefined.",[oK]:"Invalid environment when attempting to create cache entry",[sK]:"No account found in cache for given key.",[aK]:"No crypto object detected.",[AK]:"Unexpected credential type.",[cK]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[lK]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[uK]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[dK]:"User defined timeout for device code polling reached",[hK]:"Cannot generate a POP jwt if the token_claims are not populated",[fK]:"Server response does not contain an authorization code to proceed",[pK]:"Could not remove the credential's binding key from storage.",[gK]:"The provided authority does not support logout",[mK]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[vK]:"No network connectivity. Check your internet connection.",[yK]:"User cancelled the flow.",[wK]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[bK]:"This method has not been implemented",[CK]:"The nested app auth bridge is disabled"};class SK extends dB{constructor(e,t){super(e,t?`${BK[e]}: ${t}`:BK[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,SK.prototype)}}function EK(e,t){return new SK(e,t)}const kK={createNewGuid:()=>{throw EK(bK)},base64Decode:()=>{throw EK(bK)},base64Encode:()=>{throw EK(bK)},base64UrlEncode:()=>{throw EK(bK)},encodeKid:()=>{throw EK(bK)},async getPublicKeyThumbprint(){throw EK(bK)},async removeTokenBindingKey(){throw EK(bK)},async clearKeystore(){throw EK(bK)},async signJwt(){throw EK(bK)},async hashString(){throw EK(bK)}},xK="@azure/msal-common",TK="15.6.0";function IK(e,t){const n=function(e){if(!e)throw EK(Oj);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw EK(Pj);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(dY){throw EK(Pj)}}function UK(e,t){if(0===t||Date.now()-3e5>e+t)throw EK($j)}function FK(){return Math.round((new Date).getTime()/1e3)}function _K(e){return e.getTime()/1e3}function RK(e){return e?new Date(1e3*Number(e)):new Date}function QK(e,t){const n=Number(e)||0;return FK()+t>n}function PK(e){return[LK(e),HK(e),jK(e),KK(e),VK(e)].join(UC).toLowerCase()}function OK(e,t,n,r,i){return{credentialType:_C.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:i}}function NK(e,t,n,r,i,o,s,a,A,c,l,u,d,h,f){const p={homeAccountId:e,credentialType:_C.ACCESS_TOKEN,secret:n,cachedAt:FK().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:i,target:o,tokenType:l||jC.BEARER};if(u&&(p.userAssertionHash=u),c&&(p.refreshOn=c.toString()),h&&(p.requestedClaims=h,p.requestedClaimsHash=f),p.tokenType?.toLowerCase()!==jC.BEARER.toLowerCase())switch(p.credentialType=_C.ACCESS_TOKEN_WITH_AUTH_SCHEME,p.tokenType){case jC.POP:const e=IK(n,A);if(!e?.cnf?.kid)throw EK(hK);p.keyId=e.cnf.kid;break;case jC.SSH:p.keyId=d}return p}function DK(e,t,n,r,i,o,s){const a={credentialType:_C.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return o&&(a.userAssertionHash=o),i&&(a.familyId=i),s&&(a.expiresOn=s.toString()),a}function MK(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function LK(e){return[e.homeAccountId,e.environment].join(UC).toLowerCase()}function HK(e){const t=e.credentialType===_C.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(UC).toLowerCase()}function jK(e){return(e.target||"").toLowerCase()}function KK(e){return(e.requestedClaimsHash||"").toLowerCase()}function VK(e){return e.tokenType&&e.tokenType.toLowerCase()!==jC.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function qK(){return FK()+OC}function $K(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function GK(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function zK(e){return e.expiresAt<=FK()}const WK="redirect_uri_empty",JK="claims_request_parsing_error",YK="authority_uri_insecure",XK="url_parse_error",ZK="empty_url_error",eV="empty_input_scopes_error",tV="invalid_prompt_value",nV="invalid_claims",rV="token_request_empty",iV="logout_request_empty",oV="invalid_code_challenge_method",sV="pkce_params_missing",aV="invalid_cloud_discovery_metadata",AV="invalid_authority_metadata",cV="untrusted_authority",lV="missing_ssh_jwk",uV="missing_ssh_kid",dV="missing_nonce_authentication_header",hV="invalid_authentication_header",fV="cannot_set_OIDCOptions",pV="cannot_allow_platform_broker",gV="authority_mismatch",mV={[WK]:"A redirect URI is required for all calls, and none has been set.",[JK]:"Could not parse the given claims request object.",[YK]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[XK]:"URL could not be parsed into appropriate segments.",[ZK]:"URL was empty or null.",[eV]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[tV]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[nV]:"Given claims parameter must be a stringified JSON object.",[rV]:"Token request was empty and not found in cache.",[iV]:"The logout request was null or undefined.",[oV]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[sV]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[aV]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[AV]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[cV]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[lV]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[uV]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[dV]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[hV]:"Invalid authentication header provided",[fV]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[pV]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[gV]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class vV extends dB{constructor(e){super(e,mV[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,vV.prototype)}}function yV(e){return new vV(e)}class wV{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(hY){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,i]=e.split(/=(.+)/g,2);n&&i&&(t[r(n)]=r(i))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(hY){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class bV{constructor(e){const t=e?wV.trimArrayEntries([...e]):[],n=t?wV.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw yV(eV);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||Zb.EMPTY_STRING).split(" ");return new bV(t)}static createSearchScopes(e){const t=new bV(e);return t.containsOnlyOIDCScopes()?t.removeScope(Zb.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new bV(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return oC.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(hY){throw EK(Xj)}}removeScope(e){if(!e)throw EK(Yj);this.scopes.delete(e.trim())}removeOIDCScopes(){oC.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw EK(Zj);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw EK(Zj);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return Zb.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function CV(e,t){if(!e)throw EK(Qj);try{const n=t(e);return JSON.parse(n)}catch(hY){throw EK(Rj)}}function BV(e){if(!e)throw EK(Rj);const t=e.split(FC,2);return{uid:t[0],utid:t.length<2?Zb.EMPTY_STRING:t[1]}}function SV(e,t){return!!e&&!!t&&e===t.split(".")[1]}function EV(e,t,n,r){if(r){const{oid:t,sub:n,tid:i,name:o,tfp:s,acr:a}=r,A=i||s||a||"";return{tenantId:A,localAccountId:t||n||"",name:o,isHomeTenant:SV(A,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:SV(n,e)}}function kV(e,t,n,r){let i=e;if(t){const{isHomeTenant:n,...r}=t;i={...e,...r}}if(n){const{isHomeTenant:t,...o}=EV(e.homeAccountId,e.localAccountId,e.tenantId,n);return i={...i,...o,idTokenClaims:n,idToken:r},i}return i}const xV=0,TV=1,IV=2,UV=3;function FV(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class _V{generateAccountId(){return[this.homeAccountId,this.environment].join(UC).toLowerCase()}generateAccountKey(){return _V.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(UC).toLowerCase()}static createAccount(e,t,n){const r=new _V;let i;t.authorityType===TV?r.authorityType=TC:t.protocolMode===Uj?r.authorityType=IC:r.authorityType=xC,e.clientInfo&&n&&(i=CV(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const o=e.environment||t&&t.getPreferredCache();if(!o)throw EK(oK);r.environment=o,r.realm=i?.utid||FV(e.idTokenClaims)||"",r.localAccountId=i?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=s||a||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=EV(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new _V;return r.authorityType=e.authorityType||IC,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,i){if(t!==TV&&t!==IV){if(e)try{const t=CV(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(hY){}n.warning("No client info in response")}return i?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},i=t.idTokenClaims||{};r=n.iat===i.iat&&n.nonce===i.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function RV(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function QV(e){if(!e||e.indexOf("=")<0)return null;try{const t=RV(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(hY){throw EK(Lj)}return null}function PV(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,i)=>{!t&&n&&i in n?r.push(`${i}=${e}`):r.push(`${i}=${encodeURIComponent(e)}`)})),r.join("&")}class OV{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw yV(ZK);e.includes("#")||(this._urlString=OV.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return wV.endsWith(t,"?")?t=t.slice(0,-1):wV.endsWith(t,"?/")&&(t=t.slice(0,-2)),wV.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(hY){throw yV(XK)}if(!e.HostNameAndPort||!e.PathSegments)throw yV(XK);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw yV(YK)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return OV.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==hC&&n[0]!==fC||(n[0]=e),OV.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw yV(XK);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw yV(XK);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Zb.FORWARD_SLASH){const n=new OV(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new OV(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!QV(e)}}const NV={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},DV={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},MV=new Set;function LV(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const i=HV(t,e);if(i)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),i.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function HV(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}DV.metadata.forEach((e=>{e.aliases.forEach((e=>{MV.add(e)}))}));const jV="cache_quota_exceeded",KV="cache_error_unknown",VV={[jV]:"Exceeded cache storage capacity.",[KV]:"Unexpected error occurred when using cache storage."};class qV extends Error{constructor(e,t){const n=t||(VV[e]?VV[e]:VV[KV]);super(`${e}: ${n}`),Object.setPrototypeOf(this,qV.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class $V{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(xK,TK),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let i,o=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const s=this.getIdToken(e,t,n.tenantId);return s&&(i=IK(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(i,r))?null:(o=kV(e,n,i,s?.secret),o)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let i=r.tenantProfiles||new Map;const o=this.getTokenKeys();if(t){const e=i.get(t);if(!e)return[];i=new Map([[t,e]])}const s=[];return i.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,o,e,n);t&&s.push(t)})),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw EK(iK);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(hY){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),hY instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${hY.message}`,t),"QuotaExceededError"===hY.name||"NS_ERROR_DOM_QUOTA_REACHED"===hY.name||hY.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new qV(jV)):new qV(hY.name,hY.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${hY}`,t),new qV(KV))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),i=bV.fromString(e.target),o=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){bV.fromString(t.target).intersectingScopeSets(i)&&o.push(this.removeAccessToken(e))}})),await Promise.all(o),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const i={localAccountId:e?.localAccountId,name:e?.name},o=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,i)));o&&0===o.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(UC).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(UC).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(_C.ID_TOKEN.toLowerCase())&&-1===t.indexOf(_C.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(_C.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(_C.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(_C.REFRESH_TOKEN.toLowerCase())>-1){const e=`${_C.REFRESH_TOKEN}${UC}${this.clientId}${UC}`,n=`${_C.REFRESH_TOKEN}${UC}${QC}${UC}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===_C.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===jC.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===_C.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===jC.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw EK(pK)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=_V.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getIdToken called");const o={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:_C.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(o,t),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&i&&r.addFields({multiMatchedID:s.size},i),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,i,o){this.commonLogger.trace("CacheManager - getAccessToken called");const s=bV.createSearchScopes(t.scopes),a=t.authenticationScheme||jC.BEARER,A=a&&a.toLowerCase()!==jC.BEARER.toLowerCase()?_C.ACCESS_TOKEN_WITH_AUTH_SCHEME:_C.ACCESS_TOKEN,c={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:A,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},l=n&&n.accessToken||this.getTokenKeys().accessToken,u=[];l.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,c,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,c)&&u.push(t)}}));const d=u.length;return d<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):d>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),u.forEach((e=>{this.removeAccessToken(PK(e))})),i&&o&&i.addFields({multiMatchedAT:u.length},o),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),u[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,i){this.commonLogger.trace("CacheManager - getRefreshToken called");const o=t?QC:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:_C.REFRESH_TOKEN,clientId:this.clientId,familyId:o},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,A=[];a.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&A.push(t)}}));const c=A.length;return c<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(c>1&&r&&i&&r.addFields({multiMatchedRT:c},i),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),A[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),i=r.length;if(i<1)return null;if(i>1)throw EK(Wj);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==QC)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const i=new OV(r).getUrlComponents().HostNameAndPort;n=LV(i,e.cloudDiscoveryMetadata?.metadata,NC,t)||LV(i,DV.metadata,LC,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==_C.ACCESS_TOKEN&&e.credentialType!==_C.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return bV.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(RC)}isAuthorityMetadata(e){return-1!==e.indexOf(PC)}generateAuthorityMetadataCacheKey(e){return`${PC}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class GV extends $V{async setAccount(){throw EK(bK)}getAccount(){throw EK(bK)}async setIdTokenCredential(){throw EK(bK)}getIdTokenCredential(){throw EK(bK)}async setAccessTokenCredential(){throw EK(bK)}getAccessTokenCredential(){throw EK(bK)}async setRefreshTokenCredential(){throw EK(bK)}getRefreshTokenCredential(){throw EK(bK)}setAppMetadata(){throw EK(bK)}getAppMetadata(){throw EK(bK)}setServerTelemetry(){throw EK(bK)}getServerTelemetry(){throw EK(bK)}setAuthorityMetadata(){throw EK(bK)}getAuthorityMetadata(){throw EK(bK)}getAuthorityMetadataKeys(){throw EK(bK)}setThrottlingCache(){throw EK(bK)}getThrottlingCache(){throw EK(bK)}removeItem(){throw EK(bK)}getKeys(){throw EK(bK)}getAccountKeys(){throw EK(bK)}getTokenKeys(){throw EK(bK)}}const zV={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},WV={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:SS.Info,correlationId:Zb.EMPTY_STRING},JV={claimsBasedCachingEnabled:!1},YV={async sendGetRequestAsync(){throw EK(bK)},async sendPostRequestAsync(){throw EK(bK)}},XV={sku:Zb.SKU,version:TK,cpu:Zb.EMPTY_STRING,os:Zb.EMPTY_STRING},ZV={clientSecret:Zb.EMPTY_STRING,clientAssertion:void 0},eq={azureCloudInstance:_j,tenant:`${Zb.DEFAULT_COMMON_TENANT}`},tq={application:{appName:"",appVersion:""}};function nq(e){return e.authOptions.authority.options.protocolMode===Uj}const rq={sendGetRequestAsync:()=>Promise.reject(EK(bK)),sendPostRequestAsync:()=>Promise.reject(EK(bK))},iq="acquireTokenByCode",oq="acquireTokenByRefreshToken",sq="acquireTokenSilent",aq="acquireTokenSilentAsync",Aq="acquireTokenPopup",cq="acquireTokenPreRedirect",lq="acquireTokenRedirect",uq="cryptoOptsGetPublicKeyThumbprint",dq="cryptoOptsSignJwt",hq="silentCacheClientAcquireToken",fq="silentIframeClientAcquireToken",pq="awaitConcurrentIframe",gq="silentRefreshClientAcquireToken",mq="ssoSilent",vq="standardInteractionClientGetDiscoveredAuthority",yq="nativeInteractionClientAcquireToken",wq="networkClientSendPostRequestAsync",bq="refreshTokenClientExecutePostToTokenEndpoint",Cq="authorizationCodeClientExecutePostToTokenEndpoint",Bq="refreshTokenClientExecuteTokenRequest",Sq="refreshTokenClientAcquireToken",Eq="refreshTokenClientAcquireTokenWithCachedRefreshToken",kq="refreshTokenClientAcquireTokenByRefreshToken",xq="refreshTokenClientCreateTokenRequestBody",Tq="acquireTokenFromCache",Iq="silentFlowClientAcquireCachedToken",Uq="silentFlowClientGenerateResultFromCacheRecord",Fq="acquireTokenBySilentIframe",_q="initializeBaseRequest",Rq="initializeSilentRequest",Qq="initializeClientApplication",Pq="initializeCache",Oq="silentIframeClientTokenHelper",Nq="silentHandlerInitiateAuthRequest",Dq="silentHandlerMonitorIframeForHash",Mq="silentHandlerLoadFrame",Lq="silentHandlerLoadFrameSync",Hq="standardInteractionClientCreateAuthCodeClient",jq="standardInteractionClientGetClientConfiguration",Kq="standardInteractionClientInitializeAuthorizationRequest",Vq="getAuthCodeUrl",qq="getStandardParams",$q="handleCodeResponseFromServer",Gq="handleCodeResponse",zq="handleResponseEar",Wq="handleResponsePlatformBroker",Jq="handleResponseCode",Yq="updateTokenEndpointAuthority",Xq="authClientAcquireToken",Zq="authClientExecuteTokenRequest",e$="authClientCreateTokenRequestBody",t$="popTokenGenerateCnf",n$="popTokenGenerateKid",r$="handleServerTokenResponse",i$="deserializeResponse",o$="authorityFactoryCreateDiscoveredInstance",s$="authorityResolveEndpointsAsync",a$="authorityGetCloudDiscoveryMetadataFromNetwork",A$="authorityUpdateCloudDiscoveryMetadata",c$="authorityGetEndpointMetadataFromNetwork",l$="authorityUpdateEndpointMetadata",u$="authorityUpdateMetadataWithRegionalInformation",d$="regionDiscoveryDetectRegion",h$="regionDiscoveryGetRegionFromIMDS",f$="regionDiscoveryGetCurrentVersion",p$="acquireTokenByCodeAsync",g$="handleRedirectPromise",m$="handleNativeRedirectPromise",v$="nativeMessageHandlerHandshake",y$="removeHiddenIframe",w$="clearTokensAndKeysWithClaims",b$="cacheManagerGetRefreshToken",C$="importExistingCache",B$="setUserData",S$="localStorageUpdated",E$="generatePkceCodes",k$="generateCodeVerifier",x$="generateCodeChallengeFromVerifier",T$="sha256Digest",I$="getRandomValues",U$="generateHKDF",F$="generateBaseKey",_$="base64Decode",R$="urlEncodeArr",Q$="encrypt",P$="decrypt",O$="generateEarKey",N$="decryptEarResponse",D$=(new Map([[iq,"ATByCode"],[oq,"ATByRT"],[sq,"ATS"],[aq,"ATSAsync"],[Aq,"ATPopup"],[lq,"ATRedirect"],[uq,"CryptoGetPKThumb"],[dq,"CryptoSignJwt"],[hq,"SltCacheClientAT"],[fq,"SltIframeClientAT"],[gq,"SltRClientAT"],[mq,"SsoSlt"],[vq,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[yq,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[wq,"NetClientSendPost"],[bq,"RTClientExecPost"],[Cq,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[Bq,"RTClientExecTReq"],[Sq,"RTClientAT"],[Eq,"RTClientATWithCachedRT"],[kq,"RTClientATByRT"],[xq,"RTClientCreateTReqBody"],[Tq,"ATFromCache"],[Iq,"SltFlowClientATCached"],[Uq,"SltFlowClientGenResFromCache"],[Fq,"ATBySltIframe"],[_q,"InitBaseReq"],[Rq,"InitSltReq"],[Qq,"InitClientApplication"],[Pq,"InitCache"],[C$,"importCache"],[B$,"setUserData"],[S$,"localStorageUpdated"],[Oq,"SIClientTHelper"],[Nq,"SHandlerInitAuthReq"],[Dq,"SltHandlerMonitorIframeForHash"],[Mq,"SHandlerLoadFrame"],[Lq,"SHandlerLoadFrameSync"],[Hq,"StdIntClientCreateAuthCodeClient"],[jq,"StdIntClientGetClientConf"],[Kq,"StdIntClientInitAuthReq"],[Vq,"GetAuthCodeUrl"],[$q,"HandleCodeResFromServer"],[Gq,"HandleCodeResp"],[zq,"HandleRespEar"],[Jq,"HandleRespCode"],[Wq,"HandleRespPlatBroker"],[Yq,"UpdTEndpointAuth"],[Xq,"AuthClientAT"],[Zq,"AuthClientExecTReq"],[e$,"AuthClientCreateTReqBody"],[t$,"PopTGenCnf"],[n$,"PopTGenKid"],[r$,"HandleServerTRes"],[i$,"DeserializeRes"],[o$,"AuthFactCreateDiscInst"],[s$,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[a$,"AuthGetCDMetaFromNet"],[A$,"AuthUpdCDMeta"],[c$,"AuthUpdCDMetaFromNet"],[l$,"AuthUpdEndpointMeta"],[u$,"AuthUpdMetaWithRegInfo"],[d$,"RegDiscDetectReg"],[h$,"RegDiscGetRegFromIMDS"],[f$,"RegDiscGetCurrentVer"],[p$,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[g$,"HandleRedirectPromise"],[m$,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[v$,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[y$,"RemoveHiddenIframe"],[w$,"ClearTAndKeysWithClaims"],[b$,"CacheManagerGetRT"],[E$,"GenPkceCodes"],[k$,"GenCodeVerifier"],[x$,"GenCodeChallengeFromVerifier"],[T$,"Sha256Digest"],[I$,"GetRandomValues"],[U$,"genHKDF"],[F$,"genBaseKey"],[_$,"b64Decode"],[R$,"urlEncArr"],[Q$,"encrypt"],[P$,"decrypt"],[O$,"genEarKey"],[N$,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class M${startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class L${generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:D$,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new M$}}startPerformanceMeasurement(){return new M$}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}class H${navigateInternal(e,t){return H$.defaultNavigateWindow(e,t)}navigateExternal(e,t){return H$.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class j$ extends dB{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,j$.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function K$(e,t,n,r){return e.errorMessage=`${e.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new j$(e,t,n)}const V$="pkce_not_created",q$="ear_jwk_empty",$$="ear_jwe_empty",G$="crypto_nonexistent",z$="empty_navigate_uri",W$="hash_empty_error",J$="no_state_in_hash",Y$="hash_does_not_contain_known_properties",X$="unable_to_parse_state",Z$="state_interaction_type_mismatch",eG="interaction_in_progress",tG="popup_window_error",nG="empty_window_error",rG="user_cancelled",iG="monitor_popup_timeout",oG="monitor_window_timeout",sG="redirect_in_iframe",aG="block_iframe_reload",AG="block_nested_popups",cG="iframe_closed_prematurely",lG="silent_logout_unsupported",uG="no_account_error",dG="silent_prompt_value_error",hG="no_token_request_cache_error",fG="unable_to_parse_token_request_cache_error",pG="auth_request_not_set_error",gG="invalid_cache_type",mG="non_browser_environment",vG="database_not_open",yG="no_network_connectivity",wG="post_request_failed",bG="get_request_failed",CG="failed_to_parse_response",BG="unable_to_load_token",SG="crypto_key_not_found",EG="auth_code_required",kG="auth_code_or_nativeAccountId_required",xG="spa_code_and_nativeAccountId_present",TG="database_unavailable",IG="unable_to_acquire_token_from_native_platform",UG="native_handshake_timeout",FG="native_extension_not_installed",_G="native_connection_not_established",RG="uninitialized_public_client_application",QG="native_prompt_not_supported",PG="invalid_base64_string",OG="invalid_pop_token_request",NG="failed_to_build_headers",DG="failed_to_parse_headers",MG="failed_to_decrypt_ear_response",LG="For more visit: aka.ms/msaljs/browser-errors",HG={[V$]:"The PKCE code challenge and verifier could not be generated.",[q$]:"No EAR encryption key provided. This is unexpected.",[$$]:"Server response does not contain ear_jwe property. This is unexpected.",[G$]:"The crypto object or function is not available.",[z$]:"Navigation URI is empty. Please check stack trace for more info.",[W$]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${LG}`,[J$]:"Hash does not contain state. Please verify that the request originated from msal.",[Y$]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${LG}`,[X$]:"Unable to parse state. Please verify that the request originated from msal.",[Z$]:"Hash contains state but the interaction type does not match the caller.",[eG]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${LG}`,[tG]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[nG]:"window.open returned null or undefined window object.",[rG]:"User cancelled the flow.",[iG]:`Token acquisition in popup failed due to timeout.  ${LG}`,[oG]:`Token acquisition in iframe failed due to timeout.  ${LG}`,[sG]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[aG]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${LG}`,[AG]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[cG]:"The iframe being monitored was closed prematurely.",[lG]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[uG]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[dG]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[hG]:"No token request found in cache.",[fG]:"The cached token request could not be parsed.",[pG]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[gG]:"Invalid cache type",[mG]:"Login and token requests are not supported in non-browser environments.",[vG]:"Database is not open!",[yG]:"No network connectivity. Check your internet connection.",[wG]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[bG]:"Network request failed. Please check the network trace to determine root cause.",[CG]:"Failed to parse network response. Check network trace.",[BG]:"Error loading token to cache.",[SG]:"Cryptographic Key or Keypair not found in browser storage.",[EG]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[kG]:"An authorization code or nativeAccountId must be provided to this flow.",[xG]:"Request cannot contain both spa code and native account id.",[TG]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[IG]:`Unable to acquire token from native platform.  ${LG}`,[UG]:"Timed out while attempting to establish connection to browser extension",[FG]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[_G]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${LG}`,[RG]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${LG}`,[QG]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[PG]:"Invalid base64 encoded string.",[OG]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[NG]:"Failed to build request headers object.",[DG]:"Failed to parse response headers",[MG]:"Failed to decrypt ear response"};class jG extends dB{constructor(e,t){super(e,HG[e],t),Object.setPrototypeOf(this,jG.prototype),this.name="BrowserAuthError"}}function KG(e,t){return new jG(e,t)}class VG{async sendGetRequestAsync(e,t){let n,r={},i=0;const o=qG(t);try{n=await fetch(e,{method:NB,headers:o})}catch(hY){throw K$(KG(window.navigator.onLine?bG:yG),void 0,void 0,hY)}r=$G(n.headers);try{return i=n.status,{headers:r,body:await n.json(),status:i}}catch(hY){throw K$(KG(CG),i,r,hY)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=qG(t);let i,o=0,s={};try{i=await fetch(e,{method:DB,headers:r,body:n})}catch(hY){throw K$(KG(window.navigator.onLine?wG:yG),void 0,void 0,hY)}s=$G(i.headers);try{return o=i.status,{headers:s,body:await i.json(),status:o}}catch(hY){throw K$(KG(CG),o,s,hY)}}}function qG(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(hY){throw K$(KG(NG),void 0,void 0,hY)}}function $G(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(hY){throw KG(DG)}}function GG(e){return encodeURIComponent(WG(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function zG(e){return JG(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function WG(e){return JG((new TextEncoder).encode(e))}function JG(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function YG(e){return(new TextDecoder).decode(XG(e))}function XG(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw KG(PG)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const ZG="AES-GCM",ez="HKDF",tz="SHA-256",nz=new Uint8Array([1,0,1]),rz="0123456789abcdef",iz=new Uint32Array(1),oz="raw",sz="encrypt",az="decrypt",Az={name:"RSASSA-PKCS1-v1_5",hash:tz,modulusLength:2048,publicExponent:nz};async function cz(e,t,n){t?.addQueueMeasurement(T$,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(tz,r)}function lz(e){return window.crypto.getRandomValues(e)}function uz(){return window.crypto.getRandomValues(iz),iz[0]}function dz(){const e=Date.now(),t=1024*uz()+(1023&uz()),n=new Uint8Array(16),r=Math.trunc(t/2**30),i=t&2**30-1,o=uz();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|i>>>24,n[9]=i>>>16,n[10]=i>>>8,n[11]=i,n[12]=o>>>24,n[13]=o>>>16,n[14]=o>>>8,n[15]=o;let s="";for(let a=0;a<n.length;a++)s+=rz.charAt(n[a]>>>4),s+=rz.charAt(15&n[a]),3!==a&&5!==a&&7!==a&&9!==a||(s+="-");return s}async function hz(e){return window.crypto.subtle.exportKey("jwk",e)}async function fz(){const e=await gz(),t={alg:"dir",kty:"oct",k:zG(new Uint8Array(e))};return WG(JSON.stringify(t))}async function pz(e,t){const n=t.split(".");if(5!==n.length)throw KG(MG,"jwe_length");const r=await async function(e){const t=YG(e),n=XG(JSON.parse(t).k);return window.crypto.subtle.importKey(oz,n,ZG,!1,[az])}(e).catch((()=>{throw KG(MG,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=XG(n[2]),i=XG(n[3]),o=XG(n[4]),s=8*o.byteLength,a=new Uint8Array(i.length+o.length);a.set(i),a.set(o,i.length);const A=await window.crypto.subtle.decrypt({name:ZG,iv:t,tagLength:s,additionalData:e},r,a);return(new TextDecoder).decode(A)}catch(hY){throw KG(MG,"decrypt")}}async function gz(){const e=await window.crypto.subtle.generateKey({name:ZG,length:256},!0,[sz,az]);return window.crypto.subtle.exportKey(oz,e)}async function mz(e){return window.crypto.subtle.importKey(oz,e,ez,!1,["deriveKey"])}async function vz(e,t,n){return window.crypto.subtle.deriveKey({name:ez,salt:t,hash:tz,info:(new TextEncoder).encode(n)},e,{name:ZG,length:256},!1,[sz,az])}async function yz(e,t,n){const r=(new TextEncoder).encode(t),i=window.crypto.getRandomValues(new Uint8Array(16)),o=await vz(e,i,n),s=await window.crypto.subtle.encrypt({name:ZG,iv:new Uint8Array(12)},o,r);return{data:zG(new Uint8Array(s)),nonce:zG(i)}}async function wz(e,t,n,r){const i=XG(r),o=await vz(e,XG(t),n),s=await window.crypto.subtle.decrypt({name:ZG,iv:new Uint8Array(12)},o,i);return(new TextDecoder).decode(s)}async function bz(e){const t=await cz(e);return zG(new Uint8Array(t))}function Cz(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function Bz(){return window.parent!==window}function Sz(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function Ez(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${SB}.`))throw KG(AG)}function kz(){if("undefined"===typeof window)throw KG(mG)}function xz(e){if(!e)throw KG(RG)}function Tz(e){kz(),function(){if(OV.hashContainsKnownProperties(window.location.hash)&&Bz())throw KG(aG)}(),Ez(),xz(e)}function Iz(e,t){if(Tz(e),function(e){if(Bz()&&!e)throw KG(sG)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===OB&&!t.cache.storeAuthStateInCookie)throw yB(gB)}function Uz(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const Fz=1e4;const _z="4.12.0";class Rz{static loggerCallback(e,t){switch(e){case SS.Error:return void console.error(t);case SS.Info:return void console.info(t);case SS.Verbose:return void console.debug(t);case SS.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:i,telemetry:o}=e;const s={clientId:Zb.EMPTY_STRING,authority:`${Zb.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Zb.EMPTY_STRING,authorityMetadata:Zb.EMPTY_STRING,redirectUri:"undefined"!==typeof window?Sz():"",postLogoutRedirectUri:Zb.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:Ij,OIDCOptions:{serverResponseType:BC,defaultScopes:[Zb.OPENID_SCOPE,Zb.PROFILE_SCOPE,Zb.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:_j,tenant:Zb.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:PB,temporaryCacheLocation:PB,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==QB),claimsBasedCachingEnabled:!1},A={loggerCallback:()=>{},logLevel:SS.Info,piiLoggingEnabled:!1},c={...{...zV,loggerOptions:A,networkClient:t?new VG:rq,navigationClient:new H$,loadFrameTimeout:0,windowHashTimeout:i?.loadFrameTimeout||6e4,iframeHashTimeout:i?.loadFrameTimeout||Fz,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:i?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:EB},...i,loggerOptions:i?.loggerOptions||A},l={application:{appName:Zb.EMPTY_STRING,appVersion:Zb.EMPTY_STRING},client:new L$};n?.protocolMode!==Uj&&n?.OIDCOptions&&new ES(c.loggerOptions).warning(JSON.stringify(yV(fV)));if(n?.protocolMode&&n.protocolMode===Uj&&c?.allowPlatformBroker)throw yV(pV);return{auth:{...s,...n,OIDCOptions:{...s.OIDCOptions,...n?.OIDCOptions}},cache:{...a,...r},system:c,telemetry:{...l,...o}}}(e,this.browserEnvironment);try{t=window[PB]}catch(hY){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),i="true"===r||"false"!==r&&void 0,o={...this.config.system.loggerOptions},s=n&&Object.keys(SS).includes(n)?SS[n]:void 0;s&&(o.loggerCallback=Rz.loggerCallback,o.logLevel=s),void 0!==i&&(o.piiLoggingEnabled=i),this.logger=new ES(o,"@azure/msal-browser",_z),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class Qz extends Rz{getModuleName(){return Qz.MODULE_NAME}getId(){return Qz.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}Qz.MODULE_NAME="",Qz.ID="StandardOperatingContext";const Pz="missing_kid_error",Oz="missing_alg_error",Nz={[Pz]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Oz]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Dz extends dB{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Dz.prototype)}}function Mz(e){return new Dz(e,Nz[e])}class Lz{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Mz(Pz);if(!e.alg)throw Mz(Oz);const t=new Lz({typ:e.typ||AB,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class Hz{constructor(){this.dbName=pS,this.version=1,this.tableName=gS,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(KG(TG))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(KG(vG));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(KG(vG));const i=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);i.addEventListener("success",(()=>{this.closeConnection(),n()})),i.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(KG(vG));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(KG(vG));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(KG(vG));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(pS),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class jz{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Kz{constructor(e){this.inMemoryCache=new jz,this.indexedDBCache=new Hz,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof jG&&e.errorCode===TG))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(hY){this.handleDatabaseAccessError(hY)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(hY){this.handleDatabaseAccessError(hY)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(hY){this.handleDatabaseAccessError(hY)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(hY){this.handleDatabaseAccessError(hY)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(hY){this.handleDatabaseAccessError(hY)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(hY){return this.handleDatabaseAccessError(hY),!1}}}class Vz{constructor(e,t,n){this.logger=e,function(e){if(!window)throw KG(mG);if(!window.crypto)throw KG(G$);if(!e&&!window.crypto.subtle)throw KG(G$,"crypto_subtle_undefined")}(n??!1),this.cache=new Kz(this.logger),this.performanceClient=t}createNewGuid(){return dz()}base64Encode(e){return WG(e)}base64Decode(e){return YG(e)}base64UrlEncode(e){return GG(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(uq,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Az,e,t)}(Vz.EXTRACTABLE,Vz.POP_KEY_USAGES),r=await hz(n.publicKey),i=qz({e:r.e,kty:r.kty,n:r.n}),o=await this.hashString(i),s=await hz(n.privateKey),a=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Az,t,n)}(s,!1,["sign"]);return await this.cache.setItem(o,{privateKey:a,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),o}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(hY){return hY instanceof Error?this.logger.error(`Clearing keystore failed with error: ${hY.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const i=this.performanceClient?.startMeasurement(dq,r),o=await this.cache.getItem(t);if(!o)throw KG(SG);const s=await hz(o.publicKey),a=qz(s),A=GG(JSON.stringify({kid:t})),c=GG(Lz.getShrHeaderString({...n?.header,alg:s.alg,kid:A}));e.cnf={jwk:JSON.parse(a)};const l=`${c}.${GG(JSON.stringify(e))}`,u=(new TextEncoder).encode(l),d=await async function(e,t){return window.crypto.subtle.sign(Az,e,t)}(o.privateKey,u),h=`${l}.${zG(new Uint8Array(d))}`;return i&&i.end({success:!0}),h}async hashString(e){return bz(e)}}function qz(e){return JSON.stringify(e,Object.keys(e).sort())}Vz.POP_KEY_USAGES=["sign","verify"],Vz.EXTRACTABLE=!0;const $z=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const o=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}try{const r=e(...arguments);return o?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(hY){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(hY))}catch(hY){n.trace("Unable to print error message.")}throw o?.end({success:!1},hY),hY}},Gz=(e,t,n,r,i)=>function(){n.trace(`Executing function ${t}`);const o=r?.startMeasurement(t,i);if(i){const e=t+"CallCount";r?.incrementFields({[e]:1},i)}return r?.setPreQueueTime(t,i),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),o?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw o?.end({success:!1},e),e}))};class zz{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(d$,this.correlationId);let n=e;if(n)t.region_source=XC;else{const e=zz.IMDS_OPTIONS;try{const r=await Gz(this.getRegionFromIMDS.bind(this),h$,this.logger,this.performanceClient,this.correlationId)(Zb.IMDS_VERSION,e);if(r.status===WC&&(n=r.body,t.region_source=ZC),r.status===JC){const r=await Gz(this.getCurrentVersion.bind(this),f$,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=YC,null;const i=await Gz(this.getRegionFromIMDS.bind(this),h$,this.logger,this.performanceClient,this.correlationId)(r,e);i.status===WC&&(n=i.body,t.region_source=ZC)}}catch(hY){return t.region_source=YC,null}}return n||(t.region_source=YC),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(h$,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Zb.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Zb.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(f$,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${Zb.IMDS_ENDPOINT}?format=json`,e);return t.status===JC&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(hY){return null}}}zz.IMDS_OPTIONS={headers:{Metadata:"true"}};class Wz{constructor(e,t,n,r,i,o,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=i,this.performanceClient=s,this.correlationId=o,this.managedIdentity=a||!1,this.regionDiscovery=new zz(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Zb.CIAM_AUTH_URL))return UV;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Zb.ADFS:return TV;case Zb.DSTS:return IV}return xV}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new OV(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw EK(Nj)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw EK(Nj)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw EK(Nj)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw EK(gK);return this.replacePath(this.metadata.end_session_endpoint)}throw EK(Nj)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw EK(Nj)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw EK(Nj)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Wz.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===xV&&this.protocolMode!==Uj}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new OV(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,i)=>{let o=r[i];if(0===i&&this.canReplaceTenant(n)){const e=new OV(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];o!==e&&(this.logger.verbose(`Replacing tenant domain name ${o} with id ${e}`),o=e)}e!==o&&(t=t.replace(`/${o}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===TV||this.protocolMode===Uj&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(s$,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await Gz(this.updateCloudDiscoveryMetadata.bind(this),A$,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await Gz(this.updateEndpointMetadata.bind(this),l$,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:qK(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==DC&&n?.source!==DC&&(e.expiresAt=qK(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(l$,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===LC&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){$K(e,await Gz(this.updateMetadataWithRegionalInformation.bind(this),u$,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await Gz(this.getEndpointMetadataFromNetwork.bind(this),c$,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await Gz(this.updateMetadataWithRegionalInformation.bind(this),u$,this.logger,this.performanceClient,this.correlationId)(n)),$K(e,n,!0),MC;throw EK(Mj,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),$K(e,t,!1),{source:NC};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return $K(e,t,!1),{source:LC,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=zK(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:DC}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new OV(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(hY){throw yV(AV)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(c$,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(hY){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${hY}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in NV?NV[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(u$,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==Zb.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=eB,this.regionDiscoveryMetadata.region_used=t,Wz.replaceWithRegionalInformation(e,t);const n=await Gz(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),d$,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=tB,this.regionDiscoveryMetadata.region_used=n,Wz.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=nB}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(A$,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await Gz(this.getCloudDiscoveryMetadataFromNetwork.bind(this),a$,this.logger,this.performanceClient,this.correlationId)();if(n)return GK(e,n,!0),MC;throw yV(cV)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Zb.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Zb.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Zb.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),GK(e,t,!1),NC;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,HV(DV.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),GK(e,t,!1),LC;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=zK(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),DC):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===UV)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Wz.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=HV(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(hY){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),yV(aV)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Wz.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(a$,this.correlationId);const e=`${Zb.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let i,o;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))i=r.body,o=i.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${i.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),i=r.body,i.error===Zb.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${i.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${i.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),o=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=HV(o,this.hostnameAndPort)}catch(r){if(r instanceof dB)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Wz.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&OV.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==_j){const e=t.tenant?t.tenant:Zb.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Zb.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw EK(Nj)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return MV.has(e)}static isPublicCloudAuthority(e){return Zb.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new OV(e);r.validateAsUri();const i=r.getUrlComponents();let o=`${t}.${i.HostNameAndPort}`;this.isPublicCloudAuthority(i.HostNameAndPort)&&(o=`${t}.${Zb.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=OV.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:o}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Wz.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Wz.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Wz.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new OV(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(Zb.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${Zb.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function Jz(e){return e.endsWith(Zb.FORWARD_SLASH)?e:`${e}${Zb.FORWARD_SLASH}`}Wz.reservedTenantDomains=new Set(["{tenant}","{tenantid}",hC,pC,fC]);const Yz="no_tokens_found",Xz="native_account_unavailable",Zz="refresh_token_expired",eW="bad_token",tW=["interaction_required","consent_required","login_required",eW],nW=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],rW={[Yz]:"No refresh token found in the cache. Please sign-in.",[Xz]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Zz]:"Refresh token has expired.",[eW]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class iW extends dB{constructor(e,t,n,r,i,o,s,a){super(e,t,n),Object.setPrototypeOf(this,iW.prototype),this.timestamp=r||Zb.EMPTY_STRING,this.traceId=i||Zb.EMPTY_STRING,this.correlationId=o||Zb.EMPTY_STRING,this.claims=s||Zb.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function oW(e,t,n){const r=!!e&&tW.indexOf(e)>-1,i=!!n&&nW.indexOf(n)>-1,o=!!t&&tW.some((e=>t.indexOf(e)>-1));return r||o||i}function sW(e){return new iW(e,rW[e])}function aW(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}const AW=864e5,cW="Lax",lW="None";class uW{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[i,...o]=decodeURIComponent(e).trim().split("="),s=o.join("=");if(i===t)return s}return""}getUserData(){throw EK(bK)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:cW,o=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${i};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*AW);return n.toUTCString()}(n);o+=`expires=${e};`}(r||i===lW)&&(o+="Secure;"),document.cookie=o}async setUserData(){return Promise.reject(EK(bK))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function dW(e){const t=e.getItem(GB);return t?JSON.parse(t):[]}function hW(e,t){const n=t.getItem(`${zB}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const fW="msal.cache.encryption";class pW{constructor(e,t,n){if(!window.localStorage)throw yB(fB);this.memoryStorage=new jz,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new uW,n=t.getItem(fW);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(hY){}if(r.key&&r.id){const t=$z(XG,_$,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await Gz(mz,U$,this.logger,this.performanceClient,e)(t)},await Gz(this.importExistingCache.bind(this),C$,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=dz(),r=await Gz(gz,F$,this.logger,this.performanceClient,e)(),i=$z(zG,R$,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await Gz(mz,U$,this.logger,this.performanceClient,e)(r)};const o={id:n,key:i};t.setItem(fW,JSON.stringify(o),0,!0,lW)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw KG(RG);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw KG(RG);const{data:r,nonce:i}=await Gz(yz,Q$,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),o={id:this.encryptionCookie.id,nonce:i,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(o)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();dW(this).forEach((e=>this.removeItem(e)));const e=hW(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(Zb.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=dW(this);t=await this.importArray(t,e),this.setItem(GB,JSON.stringify(t));const n=hW(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${zB}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(hY){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):Gz(wz,P$,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const i=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(i)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(S$);t.add({isBackground:!0});const{key:n,value:r,context:i}=e.data;return n?i&&i!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${i}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class gW{constructor(){if(!window.sessionStorage)throw yB(fB)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}class mW extends $V{constructor(e,t,n,r,i,o,s){super(e,n,r,s),this.cacheConfig=t,this.logger=r,this.internalStorage=new jz,this.browserStorage=vW(e,t.cacheLocation,r,i),this.temporaryCacheStorage=vW(e,t.temporaryCacheLocation,r,i),this.cookieStorage=new uW,this.performanceClient=i,this.eventHandler=o}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&_V.isAccountEntity(n)?$V.toObject(new _V,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await Gz(this.browserStorage.setUserData.bind(this.browserStorage),B$,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===QB&&r&&this.eventHandler.emitEvent(US,void 0,e.getAccountInfo())}getAccountKeys(){return dW(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(GB,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(GB,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===QB&&this.eventHandler.emitEvent(FS,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,_C.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,_C.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,_C.REFRESH_TOKEN)}getTokenKeys(){return hW(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case _C.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case _C.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case _C.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),EK(AK)}this.browserStorage.setItem(`${zB}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case _C.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case _C.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const i=n.accessToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case _C.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const o=n.refreshToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),EK(AK)}this.browserStorage.setItem(`${zB}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&MK(r)&&r.hasOwnProperty("realm")&&r.credentialType===_C.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=PK(e);await Gz(this.browserStorage.setUserData.bind(this.browserStorage),B$,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,_C.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&MK(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===_C.ACCESS_TOKEN||r.credentialType===_C.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=PK(e);await Gz(this.browserStorage.setUserData.bind(this.browserStorage),B$,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,_C.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&MK(r)&&r.credentialType===_C.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,_C.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=PK(e);await Gz(this.browserStorage.setUserData.bind(this.browserStorage),B$,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,_C.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(i=n)&&0===r.indexOf(RC)&&i.hasOwnProperty("clientId")&&i.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,i}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[RC,t,n].join(UC).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(HC.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(PC)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(WB,e),this.internalStorage.setItem(JB,t)}getWrapperMetadata(){return[this.internalStorage.getItem(WB)||Zb.EMPTY_STRING,this.internalStorage.getItem(JB)||Zb.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(dC),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(dC);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(_S)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(qC));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===QB){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(Zb.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(Zb.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(w$,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):wV.startsWith(e,Zb.CACHE_PREFIX)?e:`${Zb.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(KB)),this.removeTemporaryItem(this.generateCacheKey(VB)),this.removeTemporaryItem(this.generateCacheKey(HB)),this.removeTemporaryItem(this.generateCacheKey(jB)),this.removeTemporaryItem(this.generateCacheKey($B)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=WG(JSON.stringify(e));if(this.setTemporaryCache(KB,n,!0),t){const e=WG(t);this.setTemporaryCache(VB,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(KB,!0);if(!e)throw KG(hG);const t=this.getTemporaryCache(VB,!0);let n,r="";try{n=JSON.parse(YG(e)),t&&(r=YG(t))}catch(hY){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${hY}`),KG(fG)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache($B,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Zb.CACHE_PREFIX}.${qB}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(hY){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),Cz(window),null}}setInteractionInProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:MB;const n=`${Zb.CACHE_PREFIX}.${qB}`;if(e){if(this.getInteractionInProgress())throw KG(eG);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:t}),!1)}else e||this.getInteractionInProgress()?.clientId!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){const n=OK(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const i={idToken:n,accessToken:NK(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?_K(e.expiresOn):0,e.extExpiresOn?_K(e.extExpiresOn):0,YG,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(i,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(hY){if(hY instanceof qV&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(hY){}throw hY}}}function vW(e,t,n,r){try{switch(t){case QB:return new pW(e,n,r);case PB:return new gW}}catch(hY){n.error(hY)}return new jz}class yW{constructor(e){this.eventCallbacks=new Map,this.logger=e||new ES({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||dz();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const i={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case US:case FS:case _S:this.broadcastChannel?.postMessage(i);break;default:this.invokeCallbacks(i)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,i]=t;(0===i.length||i.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const wW="home_account_id",bW="UPN",CW="client_id",BW="redirect_uri",SW="token_type",EW="req_cnf",kW="return_spa_code",xW="x-client-xtra-sku",TW="brk_client_id",IW="brk_redirect_uri",UW="instance_aware";function FW(e,t,n){if(!t)return;const r=e.get(CW);r&&e.has(TW)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(BW)},t)}function _W(e,t){e.set("response_type",t)}function RW(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:iC;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const i=n?[...t||[],...r]:t||[],o=new bV(i);e.set("scope",o.printScopes())}function QW(e,t){e.set(CW,t)}function PW(e,t){e.set(BW,t)}function OW(e,t){e.set("login_hint",t)}function NW(e,t){e.set(cC,`UPN:${t}`)}function DW(e,t){e.set(cC,`Oid:${t.uid}@${t.utid}`)}function MW(e,t){e.set("sid",t)}function LW(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(hY){throw yV(nV)}else n={};t&&t.length>0&&(n.hasOwnProperty(gC)||(n[gC]={}),n[gC][mC]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(hY){throw yV(nV)}e.set("claims",r)}function HW(e,t){e.set("client-request-id",t)}function jW(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function KW(e,t){t?.appName&&e.set("x-app-name",t.appName),t?.appVersion&&e.set("x-app-ver",t.appVersion)}function VW(e,t){t&&e.set("state",t)}function qW(e,t){e.set("client_secret",t)}function $W(e,t){t&&e.set("client_assertion",t)}function GW(e,t){t&&e.set("client_assertion_type",t)}function zW(e,t){e.set("grant_type",t)}function WW(e){e.set("client_info","1")}function JW(e){e.has(UW)||e.set(UW,"true")}function YW(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function XW(e,t){t&&(e.set(SW,jC.POP),e.set(EW,t))}function ZW(e,t){t&&(e.set(SW,jC.SSH),e.set(EW,t))}function eJ(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function tJ(e){e.set("x-ms-lib-capability",$C)}function nJ(e,t,n){e.has(TW)||e.set(TW,t),e.has(IW)||e.set(IW,n)}async function rJ(e,t,n,r,i,o,s){s?.addQueueMeasurement(o$,o);const a=Wz.transformCIAMAuthority(Jz(e)),A=new Wz(a,t,n,r,i,o,s);try{return await Gz(A.resolveEndpointsAsync.bind(A),s$,i,s,o)(),A}catch(hY){throw EK(Nj)}}class iJ extends dB{constructor(e,t,n,r,i){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=i,Object.setPrototypeOf(this,iJ.prototype)}}class oJ{static generateThrottlingStorageKey(e){return`${qC}.${JSON.stringify(e)}`}static preProcess(e,t){const n=oJ.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new iJ(r.errorCodes?.join(" ")||Zb.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(oJ.checkResponseStatus(n)||oJ.checkResponseForRetryAfter(n)){const r={throttleTime:oJ.calculateThrottleTime(parseInt(n.headers[AC])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(oJ.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(AC)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||KC),n+VC))}static removeThrottle(e,t,n,r){const i=aW(t,n,r),o=this.generateThrottlingStorageKey(i);e.removeItem(o)}}class sJ{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:i,storageInterface:o,networkInterface:s,cryptoInterface:a,clientCredentials:A,libraryInfo:c,telemetry:l,serverTelemetryManager:u,persistencePlugin:d,serializableCache:h}=e;const f={...WV,...r};return{authOptions:(p=t,{clientCapabilities:[],azureCloudOptions:eq,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...p}),systemOptions:{...zV,...n},loggerOptions:f,cacheOptions:{...JV,...i},storageInterface:o||new GV(t.clientId,kK,new ES(f)),networkInterface:s||YV,cryptoInterface:a||kK,clientCredentials:A||ZV,libraryInfo:{...XV,...c},telemetry:{...tq,...l},serverTelemetryManager:u||null,persistencePlugin:d||null,serializableCache:h||null};var p}(e),this.logger=new ES(this.config.loggerOptions,xK,TK),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[sC]=Zb.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case wW:try{const n=BV(e.credential);t[cC]=`Oid:${n.uid}@${n.utid}`}catch(hY){this.logger.verbose("Could not parse home account ID for CCS Header: "+hY)}break;case bW:t[cC]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,i,o){o&&this.performanceClient?.addQueueMeasurement(o,i);const s=await this.sendPostRequest(r,e,{body:t,headers:n},i);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let i;oJ.preProcess(this.cacheManager,e);try{i=await Gz(this.networkClient.sendPostRequestAsync.bind(this.networkClient),wq,this.logger,this.performanceClient,r)(t,n);const e=i.headers||{};this.performanceClient?.addFields({refreshTokenSize:i.body.refresh_token?.length||0,httpVerToken:e[uC]||"",requestId:e[lC]||""},r)}catch(hY){if(hY instanceof j$){const t=hY.responseHeaders;throw t&&this.performanceClient?.addFields({httpVerToken:t[uC]||"",requestId:t[lC]||"",contentTypeHeader:t[sC]||void 0,contentLengthHeader:t[aC]||void 0,httpStatus:hY.httpStatus},r),hY.error}throw hY instanceof dB?hY:EK(Dj)}return oJ.postProcess(this.cacheManager,e,i),i}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Yq,t);const n=`https://${e}/${this.authority.tenant}/`,r=await rJ(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&nJ(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&YW(t,e.tokenQueryParameters),HW(t,e.correlationId),FW(t,e.correlationId,this.performanceClient),PV(t)}}class aJ{static setRequestState(e,t,n){const r=aJ.generateLibraryState(e,n);return t?`${r}${Zb.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw EK(aK);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw EK(aK);if(!t)throw EK(Hj);try{const n=t.split(Zb.RESOURCE_DELIM),r=n[0],i=n.length>1?n.slice(1).join(Zb.RESOURCE_DELIM):Zb.EMPTY_STRING,o=e.base64Decode(r),s=JSON.parse(o);return{userRequestState:i||Zb.EMPTY_STRING,libraryState:s}}catch(hY){throw EK(Hj)}}}const AJ="sw";class cJ{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(t$,e.correlationId);const n=await Gz(this.generateKid.bind(this),t$,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement(n$,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:AJ}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:i,resourceRequestUri:o,shrClaims:s,shrNonce:a,shrOptions:A}=n,c=o?new OV(o):void 0,l=c?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:FK(),m:i?.toUpperCase(),u:l?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:l?.AbsolutePath,q:l?.QueryString?[[],l.QueryString]:void 0,client_claims:s||void 0,...r},t,A,n.correlationId)}}class lJ{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class uJ{constructor(e,t,n,r,i,o,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=i,this.persistencePlugin=o,this.performanceClient=s}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||Zb.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Zb.NOT_AVAILABLE} - Description: ${e.error_description||Zb.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Zb.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Zb.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,i=new iJ(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=nC&&e.status<=rC)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${i}`);if(t&&e.status&&e.status>=eC&&e.status<=tC)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${i}`);if(oW(e.error,e.error_description,e.suberror))throw new iW(e.error,e.error_description,e.suberror,e.timestamp||Zb.EMPTY_STRING,e.trace_id||Zb.EMPTY_STRING,e.correlation_id||Zb.EMPTY_STRING,e.claims||Zb.EMPTY_STRING,r);throw i}}async handleServerTokenResponse(e,t,n,r,i,o,s,a,A){let c,l;if(this.performanceClient?.addQueueMeasurement(r$,e.correlation_id),e.id_token){if(c=IK(e.id_token||Zb.EMPTY_STRING,this.cryptoObj.base64Decode),i&&i.nonce&&c.nonce!==i.nonce)throw EK(Vj);if(r.maxAge||0===r.maxAge){const e=c.auth_time;if(!e)throw EK(qj);UK(e,r.maxAge)}}this.homeAccountIdentifier=_V.generateHomeAccountId(e.client_info||Zb.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,c),i&&i.state&&(l=aJ.parseRequestState(this.cryptoObj,i.state)),e.key_id=e.key_id||r.sshKid||void 0;const u=this.generateCacheRecord(e,t,n,r,c,o,i);let d;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),d=new lJ(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(d)),s&&!a&&u.account){const e=u.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await uJ.generateAuthenticationResult(this.cryptoObj,t,u,!1,r,c,l,void 0,A)}await this.cacheStorage.saveCacheRecord(u,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&d&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(d))}return uJ.generateAuthenticationResult(this.cryptoObj,t,u,!1,r,c,l,e,A)}generateCacheRecord(e,t,n,r,i,o,s){const a=t.getPreferredCache();if(!a)throw EK(oK);const A=FV(i);let c,l;e.id_token&&i&&(c=OK(this.homeAccountIdentifier,a,e.id_token,this.clientId,A||""),l=dJ(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,i,e.client_info,a,A,s,void 0,this.logger));let u=null;if(e.access_token){const i=e.scope?bV.fromString(e.scope):new bV(r.scopes||[]),s=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,c=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,l=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,d=n+s,h=d+c,f=l&&l>0?n+l:void 0;u=NK(this.homeAccountIdentifier,a,e.access_token,this.clientId,A||t.tenant||"",i.printScopes(),d,h,this.cryptoObj.base64Decode,f,e.token_type,o,e.key_id,r.claims,r.requestedClaimsHash)}let d=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}d=DK(this.homeAccountIdentifier,a,e.refresh_token,this.clientId,e.foci,o,t)}let h=null;return e.foci&&(h={clientId:this.clientId,environment:a,familyId:e.foci}),{account:l,idToken:c,accessToken:u,refreshToken:d,appMetadata:h}}static async generateAuthenticationResult(e,t,n,r,i,o,s,a,A){let c,l,u=Zb.EMPTY_STRING,d=[],h=null,f=Zb.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==jC.POP||i.popKid)u=n.accessToken.secret;else{const t=new cJ(e),{secret:r,keyId:o}=n.accessToken;if(!o)throw EK(mK);u=await t.signPopToken(r,o,i)}d=bV.fromString(n.accessToken.target).asArray(),h=RK(n.accessToken.expiresOn),c=RK(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(l=RK(n.accessToken.refreshOn))}n.appMetadata&&(f=n.appMetadata.familyId===QC?QC:"");const p=o?.oid||o?.sub||"",g=o?.tid||"";a?.spa_accountid&&n.account&&(n.account.nativeAccountId=a?.spa_accountid);const m=n.account?kV(n.account.getAccountInfo(),void 0,o,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:p,tenantId:g,scopes:d,account:m,idToken:n?.idToken?.secret||"",idTokenClaims:o||{},accessToken:u,fromCache:r,expiresOn:h,extExpiresOn:c,refreshOn:l,correlationId:i.correlationId,requestId:A||Zb.EMPTY_STRING,familyId:f,tokenType:n.accessToken?.tokenType||Zb.EMPTY_STRING,state:s?s.userRequestState:Zb.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Zb.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Zb.EMPTY_STRING,code:a?.spa_code,fromNativeBroker:!1}}}function dJ(e,t,n,r,i,o,s,a,A,c,l){l?.verbose("setCachedAccount called");const u=e.getAccountKeys().find((e=>e.startsWith(n)));let d=null;u&&(d=e.getAccount(u));const h=d||_V.createAccount({homeAccountId:n,idTokenClaims:i,clientInfo:o,environment:s,cloudGraphHostName:A?.cloud_graph_host_name,msGraphHost:A?.msgraph_host,nativeAccountId:c},t,r),f=h.tenantProfiles||[],p=a||h.realm;if(p&&!f.find((e=>e.tenantId===p))){const e=EV(n,h.localAccountId,p,i);f.push(e)}return h.tenantProfiles=f,h}class hJ{static validateRedirectUri(e){if(!e)throw yV(WK)}static validatePrompt(e){const t=[];for(const n in vC)t.push(vC[n]);if(t.indexOf(e)<0)throw yV(tV)}static validateClaims(e){try{JSON.parse(e)}catch(hY){throw yV(nV)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw yV(sV);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([yC.PLAIN,yC.S256].indexOf(e)<0)throw yV(oV)}}async function fJ(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class pJ extends sJ{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(Xq,e.correlationId),!e.code)throw EK(Jj);const n=FK(),r=await Gz(this.executeTokenRequest.bind(this),Zq,this.logger,this.performanceClient,e.correlationId)(this.authority,e),i=r.headers?.[lC],o=new uJ(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return o.validateTokenResponse(r.body),Gz(o.handleServerTokenResponse.bind(o),r$,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,i)}getLogoutUri(e){if(!e)throw yV(iV);const t=this.createLogoutUrlQueryString(e);return OV.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Zq,t.correlationId);const n=this.createTokenQueryParameters(t),r=OV.appendQueryString(e.tokenEndpoint,n),i=await Gz(this.createTokenRequestBody.bind(this),e$,this.logger,this.performanceClient,t.correlationId)(t);let o;if(t.clientInfo)try{const e=CV(t.clientInfo,this.cryptoUtils.base64Decode);o={credential:`${e.uid}${FC}${e.utid}`,type:wW}}catch(hY){this.logger.verbose("Could not parse client info for CCS Header: "+hY)}const s=this.createTokenRequestHeaders(o||t.ccsCredential),a=aW(this.config.authOptions.clientId,t);return Gz(this.executePostToTokenEndpoint.bind(this),Cq,this.logger,this.performanceClient,t.correlationId)(r,i,s,a,t.correlationId,Cq)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(e$,e.correlationId);const t=new Map;if(QW(t,e.embeddedClientId||e.tokenBodyParameters?.[CW]||this.config.authOptions.clientId),this.includeRedirectUri?PW(t,e.redirectUri):hJ.validateRedirectUri(e.redirectUri),RW(t,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(t,e.code),jW(t,this.config.libraryInfo),KW(t,this.config.telemetry.application),tJ(t),this.serverTelemetryManager&&!nq(this.config)&&eJ(t,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&qW(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;$W(t,await fJ(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),GW(t,n.assertionType)}if(zW(t,EC),WW(t),e.authenticationScheme===jC.POP){const n=new cJ(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Gz(n.generateCnf.bind(n),t$,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}XW(t,r)}else if(e.authenticationScheme===jC.SSH){if(!e.sshJwk)throw yV(lV);ZW(t,e.sshJwk)}let n;if((!wV.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&LW(t,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=CV(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${FC}${t.utid}`,type:wW}}catch(hY){this.logger.verbose("Could not parse client info for CCS Header: "+hY)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case wW:try{DW(t,BV(n.credential))}catch(hY){this.logger.verbose("Could not parse home account ID for CCS Header: "+hY)}break;case bW:NW(t,n.credential)}return e.embeddedClientId&&nJ(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&YW(t,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[kW]||YW(t,{[kW]:"1"}),FW(t,e.correlationId,this.performanceClient),PV(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&HW(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&VW(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&YW(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&JW(t),PV(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function gJ(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:i,extensionVersion:o}=e,s=new Map([[0,[n,r]],[2,[i,o]]]);let a=[];if(t?.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},(()=>"|"));return s.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:i}=e;if(n>=t.length)return;t[n]=[r,i].join("|")}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})})),a.join(",")}class mJ{constructor(e,t){this.cacheOutcome=rB,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Zb.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Zb.EMPTY_STRING,this.telemetryCacheKey=HC.CACHE_KEY+UC+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${HC.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(HC.VALUE_SEPARATOR),i=[e,this.getRegionDiscoveryFields()].join(HC.VALUE_SEPARATOR);return[HC.SCHEMA_VERSION,i,r].join(HC.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=mJ.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(HC.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(HC.VALUE_SEPARATOR),i=e.errors.length,o=[i,t<i?HC.OVERFLOW_TRUE:HC.OVERFLOW_FALSE].join(HC.VALUE_SEPARATOR);return[HC.SCHEMA_VERSION,e.cacheHits,n,r,o].join(HC.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=HC.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof dB?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(HC.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=mJ.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const i=e.errors.length;for(t=0;t<i;t++){const i=e.failedRequests[2*t]||Zb.EMPTY_STRING,o=e.failedRequests[2*t+1]||Zb.EMPTY_STRING,s=e.errors[t]||Zb.EMPTY_STRING;if(r+=i.toString().length+o.toString().length+s.length+3,!(r<HC.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Zb.EMPTY_STRING),e.push(this.regionSource||Zb.EMPTY_STRING),e.push(this.regionOutcome||Zb.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return gJ(e)}}class vJ{constructor(e,t,n,r,i,o,s,a,A){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=i,this.navigationClient=o,this.nativeMessageHandler=a,this.correlationId=A||dz(),this.logger=r.clone(kB,_z,this.correlationId),this.performanceClient=s}async clearCacheOnLogout(e){if(e){_V.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(_V.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(hY){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return OV.getAbsoluteUrl(t,Sz())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new mJ(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(vq,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},i=e.requestAuthority||this.config.auth.authority,o=n?.length?"true"===n:this.config.auth.instanceAware,s=t&&o?this.config.auth.authority.replace(OV.getDomainFromUrl(i),t.environment):i,a=Wz.generateAuthority(s,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),A=await Gz(rJ,o$,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!A.isAlias(t.environment))throw yV(gV);return A}}async function yJ(e,t,n,r){n.addQueueMeasurement(_q,e.correlationId);const i=e.authority||t.auth.authority,o=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:i,scopes:o};if(s.authenticationScheme){if(s.authenticationScheme===jC.SSH){if(!e.sshJwk)throw yV(lV);if(!e.sshKid)throw yV(uV)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=jC.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!wV.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await bz(e.claims)),s}async function wJ(e,t,n,r,i){r.addQueueMeasurement(Rq,e.correlationId);const o=await Gz(yJ,_q,i,r,e.correlationId)(e,n,r,i);return{...e,...o,account:t,forceRefresh:e.forceRefresh||!1}}class bJ extends vJ{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||dz(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=OV.getAbsoluteUrl(e.postLogoutRedirectUri,Sz())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=OV.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,Sz())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=OV.getAbsoluteUrl(Sz(),Sz())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(Hq,this.correlationId);const t=await Gz(this.getClientConfiguration.bind(this),jq,this.logger,this.performanceClient,this.correlationId)(e);return new pJ(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:o}=e;this.performanceClient.addQueueMeasurement(jq,this.correlationId);const s=await Gz(this.getDiscoveredAuthority.bind(this),vq,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:i,account:o}),a=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:a.loggerCallback,piiLoggingEnabled:a.piiLoggingEnabled,logLevel:a.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:kB,version:_z,cpu:Zb.EMPTY_STRING,os:Zb.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Kq,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},i=aJ.setRequestState(this.browserCrypto,e&&e.state||Zb.EMPTY_STRING,r),o={...await Gz(yJ,_q,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:i,nonce:e.nonce||dz(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return o;const s=e.account||this.browserStorage.getActiveAccount();return s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),o.account=s),o}}const CJ="user_switch",BJ={[CJ]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class SJ extends dB{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,SJ.prototype),this.name="NativeAuthError",this.ext=n}}function EJ(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function kJ(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return sW(Xz);case"USER_INTERACTION_REQUIRED":return new iW(e,t);case"USER_CANCEL":return KG(rG);case"NO_NETWORK":return KG(yG)}return new SJ(e,BJ[e]||t,n)}class xJ{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(v$)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:xB,extensionId:this.extensionId,responseId:dz(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new xJ(e,t,n,TB);return await r.sendHandshakeRequest(),r}catch(hY){const i=new xJ(e,t,n);return await i.sendHandshakeRequest(),i}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:xB,extensionId:this.extensionId,responseId:dz(),body:{method:UB}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(KG(UG)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===xB&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===UB){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(KG(FG))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===RB){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(kJ(e.code,e.description,e.ext));else{if(!e.result)throw hB(cB,"Event does not contain result.");e.result.code&&e.result.description?n.reject(kJ(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===FB){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(dY){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${dY}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(dY):r&&r.reject(dY)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case jC.BEARER:case jC.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function TJ(e,t,n){const r=QV(e);if(!r)throw RV(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),KG(Y$)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),KG(W$));return r}function IJ(e,t,n){if(!e.state)throw KG(J$);const r=function(e,t){if(!t)return null;try{return aJ.parseRequestState(e,t).libraryState.meta}catch(hY){throw EK(Hj)}}(t,e.state);if(!r)throw KG(X$);if(r.interactionType!==n)throw KG(Z$)}function UJ(e,t,n,r){const i=t.correlationId,o=new Map;QW(o,t.embeddedClientId||t.extraQueryParameters?.[CW]||e.clientId);if(RW(o,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,e.authority.options.OIDCOptions?.defaultScopes),PW(o,t.redirectUri),HW(o,i),function(e,t){e.set("response_mode",t||SC)}(o,t.responseMode),WW(o),t.prompt&&(!function(e,t){e.set("prompt",t)}(o,t.prompt),r?.addFields({prompt:t.prompt},i)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(o,t.domainHint),r?.addFields({domainHintFromRequest:!0},i)),t.prompt!==vC.SELECT_ACCOUNT)if(t.sid&&t.prompt===vC.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),MW(o,t.sid),r?.addFields({sidFromRequest:!0},i);else if(t.account){const e=(s=t.account,s.idTokenClaims?.sid||null);let a=function(e){return e.idTokenClaims?.login_hint||null}(t.account);if(a&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),a=null),a){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),OW(o,a),r?.addFields({loginHintFromClaim:!0},i);try{DW(o,BV(t.account.homeAccountId))}catch(hY){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===vC.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),MW(o,e),r?.addFields({sidFromClaim:!0},i);try{DW(o,BV(t.account.homeAccountId))}catch(hY){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),OW(o,t.loginHint),NW(o,t.loginHint),r?.addFields({loginHintFromRequest:!0},i);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),OW(o,t.account.username),r?.addFields({loginHintFromUpn:!0},i);try{DW(o,BV(t.account.homeAccountId))}catch(hY){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),OW(o,t.loginHint),NW(o,t.loginHint),r?.addFields({loginHintFromRequest:!0},i));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var s;return t.nonce&&function(e,t){e.set("nonce",t)}(o,t.nonce),t.state&&VW(o,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&LW(o,t.claims,e.clientCapabilities),t.embeddedClientId&&nJ(o,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(UW)||JW(o),o}function FJ(e,t,n,r){const i=PV(t,n,r);return OV.appendQueryString(e.authorizationEndpoint,i)}function _J(e,t){if(!e.state||!t)throw e.state?EK(Kj,"Cached State"):EK(Kj,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(hY){throw EK(Hj,e.state)}try{r=decodeURIComponent(t)}catch(hY){throw EK(Hj,e.state)}if(n!==r)throw EK(jj);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(oW(e.error,e.error_description,e.suberror))throw new iW(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new iJ(e.error||"",e.error_description,e.suberror,t)}}class RJ{constructor(e,t,n,r,i){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=i}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(Gq,t.correlationId);try{n=function(e,t){if(_J(e,t),!e.code)throw EK(fK);return e}(e,t.state)}catch(hY){throw hY instanceof iJ&&hY.subError===rG?KG(rG):hY}return Gz(this.handleCodeResponseFromServer.bind(this),$q,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement($q,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await Gz(this.authModule.updateAuthority.bind(this.authModule),Yq,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await Gz(this.authModule.acquireToken.bind(this.authModule),Xq,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:wW}:e.loginHint?{credential:e.loginHint,type:bW}:null}}class QJ extends sJ{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(Iq,e.correlationId);let t=rB;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!wV.isEmptyObj(e.claims))throw this.setCacheOutcome(iB,e.correlationId),EK(uK);if(!e.account)throw EK(rK);const n=e.account.tenantId||function(e){const t=new OV(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case hC:case fC:case pC:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),i=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!i)throw this.setCacheOutcome(oB,e.correlationId),EK(uK);if(o=i.cachedAt,Number(o)>FK()||QK(i.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(sB,e.correlationId),EK(uK);var o;i.refreshOn&&QK(i.refreshOn,0)&&(t=aB);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:i,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await Gz(this.generateResultFromCacheRecord.bind(this),Uq,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==rB&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(Uq,t.correlationId),e.idToken&&(n=IK(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw EK(qj);UK(e,t.maxAge)}return uJ.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class PJ extends bJ{async acquireToken(e){this.performanceClient.addQueueMeasurement(hq,e.correlationId);const t=this.initializeServerTelemetryManager(nS),n=await Gz(this.getClientConfiguration.bind(this),jq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new QJ(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await Gz(r.acquireCachedToken.bind(r),Iq,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(i){throw i instanceof jG&&i.errorCode===SG&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),i}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class OJ extends vJ{constructor(e,t,n,r,i,o,s,a,A,c,l,u){super(e,t,n,r,i,o,a,A,u),this.apiId=s,this.accountId=c,this.nativeMessageHandler=A,this.nativeStorageManager=l,this.silentCacheClient=new PJ(e,this.nativeStorageManager,n,r,i,o,a,A,u);const d=this.nativeMessageHandler.getExtensionId()===TB?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=mJ.makeExtraSkuString({libraryName:kB,libraryVersion:_z,extensionName:d,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[xW]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(yq,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(yq,e.correlationId),r=FK(),i=this.initializeServerTelemetryManager(this.apiId);try{const o=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,o);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(hY){if(t===vS)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),hY;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...s}=o,a={method:_B,request:s},A=await this.nativeMessageHandler.sendMessage(a),c=this.validateNativeResponse(A);return await this.handleNativeResponse(c,o,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),i.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(hY){throw hY instanceof SJ&&i.setNativeBrokerErrorCode(hY.errorCode),hY}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:bV.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),EK(sK);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw EK(sK);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),i={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:i}}catch(hY){throw hY}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),i={method:_B,request:r};try{const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e)}catch(hY){if(hY instanceof SJ){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(hY.errorCode),EJ(hY))throw hY}}this.browserStorage.setTemporaryCache($B,JSON.stringify(r),!0);const o={apiId:YB,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,o)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...i}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey($B));const o={method:_B,request:i},s=FK();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,i,s),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(hY){throw hY}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=IK(e.id_token,YG),i=this.createHomeAccountIdentifier(e,r),o=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(i!==o&&e.account.id!==t.accountId)throw kJ(CJ);const s=await this.getDiscoveredAuthority({requestAuthority:t.authority}),a=dJ(this.browserStorage,s,i,YG,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const A=await this.generateAuthenticationResult(e,t,r,a,s.canonicalAuthority,n);return await this.cacheAccount(a),await this.cacheNativeTokens(e,t,i,r,e.access_token,A.tenantId,n),A}createHomeAccountIdentifier(e,t){return _V.generateHomeAccountId(e.client_info||Zb.EMPTY_STRING,xV,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?bV.fromString(e.scope):bV.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===jC.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new cJ(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw EK(mK);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,i,o){const s=this.addTelemetryFromNativeResponse(e),a=e.scope?bV.fromString(e.scope):bV.fromString(t.scope),A=e.account.properties||{},c=A.UID||n.oid||n.sub||Zb.EMPTY_STRING,l=A.TenantId||n.tid||Zb.EMPTY_STRING,u=kV(r.getAccountInfo(),void 0,n,e.id_token);u.nativeAccountId!==e.account.id&&(u.nativeAccountId=e.account.id);const d=await this.generatePopAccessToken(e,t),h=t.tokenType===jC.POP?jC.POP:jC.BEARER;return{authority:i,uniqueId:c,tenantId:l,scopes:a.asArray(),account:u,idToken:e.id_token,idTokenClaims:n,accessToken:d,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:RK(o+e.expires_in),tokenType:h,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,i,o,s){const a=OK(n,t.authority,e.id_token||"",t.clientId,r.tid||""),A=s+(t.tokenType===jC.POP?Zb.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),c=this.generateScopes(e,t),l={idToken:a,accessToken:NK(n,t.authority,i,t.clientId,r.tid||o,c.printScopes(),A,0,YG,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(l,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw hB(cB,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(hY){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new OV(t);n.validateAsUri();const{scopes:r,...i}=e,o=new bV(r||[]);o.appendScopes(iC);const s={...i,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:o.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case ZB:case nS:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),vC.NONE}if(e.prompt)switch(e.prompt){case vC.NONE:case vC.CONSENT:case vC.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),KG(QG)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw KG(OG);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=IB,e.authenticationScheme===jC.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new cJ(this.browserCrypto);let r;if(s.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const i=await Gz(n.generateCnf.bind(n),t$,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=i.reqCnfString,s.keyId=i.kid,s.signPopToken=!0}s.reqCnf=r}return this.addRequestSKUs(s),s}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(TW)&&e.extraParameters.hasOwnProperty(IW)&&e.extraParameters.hasOwnProperty(CW);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[IW],n=e.extraParameters[CW]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}async function NJ(e,t,n,r,i){const o=UJ({...e.auth,authority:t},n,r,i);if(jW(o,{sku:kB,version:_z,os:"",cpu:""}),e.auth.protocolMode!==Uj&&KW(o,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(o),n.authenticationScheme===jC.POP)){const e=new Vz(r,i),t=new cJ(e);let s;if(n.popKid)s=e.encodeKid(n.popKid);else{s=(await Gz(t.generateCnf.bind(t),t$,r,i,n.correlationId)(n,r)).reqCnfString}XW(o,s)}return FW(o,n.correlationId,i),o}async function DJ(e,t,n,r,i){if(!n.codeChallenge)throw yV(sV);const o=await Gz(NJ,qq,r,i,n.correlationId)(e,t,n,r,i);return _W(o,wC),function(e,t,n){if(!t||!n)throw yV(sV);e.set("code_challenge",t),e.set("code_challenge_method",n)}(o,n.codeChallenge,Zb.S256_CODE_CHALLENGE_METHOD),YW(o,n.extraQueryParameters||{}),FJ(t,o,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function MJ(e,t,n,r,i,o){if(!r.earJwk)throw KG(q$);const s=await NJ(t,n,r,i,o);_W(s,bC),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(s,r.earJwk);const a=new Map;YW(a,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const i=e.createElement("input");i.hidden=!0,i.name=n,i.value=t,r.appendChild(i)})),e.body.appendChild(r),r}(e,FJ(n,a,t.auth.encodeExtraQueryParams,r.extraQueryParameters),s)}async function LJ(e,t,n,r,i,o,s,a,A,c){if(!c)throw KG(_G);const l=new Vz(a,A),u=new OJ(r,i,l,a,s,r.system.navigationClient,n,A,c,t,o,e.correlationId),{userRequestState:d}=aJ.parseRequestState(l,e.state);return Gz(u.acquireToken.bind(u),yq,a,A,e.correlationId)({...e,state:d,prompt:void 0})}async function HJ(e,t,n,r,i,o,s,a,A,c,l,u){if(oJ.removeThrottle(s,i.auth.clientId,e),t.accountId)return Gz(LJ,Wq,c,l,e.correlationId)(e,t.accountId,r,i,s,a,A,c,l,u);const d={...e,code:t.code||"",codeVerifier:n},h=new RJ(o,s,d,c,l);return await Gz(h.handleCodeResponse.bind(h),Gq,c,l,e.correlationId)(t,e)}async function jJ(e,t,n,r,i,o,s,a,A,c,l){if(oJ.removeThrottle(o,r.auth.clientId,e),_J(t,e.state),!t.ear_jwe)throw KG($$);if(!e.earJwk)throw KG(q$);const u=JSON.parse(await Gz(pz,N$,A,c,e.correlationId)(e.earJwk,t.ear_jwe));if(u.accountId)return Gz(LJ,Wq,A,c,e.correlationId)(e,u.accountId,n,r,o,s,a,A,c,l);const d=new uJ(r.auth.clientId,o,new Vz(A,c),A,null,null,c);d.validateTokenResponse(u);const h={code:"",state:e.state,nonce:e.nonce,client_info:u.client_info,cloud_graph_host_name:u.cloud_graph_host_name,cloud_instance_host_name:u.cloud_instance_host_name,cloud_instance_name:u.cloud_instance_name,msgraph_host:u.msgraph_host};return await Gz(d.handleServerTokenResponse.bind(d),r$,A,c,e.correlationId)(u,i,FK(),e,h,void 0,void 0,void 0,void 0)}async function KJ(e,t,n){e.addQueueMeasurement(E$,n);const r=$z(VJ,k$,t,e,n)(e,t,n);return{verifier:r,challenge:await Gz(qJ,x$,t,e,n)(r,e,t,n)}}function VJ(e,t,n){try{const r=new Uint8Array(32);$z(lz,I$,t,e,n)(r);return zG(r)}catch(hY){throw KG(V$)}}async function qJ(e,t,n,r){t.addQueueMeasurement(x$,r);try{const i=await Gz(cz,T$,n,t,r)(e,t,r);return zG(new Uint8Array(i))}catch(hY){throw KG(V$)}}class $J extends bJ{constructor(e,t,n,r,i,o,s,a,A,c){super(e,t,n,r,i,o,s,A,c),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=i}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||iC,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(hY){return Promise.reject(hY)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,i=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,i)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,i))}catch(hY){return Promise.reject(hY)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await Gz(this.initializeAuthorizationRequest.bind(this),Kq,this.logger,this.performanceClient,this.correlationId)(e,oS.Popup);t.popup&&Uz(r.authority);const i=xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=i,this.config.auth.protocolMode===Fj?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,i=this.initializeServerTelemetryManager(XB),o=n||await Gz(KJ,E$,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:o.challenge};try{const n=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,r)({serverTelemetryManager:i,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),a=await Gz(DJ,Vq,this.logger,this.performanceClient,r)(this.config,n.authority,s,this.logger,this.performanceClient),A=this.initiateAuthRequest(a,t);this.eventHandler.emitEvent(zS,oS.Popup,{popupWindow:A},null);const c=await this.monitorPopupForHash(A,t.popupWindowParent),l=$z(TJ,i$,this.logger,this.performanceClient,this.correlationId)(c,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await Gz(HJ,Jq,this.logger,this.performanceClient,r)(e,l,o.verifier,XB,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(hY){throw t.popup?.close(),hY instanceof dB&&(hY.setCorrelationId(this.correlationId),i.cacheFailedRequest(hY)),hY}}async executeEarFlow(e,t){const n=e.correlationId,r=await Gz(this.getDiscoveredAuthority.bind(this),vq,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),i=await Gz(fz,O$,this.logger,this.performanceClient,n)(),o={...e,earJwk:i},s=t.popup||this.openPopup("about:blank",t);(await MJ(s.document,this.config,r,o,this.logger,this.performanceClient)).submit();const a=await Gz(this.monitorPopupForHash.bind(this),Dq,this.logger,this.performanceClient,n)(s,t.popupWindowParent),A=$z(TJ,i$,this.logger,this.performanceClient,this.correlationId)(a,this.config.auth.OIDCOptions.serverResponseType,this.logger);return Gz(jJ,zq,this.logger,this.performanceClient,n)(o,A,XB,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent(WS,oS.Popup,e);const i=this.initializeServerTelemetryManager(iS);try{await this.clearCacheOnLogout(e.account);const o=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:i,requestAuthority:n,account:e.account||void 0});try{o.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&o.authority.protocolMode===Uj){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(JS,oS.Popup,e),r){const e={apiId:iS,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=OV.getAbsoluteUrl(r,Sz());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const s=o.getLogoutUri(e);this.eventHandler.emitEvent(JS,oS.Popup,e);const a=this.openPopup(s,t);if(this.eventHandler.emitEvent(zS,oS.Popup,{popupWindow:a},null),await this.monitorPopupForHash(a,t.popupWindowParent).catch((()=>{})),r){const e={apiId:iS,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=OV.getAbsoluteUrl(r,Sz());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(hY){throw t.popup?.close(),hY instanceof dB&&(hY.setCorrelationId(this.correlationId),i.cacheFailedRequest(hY)),this.eventHandler.emitEvent(YS,oS.Popup,null,hY),this.eventHandler.emitEvent(XS,oS.Popup),hY}this.eventHandler.emitEvent(XS,oS.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),KG(z$)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(KG(rG));let i="";try{i=e.location.href}catch(hY){}if(!i||"about:blank"===i)return;clearInterval(r);let o="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(o=s===CC?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(o)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw KG(nG);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(hY){throw this.logger.error("error opening popup "+hY.message),KG(tG)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:i}=t;const o=i.screenLeft?i.screenLeft:i.screenX,s=i.screenTop?i.screenTop:i.screenY,a=i.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,A=i.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let c=r.popupSize?.width,l=r.popupSize?.height,u=r.popupPosition?.top,d=r.popupPosition?.left;return(!c||c<0||c>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),c=CB),(!l||l<0||l>A)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),l=BB),(!u||u<0||u>A)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),u=Math.max(0,A/2-BB/2+s)),(!d||d<0||d>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),d=Math.max(0,a/2-CB/2+o)),i.open(e,n,`width=${c}, height=${l}, top=${u}, left=${d}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${SB}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${SB}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class GJ extends bJ{constructor(e,t,n,r,i,o,s,a,A,c){super(e,t,n,r,i,o,s,A,c),this.nativeStorage=a}async acquireToken(e){const t=await Gz(this.initializeAuthorizationRequest.bind(this),Kq,this.logger,this.performanceClient,this.correlationId)(e,oS.Redirect);t.platformBroker=xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(ZS,oS.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(HB,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===Fj?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(hY){throw hY instanceof dB&&hY.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),hY}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(YB),i=await Gz(KJ,E$,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...e,codeChallenge:i.challenge};this.browserStorage.cacheAuthorizeRequest(o,i.verifier);try{const n=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:o.authority,requestAzureCloudOptions:o.azureCloudOptions,requestExtraQueryParameters:o.extraQueryParameters,account:o.account}),i=await Gz(DJ,Vq,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,o,this.logger,this.performanceClient);return await this.initiateAuthRequest(i,t)}catch(hY){throw hY instanceof dB&&(hY.setCorrelationId(this.correlationId),r.cacheFailedRequest(hY)),hY}}async executeEarFlow(e){const t=e.correlationId,n=await Gz(this.getDiscoveredAuthority.bind(this),vq,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Gz(fz,O$,this.logger,this.performanceClient,t)(),i={...e,earJwk:r};this.browserStorage.cacheAuthorizeRequest(i);(await MJ(document,this.config,n,i,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const i=this.initializeServerTelemetryManager(eS);try{const[o,s]=this.getRedirectResponse(e||"");if(!o)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(HB,!0)||Zb.EMPTY_STRING,A=OV.removeHashFromUrl(a);if(A===OV.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(o,t,n,i)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(o,t,n,i);if(!Bz()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(jB,s,!0);const e={apiId:eS,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),r=await this.navigationClient.navigateInternal(a,e);else{const t=function(){const e=new OV(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(HB,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(o,t,n,i)}return null}catch(hY){throw hY instanceof dB&&(hY.setCorrelationId(this.correlationId),i.cacheFailedRequest(hY)),hY}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===CC?window.location.search:window.location.hash);let n=QV(t);if(n){try{IJ(n,this.browserCrypto,oS.Redirect)}catch(hY){return hY instanceof dB&&this.logger.error(`Interaction type validation failed due to ${hY.errorCode}: ${hY.errorMessage}`),[null,""]}return Cz(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(jB,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(jB)),r&&(n=QV(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw KG(J$);if(e.ear_jwe){const n=await Gz(this.getDiscoveredAuthority.bind(this),vq,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return Gz(jJ,zq,this.logger,this.performanceClient,t.correlationId)(t,e,YB,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const i=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return Gz(HJ,Jq,this.logger,this.performanceClient,t.correlationId)(t,e,n,YB,this.config,i,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:YB,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),KG(z$)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(rS);try{this.eventHandler.emitEvent(WS,oS.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:rS,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},i=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(i.authority.protocolMode===Uj)try{i.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(JS,oS.Redirect,t)}const o=i.getLogoutUri(t);if(this.eventHandler.emitEvent(JS,oS.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,LB),void await this.navigationClient.navigateExternal(o,r);if(!1!==e.onRedirectNavigate(o))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,LB),void await this.navigationClient.navigateExternal(o,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(hY){throw hY instanceof dB&&(hY.setCorrelationId(this.correlationId),n.cacheFailedRequest(hY)),this.eventHandler.emitEvent(YS,oS.Redirect,null,hY),this.eventHandler.emitEvent(XS,oS.Redirect),hY}this.eventHandler.emitEvent(XS,oS.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return OV.getAbsoluteUrl(t,Sz())}}async function zJ(e,t,n,r,i){if(t.addQueueMeasurement(Nq,r),!e)throw n.info("Navigate url is empty"),KG(z$);return i?Gz(YJ,Mq,n,t,r)(e,i,t,r):$z(XJ,Lq,n,t,r)(e)}async function WJ(e,t,n,r,i){const o=ZJ();if(!o.contentDocument)throw"No document associated with iframe!";return(await MJ(o.contentDocument,e,t,n,r,i)).submit(),o}async function JJ(e,t,n,r,i,o,s){return r.addQueueMeasurement(Dq,o),new Promise(((r,o)=>{t<Fz&&i.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const a=window.setTimeout((()=>{window.clearInterval(A),o(KG(oG))}),t),A=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(hY){}if(!t||"about:blank"===t)return;let i="";n&&(i=s===CC?n.location.search:n.location.hash),window.clearTimeout(a),window.clearInterval(A),r(i)}),n)})).finally((()=>{$z(eY,y$,i,r,o)(e)}))}function YJ(e,t,n,r){return n.addQueueMeasurement(Mq,r),new Promise(((n,r)=>{const i=ZJ();window.setTimeout((()=>{i?(i.src=e,n(i)):r("Unable to load iframe")}),t)}))}function XJ(e){const t=ZJ();return t.src=e,t}function ZJ(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function eY(e){document.body===e.parentNode&&document.body.removeChild(e)}class tY extends bJ{constructor(e,t,n,r,i,o,s,a,A,c,l){super(e,t,n,r,i,o,a,c,l),this.apiId=s,this.nativeStorage=A}async acquireToken(e){this.performanceClient.addQueueMeasurement(fq,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==vC.NONE&&t.prompt!==vC.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${vC.NONE}`),t.prompt=vC.NONE):t.prompt=vC.NONE;const n=await Gz(this.initializeAuthorizationRequest.bind(this),Kq,this.logger,this.performanceClient,e.correlationId)(t,oS.Silent);return n.platformBroker=xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),Uz(n.authority),this.config.auth.protocolMode===Fj?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await Gz(this.createAuthCodeClient.bind(this),Hq,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await Gz(this.silentTokenHelper.bind(this),Oq,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(hY){if(hY instanceof dB&&(hY.setCorrelationId(this.correlationId),n.cacheFailedRequest(hY)),!t||!(hY instanceof dB)||hY.errorCode!==bB)throw hY;return this.performanceClient.addFields({retryError:hY.errorCode},this.correlationId),await Gz(this.silentTokenHelper.bind(this),Oq,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await Gz(this.getDiscoveredAuthority.bind(this),vq,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await Gz(fz,O$,this.logger,this.performanceClient,t)(),i={...e,earJwk:r},o=await Gz(WJ,Nq,this.logger,this.performanceClient,t)(this.config,n,i,this.logger,this.performanceClient),s=this.config.auth.OIDCOptions.serverResponseType,a=await Gz(JJ,Dq,this.logger,this.performanceClient,t)(o,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,s),A=$z(TJ,i$,this.logger,this.performanceClient,t)(a,s,this.logger);return Gz(jJ,zq,this.logger,this.performanceClient,t)(i,A,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(KG(lG))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Oq,n);const r=await Gz(KJ,E$,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...t,codeChallenge:r.challenge},o=await Gz(DJ,Vq,this.logger,this.performanceClient,n)(this.config,e.authority,i,this.logger,this.performanceClient),s=await Gz(zJ,Nq,this.logger,this.performanceClient,n)(o,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),a=this.config.auth.OIDCOptions.serverResponseType,A=await Gz(JJ,Dq,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),c=$z(TJ,i$,this.logger,this.performanceClient,n)(A,a,this.logger);return Gz(HJ,Jq,this.logger,this.performanceClient,n)(t,c,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class nY extends sJ{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(Sq,e.correlationId);const t=FK(),n=await Gz(this.executeTokenRequest.bind(this),Bq,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[lC],i=new uJ(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return i.validateTokenResponse(n.body),Gz(i.handleServerTokenResponse.bind(i),r$,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw yV(rV);if(this.performanceClient?.addQueueMeasurement(kq,e.correlationId),!e.account)throw EK(rK);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await Gz(this.acquireTokenWithCachedRefreshToken.bind(this),Eq,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(hY){const n=hY instanceof iW&&hY.errorCode===Yz,r=hY instanceof iJ&&hY.errorCode===GC&&hY.subError===zC;if(n||r)return Gz(this.acquireTokenWithCachedRefreshToken.bind(this),Eq,this.logger,this.performanceClient,e.correlationId)(e,!1);throw hY}return Gz(this.acquireTokenWithCachedRefreshToken.bind(this),Eq,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(Eq,e.correlationId);const n=$z(this.cacheManager.getRefreshToken.bind(this.cacheManager),b$,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw sW(Yz);if(n.expiresOn&&QK(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),sW(Zz);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||jC.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:wW}};try{return await Gz(this.acquireToken.bind(this),Sq,this.logger,this.performanceClient,e.correlationId)(r)}catch(hY){if(hY instanceof iW&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),hY.subError===eW)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=PK(n);this.cacheManager.removeRefreshToken(e)}throw hY}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(Bq,e.correlationId);const n=this.createTokenQueryParameters(e),r=OV.appendQueryString(t.tokenEndpoint,n),i=await Gz(this.createTokenRequestBody.bind(this),xq,this.logger,this.performanceClient,e.correlationId)(e),o=this.createTokenRequestHeaders(e.ccsCredential),s=aW(this.config.authOptions.clientId,e);return Gz(this.executePostToTokenEndpoint.bind(this),bq,this.logger,this.performanceClient,e.correlationId)(r,i,o,s,e.correlationId,bq)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(xq,e.correlationId);const t=new Map;if(QW(t,e.embeddedClientId||e.tokenBodyParameters?.[CW]||this.config.authOptions.clientId),e.redirectUri&&PW(t,e.redirectUri),RW(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),zW(t,kC),WW(t),jW(t,this.config.libraryInfo),KW(t,this.config.telemetry.application),tJ(t),this.serverTelemetryManager&&!nq(this.config)&&eJ(t,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(t,e.refreshToken),this.config.clientCredentials.clientSecret&&qW(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;$W(t,await fJ(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),GW(t,n.assertionType)}if(e.authenticationScheme===jC.POP){const n=new cJ(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await Gz(n.generateCnf.bind(n),t$,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}XW(t,r)}else if(e.authenticationScheme===jC.SSH){if(!e.sshJwk)throw yV(lV);ZW(t,e.sshJwk)}if((!wV.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&LW(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case wW:try{DW(t,BV(e.ccsCredential.credential))}catch(hY){this.logger.verbose("Could not parse home account ID for CCS Header: "+hY)}break;case bW:NW(t,e.ccsCredential.credential)}return e.embeddedClientId&&nJ(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&YW(t,e.tokenBodyParameters),FW(t,e.correlationId,this.performanceClient),PV(t)}}class rY extends bJ{async acquireToken(e){this.performanceClient.addQueueMeasurement(gq,e.correlationId);const t=await Gz(yJ,_q,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(nS),i=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return Gz(i.acquireTokenByRefreshToken.bind(i),kq,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(KG(lG))}async createRefreshTokenClient(e){const t=await Gz(this.getClientConfiguration.bind(this),jq,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new nY(t,this.performanceClient)}}class iY{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw KG(mG);const r=e.correlationId||dz(),i=t.id_token?IK(t.id_token,YG):void 0,o={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Wz(Wz.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,o,this.logger,e.correlationId||dz()):void 0,a=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,i,s),A=await this.loadIdToken(t,a.homeAccountId,a.environment,a.realm,r),c=await this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n,r),l=await this.loadRefreshToken(t,a.homeAccountId,a.environment,r);return this.generateAuthenticationResult(e,{account:a,idToken:A,accessToken:c,refreshToken:l},i,s)}async loadAccount(e,t,n,r,i){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=_V.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!i||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),KG(BG);const o=_V.generateHomeAccountId(t,i.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=dJ(this.storage,i,o,YG,r,t,i.hostnameAndPort,s,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(e,t,n,r,i){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const o=OK(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(o,i),o}async loadAccessToken(e,t,n,r,i,o,s){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?bV.fromString(t.scope):new bV(e.scopes),A=o.expiresOn||t.expires_in+FK(),c=o.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+FK(),l=NK(n,r,t.access_token,this.config.auth.clientId,i,a.printScopes(),A,c,YG);return await this.storage.setAccessTokenCredential(l,s),l}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const i=DK(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(i,r),i}generateAuthenticationResult(e,t,n,r){let i,o="",s=[],a=null;t?.accessToken&&(o=t.accessToken.secret,s=bV.fromString(t.accessToken.target).asArray(),a=RK(t.accessToken.expiresOn),i=RK(t.accessToken.extendedExpiresOn));const A=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:A.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:o,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:i,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:A.cloudGraphHostName||"",msGraphHost:A.msGraphHost||"",fromNativeBroker:!1}}}class oY extends pJ{constructor(e){super(e),this.includeRedirectUri=!1}}class sY extends bJ{constructor(e,t,n,r,i,o,s,a,A,c){super(e,t,n,r,i,o,a,A,c),this.apiId=s}async acquireToken(e){if(!e.code)throw KG(EG);const t=await Gz(this.initializeAuthorizationRequest.bind(this),Kq,this.logger,this.performanceClient,e.correlationId)(e,oS.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},i=await Gz(this.getClientConfiguration.bind(this),jq,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),o=new oY(i);this.logger.verbose("Auth code client created");const s=new RJ(o,this.browserStorage,r,this.logger,this.performanceClient);return await Gz(s.handleCodeResponseFromServer.bind(s),$q,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(hY){throw hY instanceof dB&&(hY.setCorrelationId(this.correlationId),n.cacheFailedRequest(hY)),hY}}logout(){return Promise.reject(KG(lG))}}function aY(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function AY(e,t){try{Tz(e)}catch(hY){throw t.end({success:!1},hY),hY}}class cY{constructor(e){this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Vz(this.logger,this.performanceClient):kK,this.eventHandler=new yW(this.logger),this.browserStorage=this.isBrowserEnvironment?new mW(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(hY){throw yV(aV)}return{canonicalAuthority:e.authority?Jz(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):((e,t,n,r)=>new mW(e,{cacheLocation:OB,temporaryCacheLocation:OB,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},kK,t,n,r))(this.config.auth.clientId,this.logger,this.performanceClient,this.eventHandler);const t={cacheLocation:OB,temporaryCacheLocation:OB,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new mW(this.config.auth.clientId,t,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new iY(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new cY(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(IS);const n=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,i=this.performanceClient.startMeasurement(Qq,n);if(this.eventHandler.emitEvent(TS),!t)try{this.logMultipleInstances(i)}catch{}if(await Gz(this.browserStorage.initialize.bind(this.browserStorage),Pq,this.logger,this.performanceClient,n)(n),r)try{this.nativeExtensionProvider=await xJ.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(hY){this.logger.verbose(hY)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await Gz(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),w$,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(IS),i.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),xz(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const t=this.browserStorage.getInteractionInProgress()?.type;if(t===LB)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),i=r&&xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let o,s;this.eventHandler.emitEvent($S,oS.Redirect);try{if(i&&this.nativeExtensionProvider){o=this.performanceClient.startMeasurement(lq,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new OJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,eS,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);s=Gz(e.handleRedirectPromise.bind(e),m$,this.logger,this.performanceClient,o.event.correlationId)(this.performanceClient,o.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;o=this.performanceClient.startMeasurement(lq,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const i=this.createRedirectClient(r);s=Gz(i.handleRedirectPromise.bind(i),g$,this.logger,this.performanceClient,o.event.correlationId)(e,t,n,o)}}catch(hY){throw this.browserStorage.resetRequestCache(),hY}return s.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(QS,oS.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(NS,oS.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),o.end({success:!0,accountType:aY(e.account)})}else o.event.errorCode?o.end({success:!1}):o.discard();return this.eventHandler.emitEvent(GS,oS.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(DS,oS.Redirect,null,t):this.eventHandler.emitEvent(PS,oS.Redirect,null,t),this.eventHandler.emitEvent(GS,oS.Redirect),o.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(cq,t);n.add({accountType:aY(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const i=this.getAllAccounts().length>0;try{let r;if(Iz(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,MB),i?this.eventHandler.emitEvent(OS,oS.Redirect,e):this.eventHandler.emitEvent(RS,oS.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new OJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,YB,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof SJ&&EJ(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof iW){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(hY){throw this.browserStorage.resetRequestCache(),n.end({success:!1},hY),i?this.eventHandler.emitEvent(DS,oS.Redirect,null,hY):this.eventHandler.emitEvent(PS,oS.Redirect,null,hY),hY}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Aq,t);n.add({scenarioId:e.scenarioId,accountType:aY(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),AY(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,MB)}catch(hY){return Promise.reject(hY)}const r=this.getAllAccounts();let i;r.length>0?this.eventHandler.emitEvent(OS,oS.Popup,e):this.eventHandler.emitEvent(RS,oS.Popup,e);const o=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))i=this.acquireTokenNative({...e,correlationId:t},XB).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:aY(e.account)}),e))).catch((n=>{if(n instanceof SJ&&EJ(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,o)}if(n instanceof iW){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,o)}throw n}));else{i=this.createPopupClient(t).acquireToken(e,o)}return i.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(QS,oS.Popup,e):this.eventHandler.emitEvent(NS,oS.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:aY(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(DS,oS.Popup,null,e):this.eventHandler.emitEvent(PS,oS.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(mq,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:aY(e.account)}),AY(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(LS,oS.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,ZB).catch((e=>{if(e instanceof SJ&&EJ(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(HS,oS.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:aY(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(jS,oS.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(iq,t);AY(this.initialized,n),this.eventHandler.emitEvent(KS,oS.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw KG(xG);if(e.code){const r=e.code;let i=this.hybridAuthCodeResponses.get(r);return i?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),i=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(VS,oS.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:aY(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(qS,oS.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,i)),await i}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},tS,e.nativeAccountId).catch((e=>{throw e instanceof SJ&&EJ(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:aY(r.account),success:!0}),r}throw KG(IG)}throw KG(kG)}catch(hY){throw this.eventHandler.emitEvent(qS,oS.Silent,null,hY),n.end({success:!1},hY),hY}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(p$,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(Tq,e.correlationId),t){case mS:case vS:case yS:const t=this.createSilentCacheClient(e.correlationId);return Gz(t.acquireToken.bind(t),hq,this.logger,this.performanceClient,e.correlationId)(e);default:throw EK(uK)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(oq,e.correlationId),t){case mS:case yS:case wS:case bS:const t=this.createSilentRefreshClient(e.correlationId);return Gz(t.acquireToken.bind(t),gq,this.logger,this.performanceClient,e.correlationId)(e);default:throw EK(uK)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(Fq,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return Gz(t.acquireToken.bind(t),fq,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);Iz(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,LB);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);Tz(this.initialized),this.browserStorage.setInteractionInProgress(!0,LB);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(hY){return Promise.reject(hY)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=_V.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw KG(_G);return new OJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case vC.NONE:case vC.CONSENT:case vC.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new $J(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new GJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new tY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,ZB,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new PJ(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new rY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new sY(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,tS,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return kz(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===QB?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===QB?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?dz():Zb.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||hS})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||hS})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(sq,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),AY(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw KG(uG);return n.add({accountType:aY(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof dB&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=aW(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),i=JSON.stringify(r),o=this.activeSilentTokenRequests.get(i);if("undefined"===typeof o){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=Gz(this.acquireTokenSilentAsync.bind(this),aq,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(i,r),r.finally((()=>{this.activeSilentTokenRequests.delete(i)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),o}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(aq,e.correlationId),this.eventHandler.emitEvent(OS,oS.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await Gz(wJ,Rq,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),i=e.cacheLookupPolicy||mS;return this.acquireTokenSilentNoIframe(r,i).catch((async e=>{const t=function(e,t){const n=!(e instanceof iW&&e.subError!==eW),r=e.errorCode===bB||e.errorCode===uK,i=n&&r||e.errorCode===Yz||e.errorCode===Zz,o=BS.includes(t);return i&&o}(e,i);if(t){if(this.activeIframeRequest){if(i!==CS){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const o=this.performanceClient.startMeasurement(pq,r.correlationId);o.add({awaitIframeCorrelationId:n});const s=await t;if(o.end({success:s}),s)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,i);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),Gz(this.acquireTokenBySilentIframe.bind(this),Fq,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),Gz(this.acquireTokenBySilentIframe.bind(this),Fq,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(NS,oS.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(DS,oS.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return xJ.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,nS,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof SJ&&EJ(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,EK(uK);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===vS&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),Gz(this.acquireTokenFromCache.bind(this),Tq,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===vS)throw n;return this.eventHandler.emitEvent(MS,oS.Silent,e),Gz(this.acquireTokenByRefreshToken.bind(this),oq,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await Gz(KJ,E$,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){const r=window.msal?.clientIds||[],i=r.length,o=r.filter((t=>t===e)).length;o>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:i,sameClientIdInstanceCount:o})}(t,e,this.logger)}}class lY{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new Qz(e);return await n.initialize(),cY.createController(n,t)}(e);return new lY(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new cY(new Qz(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}window.process=xj(),window.Buffer=window.Buffer||Tj.hp;const uY=new lY(dE);c.createRoot(document.getElementById("root")).render((0,Fe.jsx)(a.StrictMode,{children:(0,Fe.jsx)(aE,{instance:uY,children:(0,Fe.jsx)(Ej,{})})}))})()})();
//# sourceMappingURL=main.524e598c.js.map