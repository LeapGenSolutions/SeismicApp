/*! For license information please see 716.48b43877.chunk.js.LICENSE.txt */
(self.webpackChunkdoctorapp_leapgen=self.webpackChunkdoctorapp_leapgen||[]).push([[716],{294:(e,A,t)=>{"use strict";function n(e){return new TypeError("You provided "+(null!==e&&"object"===typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}t.d(A,{L:()=>n})},542:(e,A,t)=>{"use strict";t.d(A,{cV:()=>Aa,iP:()=>Wo,iV:()=>wc,Ko:()=>bo,pI:()=>Kr,mg:()=>yo,hc:()=>ks,Hq:()=>ol,cy:()=>xi,SJ:()=>Eo,B6:()=>Vo,tZ:()=>to,Fv:()=>Io,Mc:()=>To,sf:()=>ko,aV:()=>So,T4:()=>Ro,bT:()=>Go,Vz:()=>_o,x8:()=>ha,ND:()=>jo});var n={};t.r(n),t.d(n,{fixNegotiationNeeded:()=>k,shimAddTrackRemoveTrack:()=>I,shimAddTrackRemoveTrackWithNative:()=>S,shimGetDisplayMedia:()=>b,shimGetSendersWithDtmf:()=>Q,shimGetStats:()=>E,shimGetUserMedia:()=>v,shimMediaStream:()=>y,shimOnTrack:()=>U,shimPeerConnection:()=>T,shimSenderReceiverGetStats:()=>F});var r={};t.r(r),t.d(r,{shimAddTransceiver:()=>N,shimCreateAnswer:()=>V,shimCreateOffer:()=>M,shimGetDisplayMedia:()=>x,shimGetParameters:()=>K,shimGetUserMedia:()=>R,shimOnTrack:()=>H,shimPeerConnection:()=>_,shimRTCDataChannel:()=>P,shimReceiverGetStats:()=>D,shimRemoveStream:()=>L,shimSenderGetStats:()=>O});var s={};t.r(s),t.d(s,{shimAudioContext:()=>Z,shimCallbacksAPI:()=>J,shimConstraints:()=>W,shimCreateOfferLegacy:()=>q,shimGetUserMedia:()=>$,shimLocalStreamsAPI:()=>j,shimRTCIceServerUrls:()=>X,shimRemoteStreamsAPI:()=>G,shimTrackEventTransceiver:()=>Y});var i={};t.r(i),t.d(i,{removeExtmapAllowMixed:()=>ie,shimAddIceCandidateNullOrEmpty:()=>oe,shimConnectionState:()=>se,shimMaxMessageSize:()=>ne,shimParameterlessSetLocalDescription:()=>ae,shimRTCIceCandidate:()=>Ae,shimRTCIceCandidateRelayProtocol:()=>te,shimSendThrowTypeError:()=>re});var o={};t.r(o),t.d(o,{hasBrowserEnv:()=>pt,hasStandardBrowserEnv:()=>ft,hasStandardBrowserWebWorkerEnv:()=>mt,navigator:()=>gt,origin:()=>Bt});let a=!0,c=!0;function l(e,A,t){const n=e.match(A);return n&&n.length>=t&&parseFloat(n[t],10)}function u(e,A,t){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==A)return r.apply(this,arguments);const s=e=>{const A=t(e);A&&(n.handleEvent?n.handleEvent(A):n(A))};return this._eventMap=this._eventMap||{},this._eventMap[A]||(this._eventMap[A]=new Map),this._eventMap[A].set(n,s),r.apply(this,[e,s])};const s=n.removeEventListener;n.removeEventListener=function(e,t){if(e!==A||!this._eventMap||!this._eventMap[A])return s.apply(this,arguments);if(!this._eventMap[A].has(t))return s.apply(this,arguments);const n=this._eventMap[A].get(t);return this._eventMap[A].delete(t),0===this._eventMap[A].size&&delete this._eventMap[A],0===Object.keys(this._eventMap).length&&delete this._eventMap,s.apply(this,[e,n])},Object.defineProperty(n,"on"+A,{get(){return this["_on"+A]},set(e){this["_on"+A]&&(this.removeEventListener(A,this["_on"+A]),delete this["_on"+A]),e&&this.addEventListener(A,this["_on"+A]=e)},enumerable:!0,configurable:!0})}function d(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(a=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function h(e){return"boolean"!==typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function p(){if("object"===typeof window){if(a)return;"undefined"!==typeof console&&"function"===typeof console.log&&console.log.apply(console,arguments)}}function g(e,A){c&&console.warn(e+" is deprecated, please use "+A+" instead.")}function f(e){return"[object Object]"===Object.prototype.toString.call(e)}function m(e){return f(e)?Object.keys(e).reduce((function(A,t){const n=f(e[t]),r=n?m(e[t]):e[t],s=n&&!Object.keys(r).length;return void 0===r||s?A:Object.assign(A,{[t]:r})}),{}):e}function B(e,A,t){A&&!t.has(A.id)&&(t.set(A.id,A),Object.keys(A).forEach((n=>{n.endsWith("Id")?B(e,e.get(A[n]),t):n.endsWith("Ids")&&A[n].forEach((A=>{B(e,e.get(A),t)}))})))}function w(e,A,t){const n=t?"outbound-rtp":"inbound-rtp",r=new Map;if(null===A)return r;const s=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===A.id&&s.push(e)})),s.forEach((A=>{e.forEach((t=>{t.type===n&&t.trackId===A.id&&B(e,t,r)}))})),r}const C=p;function v(e,A){const t=e&&e.navigator;if(!t.mediaDevices)return;const n=function(e){if("object"!==typeof e||e.mandatory||e.optional)return e;const A={};return Object.keys(e).forEach((t=>{if("require"===t||"advanced"===t||"mediaSource"===t)return;const n="object"===typeof e[t]?e[t]:{ideal:e[t]};void 0!==n.exact&&"number"===typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,A){return e?e+A.charAt(0).toUpperCase()+A.slice(1):"deviceId"===A?"sourceId":A};if(void 0!==n.ideal){A.optional=A.optional||[];let e={};"number"===typeof n.ideal?(e[r("min",t)]=n.ideal,A.optional.push(e),e={},e[r("max",t)]=n.ideal,A.optional.push(e)):(e[r("",t)]=n.ideal,A.optional.push(e))}void 0!==n.exact&&"number"!==typeof n.exact?(A.mandatory=A.mandatory||{},A.mandatory[r("",t)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(A.mandatory=A.mandatory||{},A.mandatory[r(e,t)]=n[e])}))})),e.advanced&&(A.optional=(A.optional||[]).concat(e.advanced)),A},r=function(e,r){if(A.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"===typeof e.audio){const A=function(e,A,t){A in e&&!(t in e)&&(e[t]=e[A],delete e[A])};A((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),A(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"===typeof e.video){let s=e.video.facingMode;s=s&&("object"===typeof s?s:{ideal:s});const i=A.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!t.mediaDevices.getSupportedConstraints||!t.mediaDevices.getSupportedConstraints().facingMode||i)){let A;if(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?A=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(A=["front"]),A)return t.mediaDevices.enumerateDevices().then((t=>{let i=(t=t.filter((e=>"videoinput"===e.kind))).find((e=>A.some((A=>e.label.toLowerCase().includes(A)))));return!i&&t.length&&A.includes("back")&&(i=t[t.length-1]),i&&(e.video.deviceId=s.exact?{exact:i.deviceId}:{ideal:i.deviceId}),e.video=n(e.video),C("chrome: "+JSON.stringify(e)),r(e)}))}e.video=n(e.video)}return C("chrome: "+JSON.stringify(e)),r(e)},s=function(e){return A.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(t.getUserMedia=function(e,A,n){r(e,(e=>{t.webkitGetUserMedia(e,A,(e=>{n&&n(s(e))}))}))}.bind(t),t.mediaDevices.getUserMedia){const e=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(A){return r(A,(A=>e(A).then((e=>{if(A.audio&&!e.getAudioTracks().length||A.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(s(e))))))}}}function b(e,A){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&("function"===typeof A?e.navigator.mediaDevices.getDisplayMedia=function(t){return A(t).then((A=>{const n=t.video&&t.video.width,r=t.video&&t.video.height,s=t.video&&t.video.frameRate;return t.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:A,maxFrameRate:s||3}},n&&(t.video.mandatory.maxWidth=n),r&&(t.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(t)}))}:console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}function y(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function U(e){if("object"===typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const A=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=A=>{A.stream.addEventListener("addtrack",(t=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===t.track.id)):{track:t.track};const r=new Event("track");r.track=t.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[A.stream],this.dispatchEvent(r)})),A.stream.getTracks().forEach((t=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===t.id)):{track:t};const r=new Event("track");r.track=t,r.receiver=n,r.transceiver={receiver:n},r.streams=[A.stream],this.dispatchEvent(r)}))},this.addEventListener("addstream",this._ontrackpoly)),A.apply(this,arguments)}}else u(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function Q(e){if("object"===typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const A=function(e,A){return{track:A,get dtmf(){return void 0===this._dtmf&&("audio"===A.kind?this._dtmf=e.createDTMFSender(A):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=t.apply(this,arguments);return r||(r=A(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const A=this._senders.indexOf(e);-1!==A&&this._senders.splice(A,1)}}const t=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],t.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(A(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const A=this._senders.find((A=>A.track===e));A&&this._senders.splice(this._senders.indexOf(A),1)}))}}else if("object"===typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const A=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=A.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function E(e){if(!e.RTCPeerConnection)return;const A=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,t,n]=arguments;if(arguments.length>0&&"function"===typeof e)return A.apply(this,arguments);if(0===A.length&&(0===arguments.length||"function"!==typeof e))return A.apply(this,[]);const r=function(e){const A={};return e.result().forEach((e=>{const t={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach((A=>{t[A]=e.stat(A)})),A[t.id]=t})),A},s=function(e){return new Map(Object.keys(e).map((A=>[A,e[A]])))};if(arguments.length>=2){const n=function(e){t(s(r(e)))};return A.apply(this,[n,e])}return new Promise(((e,t)=>{A.apply(this,[function(A){e(s(r(A)))},t])})).then(t,n)}}function F(e){if(!("object"===typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const A=e.RTCPeerConnection.prototype.getSenders;A&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=A.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((A=>w(A,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const A=e.RTCPeerConnection.prototype.getReceivers;A&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=A.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),u(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((A=>w(A,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const A=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let A,t,n;return this.getSenders().forEach((t=>{t.track===e&&(A?n=!0:A=t)})),this.getReceivers().forEach((A=>(A.track===e&&(t?n=!0:t=A),A.track===e))),n||A&&t?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):A?A.getStats():t?t.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return A.apply(this,arguments)}}function S(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const A=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,t){if(!t)return A.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=A.apply(this,arguments);return this._shimmedLocalStreams[t.id]?-1===this._shimmedLocalStreams[t.id].indexOf(n)&&this._shimmedLocalStreams[t.id].push(n):this._shimmedLocalStreams[t.id]=[t,n],n};const t=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((A=>A.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const A=this.getSenders();t.apply(this,arguments);const n=this.getSenders().filter((e=>-1===A.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((A=>{const t=this._shimmedLocalStreams[A].indexOf(e);-1!==t&&this._shimmedLocalStreams[A].splice(t,1),1===this._shimmedLocalStreams[A].length&&delete this._shimmedLocalStreams[A]})),r.apply(this,arguments)}}function I(e,A){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&A.version>=65)return S(e);const t=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=t.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(A){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},A.getTracks().forEach((e=>{if(this.getSenders().find((A=>A.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[A.id]){const t=new e.MediaStream(A.getTracks());this._streams[A.id]=t,this._reverseStreams[t.id]=A,A=t}n.apply(this,[A])};const r=e.RTCPeerConnection.prototype.removeStream;function s(e,A){let t=A.sdp;return Object.keys(e._reverseStreams||[]).forEach((A=>{const n=e._reverseStreams[A],r=e._streams[n.id];t=t.replace(new RegExp(r.id,"g"),n.id)})),new RTCSessionDescription({type:A.type,sdp:t})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(A,t){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===A)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===A)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const r=this._streams[t.id];if(r)r.addTrack(A),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const n=new e.MediaStream([A]);this._streams[t.id]=n,this._reverseStreams[n.id]=t,this.addStream(n)}return this.getSenders().find((e=>e.track===A))},["createOffer","createAnswer"].forEach((function(A){const t=e.RTCPeerConnection.prototype[A],n={[A](){const e=arguments;return arguments.length&&"function"===typeof arguments[0]?t.apply(this,[A=>{const t=s(this,A);e[0].apply(null,[t])},A=>{e[1]&&e[1].apply(null,A)},arguments[2]]):t.apply(this,arguments).then((e=>s(this,e)))}};e.RTCPeerConnection.prototype[A]=n[A]}));const i=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,A){let t=A.sdp;return Object.keys(e._reverseStreams||[]).forEach((A=>{const n=e._reverseStreams[A],r=e._streams[n.id];t=t.replace(new RegExp(n.id,"g"),r.id)})),new RTCSessionDescription({type:A.type,sdp:t})}(this,arguments[0]),i.apply(this,arguments)):i.apply(this,arguments)};const o=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=o.get.apply(this);return""===e.type?e:s(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(!(e._pc===this))throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let A;this._streams=this._streams||{},Object.keys(this._streams).forEach((t=>{this._streams[t].getTracks().find((A=>e.track===A))&&(A=this._streams[t])})),A&&(1===A.getTracks().length?this.removeStream(this._reverseStreams[A.id]):A.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function T(e,A){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&A.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(A){const t=e.RTCPeerConnection.prototype[A],n={[A](){return arguments[0]=new("addIceCandidate"===A?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};e.RTCPeerConnection.prototype[A]=n[A]}))}function k(e,A){u(e,"negotiationneeded",(e=>{const t=e.target;if(!(A.version<72||t.getConfiguration&&"plan-b"===t.getConfiguration().sdpSemantics)||"stable"===t.signalingState)return e}))}function R(e,A){const t=e&&e.navigator,n=e&&e.MediaStreamTrack;if(t.getUserMedia=function(e,A,n){g("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),t.mediaDevices.getUserMedia(e).then(A,n)},!(A.version>55&&"autoGainControl"in t.mediaDevices.getSupportedConstraints())){const e=function(e,A,t){A in e&&!(t in e)&&(e[t]=e[A],delete e[A])},A=t.mediaDevices.getUserMedia.bind(t.mediaDevices);if(t.mediaDevices.getUserMedia=function(t){return"object"===typeof t&&"object"===typeof t.audio&&(t=JSON.parse(JSON.stringify(t)),e(t.audio,"autoGainControl","mozAutoGainControl"),e(t.audio,"noiseSuppression","mozNoiseSuppression")),A(t)},n&&n.prototype.getSettings){const A=n.prototype.getSettings;n.prototype.getSettings=function(){const t=A.apply(this,arguments);return e(t,"mozAutoGainControl","autoGainControl"),e(t,"mozNoiseSuppression","noiseSuppression"),t}}if(n&&n.prototype.applyConstraints){const A=n.prototype.applyConstraints;n.prototype.applyConstraints=function(t){return"audio"===this.kind&&"object"===typeof t&&(t=JSON.parse(JSON.stringify(t)),e(t,"autoGainControl","mozAutoGainControl"),e(t,"noiseSuppression","mozNoiseSuppression")),A.apply(this,[t])}}}}function x(e,A){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(t){if(!t||!t.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===t.video?t.video={mediaSource:A}:t.video.mediaSource=A,e.navigator.mediaDevices.getUserMedia(t)})}function H(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function _(e,A){if("object"!==typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),A.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(A){const t=e.RTCPeerConnection.prototype[A],n={[A](){return arguments[0]=new("addIceCandidate"===A?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}};e.RTCPeerConnection.prototype[A]=n[A]}));const t={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,s]=arguments;return n.apply(this,[e||null]).then((e=>{if(A.version<53&&!r)try{e.forEach((e=>{e.type=t[e.type]||e.type}))}catch(n){if("TypeError"!==n.name)throw n;e.forEach(((A,n)=>{e.set(n,Object.assign({},A,{type:t[A.type]||A.type}))}))}return e})).then(r,s)}}function O(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const A=e.RTCPeerConnection.prototype.getSenders;A&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=A.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const t=e.RTCPeerConnection.prototype.addTrack;t&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=t.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function D(e){if("object"!==typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const A=e.RTCPeerConnection.prototype.getReceivers;A&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=A.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),u(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function L(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){g("removeStream","removeTrack"),this.getSenders().forEach((A=>{A.track&&e.getTracks().includes(A.track)&&this.removeTrack(A)}))})}function P(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function N(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const A=e.RTCPeerConnection.prototype.addTransceiver;A&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const t=e.length>0;t&&e.forEach((e=>{if("rid"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.")}if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const n=A.apply(this,arguments);if(t){const{sender:A}=n,t=A.getParameters();(!("encodings"in t)||1===t.encodings.length&&0===Object.keys(t.encodings[0]).length)&&(t.encodings=e,A.sendEncodings=e,this.setParametersPromises.push(A.setParameters(t).then((()=>{delete A.sendEncodings})).catch((()=>{delete A.sendEncodings}))))}return n})}function K(e){if("object"!==typeof e||!e.RTCRtpSender)return;const A=e.RTCRtpSender.prototype.getParameters;A&&(e.RTCRtpSender.prototype.getParameters=function(){const e=A.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function M(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const A=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>A.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):A.apply(this,arguments)}}function V(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const A=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>A.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):A.apply(this,arguments)}}function j(e){if("object"===typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const A=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((t=>A.call(this,t,e))),e.getVideoTracks().forEach((t=>A.call(this,t,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n&&n.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),A.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const A=this._localStreams.indexOf(e);if(-1===A)return;this._localStreams.splice(A,1);const t=e.getTracks();this.getSenders().forEach((e=>{t.includes(e.track)&&this.removeTrack(e)}))})}}function G(e){if("object"===typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const A=new Event("addstream");A.stream=e,this.dispatchEvent(A)}))})}});const A=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(A){A.streams.forEach((A=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(A)>=0)return;e._remoteStreams.push(A);const t=new Event("addstream");t.stream=A,e.dispatchEvent(t)}))}),A.apply(e,arguments)}}}function J(e){if("object"!==typeof e||!e.RTCPeerConnection)return;const A=e.RTCPeerConnection.prototype,t=A.createOffer,n=A.createAnswer,r=A.setLocalDescription,s=A.setRemoteDescription,i=A.addIceCandidate;A.createOffer=function(e,A){const n=arguments.length>=2?arguments[2]:arguments[0],r=t.apply(this,[n]);return A?(r.then(e,A),Promise.resolve()):r},A.createAnswer=function(e,A){const t=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[t]);return A?(r.then(e,A),Promise.resolve()):r};let o=function(e,A,t){const n=r.apply(this,[e]);return t?(n.then(A,t),Promise.resolve()):n};A.setLocalDescription=o,o=function(e,A,t){const n=s.apply(this,[e]);return t?(n.then(A,t),Promise.resolve()):n},A.setRemoteDescription=o,o=function(e,A,t){const n=i.apply(this,[e]);return t?(n.then(A,t),Promise.resolve()):n},A.addIceCandidate=o}function $(e){const A=e&&e.navigator;if(A.mediaDevices&&A.mediaDevices.getUserMedia){const e=A.mediaDevices,t=e.getUserMedia.bind(e);A.mediaDevices.getUserMedia=e=>t(W(e))}!A.getUserMedia&&A.mediaDevices&&A.mediaDevices.getUserMedia&&(A.getUserMedia=function(e,t,n){A.mediaDevices.getUserMedia(e).then(t,n)}.bind(A))}function W(e){return e&&void 0!==e.video?Object.assign({},e,{video:m(e.video)}):e}function X(e){if(!e.RTCPeerConnection)return;const A=e.RTCPeerConnection;e.RTCPeerConnection=function(e,t){if(e&&e.iceServers){const A=[];for(let t=0;t<e.iceServers.length;t++){let n=e.iceServers[t];void 0===n.urls&&n.url?(g("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,A.push(n)):A.push(e.iceServers[t])}e.iceServers=A}return new A(e,t)},e.RTCPeerConnection.prototype=A.prototype,"generateCertificate"in A&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>A.generateCertificate})}function Y(e){"object"===typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function q(e){const A=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){"undefined"!==typeof e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const A=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&A?"sendrecv"===A.direction?A.setDirection?A.setDirection("sendonly"):A.direction="sendonly":"recvonly"===A.direction&&(A.setDirection?A.setDirection("inactive"):A.direction="inactive"):!0!==e.offerToReceiveAudio||A||this.addTransceiver("audio",{direction:"recvonly"}),"undefined"!==typeof e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const t=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveVideo||t||this.addTransceiver("video",{direction:"recvonly"})}return A.apply(this,arguments)}}function Z(e){"object"!==typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var z=t(8824),ee=t.n(z);function Ae(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const A=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"===typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const t=new A(e),n=ee().parseCandidate(e.candidate);for(const e in n)e in t||Object.defineProperty(t,e,{value:n[e]});return t.toJSON=function(){return{candidate:t.candidate,sdpMid:t.sdpMid,sdpMLineIndex:t.sdpMLineIndex,usernameFragment:t.usernameFragment}},t}return new A(e)},e.RTCIceCandidate.prototype=A.prototype,u(e,"icecandidate",(A=>(A.candidate&&Object.defineProperty(A,"candidate",{value:new e.RTCIceCandidate(A.candidate),writable:"false"}),A)))}function te(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||u(e,"icecandidate",(e=>{if(e.candidate){const A=ee().parseCandidate(e.candidate.candidate);"relay"===A.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[A.priority>>24])}return e}))}function ne(e,A){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===A.browser&&A.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return"undefined"===typeof this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const A=ee().splitSections(e.sdp);return A.shift(),A.some((e=>{const A=ee().parseMLine(e);return A&&"application"===A.kind&&-1!==A.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const A=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===A||A.length<2)return-1;const t=parseInt(A[1],10);return t!==t?-1:t}(arguments[0]),t=function(e){let t=65536;return"firefox"===A.browser&&(t=A.version<57?-1===e?16384:2147483637:A.version<60?57===A.version?65535:65536:2147483637),t}(e),n=function(e,t){let n=65536;"firefox"===A.browser&&57===A.version&&(n=65535);const r=ee().matchPrefix(e.sdp,"a=max-message-size:");return r.length>0?n=parseInt(r[0].substring(19),10):"firefox"===A.browser&&-1!==t&&(n=2147483637),n}(arguments[0],e);let r;r=0===t&&0===n?Number.POSITIVE_INFINITY:0===t||0===n?Math.max(t,n):Math.min(t,n);const s={};Object.defineProperty(s,"maxMessageSize",{get:()=>r}),this._sctp=s}return t.apply(this,arguments)}}function re(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function A(e,A){const t=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if("open"===e.readyState&&A.sctp&&r>A.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+A.sctp.maxMessageSize+" bytes)");return t.apply(e,arguments)}}const t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=t.apply(this,arguments);return A(e,this),e},u(e,"datachannel",(e=>(A(e.channel,e.target),e)))}function se(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const A=e.RTCPeerConnection.prototype;Object.defineProperty(A,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(A,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const t=A[e];A[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const A=e.target;if(A._lastConnectionState!==A.connectionState){A._lastConnectionState=A.connectionState;const t=new Event("connectionstatechange",e);A.dispatchEvent(t)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),t.apply(this,arguments)}}))}function ie(e,A){if(!e.RTCPeerConnection)return;if("chrome"===A.browser&&A.version>=71)return;if("safari"===A.browser&&A._safariVersion>=13.1)return;const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(A){if(A&&A.sdp&&-1!==A.sdp.indexOf("\na=extmap-allow-mixed")){const t=A.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&A instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:A.type,sdp:t}):A.sdp=t}return t.apply(this,arguments)}}function oe(e,A){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype.addIceCandidate;t&&0!==t.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===A.browser&&A.version<78||"firefox"===A.browser&&A.version<68||"safari"===A.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():t.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ae(e,A){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype.setLocalDescription;t&&0!==t.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!==typeof e||e.type&&e.sdp)return t.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}if(e.sdp||"offer"!==e.type&&"answer"!==e.type)return t.apply(this,[e]);return("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>t.apply(this,[e])))})}!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const t=p,o=function(e){const A={browser:null,version:null};if("undefined"===typeof e||!e.navigator||!e.navigator.userAgent)return A.browser="Not a browser.",A;const{navigator:t}=e;if(t.mozGetUserMedia)A.browser="firefox",A.version=parseInt(l(t.userAgent,/Firefox\/(\d+)\./,1));else if(t.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)A.browser="chrome",A.version=parseInt(l(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return A.browser="Not a supported browser.",A;A.browser="safari",A.version=parseInt(l(t.userAgent,/AppleWebKit\/(\d+)\./,1)),A.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,A._safariVersion=l(t.userAgent,/Version\/(\d+(\.?\d+))/,1)}return A}(e),a={browserDetails:o,commonShim:i,extractVersion:l,disableLog:d,disableWarnings:h,sdp:z};switch(o.browser){case"chrome":if(!n||!T||!A.shimChrome)return t("Chrome shim is not included in this adapter release."),a;if(null===o.version)return t("Chrome shim can not determine version, not shimming."),a;t("adapter.js shimming chrome."),a.browserShim=n,oe(e,o),ae(e),v(e,o),y(e),T(e,o),U(e),I(e,o),Q(e),E(e),F(e),k(e,o),Ae(e),te(e),se(e),ne(e,o),re(e),ie(e,o);break;case"firefox":if(!r||!_||!A.shimFirefox)return t("Firefox shim is not included in this adapter release."),a;t("adapter.js shimming firefox."),a.browserShim=r,oe(e,o),ae(e),R(e,o),_(e,o),H(e),L(e),O(e),D(e),P(e),N(e),K(e),M(e),V(e),Ae(e),se(e),ne(e,o),re(e);break;case"safari":if(!s||!A.shimSafari)return t("Safari shim is not included in this adapter release."),a;t("adapter.js shimming safari."),a.browserShim=s,oe(e,o),ae(e),X(e),q(e),J(e),j(e),G(e),Y(e),$(e),Z(e),Ae(e),te(e),ne(e,o),re(e),ie(e,o);break;default:t("Unsupported browser!")}}({window:"undefined"===typeof window?void 0:window});const ce=Symbol.for("protobuf-ts/message-type");function le(e){let A=!1;const t=[];for(let n=0;n<e.length;n++){let r=e.charAt(n);"_"==r?A=!0:/\d/.test(r)?(t.push(r),A=!0):A?(t.push(r.toUpperCase()),A=!1):0==n?t.push(r.toLowerCase()):t.push(r)}return t.join("")}var ue,de,he;function pe(e){var A,t,n,r;return e.localName=null!==(A=e.localName)&&void 0!==A?A:le(e.name),e.jsonName=null!==(t=e.jsonName)&&void 0!==t?t:le(e.name),e.repeat=null!==(n=e.repeat)&&void 0!==n?n:he.NO,e.opt=null!==(r=e.opt)&&void 0!==r?r:!e.repeat&&(!e.oneof&&"message"==e.kind),e}function ge(e){if("object"!=typeof e||null===e||!e.hasOwnProperty("oneofKind"))return!1;switch(typeof e.oneofKind){case"string":return void 0!==e[e.oneofKind]&&2==Object.keys(e).length;case"undefined":return 1==Object.keys(e).length;default:return!1}}!function(e){e[e.DOUBLE=1]="DOUBLE",e[e.FLOAT=2]="FLOAT",e[e.INT64=3]="INT64",e[e.UINT64=4]="UINT64",e[e.INT32=5]="INT32",e[e.FIXED64=6]="FIXED64",e[e.FIXED32=7]="FIXED32",e[e.BOOL=8]="BOOL",e[e.STRING=9]="STRING",e[e.BYTES=12]="BYTES",e[e.UINT32=13]="UINT32",e[e.SFIXED32=15]="SFIXED32",e[e.SFIXED64=16]="SFIXED64",e[e.SINT32=17]="SINT32",e[e.SINT64=18]="SINT64"}(ue||(ue={})),function(e){e[e.BIGINT=0]="BIGINT",e[e.STRING=1]="STRING",e[e.NUMBER=2]="NUMBER"}(de||(de={})),function(e){e[e.NO=0]="NO",e[e.PACKED=1]="PACKED",e[e.UNPACKED=2]="UNPACKED"}(he||(he={}));class fe{constructor(e){var A;this.fields=null!==(A=e.fields)&&void 0!==A?A:[]}prepare(){if(this.data)return;const e=[],A=[],t=[];for(let n of this.fields)if(n.oneof)t.includes(n.oneof)||(t.push(n.oneof),e.push(n.oneof),A.push(n.oneof));else switch(A.push(n.localName),n.kind){case"scalar":case"enum":n.opt&&!n.repeat||e.push(n.localName);break;case"message":n.repeat&&e.push(n.localName);break;case"map":e.push(n.localName)}this.data={req:e,known:A,oneofs:Object.values(t)}}is(e,A){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(A<0)return!0;if(null===e||void 0===e||"object"!=typeof e)return!1;this.prepare();let n=Object.keys(e),r=this.data;if(n.length<r.req.length||r.req.some((e=>!n.includes(e))))return!1;if(!t&&n.some((e=>!r.known.includes(e))))return!1;if(A<1)return!0;for(const s of r.oneofs){const n=e[s];if(!ge(n))return!1;if(void 0===n.oneofKind)continue;const r=this.fields.find((e=>e.localName===n.oneofKind));if(!r)return!1;if(!this.field(n[n.oneofKind],r,t,A))return!1}for(const s of this.fields)if(void 0===s.oneof&&!this.field(e[s.localName],s,t,A))return!1;return!0}field(e,A,t,n){let r=A.repeat;switch(A.kind){case"scalar":return void 0===e?A.opt:r?this.scalars(e,A.T,n,A.L):this.scalar(e,A.T,A.L);case"enum":return void 0===e?A.opt:r?this.scalars(e,ue.INT32,n):this.scalar(e,ue.INT32);case"message":return void 0===e||(r?this.messages(e,A.T(),t,n):this.message(e,A.T(),t,n));case"map":if("object"!=typeof e||null===e)return!1;if(n<2)return!0;if(!this.mapKeys(e,A.K,n))return!1;switch(A.V.kind){case"scalar":return this.scalars(Object.values(e),A.V.T,n,A.V.L);case"enum":return this.scalars(Object.values(e),ue.INT32,n);case"message":return this.messages(Object.values(e),A.V.T(),t,n)}}return!0}message(e,A,t,n){return t?A.isAssignable(e,n):A.is(e,n)}messages(e,A,t,n){if(!Array.isArray(e))return!1;if(n<2)return!0;if(t){for(let r=0;r<e.length&&r<n;r++)if(!A.isAssignable(e[r],n-1))return!1}else for(let r=0;r<e.length&&r<n;r++)if(!A.is(e[r],n-1))return!1;return!0}scalar(e,A,t){let n=typeof e;switch(A){case ue.UINT64:case ue.FIXED64:case ue.INT64:case ue.SFIXED64:case ue.SINT64:switch(t){case de.BIGINT:return"bigint"==n;case de.NUMBER:return"number"==n&&!isNaN(e);default:return"string"==n}case ue.BOOL:return"boolean"==n;case ue.STRING:return"string"==n;case ue.BYTES:return e instanceof Uint8Array;case ue.DOUBLE:case ue.FLOAT:return"number"==n&&!isNaN(e);default:return"number"==n&&Number.isInteger(e)}}scalars(e,A,t,n){if(!Array.isArray(e))return!1;if(t<2)return!0;if(Array.isArray(e))for(let r=0;r<e.length&&r<t;r++)if(!this.scalar(e[r],A,n))return!1;return!0}mapKeys(e,A,t){let n=Object.keys(e);switch(A){case ue.INT32:case ue.FIXED32:case ue.SFIXED32:case ue.SINT32:case ue.UINT32:return this.scalars(n.slice(0,t).map((e=>parseInt(e))),A,t);case ue.BOOL:return this.scalars(n.slice(0,t).map((e=>"true"==e||"false"!=e&&e)),A,t);default:return this.scalars(n,A,t,de.STRING)}}}function me(e){let A=typeof e;if("object"==A){if(Array.isArray(e))return"array";if(null===e)return"null"}return A}function Be(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}let we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),Ce=[];for(let al=0;al<we.length;al++)Ce[we[al].charCodeAt(0)]=al;function ve(){let e=0,A=0;for(let n=0;n<28;n+=7){let t=this.buf[this.pos++];if(e|=(127&t)<<n,0==(128&t))return this.assertBounds(),[e,A]}let t=this.buf[this.pos++];if(e|=(15&t)<<28,A=(112&t)>>4,0==(128&t))return this.assertBounds(),[e,A];for(let n=3;n<=31;n+=7){let t=this.buf[this.pos++];if(A|=(127&t)<<n,0==(128&t))return this.assertBounds(),[e,A]}throw new Error("invalid varint")}function be(e,A,t){for(let s=0;s<28;s+=7){const n=e>>>s,r=!(n>>>7==0&&0==A),i=255&(r?128|n:n);if(t.push(i),!r)return}const n=e>>>28&15|(7&A)<<4,r=!(A>>3==0);if(t.push(255&(r?128|n:n)),r){for(let e=3;e<31;e+=7){const n=A>>>e,r=!(n>>>7==0),s=255&(r?128|n:n);if(t.push(s),!r)return}t.push(A>>>31&1)}}Ce["-".charCodeAt(0)]=we.indexOf("+"),Ce["_".charCodeAt(0)]=we.indexOf("/");const ye=4294967296;function Ue(e){let A="-"==e[0];A&&(e=e.slice(1));const t=1e6;let n=0,r=0;function s(A,s){const i=Number(e.slice(A,s));r*=t,n=n*t+i,n>=ye&&(r+=n/ye|0,n%=ye)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),[A,n,r]}function Qe(e,A){if(A>>>0<=2097151)return""+(ye*A+(e>>>0));let t=(e>>>24|A<<8)>>>0&16777215,n=A>>16&65535,r=(16777215&e)+6777216*t+6710656*n,s=t+8147497*n,i=2*n,o=1e7;function a(e,A){let t=e?String(e):"";return A?"0000000".slice(t.length)+t:t}return r>=o&&(s+=Math.floor(r/o),r%=o),s>=o&&(i+=Math.floor(s/o),s%=o),a(i,0)+a(s,i)+a(r,1)}function Ee(e,A){if(e>=0){for(;e>127;)A.push(127&e|128),e>>>=7;A.push(e)}else{for(let t=0;t<9;t++)A.push(127&e|128),e>>=7;A.push(1)}}function Fe(){let e=this.buf[this.pos++],A=127&e;if(0==(128&e))return this.assertBounds(),A;if(e=this.buf[this.pos++],A|=(127&e)<<7,0==(128&e))return this.assertBounds(),A;if(e=this.buf[this.pos++],A|=(127&e)<<14,0==(128&e))return this.assertBounds(),A;if(e=this.buf[this.pos++],A|=(127&e)<<21,0==(128&e))return this.assertBounds(),A;e=this.buf[this.pos++],A|=(15&e)<<28;for(let t=5;0!==(128&e)&&t<10;t++)e=this.buf[this.pos++];if(0!=(128&e))throw new Error("invalid varint");return this.assertBounds(),A>>>0}let Se;function Ie(e){if(!e)throw new Error("BigInt unavailable, see https://github.com/timostamm/protobuf-ts/blob/v1.0.8/MANUAL.md#bigint-support")}!function(){const e=new DataView(new ArrayBuffer(8)),A=void 0!==globalThis.BigInt&&"function"===typeof e.getBigInt64&&"function"===typeof e.getBigUint64&&"function"===typeof e.setBigInt64&&"function"===typeof e.setBigUint64;Se=A?{MIN:BigInt("-9223372036854775808"),MAX:BigInt("9223372036854775807"),UMIN:BigInt("0"),UMAX:BigInt("18446744073709551615"),C:BigInt,V:e}:void 0}();const Te=/^-?[0-9]+$/,ke=4294967296,Re=2147483648;class xe{constructor(e,A){this.lo=0|e,this.hi=0|A}isZero(){return 0==this.lo&&0==this.hi}toNumber(){let e=this.hi*ke+(this.lo>>>0);if(!Number.isSafeInteger(e))throw new Error("cannot convert to safe number");return e}}class He extends xe{static from(e){if(Se)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Se.C(e);case"number":if(0===e)return this.ZERO;e=Se.C(e);case"bigint":if(!e)return this.ZERO;if(e<Se.UMIN)throw new Error("signed value for ulong");if(e>Se.UMAX)throw new Error("ulong too large");return Se.V.setBigUint64(0,e,!0),new He(Se.V.getInt32(0,!0),Se.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Te.test(e))throw new Error("string is no integer");let[A,t,n]=Ue(e);if(A)throw new Error("signed value for ulong");return new He(t,n);case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");if(e<0)throw new Error("signed value for ulong");return new He(e,e/ke)}throw new Error("unknown value "+typeof e)}toString(){return Se?this.toBigInt().toString():Qe(this.lo,this.hi)}toBigInt(){return Ie(Se),Se.V.setInt32(0,this.lo,!0),Se.V.setInt32(4,this.hi,!0),Se.V.getBigUint64(0,!0)}}He.ZERO=new He(0,0);class _e extends xe{static from(e){if(Se)switch(typeof e){case"string":if("0"==e)return this.ZERO;if(""==e)throw new Error("string is no integer");e=Se.C(e);case"number":if(0===e)return this.ZERO;e=Se.C(e);case"bigint":if(!e)return this.ZERO;if(e<Se.MIN)throw new Error("signed long too small");if(e>Se.MAX)throw new Error("signed long too large");return Se.V.setBigInt64(0,e,!0),new _e(Se.V.getInt32(0,!0),Se.V.getInt32(4,!0))}else switch(typeof e){case"string":if("0"==e)return this.ZERO;if(e=e.trim(),!Te.test(e))throw new Error("string is no integer");let[A,t,n]=Ue(e);if(A){if(n>Re||n==Re&&0!=t)throw new Error("signed long too small")}else if(n>=Re)throw new Error("signed long too large");let r=new _e(t,n);return A?r.negate():r;case"number":if(0==e)return this.ZERO;if(!Number.isSafeInteger(e))throw new Error("number is no integer");return e>0?new _e(e,e/ke):new _e(-e,-e/ke).negate()}throw new Error("unknown value "+typeof e)}isNegative(){return 0!==(this.hi&Re)}negate(){let e=~this.hi,A=this.lo;return A?A=1+~A:e+=1,new _e(A,e)}toString(){if(Se)return this.toBigInt().toString();if(this.isNegative()){let e=this.negate();return"-"+Qe(e.lo,e.hi)}return Qe(this.lo,this.hi)}toBigInt(){return Ie(Se),Se.V.setInt32(0,this.lo,!0),Se.V.setInt32(4,this.hi,!0),Se.V.getBigInt64(0,!0)}}function Oe(e,A){if(!e)throw new Error(A)}_e.ZERO=new _e(0,0);function De(e){if("number"!==typeof e)throw new Error("invalid int 32: "+typeof e);if(!Number.isInteger(e)||e>2147483647||e<-2147483648)throw new Error("invalid int 32: "+e)}function Le(e){if("number"!==typeof e)throw new Error("invalid uint 32: "+typeof e);if(!Number.isInteger(e)||e>4294967295||e<0)throw new Error("invalid uint 32: "+e)}function Pe(e){if("number"!==typeof e)throw new Error("invalid float 32: "+typeof e);if(Number.isFinite(e)&&(e>34028234663852886e22||e<-34028234663852886e22))throw new Error("invalid float 32: "+e)}function Ne(e,A){switch(A){case de.BIGINT:return e.toBigInt();case de.NUMBER:return e.toNumber();default:return e.toString()}}class Ke{constructor(e){this.info=e}prepare(){var e;if(void 0===this.fMap){this.fMap={};const A=null!==(e=this.info.fields)&&void 0!==e?e:[];for(const e of A)this.fMap[e.name]=e,this.fMap[e.jsonName]=e,this.fMap[e.localName]=e}}assert(e,A,t){if(!e){let e=me(t);throw"number"!=e&&"boolean"!=e||(e=t.toString()),new Error(`Cannot parse JSON ${e} for ${this.info.typeName}#${A}`)}}read(e,A,t){this.prepare();const n=[];for(const[r,s]of Object.entries(e)){const e=this.fMap[r];if(!e){if(!t.ignoreUnknownFields)throw new Error(`Found unknown field while reading ${this.info.typeName} from JSON format. JSON key: ${r}`);continue}const i=e.localName;let o;if(e.oneof){if(null===s&&("enum"!==e.kind||"google.protobuf.NullValue"!==e.T()[0]))continue;if(n.includes(e.oneof))throw new Error(`Multiple members of the oneof group "${e.oneof}" of ${this.info.typeName} are present in JSON.`);n.push(e.oneof),o=A[e.oneof]={oneofKind:i}}else o=A;if("map"==e.kind){if(null===s)continue;this.assert(Be(s),e.name,s);const A=o[i];for(const[n,r]of Object.entries(s)){let s;switch(this.assert(null!==r,e.name+" map value",null),e.V.kind){case"message":s=e.V.T().internalJsonRead(r,t);break;case"enum":if(s=this.enum(e.V.T(),r,e.name,t.ignoreUnknownFields),!1===s)continue;break;case"scalar":s=this.scalar(r,e.V.T,e.V.L,e.name)}this.assert(void 0!==s,e.name+" map value",r);let i=n;e.K==ue.BOOL&&(i="true"==i||"false"!=i&&i),i=this.scalar(i,e.K,de.STRING,e.name).toString(),A[i]=s}}else if(e.repeat){if(null===s)continue;this.assert(Array.isArray(s),e.name,s);const A=o[i];for(const n of s){let r;switch(this.assert(null!==n,e.name,null),e.kind){case"message":r=e.T().internalJsonRead(n,t);break;case"enum":if(r=this.enum(e.T(),n,e.name,t.ignoreUnknownFields),!1===r)continue;break;case"scalar":r=this.scalar(n,e.T,e.L,e.name)}this.assert(void 0!==r,e.name,s),A.push(r)}}else switch(e.kind){case"message":if(null===s&&"google.protobuf.Value"!=e.T().typeName){this.assert(void 0===e.oneof,e.name+" (oneof member)",null);continue}o[i]=e.T().internalJsonRead(s,t,o[i]);break;case"enum":if(null===s)continue;let A=this.enum(e.T(),s,e.name,t.ignoreUnknownFields);if(!1===A)continue;o[i]=A;break;case"scalar":if(null===s)continue;o[i]=this.scalar(s,e.T,e.L,e.name)}}}enum(e,A,t,n){if("google.protobuf.NullValue"==e[0]&&Oe(null===A||"NULL_VALUE"===A,`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} only accepts null.`),null===A)return 0;switch(typeof A){case"number":return Oe(Number.isInteger(A),`Unable to parse field ${this.info.typeName}#${t}, enum can only be integral number, got ${A}.`),A;case"string":let r=A;e[2]&&A.substring(0,e[2].length)===e[2]&&(r=A.substring(e[2].length));let s=e[1][r];return("undefined"!==typeof s||!n)&&(Oe("number"==typeof s,`Unable to parse field ${this.info.typeName}#${t}, enum ${e[0]} has no value for "${A}".`),s)}Oe(!1,`Unable to parse field ${this.info.typeName}#${t}, cannot parse enum value from ${typeof A}".`)}scalar(e,A,t,n){let r;try{switch(A){case ue.DOUBLE:case ue.FLOAT:if(null===e)return 0;if("NaN"===e)return Number.NaN;if("Infinity"===e)return Number.POSITIVE_INFINITY;if("-Infinity"===e)return Number.NEGATIVE_INFINITY;if(""===e){r="empty string";break}if("string"==typeof e&&e.trim().length!==e.length){r="extra whitespace";break}if("string"!=typeof e&&"number"!=typeof e)break;let n=Number(e);if(Number.isNaN(n)){r="not a number";break}if(!Number.isFinite(n)){r="too large or small";break}return A==ue.FLOAT&&Pe(n),n;case ue.INT32:case ue.FIXED32:case ue.SFIXED32:case ue.SINT32:case ue.UINT32:if(null===e)return 0;let s;if("number"==typeof e?s=e:""===e?r="empty string":"string"==typeof e&&(e.trim().length!==e.length?r="extra whitespace":s=Number(e)),void 0===s)break;return A==ue.UINT32?Le(s):De(s),s;case ue.INT64:case ue.SFIXED64:case ue.SINT64:if(null===e)return Ne(_e.ZERO,t);if("number"!=typeof e&&"string"!=typeof e)break;return Ne(_e.from(e),t);case ue.FIXED64:case ue.UINT64:if(null===e)return Ne(He.ZERO,t);if("number"!=typeof e&&"string"!=typeof e)break;return Ne(He.from(e),t);case ue.BOOL:if(null===e)return!1;if("boolean"!==typeof e)break;return e;case ue.STRING:if(null===e)return"";if("string"!==typeof e){r="extra whitespace";break}try{encodeURIComponent(e)}catch(r){r="invalid UTF8";break}return e;case ue.BYTES:if(null===e||""===e)return new Uint8Array(0);if("string"!==typeof e)break;return function(e){let A=3*e.length/4;"="==e[e.length-2]?A-=2:"="==e[e.length-1]&&(A-=1);let t,n=new Uint8Array(A),r=0,s=0,i=0;for(let o=0;o<e.length;o++){if(t=Ce[e.charCodeAt(o)],void 0===t)switch(e[o]){case"=":s=0;case"\n":case"\r":case"\t":case" ":continue;default:throw Error("invalid base64 string.")}switch(s){case 0:i=t,s=1;break;case 1:n[r++]=i<<2|(48&t)>>4,i=t,s=2;break;case 2:n[r++]=(15&i)<<4|(60&t)>>2,i=t,s=3;break;case 3:n[r++]=(3&i)<<6|t,s=0}}if(1==s)throw Error("invalid base64 string.");return n.subarray(0,r)}(e)}}catch(s){r=s.message}this.assert(!1,n+(r?" - "+r:""),e)}}class Me{constructor(e){var A;this.fields=null!==(A=e.fields)&&void 0!==A?A:[]}write(e,A){const t={},n=e;for(const r of this.fields){if(!r.oneof){let e=this.field(r,n[r.localName],A);void 0!==e&&(t[A.useProtoFieldName?r.name:r.jsonName]=e);continue}const e=n[r.oneof];if(e.oneofKind!==r.localName)continue;const s="scalar"==r.kind||"enum"==r.kind?Object.assign(Object.assign({},A),{emitDefaultValues:!0}):A;let i=this.field(r,e[r.localName],s);Oe(void 0!==i),t[A.useProtoFieldName?r.name:r.jsonName]=i}return t}field(e,A,t){let n;if("map"==e.kind){Oe("object"==typeof A&&null!==A);const r={};switch(e.V.kind){case"scalar":for(const[t,i]of Object.entries(A)){const A=this.scalar(e.V.T,i,e.name,!1,!0);Oe(void 0!==A),r[t.toString()]=A}break;case"message":const n=e.V.T();for(const[i,o]of Object.entries(A)){const A=this.message(n,o,e.name,t);Oe(void 0!==A),r[i.toString()]=A}break;case"enum":const s=e.V.T();for(const[i,o]of Object.entries(A)){Oe(void 0===o||"number"==typeof o);const A=this.enum(s,o,e.name,!1,!0,t.enumAsInteger);Oe(void 0!==A),r[i.toString()]=A}}(t.emitDefaultValues||Object.keys(r).length>0)&&(n=r)}else if(e.repeat){Oe(Array.isArray(A));const r=[];switch(e.kind){case"scalar":for(let t=0;t<A.length;t++){const n=this.scalar(e.T,A[t],e.name,e.opt,!0);Oe(void 0!==n),r.push(n)}break;case"enum":const n=e.T();for(let i=0;i<A.length;i++){Oe(void 0===A[i]||"number"==typeof A[i]);const s=this.enum(n,A[i],e.name,e.opt,!0,t.enumAsInteger);Oe(void 0!==s),r.push(s)}break;case"message":const s=e.T();for(let i=0;i<A.length;i++){const n=this.message(s,A[i],e.name,t);Oe(void 0!==n),r.push(n)}}(t.emitDefaultValues||r.length>0||t.emitDefaultValues)&&(n=r)}else switch(e.kind){case"scalar":n=this.scalar(e.T,A,e.name,e.opt,t.emitDefaultValues);break;case"enum":n=this.enum(e.T(),A,e.name,e.opt,t.emitDefaultValues,t.enumAsInteger);break;case"message":n=this.message(e.T(),A,e.name,t)}return n}enum(e,A,t,n,r,s){if("google.protobuf.NullValue"==e[0])return r||n?null:void 0;if(void 0!==A){if(0!==A||r||n)return Oe("number"==typeof A),Oe(Number.isInteger(A)),s||!e[1].hasOwnProperty(A)?A:e[2]?e[2]+e[1][A]:e[1][A]}else Oe(n)}message(e,A,t,n){return void 0===A?n.emitDefaultValues?null:void 0:e.internalJsonWrite(A,n)}scalar(e,A,t,n,r){if(void 0===A)return void Oe(n);const s=r||n;switch(e){case ue.INT32:case ue.SFIXED32:case ue.SINT32:return 0===A?s?0:void 0:(De(A),A);case ue.FIXED32:case ue.UINT32:return 0===A?s?0:void 0:(Le(A),A);case ue.FLOAT:Pe(A);case ue.DOUBLE:return 0===A?s?0:void 0:(Oe("number"==typeof A),Number.isNaN(A)?"NaN":A===Number.POSITIVE_INFINITY?"Infinity":A===Number.NEGATIVE_INFINITY?"-Infinity":A);case ue.STRING:return""===A?s?"":void 0:(Oe("string"==typeof A),A);case ue.BOOL:return!1===A?!s&&void 0:(Oe("boolean"==typeof A),A);case ue.UINT64:case ue.FIXED64:Oe("number"==typeof A||"string"==typeof A||"bigint"==typeof A);let e=He.from(A);if(e.isZero()&&!s)return;return e.toString();case ue.INT64:case ue.SFIXED64:case ue.SINT64:Oe("number"==typeof A||"string"==typeof A||"bigint"==typeof A);let t=_e.from(A);if(t.isZero()&&!s)return;return t.toString();case ue.BYTES:return Oe(A instanceof Uint8Array),A.byteLength?function(e){let A,t="",n=0,r=0;for(let s=0;s<e.length;s++)switch(A=e[s],n){case 0:t+=we[A>>2],r=(3&A)<<4,n=1;break;case 1:t+=we[r|A>>4],r=(15&A)<<2,n=2;break;case 2:t+=we[r|A>>6],t+=we[63&A],n=0}return n&&(t+=we[r],t+="=",1==n&&(t+="=")),t}(A):s?"":void 0}}}var Ve,je;function Ge(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:de.STRING;switch(e){case ue.BOOL:return!1;case ue.UINT64:case ue.FIXED64:return Ne(He.ZERO,A);case ue.INT64:case ue.SFIXED64:case ue.SINT64:return Ne(_e.ZERO,A);case ue.DOUBLE:case ue.FLOAT:return 0;case ue.BYTES:return new Uint8Array(0);case ue.STRING:return"";default:return 0}}!function(e){e.symbol=Symbol.for("protobuf-ts/unknown"),e.onRead=(t,n,r,s,i)=>{(A(n)?n[e.symbol]:n[e.symbol]=[]).push({no:r,wireType:s,data:i})},e.onWrite=(A,t,n)=>{for(let{no:r,wireType:s,data:i}of e.list(t))n.tag(r,s).raw(i)},e.list=(t,n)=>{if(A(t)){let A=t[e.symbol];return n?A.filter((e=>e.no==n)):A}return[]},e.last=(A,t)=>e.list(A,t).slice(-1)[0];const A=A=>A&&Array.isArray(A[e.symbol])}(Ve||(Ve={})),function(e){e[e.Varint=0]="Varint",e[e.Bit64=1]="Bit64",e[e.LengthDelimited=2]="LengthDelimited",e[e.StartGroup=3]="StartGroup",e[e.EndGroup=4]="EndGroup",e[e.Bit32=5]="Bit32"}(je||(je={}));class Je{constructor(e){this.info=e}prepare(){var e;if(!this.fieldNoToField){const A=null!==(e=this.info.fields)&&void 0!==e?e:[];this.fieldNoToField=new Map(A.map((e=>[e.no,e])))}}read(e,A,t,n){this.prepare();const r=void 0===n?e.len:e.pos+n;for(;e.pos<r;){const[n,r]=e.tag(),s=this.fieldNoToField.get(n);if(!s){let s=t.readUnknownField;if("throw"==s)throw new Error(`Unknown field ${n} (wire type ${r}) for ${this.info.typeName}`);let i=e.skip(r);!1!==s&&(!0===s?Ve.onRead:s)(this.info.typeName,A,n,r,i);continue}let i=A,o=s.repeat,a=s.localName;switch(s.oneof&&(i=i[s.oneof],i.oneofKind!==a&&(i=A[s.oneof]={oneofKind:a})),s.kind){case"scalar":case"enum":let A="enum"==s.kind?ue.INT32:s.T,n="scalar"==s.kind?s.L:void 0;if(o){let t=i[a];if(r==je.LengthDelimited&&A!=ue.STRING&&A!=ue.BYTES){let r=e.uint32()+e.pos;for(;e.pos<r;)t.push(this.scalar(e,A,n))}else t.push(this.scalar(e,A,n))}else i[a]=this.scalar(e,A,n);break;case"message":if(o){let A=i[a],n=s.T().internalBinaryRead(e,e.uint32(),t);A.push(n)}else i[a]=s.T().internalBinaryRead(e,e.uint32(),t,i[a]);break;case"map":let[c,l]=this.mapEntry(s,e,t);i[a][c]=l}}}mapEntry(e,A,t){let n,r,s=A.uint32(),i=A.pos+s;for(;A.pos<i;){let[s,i]=A.tag();switch(s){case 1:n=e.K==ue.BOOL?A.bool().toString():this.scalar(A,e.K,de.STRING);break;case 2:switch(e.V.kind){case"scalar":r=this.scalar(A,e.V.T,e.V.L);break;case"enum":r=A.int32();break;case"message":r=e.V.T().internalBinaryRead(A,A.uint32(),t)}break;default:throw new Error(`Unknown field ${s} (wire type ${i}) in map entry for ${this.info.typeName}#${e.name}`)}}if(void 0===n){let A=Ge(e.K);n=e.K==ue.BOOL?A.toString():A}if(void 0===r)switch(e.V.kind){case"scalar":r=Ge(e.V.T,e.V.L);break;case"enum":r=0;break;case"message":r=e.V.T().create()}return[n,r]}scalar(e,A,t){switch(A){case ue.INT32:return e.int32();case ue.STRING:return e.string();case ue.BOOL:return e.bool();case ue.DOUBLE:return e.double();case ue.FLOAT:return e.float();case ue.INT64:return Ne(e.int64(),t);case ue.UINT64:return Ne(e.uint64(),t);case ue.FIXED64:return Ne(e.fixed64(),t);case ue.FIXED32:return e.fixed32();case ue.BYTES:return e.bytes();case ue.UINT32:return e.uint32();case ue.SFIXED32:return e.sfixed32();case ue.SFIXED64:return Ne(e.sfixed64(),t);case ue.SINT32:return e.sint32();case ue.SINT64:return Ne(e.sint64(),t)}}}class $e{constructor(e){this.info=e}prepare(){if(!this.fields){const e=this.info.fields?this.info.fields.concat():[];this.fields=e.sort(((e,A)=>e.no-A.no))}}write(e,A,t){this.prepare();for(const r of this.fields){let n,s,i=r.repeat,o=r.localName;if(r.oneof){const A=e[r.oneof];if(A.oneofKind!==o)continue;n=A[o],s=!0}else n=e[o],s=!1;switch(r.kind){case"scalar":case"enum":let e="enum"==r.kind?ue.INT32:r.T;if(i)if(Oe(Array.isArray(n)),i==he.PACKED)this.packed(A,e,r.no,n);else for(const t of n)this.scalar(A,e,r.no,t,!0);else void 0===n?Oe(r.opt):this.scalar(A,e,r.no,n,s||r.opt);break;case"message":if(i){Oe(Array.isArray(n));for(const e of n)this.message(A,t,r.T(),r.no,e)}else this.message(A,t,r.T(),r.no,n);break;case"map":Oe("object"==typeof n&&null!==n);for(const[s,i]of Object.entries(n))this.mapEntry(A,t,r,s,i)}}let n=t.writeUnknownFields;!1!==n&&(!0===n?Ve.onWrite:n)(this.info.typeName,e,A)}mapEntry(e,A,t,n,r){e.tag(t.no,je.LengthDelimited),e.fork();let s=n;switch(t.K){case ue.INT32:case ue.FIXED32:case ue.UINT32:case ue.SFIXED32:case ue.SINT32:s=Number.parseInt(n);break;case ue.BOOL:Oe("true"==n||"false"==n),s="true"==n}switch(this.scalar(e,t.K,1,s,!0),t.V.kind){case"scalar":this.scalar(e,t.V.T,2,r,!0);break;case"enum":this.scalar(e,ue.INT32,2,r,!0);break;case"message":this.message(e,A,t.V.T(),2,r)}e.join()}message(e,A,t,n,r){void 0!==r&&(t.internalBinaryWrite(r,e.tag(n,je.LengthDelimited).fork(),A),e.join())}scalar(e,A,t,n,r){let[s,i,o]=this.scalarInfo(A,n);o&&!r||(e.tag(t,s),e[i](n))}packed(e,A,t,n){if(!n.length)return;Oe(A!==ue.BYTES&&A!==ue.STRING),e.tag(t,je.LengthDelimited),e.fork();let[,r]=this.scalarInfo(A);for(let s=0;s<n.length;s++)e[r](n[s]);e.join()}scalarInfo(e,A){let t,n=je.Varint,r=void 0===A,s=0===A;switch(e){case ue.INT32:t="int32";break;case ue.STRING:s=r||!A.length,n=je.LengthDelimited,t="string";break;case ue.BOOL:s=!1===A,t="bool";break;case ue.UINT32:t="uint32";break;case ue.DOUBLE:n=je.Bit64,t="double";break;case ue.FLOAT:n=je.Bit32,t="float";break;case ue.INT64:s=r||_e.from(A).isZero(),t="int64";break;case ue.UINT64:s=r||He.from(A).isZero(),t="uint64";break;case ue.FIXED64:s=r||He.from(A).isZero(),n=je.Bit64,t="fixed64";break;case ue.BYTES:s=r||!A.byteLength,n=je.LengthDelimited,t="bytes";break;case ue.FIXED32:n=je.Bit32,t="fixed32";break;case ue.SFIXED32:n=je.Bit32,t="sfixed32";break;case ue.SFIXED64:s=r||_e.from(A).isZero(),n=je.Bit64,t="sfixed64";break;case ue.SINT32:t="sint32";break;case ue.SINT64:s=r||_e.from(A).isZero(),t="sint64"}return[n,t,r||s]}}function We(e,A,t){let n,r,s=t;for(let i of e.fields){let e=i.localName;if(i.oneof){const t=s[i.oneof];if(void 0==(null===t||void 0===t?void 0:t.oneofKind))continue;if(n=t[e],r=A[i.oneof],r.oneofKind=t.oneofKind,void 0==n){delete r[e];continue}}else if(n=s[e],r=A,void 0==n)continue;switch(i.repeat&&(r[e].length=n.length),i.kind){case"scalar":case"enum":if(i.repeat)for(let t=0;t<n.length;t++)r[e][t]=n[t];else r[e]=n;break;case"message":let A=i.T();if(i.repeat)for(let t=0;t<n.length;t++)r[e][t]=A.create(n[t]);else void 0===r[e]?r[e]=A.create(n):A.mergePartial(r[e],n);break;case"map":switch(i.V.kind){case"scalar":case"enum":Object.assign(r[e],n);break;case"message":let A=i.V.T();for(let t of Object.keys(n))r[e][t]=A.create(n[t])}}}}const Xe={emitDefaultValues:!1,enumAsInteger:!1,useProtoFieldName:!1,prettySpaces:0},Ye={ignoreUnknownFields:!1};function qe(e,A){var t,n;let r=Object.assign(Object.assign({},e),A);return r.typeRegistry=[...null!==(t=null===e||void 0===e?void 0:e.typeRegistry)&&void 0!==t?t:[],...null!==(n=null===A||void 0===A?void 0:A.typeRegistry)&&void 0!==n?n:[]],r}const Ze=Object.values;function ze(e,A,t){if(A===t)return!0;if(e!==ue.BYTES)return!1;let n=A,r=t;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s]!=r[s])return!1;return!0}function eA(e,A,t){if(A.length!==t.length)return!1;for(let n=0;n<A.length;n++)if(!ze(e,A[n],t[n]))return!1;return!0}function AA(e,A,t){if(A.length!==t.length)return!1;for(let n=0;n<A.length;n++)if(!e.equals(A[n],t[n]))return!1;return!0}const tA={writeUnknownFields:!0,writerFactory:()=>new nA};class nA{constructor(e){this.stack=[],this.textEncoder=null!==e&&void 0!==e?e:new TextEncoder,this.chunks=[],this.buf=[]}finish(){this.chunks.push(new Uint8Array(this.buf));let e=0;for(let n=0;n<this.chunks.length;n++)e+=this.chunks[n].length;let A=new Uint8Array(e),t=0;for(let n=0;n<this.chunks.length;n++)A.set(this.chunks[n],t),t+=this.chunks[n].length;return this.chunks=[],A}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),A=this.stack.pop();if(!A)throw new Error("invalid state, fork stack empty");return this.chunks=A.chunks,this.buf=A.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,A){return this.uint32((e<<3|A)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(Le(e);e>127;)this.buf.push(127&e|128),e>>>=7;return this.buf.push(e),this}int32(e){return De(e),Ee(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let A=this.textEncoder.encode(e);return this.uint32(A.byteLength),this.raw(A)}float(e){Pe(e);let A=new Uint8Array(4);return new DataView(A.buffer).setFloat32(0,e,!0),this.raw(A)}double(e){let A=new Uint8Array(8);return new DataView(A.buffer).setFloat64(0,e,!0),this.raw(A)}fixed32(e){Le(e);let A=new Uint8Array(4);return new DataView(A.buffer).setUint32(0,e,!0),this.raw(A)}sfixed32(e){De(e);let A=new Uint8Array(4);return new DataView(A.buffer).setInt32(0,e,!0),this.raw(A)}sint32(e){return De(e),Ee(e=(e<<1^e>>31)>>>0,this.buf),this}sfixed64(e){let A=new Uint8Array(8),t=new DataView(A.buffer),n=_e.from(e);return t.setInt32(0,n.lo,!0),t.setInt32(4,n.hi,!0),this.raw(A)}fixed64(e){let A=new Uint8Array(8),t=new DataView(A.buffer),n=He.from(e);return t.setInt32(0,n.lo,!0),t.setInt32(4,n.hi,!0),this.raw(A)}int64(e){let A=_e.from(e);return be(A.lo,A.hi,this.buf),this}sint64(e){let A=_e.from(e),t=A.hi>>31;return be(A.lo<<1^t,(A.hi<<1|A.lo>>>31)^t,this.buf),this}uint64(e){let A=He.from(e);return be(A.lo,A.hi,this.buf),this}}const rA={readUnknownField:!0,readerFactory:e=>new sA(e)};class sA{constructor(e,A){this.varint64=ve,this.uint32=Fe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength),this.textDecoder=null!==A&&void 0!==A?A:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0})}tag(){let e=this.uint32(),A=e>>>3,t=7&e;if(A<=0||t<0||t>5)throw new Error("illegal tag: field no "+A+" wire type "+t);return[A,t]}skip(e){let A=this.pos;switch(e){case je.Varint:for(;128&this.buf[this.pos++];);break;case je.Bit64:this.pos+=4;case je.Bit32:this.pos+=4;break;case je.LengthDelimited:let A=this.uint32();this.pos+=A;break;case je.StartGroup:let t;for(;(t=this.tag()[1])!==je.EndGroup;)this.skip(t);break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(A,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return 0|this.uint32()}sint32(){let e=this.uint32();return e>>>1^-(1&e)}int64(){return new _e(...this.varint64())}uint64(){return new He(...this.varint64())}sint64(){let[e,A]=this.varint64(),t=-(1&e);return e=(e>>>1|(1&A)<<31)^t,A=A>>>1^t,new _e(e,A)}bool(){let[e,A]=this.varint64();return 0!==e||0!==A}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return new He(this.sfixed32(),this.sfixed32())}sfixed64(){return new _e(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),A=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(A,A+e)}string(){return this.textDecoder.decode(this.bytes())}}const iA=Object.getOwnPropertyDescriptors(Object.getPrototypeOf({}));class oA{constructor(e,A,t){this.defaultCheckDepth=16,this.typeName=e,this.fields=A.map(pe),this.options=null!==t&&void 0!==t?t:{},this.messagePrototype=Object.create(null,Object.assign(Object.assign({},iA),{[ce]:{value:this}})),this.refTypeCheck=new fe(this),this.refJsonReader=new Ke(this),this.refJsonWriter=new Me(this),this.refBinReader=new Je(this),this.refBinWriter=new $e(this)}create(e){let A=function(e){const A=e.messagePrototype?Object.create(e.messagePrototype):Object.defineProperty({},ce,{value:e});for(let t of e.fields){let e=t.localName;if(!t.opt)if(t.oneof)A[t.oneof]={oneofKind:void 0};else if(t.repeat)A[e]=[];else switch(t.kind){case"scalar":A[e]=Ge(t.T,t.L);break;case"enum":A[e]=0;break;case"map":A[e]={}}}return A}(this);return void 0!==e&&We(this,A,e),A}clone(e){let A=this.create();return We(this,A,e),A}equals(e,A){return function(e,A,t){if(A===t)return!0;if(!A||!t)return!1;for(let n of e.fields){let e=n.localName,r=n.oneof?A[n.oneof][e]:A[e],s=n.oneof?t[n.oneof][e]:t[e];switch(n.kind){case"enum":case"scalar":let e="enum"==n.kind?ue.INT32:n.T;if(!(n.repeat?eA(e,r,s):ze(e,r,s)))return!1;break;case"map":if(!("message"==n.V.kind?AA(n.V.T(),Ze(r),Ze(s)):eA("enum"==n.V.kind?ue.INT32:n.V.T,Ze(r),Ze(s))))return!1;break;case"message":let A=n.T();if(!(n.repeat?AA(A,r,s):A.equals(r,s)))return!1}}return!0}(this,e,A)}is(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,A,!1)}isAssignable(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultCheckDepth;return this.refTypeCheck.is(e,A,!0)}mergePartial(e,A){We(this,e,A)}fromBinary(e,A){let t=function(e){return e?Object.assign(Object.assign({},rA),e):rA}(A);return this.internalBinaryRead(t.readerFactory(e),e.byteLength,t)}fromJson(e,A){return this.internalJsonRead(e,function(e){return e?Object.assign(Object.assign({},Ye),e):Ye}(A))}fromJsonString(e,A){let t=JSON.parse(e);return this.fromJson(t,A)}toJson(e,A){return this.internalJsonWrite(e,function(e){return e?Object.assign(Object.assign({},Xe),e):Xe}(A))}toJsonString(e,A){var t;let n=this.toJson(e,A);return JSON.stringify(n,null,null!==(t=null===A||void 0===A?void 0:A.prettySpaces)&&void 0!==t?t:0)}toBinary(e,A){let t=function(e){return e?Object.assign(Object.assign({},tA),e):tA}(A);return this.internalBinaryWrite(e,t.writerFactory(),t).finish()}internalJsonRead(e,A,t){if(null!==e&&"object"==typeof e&&!Array.isArray(e)){let n=null!==t&&void 0!==t?t:this.create();return this.refJsonReader.read(e,n,A),n}throw new Error(`Unable to parse message ${this.typeName} from JSON ${me(e)}.`)}internalJsonWrite(e,A){return this.refJsonWriter.write(e,A)}internalBinaryWrite(e,A,t){return this.refBinWriter.write(e,A,t),A}internalBinaryRead(e,A,t,n){let r=null!==n&&void 0!==n?n:this.create();return this.refBinReader.read(e,r,t,A),r}}function aA(e,A,t,n,r){var s,i,o,a;if("unary"==e){let e=(e,t,n)=>A.unary(e,t,n);for(const A of(null!==(s=n.interceptors)&&void 0!==s?s:[]).filter((e=>e.interceptUnary)).reverse()){const t=e;e=(e,n,r)=>A.interceptUnary(t,e,n,r)}return e(t,r,n)}if("serverStreaming"==e){let e=(e,t,n)=>A.serverStreaming(e,t,n);for(const A of(null!==(i=n.interceptors)&&void 0!==i?i:[]).filter((e=>e.interceptServerStreaming)).reverse()){const t=e;e=(e,n,r)=>A.interceptServerStreaming(t,e,n,r)}return e(t,r,n)}if("clientStreaming"==e){let e=(e,t)=>A.clientStreaming(e,t);for(const A of(null!==(o=n.interceptors)&&void 0!==o?o:[]).filter((e=>e.interceptClientStreaming)).reverse()){const t=e;e=(e,n)=>A.interceptClientStreaming(t,e,n)}return e(t,n)}if("duplex"==e){let e=(e,t)=>A.duplex(e,t);for(const A of(null!==(a=n.interceptors)&&void 0!==a?a:[]).filter((e=>e.interceptDuplex)).reverse()){const t=e;e=(e,n)=>A.interceptDuplex(t,e,n)}return e(t,n)}!function(e,A){throw new Error(null!==A&&void 0!==A?A:"Unexpected object: "+e)}(e)}class cA extends Error{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UNKNOWN",t=arguments.length>2?arguments[2]:void 0;super(e),this.name="RpcError",Object.setPrototypeOf(this,new.target.prototype),this.code=A,this.meta=null!==t&&void 0!==t?t:{}}toString(){const e=[this.name+": "+this.message];this.code&&(e.push(""),e.push("Code: "+this.code)),this.serviceName&&this.methodName&&e.push("Method: "+this.serviceName+"/"+this.methodName);let A=Object.entries(this.meta);if(A.length){e.push(""),e.push("Meta:");for(let[t,n]of A)e.push(`  ${t}: ${n}`)}return e.join("\n")}}function lA(e,A){return function(){return e.apply(A,arguments)}}const{toString:uA}=Object.prototype,{getPrototypeOf:dA}=Object,{iterator:hA,toStringTag:pA}=Symbol,gA=(fA=Object.create(null),e=>{const A=uA.call(e);return fA[A]||(fA[A]=A.slice(8,-1).toLowerCase())});var fA;const mA=e=>(e=e.toLowerCase(),A=>gA(A)===e),BA=e=>A=>typeof A===e,{isArray:wA}=Array,CA=BA("undefined");const vA=mA("ArrayBuffer");const bA=BA("string"),yA=BA("function"),UA=BA("number"),QA=e=>null!==e&&"object"===typeof e,EA=e=>{if("object"!==gA(e))return!1;const A=dA(e);return(null===A||A===Object.prototype||null===Object.getPrototypeOf(A))&&!(pA in e)&&!(hA in e)},FA=mA("Date"),SA=mA("File"),IA=mA("Blob"),TA=mA("FileList"),kA=mA("URLSearchParams"),[RA,xA,HA,_A]=["ReadableStream","Request","Response","Headers"].map(mA);function OA(e,A){let t,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),wA(e))for(t=0,n=e.length;t<n;t++)A.call(null,e[t],t,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let i;for(t=0;t<s;t++)i=n[t],A.call(null,e[i],i,e)}}function DA(e,A){A=A.toLowerCase();const t=Object.keys(e);let n,r=t.length;for(;r-- >0;)if(n=t[r],A===n.toLowerCase())return n;return null}const LA="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,PA=e=>!CA(e)&&e!==LA;const NA=(KA="undefined"!==typeof Uint8Array&&dA(Uint8Array),e=>KA&&e instanceof KA);var KA;const MA=mA("HTMLFormElement"),VA=(e=>{let{hasOwnProperty:A}=e;return(e,t)=>A.call(e,t)})(Object.prototype),jA=mA("RegExp"),GA=(e,A)=>{const t=Object.getOwnPropertyDescriptors(e),n={};OA(t,((t,r)=>{let s;!1!==(s=A(t,r,e))&&(n[r]=s||t)})),Object.defineProperties(e,n)};const JA=mA("AsyncFunction"),$A=((e,A)=>{return e?setImmediate:A?(t=`axios@${Math.random()}`,n=[],LA.addEventListener("message",(e=>{let{source:A,data:r}=e;A===LA&&r===t&&n.length&&n.shift()()}),!1),e=>{n.push(e),LA.postMessage(t,"*")}):e=>setTimeout(e);var t,n})("function"===typeof setImmediate,yA(LA.postMessage)),WA="undefined"!==typeof queueMicrotask?queueMicrotask.bind(LA):"undefined"!==typeof process&&process.nextTick||$A,XA={isArray:wA,isArrayBuffer:vA,isBuffer:function(e){return null!==e&&!CA(e)&&null!==e.constructor&&!CA(e.constructor)&&yA(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let A;return e&&("function"===typeof FormData&&e instanceof FormData||yA(e.append)&&("formdata"===(A=gA(e))||"object"===A&&yA(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let A;return A="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&vA(e.buffer),A},isString:bA,isNumber:UA,isBoolean:e=>!0===e||!1===e,isObject:QA,isPlainObject:EA,isReadableStream:RA,isRequest:xA,isResponse:HA,isHeaders:_A,isUndefined:CA,isDate:FA,isFile:SA,isBlob:IA,isRegExp:jA,isFunction:yA,isStream:e=>QA(e)&&yA(e.pipe),isURLSearchParams:kA,isTypedArray:NA,isFileList:TA,forEach:OA,merge:function e(){const{caseless:A}=PA(this)&&this||{},t={},n=(n,r)=>{const s=A&&DA(t,r)||r;EA(t[s])&&EA(n)?t[s]=e(t[s],n):EA(n)?t[s]=e({},n):wA(n)?t[s]=n.slice():t[s]=n};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&OA(arguments[r],n);return t},extend:function(e,A,t){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return OA(A,((A,n)=>{t&&yA(A)?e[n]=lA(A,t):e[n]=A}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,A,t,n)=>{e.prototype=Object.create(A.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:A.prototype}),t&&Object.assign(e.prototype,t)},toFlatObject:(e,A,t,n)=>{let r,s,i;const o={};if(A=A||{},null==e)return A;do{for(r=Object.getOwnPropertyNames(e),s=r.length;s-- >0;)i=r[s],n&&!n(i,e,A)||o[i]||(A[i]=e[i],o[i]=!0);e=!1!==t&&dA(e)}while(e&&(!t||t(e,A))&&e!==Object.prototype);return A},kindOf:gA,kindOfTest:mA,endsWith:(e,A,t)=>{e=String(e),(void 0===t||t>e.length)&&(t=e.length),t-=A.length;const n=e.indexOf(A,t);return-1!==n&&n===t},toArray:e=>{if(!e)return null;if(wA(e))return e;let A=e.length;if(!UA(A))return null;const t=new Array(A);for(;A-- >0;)t[A]=e[A];return t},forEachEntry:(e,A)=>{const t=(e&&e[hA]).call(e);let n;for(;(n=t.next())&&!n.done;){const t=n.value;A.call(e,t[0],t[1])}},matchAll:(e,A)=>{let t;const n=[];for(;null!==(t=e.exec(A));)n.push(t);return n},isHTMLForm:MA,hasOwnProperty:VA,hasOwnProp:VA,reduceDescriptors:GA,freezeMethods:e=>{GA(e,((A,t)=>{if(yA(e)&&-1!==["arguments","caller","callee"].indexOf(t))return!1;const n=e[t];yA(n)&&(A.enumerable=!1,"writable"in A?A.writable=!1:A.set||(A.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")}))}))},toObjectSet:(e,A)=>{const t={},n=e=>{e.forEach((e=>{t[e]=!0}))};return wA(e)?n(e):n(String(e).split(A)),t},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,A,t){return A.toUpperCase()+t})),noop:()=>{},toFiniteNumber:(e,A)=>null!=e&&Number.isFinite(e=+e)?e:A,findKey:DA,global:LA,isContextDefined:PA,isSpecCompliantForm:function(e){return!!(e&&yA(e.append)&&"FormData"===e[pA]&&e[hA])},toJSONObject:e=>{const A=new Array(10),t=(e,n)=>{if(QA(e)){if(A.indexOf(e)>=0)return;if(!("toJSON"in e)){A[n]=e;const r=wA(e)?[]:{};return OA(e,((e,A)=>{const s=t(e,n+1);!CA(s)&&(r[A]=s)})),A[n]=void 0,r}}return e};return t(e,0)},isAsyncFn:JA,isThenable:e=>e&&(QA(e)||yA(e))&&yA(e.then)&&yA(e.catch),setImmediate:$A,asap:WA,isIterable:e=>null!=e&&yA(e[hA])};function YA(e,A,t,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",A&&(this.code=A),t&&(this.config=t),n&&(this.request=n),r&&(this.response=r,this.status=r.status?r.status:null)}XA.inherits(YA,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:XA.toJSONObject(this.config),code:this.code,status:this.status}}});const qA=YA.prototype,ZA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ZA[e]={value:e}})),Object.defineProperties(YA,ZA),Object.defineProperty(qA,"isAxiosError",{value:!0}),YA.from=(e,A,t,n,r,s)=>{const i=Object.create(qA);return XA.toFlatObject(e,i,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),YA.call(i,e.message,A,t,n,r),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const zA=YA;function et(e){return XA.isPlainObject(e)||XA.isArray(e)}function At(e){return XA.endsWith(e,"[]")?e.slice(0,-2):e}function tt(e,A,t){return e?e.concat(A).map((function(e,A){return e=At(e),!t&&A?"["+e+"]":e})).join(t?".":""):A}const nt=XA.toFlatObject(XA,{},null,(function(e){return/^is[A-Z]/.test(e)}));const rt=function(e,A,t){if(!XA.isObject(e))throw new TypeError("target must be an object");A=A||new FormData;const n=(t=XA.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,A){return!XA.isUndefined(A[e])}))).metaTokens,r=t.visitor||c,s=t.dots,i=t.indexes,o=(t.Blob||"undefined"!==typeof Blob&&Blob)&&XA.isSpecCompliantForm(A);if(!XA.isFunction(r))throw new TypeError("visitor must be a function");function a(e){if(null===e)return"";if(XA.isDate(e))return e.toISOString();if(!o&&XA.isBlob(e))throw new zA("Blob is not supported. Use a Buffer instead.");return XA.isArrayBuffer(e)||XA.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,t,r){let o=e;if(e&&!r&&"object"===typeof e)if(XA.endsWith(t,"{}"))t=n?t:t.slice(0,-2),e=JSON.stringify(e);else if(XA.isArray(e)&&function(e){return XA.isArray(e)&&!e.some(et)}(e)||(XA.isFileList(e)||XA.endsWith(t,"[]"))&&(o=XA.toArray(e)))return t=At(t),o.forEach((function(e,n){!XA.isUndefined(e)&&null!==e&&A.append(!0===i?tt([t],n,s):null===i?t:t+"[]",a(e))})),!1;return!!et(e)||(A.append(tt(r,t,s),a(e)),!1)}const l=[],u=Object.assign(nt,{defaultVisitor:c,convertValue:a,isVisitable:et});if(!XA.isObject(e))throw new TypeError("data must be an object");return function e(t,n){if(!XA.isUndefined(t)){if(-1!==l.indexOf(t))throw Error("Circular reference detected in "+n.join("."));l.push(t),XA.forEach(t,(function(t,s){!0===(!(XA.isUndefined(t)||null===t)&&r.call(A,t,XA.isString(s)?s.trim():s,n,u))&&e(t,n?n.concat(s):[s])})),l.pop()}}(e),A};function st(e){const A={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return A[e]}))}function it(e,A){this._pairs=[],e&&rt(e,this,A)}const ot=it.prototype;ot.append=function(e,A){this._pairs.push([e,A])},ot.toString=function(e){const A=e?function(A){return e.call(this,A,st)}:st;return this._pairs.map((function(e){return A(e[0])+"="+A(e[1])}),"").join("&")};const at=it;function ct(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lt(e,A,t){if(!A)return e;const n=t&&t.encode||ct;XA.isFunction(t)&&(t={serialize:t});const r=t&&t.serialize;let s;if(s=r?r(A,t):XA.isURLSearchParams(A)?A.toString():new at(A,t).toString(n),s){const A=e.indexOf("#");-1!==A&&(e=e.slice(0,A)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ut=class{constructor(){this.handlers=[]}use(e,A,t){return this.handlers.push({fulfilled:e,rejected:A,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){XA.forEach(this.handlers,(function(A){null!==A&&e(A)}))}},dt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ht={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:at,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},pt="undefined"!==typeof window&&"undefined"!==typeof document,gt="object"===typeof navigator&&navigator||void 0,ft=pt&&(!gt||["ReactNative","NativeScript","NS"].indexOf(gt.product)<0),mt="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Bt=pt&&window.location.href||"http://localhost",wt={...o,...ht};const Ct=function(e){function A(e,t,n,r){let s=e[r++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),o=r>=e.length;if(s=!s&&XA.isArray(n)?n.length:s,o)return XA.hasOwnProp(n,s)?n[s]=[n[s],t]:n[s]=t,!i;n[s]&&XA.isObject(n[s])||(n[s]=[]);return A(e,t,n[s],r)&&XA.isArray(n[s])&&(n[s]=function(e){const A={},t=Object.keys(e);let n;const r=t.length;let s;for(n=0;n<r;n++)s=t[n],A[s]=e[s];return A}(n[s])),!i}if(XA.isFormData(e)&&XA.isFunction(e.entries)){const t={};return XA.forEachEntry(e,((e,n)=>{A(function(e){return XA.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,t,0)})),t}return null};const vt={transitional:dt,adapter:["xhr","http","fetch"],transformRequest:[function(e,A){const t=A.getContentType()||"",n=t.indexOf("application/json")>-1,r=XA.isObject(e);r&&XA.isHTMLForm(e)&&(e=new FormData(e));if(XA.isFormData(e))return n?JSON.stringify(Ct(e)):e;if(XA.isArrayBuffer(e)||XA.isBuffer(e)||XA.isStream(e)||XA.isFile(e)||XA.isBlob(e)||XA.isReadableStream(e))return e;if(XA.isArrayBufferView(e))return e.buffer;if(XA.isURLSearchParams(e))return A.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(r){if(t.indexOf("application/x-www-form-urlencoded")>-1)return function(e,A){return rt(e,new wt.classes.URLSearchParams,Object.assign({visitor:function(e,A,t,n){return wt.isNode&&XA.isBuffer(e)?(this.append(A,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},A))}(e,this.formSerializer).toString();if((s=XA.isFileList(e))||t.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return rt(s?{"files[]":e}:e,A&&new A,this.formSerializer)}}return r||n?(A.setContentType("application/json",!1),function(e,A,t){if(XA.isString(e))try{return(A||JSON.parse)(e),XA.trim(e)}catch(n){if("SyntaxError"!==n.name)throw n}return(t||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const A=this.transitional||vt.transitional,t=A&&A.forcedJSONParsing,n="json"===this.responseType;if(XA.isResponse(e)||XA.isReadableStream(e))return e;if(e&&XA.isString(e)&&(t&&!this.responseType||n)){const t=!(A&&A.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(r){if(t){if("SyntaxError"===r.name)throw zA.from(r,zA.ERR_BAD_RESPONSE,this,null,this.response);throw r}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wt.classes.FormData,Blob:wt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};XA.forEach(["delete","get","head","post","put","patch"],(e=>{vt.headers[e]={}}));const bt=vt,yt=XA.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ut=Symbol("internals");function Qt(e){return e&&String(e).trim().toLowerCase()}function Et(e){return!1===e||null==e?e:XA.isArray(e)?e.map(Et):String(e)}function Ft(e,A,t,n,r){return XA.isFunction(n)?n.call(this,A,t):(r&&(A=t),XA.isString(A)?XA.isString(n)?-1!==A.indexOf(n):XA.isRegExp(n)?n.test(A):void 0:void 0)}class St{constructor(e){e&&this.set(e)}set(e,A,t){const n=this;function r(e,A,t){const r=Qt(A);if(!r)throw new Error("header name must be a non-empty string");const s=XA.findKey(n,r);(!s||void 0===n[s]||!0===t||void 0===t&&!1!==n[s])&&(n[s||A]=Et(e))}const s=(e,A)=>XA.forEach(e,((e,t)=>r(e,t,A)));if(XA.isPlainObject(e)||e instanceof this.constructor)s(e,A);else if(XA.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const A={};let t,n,r;return e&&e.split("\n").forEach((function(e){r=e.indexOf(":"),t=e.substring(0,r).trim().toLowerCase(),n=e.substring(r+1).trim(),!t||A[t]&&yt[t]||("set-cookie"===t?A[t]?A[t].push(n):A[t]=[n]:A[t]=A[t]?A[t]+", "+n:n)})),A})(e),A);else if(XA.isObject(e)&&XA.isIterable(e)){let t,n,r={};for(const A of e){if(!XA.isArray(A))throw TypeError("Object iterator must return a key-value pair");r[n=A[0]]=(t=r[n])?XA.isArray(t)?[...t,A[1]]:[t,A[1]]:A[1]}s(r,A)}else null!=e&&r(A,e,t);return this}get(e,A){if(e=Qt(e)){const t=XA.findKey(this,e);if(t){const e=this[t];if(!A)return e;if(!0===A)return function(e){const A=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=t.exec(e);)A[n[1]]=n[2];return A}(e);if(XA.isFunction(A))return A.call(this,e,t);if(XA.isRegExp(A))return A.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,A){if(e=Qt(e)){const t=XA.findKey(this,e);return!(!t||void 0===this[t]||A&&!Ft(0,this[t],t,A))}return!1}delete(e,A){const t=this;let n=!1;function r(e){if(e=Qt(e)){const r=XA.findKey(t,e);!r||A&&!Ft(0,t[r],r,A)||(delete t[r],n=!0)}}return XA.isArray(e)?e.forEach(r):r(e),n}clear(e){const A=Object.keys(this);let t=A.length,n=!1;for(;t--;){const r=A[t];e&&!Ft(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const A=this,t={};return XA.forEach(this,((n,r)=>{const s=XA.findKey(t,r);if(s)return A[s]=Et(n),void delete A[r];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,A,t)=>A.toUpperCase()+t))}(r):String(r).trim();i!==r&&delete A[r],A[i]=Et(n),t[i]=!0})),this}concat(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return this.constructor.concat(this,...A)}toJSON(e){const A=Object.create(null);return XA.forEach(this,((t,n)=>{null!=t&&!1!==t&&(A[n]=e&&XA.isArray(t)?t.join(", "):t)})),A}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[A,t]=e;return A+": "+t})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const A=new this(e);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.forEach((e=>A.set(e))),A}static accessor(e){const A=(this[Ut]=this[Ut]={accessors:{}}).accessors,t=this.prototype;function n(e){const n=Qt(e);A[n]||(!function(e,A){const t=XA.toCamelCase(" "+A);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+t,{value:function(e,t,r){return this[n].call(this,A,e,t,r)},configurable:!0})}))}(t,e),A[n]=!0)}return XA.isArray(e)?e.forEach(n):n(e),this}}St.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),XA.reduceDescriptors(St.prototype,((e,A)=>{let{value:t}=e,n=A[0].toUpperCase()+A.slice(1);return{get:()=>t,set(e){this[n]=e}}})),XA.freezeMethods(St);const It=St;function Tt(e,A){const t=this||bt,n=A||t,r=It.from(n.headers);let s=n.data;return XA.forEach(e,(function(e){s=e.call(t,s,r.normalize(),A?A.status:void 0)})),r.normalize(),s}function kt(e){return!(!e||!e.__CANCEL__)}function Rt(e,A,t){zA.call(this,null==e?"canceled":e,zA.ERR_CANCELED,A,t),this.name="CanceledError"}XA.inherits(Rt,zA,{__CANCEL__:!0});const xt=Rt;function Ht(e,A,t){const n=t.config.validateStatus;t.status&&n&&!n(t.status)?A(new zA("Request failed with status code "+t.status,[zA.ERR_BAD_REQUEST,zA.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t)):e(t)}const _t=function(e,A){e=e||10;const t=new Array(e),n=new Array(e);let r,s=0,i=0;return A=void 0!==A?A:1e3,function(o){const a=Date.now(),c=n[i];r||(r=a),t[s]=o,n[s]=a;let l=i,u=0;for(;l!==s;)u+=t[l++],l%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),a-r<A)return;const d=c&&a-c;return d?Math.round(1e3*u/d):void 0}};const Ot=function(e,A){let t,n,r=0,s=1e3/A;const i=function(A){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=s,t=null,n&&(clearTimeout(n),n=null),e.apply(null,A)};return[function(){const e=Date.now(),A=e-r;for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];A>=s?i(a,e):(t=a,n||(n=setTimeout((()=>{n=null,i(t)}),s-A)))},()=>t&&i(t)]},Dt=function(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const r=_t(50,250);return Ot((t=>{const s=t.loaded,i=t.lengthComputable?t.total:void 0,o=s-n,a=r(o);n=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:o,rate:a||void 0,estimated:a&&i&&s<=i?(i-s)/a:void 0,event:t,lengthComputable:null!=i,[A?"download":"upload"]:!0})}),t)},Lt=(e,A)=>{const t=null!=e;return[n=>A[0]({lengthComputable:t,total:e,loaded:n}),A[1]]},Pt=e=>function(){for(var A=arguments.length,t=new Array(A),n=0;n<A;n++)t[n]=arguments[n];return XA.asap((()=>e(...t)))},Nt=wt.hasStandardBrowserEnv?((e,A)=>t=>(t=new URL(t,wt.origin),e.protocol===t.protocol&&e.host===t.host&&(A||e.port===t.port)))(new URL(wt.origin),wt.navigator&&/(msie|trident)/i.test(wt.navigator.userAgent)):()=>!0,Kt=wt.hasStandardBrowserEnv?{write(e,A,t,n,r,s){const i=[e+"="+encodeURIComponent(A)];XA.isNumber(t)&&i.push("expires="+new Date(t).toGMTString()),XA.isString(n)&&i.push("path="+n),XA.isString(r)&&i.push("domain="+r),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const A=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return A?decodeURIComponent(A[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Mt(e,A,t){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(A);return e&&(n||0==t)?function(e,A){return A?e.replace(/\/?\/$/,"")+"/"+A.replace(/^\/+/,""):e}(e,A):A}const Vt=e=>e instanceof It?{...e}:e;function jt(e,A){A=A||{};const t={};function n(e,A,t,n){return XA.isPlainObject(e)&&XA.isPlainObject(A)?XA.merge.call({caseless:n},e,A):XA.isPlainObject(A)?XA.merge({},A):XA.isArray(A)?A.slice():A}function r(e,A,t,r){return XA.isUndefined(A)?XA.isUndefined(e)?void 0:n(void 0,e,0,r):n(e,A,0,r)}function s(e,A){if(!XA.isUndefined(A))return n(void 0,A)}function i(e,A){return XA.isUndefined(A)?XA.isUndefined(e)?void 0:n(void 0,e):n(void 0,A)}function o(t,r,s){return s in A?n(t,r):s in e?n(void 0,t):void 0}const a={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,A,t)=>r(Vt(e),Vt(A),0,!0)};return XA.forEach(Object.keys(Object.assign({},e,A)),(function(n){const s=a[n]||r,i=s(e[n],A[n],n);XA.isUndefined(i)&&s!==o||(t[n]=i)})),t}const Gt=e=>{const A=jt({},e);let t,{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=A;if(A.headers=o=It.from(o),A.url=lt(Mt(A.baseURL,A.url,A.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),XA.isFormData(n))if(wt.hasStandardBrowserEnv||wt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(!1!==(t=o.getContentType())){const[e,...A]=t?t.split(";").map((e=>e.trim())).filter(Boolean):[];o.setContentType([e||"multipart/form-data",...A].join("; "))}if(wt.hasStandardBrowserEnv&&(r&&XA.isFunction(r)&&(r=r(A)),r||!1!==r&&Nt(A.url))){const e=s&&i&&Kt.read(i);e&&o.set(s,e)}return A},Jt="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(A,t){const n=Gt(e);let r=n.data;const s=It.from(n.headers).normalize();let i,o,a,c,l,{responseType:u,onUploadProgress:d,onDownloadProgress:h}=n;function p(){c&&c(),l&&l(),n.cancelToken&&n.cancelToken.unsubscribe(i),n.signal&&n.signal.removeEventListener("abort",i)}let g=new XMLHttpRequest;function f(){if(!g)return;const n=It.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());Ht((function(e){A(e),p()}),(function(e){t(e),p()}),{data:u&&"text"!==u&&"json"!==u?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:n,config:e,request:g}),g=null}g.open(n.method.toUpperCase(),n.url,!0),g.timeout=n.timeout,"onloadend"in g?g.onloadend=f:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(f)},g.onabort=function(){g&&(t(new zA("Request aborted",zA.ECONNABORTED,e,g)),g=null)},g.onerror=function(){t(new zA("Network Error",zA.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){let A=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const r=n.transitional||dt;n.timeoutErrorMessage&&(A=n.timeoutErrorMessage),t(new zA(A,r.clarifyTimeoutError?zA.ETIMEDOUT:zA.ECONNABORTED,e,g)),g=null},void 0===r&&s.setContentType(null),"setRequestHeader"in g&&XA.forEach(s.toJSON(),(function(e,A){g.setRequestHeader(A,e)})),XA.isUndefined(n.withCredentials)||(g.withCredentials=!!n.withCredentials),u&&"json"!==u&&(g.responseType=n.responseType),h&&([a,l]=Dt(h,!0),g.addEventListener("progress",a)),d&&g.upload&&([o,c]=Dt(d),g.upload.addEventListener("progress",o),g.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(i=A=>{g&&(t(!A||A.type?new xt(null,e,g):A),g.abort(),g=null)},n.cancelToken&&n.cancelToken.subscribe(i),n.signal&&(n.signal.aborted?i():n.signal.addEventListener("abort",i)));const m=function(e){const A=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return A&&A[1]||""}(n.url);m&&-1===wt.protocols.indexOf(m)?t(new zA("Unsupported protocol "+m+":",zA.ERR_BAD_REQUEST,e)):g.send(r||null)}))},$t=(e,A)=>{const{length:t}=e=e?e.filter(Boolean):[];if(A||t){let t,n=new AbortController;const r=function(e){if(!t){t=!0,i();const A=e instanceof Error?e:this.reason;n.abort(A instanceof zA?A:new xt(A instanceof Error?A.message:A))}};let s=A&&setTimeout((()=>{s=null,r(new zA(`timeout ${A} of ms exceeded`,zA.ETIMEDOUT))}),A);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(r):e.removeEventListener("abort",r)})),e=null)};e.forEach((e=>e.addEventListener("abort",r)));const{signal:o}=n;return o.unsubscribe=()=>XA.asap(i),o}},Wt=function*(e,A){let t=e.byteLength;if(!A||t<A)return void(yield e);let n,r=0;for(;r<t;)n=r+A,yield e.slice(r,n),r=n},Xt=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const A=e.getReader();try{for(;;){const{done:e,value:t}=await A.read();if(e)break;yield t}}finally{await A.cancel()}},Yt=(e,A,t,n)=>{const r=async function*(e,A){for await(const t of Xt(e))yield*Wt(t,A)}(e,A);let s,i=0,o=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:A,value:n}=await r.next();if(A)return o(),void e.close();let s=n.byteLength;if(t){let e=i+=s;t(e)}e.enqueue(new Uint8Array(n))}catch(A){throw o(A),A}},cancel:e=>(o(e),r.return())},{highWaterMark:2})},qt="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Zt=qt&&"function"===typeof ReadableStream,zt=qt&&("function"===typeof TextEncoder?(en=new TextEncoder,e=>en.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var en;const An=function(e){try{for(var A=arguments.length,t=new Array(A>1?A-1:0),n=1;n<A;n++)t[n-1]=arguments[n];return!!e(...t)}catch(r){return!1}},tn=Zt&&An((()=>{let e=!1;const A=new Request(wt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!A})),nn=Zt&&An((()=>XA.isReadableStream(new Response("").body))),rn={stream:nn&&(e=>e.body)};var sn;qt&&(sn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!rn[e]&&(rn[e]=XA.isFunction(sn[e])?A=>A[e]():(A,t)=>{throw new zA(`Response type '${e}' is not supported`,zA.ERR_NOT_SUPPORT,t)})})));const on=async(e,A)=>{const t=XA.toFiniteNumber(e.getContentLength());return null==t?(async e=>{if(null==e)return 0;if(XA.isBlob(e))return e.size;if(XA.isSpecCompliantForm(e)){const A=new Request(wt.origin,{method:"POST",body:e});return(await A.arrayBuffer()).byteLength}return XA.isArrayBufferView(e)||XA.isArrayBuffer(e)?e.byteLength:(XA.isURLSearchParams(e)&&(e+=""),XA.isString(e)?(await zt(e)).byteLength:void 0)})(A):t},an={http:null,xhr:Jt,fetch:qt&&(async e=>{let{url:A,method:t,data:n,signal:r,cancelToken:s,timeout:i,onDownloadProgress:o,onUploadProgress:a,responseType:c,headers:l,withCredentials:u="same-origin",fetchOptions:d}=Gt(e);c=c?(c+"").toLowerCase():"text";let h,p=$t([r,s&&s.toAbortSignal()],i);const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let f;try{if(a&&tn&&"get"!==t&&"head"!==t&&0!==(f=await on(l,n))){let e,t=new Request(A,{method:"POST",body:n,duplex:"half"});if(XA.isFormData(n)&&(e=t.headers.get("content-type"))&&l.setContentType(e),t.body){const[e,A]=Lt(f,Dt(Pt(a)));n=Yt(t.body,65536,e,A)}}XA.isString(u)||(u=u?"include":"omit");const r="credentials"in Request.prototype;h=new Request(A,{...d,signal:p,method:t.toUpperCase(),headers:l.normalize().toJSON(),body:n,duplex:"half",credentials:r?u:void 0});let s=await fetch(h);const i=nn&&("stream"===c||"response"===c);if(nn&&(o||i&&g)){const e={};["status","statusText","headers"].forEach((A=>{e[A]=s[A]}));const A=XA.toFiniteNumber(s.headers.get("content-length")),[t,n]=o&&Lt(A,Dt(Pt(o),!0))||[];s=new Response(Yt(s.body,65536,t,(()=>{n&&n(),g&&g()})),e)}c=c||"text";let m=await rn[XA.findKey(rn,c)||"text"](s,e);return!i&&g&&g(),await new Promise(((A,t)=>{Ht(A,t,{data:m,headers:It.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:h})}))}catch(m){if(g&&g(),m&&"TypeError"===m.name&&/Load failed|fetch/i.test(m.message))throw Object.assign(new zA("Network Error",zA.ERR_NETWORK,e,h),{cause:m.cause||m});throw zA.from(m,m&&m.code,e,h)}})};XA.forEach(an,((e,A)=>{if(e){try{Object.defineProperty(e,"name",{value:A})}catch(t){}Object.defineProperty(e,"adapterName",{value:A})}}));const cn=e=>`- ${e}`,ln=e=>XA.isFunction(e)||null===e||!1===e,un=e=>{e=XA.isArray(e)?e:[e];const{length:A}=e;let t,n;const r={};for(let s=0;s<A;s++){let A;if(t=e[s],n=t,!ln(t)&&(n=an[(A=String(t)).toLowerCase()],void 0===n))throw new zA(`Unknown adapter '${A}'`);if(n)break;r[A||"#"+s]=n}if(!n){const e=Object.entries(r).map((e=>{let[A,t]=e;return`adapter ${A} `+(!1===t?"is not supported by the environment":"is not available in the build")}));let t=A?e.length>1?"since :\n"+e.map(cn).join("\n"):" "+cn(e[0]):"as no adapter specified";throw new zA("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return n};function dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new xt(null,e)}function hn(e){dn(e),e.headers=It.from(e.headers),e.data=Tt.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return un(e.adapter||bt.adapter)(e).then((function(A){return dn(e),A.data=Tt.call(e,e.transformResponse,A),A.headers=It.from(A.headers),A}),(function(A){return kt(A)||(dn(e),A&&A.response&&(A.response.data=Tt.call(e,e.transformResponse,A.response),A.response.headers=It.from(A.response.headers))),Promise.reject(A)}))}const pn="1.9.0",gn={};["object","boolean","number","function","string","symbol"].forEach(((e,A)=>{gn[e]=function(t){return typeof t===e||"a"+(A<1?"n ":" ")+e}}));const fn={};gn.transitional=function(e,A,t){function n(e,A){return"[Axios v1.9.0] Transitional option '"+e+"'"+A+(t?". "+t:"")}return(t,r,s)=>{if(!1===e)throw new zA(n(r," has been removed"+(A?" in "+A:"")),zA.ERR_DEPRECATED);return A&&!fn[r]&&(fn[r]=!0,console.warn(n(r," has been deprecated since v"+A+" and will be removed in the near future"))),!e||e(t,r,s)}},gn.spelling=function(e){return(A,t)=>(console.warn(`${t} is likely a misspelling of ${e}`),!0)};const mn={assertOptions:function(e,A,t){if("object"!==typeof e)throw new zA("options must be an object",zA.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const s=n[r],i=A[s];if(i){const A=e[s],t=void 0===A||i(A,s,e);if(!0!==t)throw new zA("option "+s+" must be "+t,zA.ERR_BAD_OPTION_VALUE)}else if(!0!==t)throw new zA("Unknown option "+s,zA.ERR_BAD_OPTION)}},validators:gn},Bn=mn.validators;class wn{constructor(e){this.defaults=e||{},this.interceptors={request:new ut,response:new ut}}async request(e,A){try{return await this._request(e,A)}catch(t){if(t instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const A=e.stack?e.stack.replace(/^.+\n/,""):"";try{t.stack?A&&!String(t.stack).endsWith(A.replace(/^.+\n.+\n/,""))&&(t.stack+="\n"+A):t.stack=A}catch(n){}}throw t}}_request(e,A){"string"===typeof e?(A=A||{}).url=e:A=e||{},A=jt(this.defaults,A);const{transitional:t,paramsSerializer:n,headers:r}=A;void 0!==t&&mn.assertOptions(t,{silentJSONParsing:Bn.transitional(Bn.boolean),forcedJSONParsing:Bn.transitional(Bn.boolean),clarifyTimeoutError:Bn.transitional(Bn.boolean)},!1),null!=n&&(XA.isFunction(n)?A.paramsSerializer={serialize:n}:mn.assertOptions(n,{encode:Bn.function,serialize:Bn.function},!0)),void 0!==A.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?A.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:A.allowAbsoluteUrls=!0),mn.assertOptions(A,{baseUrl:Bn.spelling("baseURL"),withXsrfToken:Bn.spelling("withXSRFToken")},!0),A.method=(A.method||this.defaults.method||"get").toLowerCase();let s=r&&XA.merge(r.common,r[A.method]);r&&XA.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete r[e]})),A.headers=It.concat(s,r);const i=[];let o=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(A)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));const a=[];let c;this.interceptors.response.forEach((function(e){a.push(e.fulfilled,e.rejected)}));let l,u=0;if(!o){const e=[hn.bind(this),void 0];for(e.unshift.apply(e,i),e.push.apply(e,a),l=e.length,c=Promise.resolve(A);u<l;)c=c.then(e[u++],e[u++]);return c}l=i.length;let d=A;for(u=0;u<l;){const e=i[u++],A=i[u++];try{d=e(d)}catch(h){A.call(this,h);break}}try{c=hn.call(this,d)}catch(h){return Promise.reject(h)}for(u=0,l=a.length;u<l;)c=c.then(a[u++],a[u++]);return c}getUri(e){return lt(Mt((e=jt(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}XA.forEach(["delete","get","head","options"],(function(e){wn.prototype[e]=function(A,t){return this.request(jt(t||{},{method:e,url:A,data:(t||{}).data}))}})),XA.forEach(["post","put","patch"],(function(e){function A(A){return function(t,n,r){return this.request(jt(r||{},{method:e,headers:A?{"Content-Type":"multipart/form-data"}:{},url:t,data:n}))}}wn.prototype[e]=A(),wn.prototype[e+"Form"]=A(!0)}));const Cn=wn;class vn{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let A;this.promise=new Promise((function(e){A=e}));const t=this;this.promise.then((e=>{if(!t._listeners)return;let A=t._listeners.length;for(;A-- >0;)t._listeners[A](e);t._listeners=null})),this.promise.then=e=>{let A;const n=new Promise((e=>{t.subscribe(e),A=e})).then(e);return n.cancel=function(){t.unsubscribe(A)},n},e((function(e,n,r){t.reason||(t.reason=new xt(e,n,r),A(t.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const A=this._listeners.indexOf(e);-1!==A&&this._listeners.splice(A,1)}toAbortSignal(){const e=new AbortController,A=A=>{e.abort(A)};return this.subscribe(A),e.signal.unsubscribe=()=>this.unsubscribe(A),e.signal}static source(){let e;return{token:new vn((function(A){e=A})),cancel:e}}}const bn=vn;const yn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(yn).forEach((e=>{let[A,t]=e;yn[t]=A}));const Un=yn;const Qn=function e(A){const t=new Cn(A),n=lA(Cn.prototype.request,t);return XA.extend(n,Cn.prototype,t,{allOwnKeys:!0}),XA.extend(n,t,null,{allOwnKeys:!0}),n.create=function(t){return e(jt(A,t))},n}(bt);Qn.Axios=Cn,Qn.CanceledError=xt,Qn.CancelToken=bn,Qn.isCancel=kt,Qn.VERSION=pn,Qn.toFormData=rt,Qn.AxiosError=zA,Qn.Cancel=Qn.CanceledError,Qn.all=function(e){return Promise.all(e)},Qn.spread=function(e){return function(A){return e.apply(null,A)}},Qn.isAxiosError=function(e){return XA.isObject(e)&&!0===e.isAxiosError},Qn.mergeConfig=jt,Qn.AxiosHeaders=It,Qn.formToJSON=e=>Ct(XA.isHTMLForm(e)?new FormData(e):e),Qn.getAdapter=un,Qn.HttpStatusCode=Un,Qn.default=Qn;const En=Qn;var Fn,Sn;function In(e,A,t){if(t)for(let[n,r]of Object.entries(t))if("string"==typeof r)e.append(n,r);else for(let A of r)e.append(n,A);return e.set("Content-Type",A?"application/json":"application/protobuf"),e.set("Accept",A?"application/json":"application/protobuf, application/json"),e}function Tn(e,A){if(!e)return;let t=A;for(let[n,r]of Object.entries(e))r instanceof Date?t[n]=new Date(r.getTime()):Array.isArray(r)?t[n]=r.concat():t[n]=r}!function(e){e[e.cancelled=0]="cancelled",e[e.unknown=1]="unknown",e[e.invalid_argument=2]="invalid_argument",e[e.malformed=3]="malformed",e[e.deadline_exceeded=4]="deadline_exceeded",e[e.not_found=5]="not_found",e[e.bad_route=6]="bad_route",e[e.already_exists=7]="already_exists",e[e.permission_denied=8]="permission_denied",e[e.unauthenticated=9]="unauthenticated",e[e.resource_exhausted=10]="resource_exhausted",e[e.failed_precondition=11]="failed_precondition",e[e.aborted=12]="aborted",e[e.out_of_range=13]="out_of_range",e[e.unimplemented=14]="unimplemented",e[e.internal=15]="internal",e[e.unavailable=16]="unavailable",e[e.dataloss=17]="dataloss"}(Fn||(Fn={})),function(e){e[e.PENDING=0]="PENDING",e[e.REJECTED=1]="REJECTED",e[e.RESOLVED=2]="RESOLVED"}(Sn||(Sn={}));class kn{constructor(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._state=Sn.PENDING,this._promise=new Promise(((e,A)=>{this._resolve=e,this._reject=A})),e&&this._promise.catch((e=>{}))}get state(){return this._state}get promise(){return this._promise}resolve(e){if(this.state!==Sn.PENDING)throw new Error(`cannot resolve ${Sn[this.state].toLowerCase()}`);this._resolve(e),this._state=Sn.RESOLVED}reject(e){if(this.state!==Sn.PENDING)throw new Error(`cannot reject ${Sn[this.state].toLowerCase()}`);this._reject(e),this._state=Sn.REJECTED}resolvePending(e){this._state===Sn.PENDING&&this.resolve(e)}rejectPending(e){this._state===Sn.PENDING&&this.reject(e)}}var Rn=function(e,A,t,n){return new(t||(t=Promise))((function(r,s){function i(e){try{a(n.next(e))}catch(A){s(A)}}function o(e){try{a(n.throw(e))}catch(A){s(A)}}function a(e){var A;e.done?r(e.value):(A=e.value,A instanceof t?A:new t((function(e){e(A)}))).then(i,o)}a((n=n.apply(e,A||[])).next())}))};class xn{constructor(e,A,t,n,r,s,i){this.method=e,this.requestHeaders=A,this.request=t,this.headers=n,this.response=r,this.status=s,this.trailers=i}then(e,A){return this.promiseFinished().then((A=>e?Promise.resolve(e(A)):A),(e=>A?Promise.resolve(A(e)):Promise.reject(e)))}promiseFinished(){return Rn(this,void 0,void 0,(function*(){let[e,A,t,n]=yield Promise.all([this.headers,this.response,this.status,this.trailers]);return{method:this.method,requestHeaders:this.requestHeaders,request:this.request,headers:e,response:A,status:t,trailers:n}}))}}class Hn{constructor(e){this.defaultOptions=e}mergeOptions(e){return function(e,A){if(!A)return e;let t={};Tn(e,t),Tn(A,t);for(let s of Object.keys(A)){let i=A[s];switch(s){case"jsonOptions":t.jsonOptions=qe(e.jsonOptions,t.jsonOptions);break;case"binaryOptions":t.binaryOptions=(n=e.binaryOptions,r=t.binaryOptions,Object.assign(Object.assign({},n),r));break;case"meta":t.meta={},Tn(e.meta,t.meta),Tn(A.meta,t.meta);break;case"interceptors":t.interceptors=e.interceptors?e.interceptors.concat(i):i.concat()}}var n,r;return t}(this.defaultOptions,e)}unary(e,A,t){var n,r,s;let i=t,o=this.makeUrl(e,i),a=null!==(n=i.fetchInit)&&void 0!==n?n:{},c=i.sendJson?e.I.toJsonString(A,i.jsonOptions):e.I.toBinary(A,i.binaryOptions),l=new kn,u=new kn,d=new kn,h=new kn;return globalThis.fetch(o,Object.assign(Object.assign({},a),{method:"POST",headers:In(new globalThis.Headers,!!i.sendJson,i.meta),body:c,signal:null!==(r=t.abort)&&void 0!==r?r:null})).then((A=>{let t;l.resolve(function(e){let A={};return e.forEach(((e,t)=>{"content-type"!==t.toLowerCase()&&"content-length"!==t.toLowerCase()&&(A.hasOwnProperty(t)?A[t].push(e):A[t]=e)})),A}(A.headers));try{t=A.type}catch(n){}switch(t){case"error":case"opaque":case"opaqueredirect":throw new cA(`fetch response type ${A.type}`,Fn[Fn.unknown])}return A.ok?i.sendJson?A.json().then((A=>e.O.fromJson(A,i.jsonOptions)),(()=>{throw new cA("unable to read response body as json",Fn[Fn.dataloss])})):A.arrayBuffer().then((A=>e.O.fromBinary(new Uint8Array(A),i.binaryOptions)),(()=>{throw new cA("unable to read response body",Fn[Fn.dataloss])})):A.json().then((e=>{throw function(e){if(!Be(e)||"string"!==typeof e.code||"string"!==typeof e.msg)return new cA("cannot read twirp error response",Fn[Fn.internal]);let A={};if(Be(e.meta))for(let[t,n]of Object.entries(e.meta))"string"==typeof n&&(A[t]=n);return new cA(e.msg,e.code,A)}(e)}),(()=>{throw new cA("received HTTP "+A.status+", unable to read response body as json",Fn[Fn.internal])}))}),(e=>{if(e instanceof Error&&"AbortError"===e.name)throw new cA(e.message,Fn[Fn.cancelled]);throw new cA(e instanceof Error?e.message:e)})).then((e=>{u.resolve(e),d.resolve({code:"OK",detail:""}),h.resolve({})})).catch((A=>{let t=A instanceof cA?A:new cA(A instanceof Error?A.message:A,Fn[Fn.internal]);t.methodName=e.name,t.serviceName=e.service.typeName,l.rejectPending(t),u.rejectPending(t),d.rejectPending(t),h.rejectPending(t)})),new xn(e,null!==(s=i.meta)&&void 0!==s?s:{},A,l.promise,u.promise,d.promise,h.promise)}makeUrl(e,A){let t=A.baseUrl;t.endsWith("/")&&(t=t.substring(0,t.length-1));let n=e.name;return!0!==A.useProtoMethodName&&(n=le(n),n=n.substring(0,1).toUpperCase()+n.substring(1)),`${t}/${e.service.typeName}/${n}`}clientStreaming(e){const A=new cA("Client streaming is not supported by Twirp",Fn[Fn.unimplemented]);throw A.methodName=e.name,A.serviceName=e.service.typeName,A}duplex(e){const A=new cA("Duplex streaming is not supported by Twirp",Fn[Fn.unimplemented]);throw A.methodName=e.name,A.serviceName=e.service.typeName,A}serverStreaming(e){const A=new cA("Server streaming is not supported by Twirp",Fn[Fn.unimplemented]);throw A.methodName=e.name,A.serviceName=e.service.typeName,A}}var _n=t(6326),On=t(8989),Dn=t(6794),Ln=(0,t(8344).L)((function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})),Pn=t(7535),Nn=t(8879),Kn=function(e){function A(){var A=e.call(this)||this;return A.closed=!1,A.currentObservers=null,A.observers=[],A.isStopped=!1,A.hasError=!1,A.thrownError=null,A}return(0,_n.C6)(A,e),A.prototype.lift=function(e){var A=new Mn(this,this);return A.operator=e,A},A.prototype._throwIfClosed=function(){if(this.closed)throw new Ln},A.prototype.next=function(e){var A=this;(0,Nn.Y)((function(){var t,n;if(A._throwIfClosed(),!A.isStopped){A.currentObservers||(A.currentObservers=Array.from(A.observers));try{for(var r=(0,_n.Ju)(A.currentObservers),s=r.next();!s.done;s=r.next()){s.value.next(e)}}catch(i){t={error:i}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}}))},A.prototype.error=function(e){var A=this;(0,Nn.Y)((function(){if(A._throwIfClosed(),!A.isStopped){A.hasError=A.isStopped=!0,A.thrownError=e;for(var t=A.observers;t.length;)t.shift().error(e)}}))},A.prototype.complete=function(){var e=this;(0,Nn.Y)((function(){if(e._throwIfClosed(),!e.isStopped){e.isStopped=!0;for(var A=e.observers;A.length;)A.shift().complete()}}))},A.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(A.prototype,"observed",{get:function(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0},enumerable:!1,configurable:!0}),A.prototype._trySubscribe=function(A){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,A)},A.prototype._subscribe=function(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)},A.prototype._innerSubscribe=function(e){var A=this,t=this,n=t.hasError,r=t.isStopped,s=t.observers;return n||r?Dn.Kn:(this.currentObservers=null,s.push(e),new Dn.yU((function(){A.currentObservers=null,(0,Pn.o)(s,e)})))},A.prototype._checkFinalizedStatuses=function(e){var A=this,t=A.hasError,n=A.thrownError,r=A.isStopped;t?e.error(n):r&&e.complete()},A.prototype.asObservable=function(){var e=new On.c;return e.source=this,e},A.create=function(e,A){return new Mn(e,A)},A}(On.c),Mn=function(e){function A(A,t){var n=e.call(this)||this;return n.destination=A,n.source=t,n}return(0,_n.C6)(A,e),A.prototype.next=function(e){var A,t;null===(t=null===(A=this.destination)||void 0===A?void 0:A.next)||void 0===t||t.call(A,e)},A.prototype.error=function(e){var A,t;null===(t=null===(A=this.destination)||void 0===A?void 0:A.error)||void 0===t||t.call(A,e)},A.prototype.complete=function(){var e,A;null===(A=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===A||A.call(e)},A.prototype._subscribe=function(e){var A,t;return null!==(t=null===(A=this.source)||void 0===A?void 0:A.subscribe(e))&&void 0!==t?t:Dn.Kn},A}(Kn),Vn={now:function(){return(Vn.delegate||Date).now()},delegate:void 0},jn=function(e){function A(A,t,n){void 0===A&&(A=1/0),void 0===t&&(t=1/0),void 0===n&&(n=Vn);var r=e.call(this)||this;return r._bufferSize=A,r._windowTime=t,r._timestampProvider=n,r._buffer=[],r._infiniteTimeWindow=!0,r._infiniteTimeWindow=t===1/0,r._bufferSize=Math.max(1,A),r._windowTime=Math.max(1,t),r}return(0,_n.C6)(A,e),A.prototype.next=function(A){var t=this,n=t.isStopped,r=t._buffer,s=t._infiniteTimeWindow,i=t._timestampProvider,o=t._windowTime;n||(r.push(A),!s&&r.push(i.now()+o)),this._trimBuffer(),e.prototype.next.call(this,A)},A.prototype._subscribe=function(e){this._throwIfClosed(),this._trimBuffer();for(var A=this._innerSubscribe(e),t=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!e.closed;r+=t?1:2)e.next(n[r]);return this._checkFinalizedStatuses(e),A},A.prototype._trimBuffer=function(){var e=this,A=e._bufferSize,t=e._timestampProvider,n=e._buffer,r=e._infiniteTimeWindow,s=(r?1:2)*A;if(A<1/0&&s<n.length&&n.splice(0,n.length-s),!r){for(var i=t.now(),o=0,a=1;a<n.length&&n[a]<=i;a+=2)o=a;o&&n.splice(0,o+1)}},A}(Kn),Gn=Array.isArray,Jn=Object.getPrototypeOf,$n=Object.prototype,Wn=Object.keys;function Xn(e){if(1===e.length){var A=e[0];if(Gn(A))return{args:A,keys:null};if((n=A)&&"object"===typeof n&&Jn(n)===$n){var t=Wn(A);return{args:t.map((function(e){return A[e]})),keys:t}}}var n;return{args:e,keys:null}}var Yn=t(8869),qn=t(2184),Zn=t(4619),zn=t(8847);function er(e,A){return(0,Zn.N)((function(t,n){var r=0;t.subscribe((0,zn._)(n,(function(t){n.next(e.call(A,t,r++))})))}))}var Ar=Array.isArray;function tr(e){return er((function(A){return function(e,A){return Ar(A)?e.apply(void 0,(0,_n.fX)([],(0,_n.zs)(A))):e(A)}(e,A)}))}var nr=t(4043);var rr=t(1054);function sr(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];var t=(0,nr.lI)(e),n=(0,nr.ms)(e),r=Xn(e),s=r.args,i=r.keys;if(0===s.length)return(0,Yn.H)([],t);var o=new On.c(function(e,A,t){void 0===t&&(t=qn.D);return function(n){ir(A,(function(){for(var r=e.length,s=new Array(r),i=r,o=r,a=function(r){ir(A,(function(){var a=(0,Yn.H)(e[r],A),c=!1;a.subscribe((0,zn._)(n,(function(e){s[r]=e,c||(c=!0,o--),o||n.next(t(s.slice()))}),(function(){--i||n.complete()})))}),n)},c=0;c<r;c++)a(c)}),n)}}(s,t,i?function(e){return function(e,A){return e.reduce((function(e,t,n){return e[t]=A[n],e}),{})}(i,e)}:qn.D));return n?o.pipe(tr(n)):o}function ir(e,A,t){e?(0,rr.N)(t,e,A):A()}var or=function(e){function A(A){var t=e.call(this)||this;return t._value=A,t}return(0,_n.C6)(A,e),Object.defineProperty(A.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),A.prototype._subscribe=function(A){var t=e.prototype._subscribe.call(this,A);return!t.closed&&A.next(this._value),t},A.prototype.getValue=function(){var e=this,A=e.hasError,t=e.thrownError,n=e._value;if(A)throw t;return this._throwIfClosed(),n},A.prototype.next=function(A){e.prototype.next.call(this,this._value=A)},A}(Kn),ar=t(3661),cr=t(4459);function lr(e,A){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];if(!0!==A){if(!1!==A){var r=new cr.Ms({next:function(){r.unsubscribe(),e()}});return(0,ar.Tg)(A.apply(void 0,(0,_n.fX)([],(0,_n.zs)(t)))).subscribe(r)}}else e()}function ur(e,A,t){var n,r,s,i,o=!1;return e&&"object"===typeof e?(n=e.bufferSize,i=void 0===n?1/0:n,r=e.windowTime,A=void 0===r?1/0:r,o=void 0!==(s=e.refCount)&&s,t=e.scheduler):i=null!==e&&void 0!==e?e:1/0,function(e){void 0===e&&(e={});var A=e.connector,t=void 0===A?function(){return new Kn}:A,n=e.resetOnError,r=void 0===n||n,s=e.resetOnComplete,i=void 0===s||s,o=e.resetOnRefCountZero,a=void 0===o||o;return function(e){var A,n,s,o=0,c=!1,l=!1,u=function(){null===n||void 0===n||n.unsubscribe(),n=void 0},d=function(){u(),A=s=void 0,c=l=!1},h=function(){var e=A;d(),null===e||void 0===e||e.unsubscribe()};return(0,Zn.N)((function(e,p){o++,l||c||u();var g=s=null!==s&&void 0!==s?s:t();p.add((function(){0!==--o||l||c||(n=lr(h,a))})),g.subscribe(p),!A&&o>0&&(A=new cr.Ms({next:function(e){return g.next(e)},error:function(e){l=!0,u(),n=lr(d,r,e),g.error(e)},complete:function(){c=!0,u(),n=lr(d,i),g.complete()}}),(0,ar.Tg)(e).subscribe(A))}))(e)}}({connector:function(){return new jn(i,A,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function dr(e,A){return void 0===A&&(A=qn.D),e=null!==e&&void 0!==e?e:hr,(0,Zn.N)((function(t,n){var r,s=!0;t.subscribe((0,zn._)(n,(function(t){var i=A(t);!s&&e(r,i)||(s=!1,r=i,n.next(t))})))}))}function hr(e,A){return e===A}function pr(e,A){return void 0===A&&(A=!1),(0,Zn.N)((function(t,n){var r=0;t.subscribe((0,zn._)(n,(function(t){var s=e(t,r++);(s||A)&&n.next(t),!s&&n.complete()})))}))}function gr(e,A){return dr((function(t,n){return A?A(t[e],n[e]):t[e]===n[e]}))}var fr=t(5314);function mr(e,A,t){return t?mr(e,A).pipe(tr(t)):new On.c((function(t){var n=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return t.next(1===e.length?e[0]:e)},r=e(n);return(0,fr.T)(A)?function(){return A(n,r)}:void 0}))}function Br(e,A,t){return void 0===t&&(t=1/0),(0,fr.T)(A)?Br((function(t,n){return er((function(e,r){return A(t,e,n,r)}))((0,ar.Tg)(e(t,n)))}),t):("number"===typeof A&&(t=A),(0,Zn.N)((function(A,n){return function(e,A,t,n,r,s,i,o){var a=[],c=0,l=0,u=!1,d=function(){!u||a.length||c||A.complete()},h=function(e){return c<n?p(e):a.push(e)},p=function(e){s&&A.next(e),c++;var o=!1;(0,ar.Tg)(t(e,l++)).subscribe((0,zn._)(A,(function(e){null===r||void 0===r||r(e),s?h(e):A.next(e)}),(function(){o=!0}),void 0,(function(){if(o)try{c--;for(var e=function(){var e=a.shift();i?(0,rr.N)(A,i,(function(){return p(e)})):p(e)};a.length&&c<n;)e();d()}catch(t){A.error(t)}})))};return e.subscribe((0,zn._)(A,h,(function(){u=!0,d()}))),function(){null===o||void 0===o||o()}}(A,n,e,t)})))}var wr=t(6726),Cr=["addListener","removeListener"],vr=["addEventListener","removeEventListener"],br=["on","off"];function yr(e,A,t,n){if((0,fr.T)(t)&&(n=t,t=void 0),n)return yr(e,A,t).pipe(tr(n));var r=(0,_n.zs)(function(e){return(0,fr.T)(e.addEventListener)&&(0,fr.T)(e.removeEventListener)}(e)?vr.map((function(n){return function(r){return e[n](A,r,t)}})):function(e){return(0,fr.T)(e.addListener)&&(0,fr.T)(e.removeListener)}(e)?Cr.map(Ur(e,A)):function(e){return(0,fr.T)(e.on)&&(0,fr.T)(e.off)}(e)?br.map(Ur(e,A)):[],2),s=r[0],i=r[1];if(!s&&(0,wr.X)(e))return Br((function(e){return yr(e,A,t)}))((0,ar.Tg)(e));if(!s)throw new TypeError("Invalid event target");return new On.c((function(e){var A=function(){for(var A=[],t=0;t<arguments.length;t++)A[t]=arguments[t];return e.next(1<A.length?A:A[0])};return s(A),function(){return i(A)}}))}function Ur(e,A){return function(t){return function(n){return e[t](A,n)}}}var Qr=function(e){function A(A,t){return e.call(this)||this}return(0,_n.C6)(A,e),A.prototype.schedule=function(e,A){return void 0===A&&(A=0),this},A}(Dn.yU),Er={setInterval:function(e,A){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var r=Er.delegate;return(null===r||void 0===r?void 0:r.setInterval)?r.setInterval.apply(r,(0,_n.fX)([e,A],(0,_n.zs)(t))):setInterval.apply(void 0,(0,_n.fX)([e,A],(0,_n.zs)(t)))},clearInterval:function(e){var A=Er.delegate;return((null===A||void 0===A?void 0:A.clearInterval)||clearInterval)(e)},delegate:void 0},Fr=function(e){function A(A,t){var n=e.call(this,A,t)||this;return n.scheduler=A,n.work=t,n.pending=!1,n}return(0,_n.C6)(A,e),A.prototype.schedule=function(e,A){var t;if(void 0===A&&(A=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,A)),this.pending=!0,this.delay=A,this.id=null!==(t=this.id)&&void 0!==t?t:this.requestAsyncId(r,this.id,A),this},A.prototype.requestAsyncId=function(e,A,t){return void 0===t&&(t=0),Er.setInterval(e.flush.bind(e,this),t)},A.prototype.recycleAsyncId=function(e,A,t){if(void 0===t&&(t=0),null!=t&&this.delay===t&&!1===this.pending)return A;null!=A&&Er.clearInterval(A)},A.prototype.execute=function(e,A){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var t=this._execute(e,A);if(t)return t;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},A.prototype._execute=function(e,A){var t,n=!1;try{this.work(e)}catch(r){n=!0,t=r||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),t},A.prototype.unsubscribe=function(){if(!this.closed){var A=this.id,t=this.scheduler,n=t.actions;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Pn.o)(n,this),null!=A&&(this.id=this.recycleAsyncId(t,A,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},A}(Qr),Sr=function(){function e(A,t){void 0===t&&(t=e.now),this.schedulerActionCtor=A,this.now=t}return e.prototype.schedule=function(e,A,t){return void 0===A&&(A=0),new this.schedulerActionCtor(this,e).schedule(t,A)},e.now=Vn.now,e}(),Ir=new(function(e){function A(A,t){void 0===t&&(t=Sr.now);var n=e.call(this,A,t)||this;return n.actions=[],n._active=!1,n}return(0,_n.C6)(A,e),A.prototype.flush=function(e){var A=this.actions;if(this._active)A.push(e);else{var t;this._active=!0;do{if(t=e.execute(e.state,e.delay))break}while(e=A.shift());if(this._active=!1,t){for(;e=A.shift();)e.unsubscribe();throw t}}},A}(Sr))(Fr);function Tr(e){return void 0===e&&(e=1/0),Br(qn.D,e)}var kr=new On.c((function(e){return e.complete()}));function Rr(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];var t=(0,nr.lI)(e),n=(0,nr.R0)(e,1/0),r=e;return r.length?1===r.length?(0,ar.Tg)(r[0]):Tr(n)((0,Yn.H)(r,t)):kr}function xr(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return Tr(1)((0,Yn.H)(e,(0,nr.lI)(e)))}function Hr(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];var t=(0,nr.lI)(e);return(0,Zn.N)((function(A,n){(t?xr(e,A,t):xr(e,A)).subscribe(n)}))}function _r(e,A){return(0,fr.T)(A)?Br(e,A,1):Br(e,1)}var Or=t(5012),Dr=t(4121),Lr=t(9640);const Pr="disabled",Nr="auto-on",Kr={BLOCK_USERS:"block-users",CHANGE_MAX_DURATION:"change-max-duration",CREATE_CALL:"create-call",CREATE_REACTION:"create-reaction",ENABLE_NOISE_CANCELLATION:"enable-noise-cancellation",END_CALL:"end-call",JOIN_BACKSTAGE:"join-backstage",JOIN_CALL:"join-call",JOIN_ENDED_CALL:"join-ended-call",MUTE_USERS:"mute-users",PIN_FOR_EVERYONE:"pin-for-everyone",READ_CALL:"read-call",REMOVE_CALL_MEMBER:"remove-call-member",SCREENSHARE:"screenshare",SEND_AUDIO:"send-audio",SEND_VIDEO:"send-video",START_BROADCAST_CALL:"start-broadcast-call",START_CLOSED_CAPTIONS_CALL:"start-closed-captions-call",START_FRAME_RECORD_CALL:"start-frame-record-call",START_RECORD_CALL:"start-record-call",START_TRANSCRIPTION_CALL:"start-transcription-call",STOP_BROADCAST_CALL:"stop-broadcast-call",STOP_CLOSED_CAPTIONS_CALL:"stop-closed-captions-call",STOP_FRAME_RECORD_CALL:"stop-frame-record-call",STOP_RECORD_CALL:"stop-record-call",STOP_TRANSCRIPTION_CALL:"stop-transcription-call",UPDATE_CALL:"update-call",UPDATE_CALL_MEMBER:"update-call-member",UPDATE_CALL_PERMISSIONS:"update-call-permissions",UPDATE_CALL_SETTINGS:"update-call-settings"};class Mr extends Error{constructor(e){let{message:A,code:t,status:n,response:r,unrecoverable:s}=e;super(A),this.name="ErrorFromResponse",this.code=t,this.response=r,this.status=n,this.unrecoverable=s}toJSON(){const e=[["status",this.status],["code",this.code],["unrecoverable",this.unrecoverable]],A=[];for(const[t,n]of e)"undefined"!==typeof n&&null!==n&&A.push(`${t}: ${n}`);return{message:`(${A.join(", ")}) - ${this.message}`,stack:this.stack,name:this.name}}}var Vr;!function(e){e[e.NULL_VALUE=0]="NULL_VALUE"}(Vr||(Vr={}));const jr=new class extends oA{constructor(){super("google.protobuf.Struct",[{no:1,name:"fields",kind:"map",K:9,V:{kind:"message",T:()=>Gr}}])}internalJsonWrite(e,A){let t={};for(let[n,r]of Object.entries(e.fields))t[n]=Gr.toJson(r);return t}internalJsonRead(e,A,t){if(!Be(e))throw new globalThis.Error("Unable to parse message "+this.typeName+" from JSON "+me(e)+".");t||(t=this.create());for(let[n,r]of globalThis.Object.entries(e))t.fields[n]=Gr.fromJson(r);return t}};const Gr=new class extends oA{constructor(){super("google.protobuf.Value",[{no:1,name:"null_value",kind:"enum",oneof:"kind",T:()=>["google.protobuf.NullValue",Vr]},{no:2,name:"number_value",kind:"scalar",oneof:"kind",T:1},{no:3,name:"string_value",kind:"scalar",oneof:"kind",T:9},{no:4,name:"bool_value",kind:"scalar",oneof:"kind",T:8},{no:5,name:"struct_value",kind:"message",oneof:"kind",T:()=>jr},{no:6,name:"list_value",kind:"message",oneof:"kind",T:()=>Jr}])}internalJsonWrite(e,A){if(void 0===e.kind.oneofKind)throw new globalThis.Error;switch(e.kind.oneofKind){case void 0:throw new globalThis.Error;case"boolValue":return e.kind.boolValue;case"nullValue":return null;case"numberValue":let A=e.kind.numberValue;if("number"==typeof A&&!Number.isFinite(A))throw new globalThis.Error;return A;case"stringValue":return e.kind.stringValue;case"listValue":let t=this.fields.find((e=>6===e.no));if("message"!==t?.kind)throw new globalThis.Error;return t.T().toJson(e.kind.listValue);case"structValue":let n=this.fields.find((e=>5===e.no));if("message"!==n?.kind)throw new globalThis.Error;return n.T().toJson(e.kind.structValue)}}internalJsonRead(e,A,t){switch(t||(t=this.create()),typeof e){case"number":t.kind={oneofKind:"numberValue",numberValue:e};break;case"string":t.kind={oneofKind:"stringValue",stringValue:e};break;case"boolean":t.kind={oneofKind:"boolValue",boolValue:e};break;case"object":null===e?t.kind={oneofKind:"nullValue",nullValue:Vr.NULL_VALUE}:globalThis.Array.isArray(e)?t.kind={oneofKind:"listValue",listValue:Jr.fromJson(e)}:t.kind={oneofKind:"structValue",structValue:jr.fromJson(e)};break;default:throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+me(e))}return t}};const Jr=new class extends oA{constructor(){super("google.protobuf.ListValue",[{no:1,name:"values",kind:"message",repeat:1,T:()=>Gr}])}internalJsonWrite(e,A){return e.values.map((e=>Gr.toJson(e)))}internalJsonRead(e,A,t){if(!globalThis.Array.isArray(e))throw new globalThis.Error("Unable to parse "+this.typeName+" from JSON "+me(e));t||(t=this.create());let n=e.map((e=>Gr.fromJson(e)));return t.values.push(...n),t}};const $r=new class extends oA{constructor(){super("google.protobuf.Timestamp",[{no:1,name:"seconds",kind:"scalar",T:3},{no:2,name:"nanos",kind:"scalar",T:5}])}now(){const e=this.create(),A=Date.now();return e.seconds=_e.from(Math.floor(A/1e3)).toString(),e.nanos=A%1e3*1e6,e}toDate(e){return new Date(1e3*_e.from(e.seconds).toNumber()+Math.ceil(e.nanos/1e6))}fromDate(e){const A=this.create(),t=e.getTime();return A.seconds=_e.from(Math.floor(t/1e3)).toString(),A.nanos=1e6*(t%1e3+(t<0&&t%1e3!==0?1e3:0)),A}internalJsonWrite(e,A){let t=1e3*_e.from(e.seconds).toNumber();if(t<Date.parse("0001-01-01T00:00:00Z")||t>Date.parse("9999-12-31T23:59:59Z"))throw new Error("Unable to encode Timestamp to JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");if(e.nanos<0)throw new Error("Unable to encode invalid Timestamp to JSON. Nanos must not be negative.");let n="Z";if(e.nanos>0){let A=(e.nanos+1e9).toString().substring(1);n="000000"===A.substring(3)?"."+A.substring(0,3)+"Z":"000"===A.substring(6)?"."+A.substring(0,6)+"Z":"."+A+"Z"}return new Date(t).toISOString().replace(".000Z",n)}internalJsonRead(e,A,t){if("string"!==typeof e)throw new Error("Unable to parse Timestamp from JSON "+me(e)+".");let n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:Z|\.([0-9]{3,9})Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error("Unable to parse Timestamp from JSON. Invalid format.");let r=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(r))throw new Error("Unable to parse Timestamp from JSON. Invalid value.");if(r<Date.parse("0001-01-01T00:00:00Z")||r>Date.parse("9999-12-31T23:59:59Z"))throw new globalThis.Error("Unable to parse Timestamp from JSON. Must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive.");return t||(t=this.create()),t.seconds=_e.from(r/1e3).toString(),t.nanos=0,n[7]&&(t.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9),t}};var Wr,Xr,Yr,qr,Zr,zr,es,As,ts,ns,rs,ss;!function(e){e[e.PUBLISHER_UNSPECIFIED=0]="PUBLISHER_UNSPECIFIED",e[e.SUBSCRIBER=1]="SUBSCRIBER"}(Wr||(Wr={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.POOR=1]="POOR",e[e.GOOD=2]="GOOD",e[e.EXCELLENT=3]="EXCELLENT"}(Xr||(Xr={})),function(e){e[e.LOW_UNSPECIFIED=0]="LOW_UNSPECIFIED",e[e.MID=1]="MID",e[e.HIGH=2]="HIGH",e[e.OFF=3]="OFF"}(Yr||(Yr={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.AUDIO=1]="AUDIO",e[e.VIDEO=2]="VIDEO",e[e.SCREEN_SHARE=3]="SCREEN_SHARE",e[e.SCREEN_SHARE_AUDIO=4]="SCREEN_SHARE_AUDIO"}(qr||(qr={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PUBLISH_TRACK_NOT_FOUND=100]="PUBLISH_TRACK_NOT_FOUND",e[e.PUBLISH_TRACKS_MISMATCH=101]="PUBLISH_TRACKS_MISMATCH",e[e.PUBLISH_TRACK_OUT_OF_ORDER=102]="PUBLISH_TRACK_OUT_OF_ORDER",e[e.PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND=103]="PUBLISH_TRACK_VIDEO_LAYER_NOT_FOUND",e[e.LIVE_ENDED=104]="LIVE_ENDED",e[e.PARTICIPANT_NOT_FOUND=200]="PARTICIPANT_NOT_FOUND",e[e.PARTICIPANT_MIGRATING_OUT=201]="PARTICIPANT_MIGRATING_OUT",e[e.PARTICIPANT_MIGRATION_FAILED=202]="PARTICIPANT_MIGRATION_FAILED",e[e.PARTICIPANT_MIGRATING=203]="PARTICIPANT_MIGRATING",e[e.PARTICIPANT_RECONNECT_FAILED=204]="PARTICIPANT_RECONNECT_FAILED",e[e.PARTICIPANT_MEDIA_TRANSPORT_FAILURE=205]="PARTICIPANT_MEDIA_TRANSPORT_FAILURE",e[e.CALL_NOT_FOUND=300]="CALL_NOT_FOUND",e[e.REQUEST_VALIDATION_FAILED=400]="REQUEST_VALIDATION_FAILED",e[e.UNAUTHENTICATED=401]="UNAUTHENTICATED",e[e.PERMISSION_DENIED=403]="PERMISSION_DENIED",e[e.TOO_MANY_REQUESTS=429]="TOO_MANY_REQUESTS",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.SFU_SHUTTING_DOWN=600]="SFU_SHUTTING_DOWN",e[e.SFU_FULL=700]="SFU_FULL"}(Zr||(Zr={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.REACT=1]="REACT",e[e.ANGULAR=2]="ANGULAR",e[e.ANDROID=3]="ANDROID",e[e.IOS=4]="IOS",e[e.FLUTTER=5]="FLUTTER",e[e.REACT_NATIVE=6]="REACT_NATIVE",e[e.UNITY=7]="UNITY",e[e.GO=8]="GO",e[e.PLAIN_JAVASCRIPT=9]="PLAIN_JAVASCRIPT"}(zr||(zr={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.USER_MUTED=1]="USER_MUTED",e[e.PERMISSION_REVOKED=2]="PERMISSION_REVOKED",e[e.MODERATION=3]="MODERATION"}(es||(es={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.SHUTTING_DOWN=1]="SHUTTING_DOWN",e[e.REBALANCE=2]="REBALANCE"}(As||(As={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ENDED=1]="ENDED",e[e.LIVE_ENDED=2]="LIVE_ENDED",e[e.KICKED=3]="KICKED",e[e.SESSION_ENDED=4]="SESSION_ENDED"}(ts||(ts={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.DISCONNECT=1]="DISCONNECT",e[e.FAST=2]="FAST",e[e.REJOIN=3]="REJOIN",e[e.MIGRATE=4]="MIGRATE"}(ns||(ns={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NONE=1]="NONE",e[e.LIGHT=2]="LIGHT",e[e.MODERATE=3]="MODERATE",e[e.SEVERE=4]="SEVERE",e[e.CRITICAL=5]="CRITICAL",e[e.EMERGENCY=6]="EMERGENCY",e[e.SHUTDOWN=7]="SHUTDOWN"}(rs||(rs={})),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.NOMINAL=1]="NOMINAL",e[e.FAIR=2]="FAIR",e[e.SERIOUS=3]="SERIOUS",e[e.CRITICAL=4]="CRITICAL"}(ss||(ss={}));const is=new class extends oA{constructor(){super("stream.video.sfu.models.CallState",[{no:1,name:"participants",kind:"message",repeat:1,T:()=>cs},{no:2,name:"started_at",kind:"message",T:()=>$r},{no:3,name:"participant_count",kind:"message",T:()=>os},{no:4,name:"pins",kind:"message",repeat:1,T:()=>as}])}};const os=new class extends oA{constructor(){super("stream.video.sfu.models.ParticipantCount",[{no:1,name:"total",kind:"scalar",T:13},{no:2,name:"anonymous",kind:"scalar",T:13}])}};const as=new class extends oA{constructor(){super("stream.video.sfu.models.Pin",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const cs=new class extends oA{constructor(){super("stream.video.sfu.models.Participant",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"published_tracks",kind:"enum",repeat:1,T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:4,name:"joined_at",kind:"message",T:()=>$r},{no:5,name:"track_lookup_prefix",kind:"scalar",T:9},{no:6,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",Xr,"CONNECTION_QUALITY_"]},{no:7,name:"is_speaking",kind:"scalar",T:8},{no:8,name:"is_dominant_speaker",kind:"scalar",T:8},{no:9,name:"audio_level",kind:"scalar",T:2},{no:10,name:"name",kind:"scalar",T:9},{no:11,name:"image",kind:"scalar",T:9},{no:12,name:"custom",kind:"message",T:()=>jr},{no:13,name:"roles",kind:"scalar",repeat:2,T:9}])}};const ls=new class extends oA{constructor(){super("stream.video.sfu.models.StreamQuality",[{no:1,name:"video_quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",Yr,"VIDEO_QUALITY_"]},{no:2,name:"user_id",kind:"scalar",T:9}])}};const us=new class extends oA{constructor(){super("stream.video.sfu.models.VideoDimension",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13}])}};const ds=new class extends oA{constructor(){super("stream.video.sfu.models.VideoLayer",[{no:1,name:"rid",kind:"scalar",T:9},{no:2,name:"video_dimension",kind:"message",T:()=>us},{no:4,name:"bitrate",kind:"scalar",T:13},{no:5,name:"fps",kind:"scalar",T:13},{no:6,name:"quality",kind:"enum",T:()=>["stream.video.sfu.models.VideoQuality",Yr,"VIDEO_QUALITY_"]}])}};const hs=new class extends oA{constructor(){super("stream.video.sfu.models.SubscribeOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:2,name:"codecs",kind:"message",repeat:1,T:()=>gs}])}};const ps=new class extends oA{constructor(){super("stream.video.sfu.models.PublishOption",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>gs},{no:3,name:"bitrate",kind:"scalar",T:5},{no:4,name:"fps",kind:"scalar",T:5},{no:5,name:"max_spatial_layers",kind:"scalar",T:5},{no:6,name:"max_temporal_layers",kind:"scalar",T:5},{no:7,name:"video_dimension",kind:"message",T:()=>us},{no:8,name:"id",kind:"scalar",T:5},{no:9,name:"use_single_layer",kind:"scalar",T:8}])}};const gs=new class extends oA{constructor(){super("stream.video.sfu.models.Codec",[{no:16,name:"payload_type",kind:"scalar",T:13},{no:10,name:"name",kind:"scalar",T:9},{no:14,name:"clock_rate",kind:"scalar",T:13},{no:15,name:"encoding_parameters",kind:"scalar",T:9},{no:12,name:"fmtp",kind:"scalar",T:9}])}};const fs=new class extends oA{constructor(){super("stream.video.sfu.models.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",Wr,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const ms=new class extends oA{constructor(){super("stream.video.sfu.models.TrackInfo",[{no:1,name:"track_id",kind:"scalar",T:9},{no:2,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:5,name:"layers",kind:"message",repeat:1,T:()=>ds},{no:6,name:"mid",kind:"scalar",T:9},{no:7,name:"dtx",kind:"scalar",T:8},{no:8,name:"stereo",kind:"scalar",T:8},{no:9,name:"red",kind:"scalar",T:8},{no:10,name:"muted",kind:"scalar",T:8},{no:11,name:"codec",kind:"message",T:()=>gs},{no:12,name:"publish_option_id",kind:"scalar",T:5}])}};const Bs=new class extends oA{constructor(){super("stream.video.sfu.models.Error",[{no:1,name:"code",kind:"enum",T:()=>["stream.video.sfu.models.ErrorCode",Zr,"ERROR_CODE_"]},{no:2,name:"message",kind:"scalar",T:9},{no:3,name:"should_retry",kind:"scalar",T:8}])}};const ws=new class extends oA{constructor(){super("stream.video.sfu.models.ClientDetails",[{no:1,name:"sdk",kind:"message",T:()=>Cs},{no:2,name:"os",kind:"message",T:()=>vs},{no:3,name:"browser",kind:"message",T:()=>bs},{no:4,name:"device",kind:"message",T:()=>Us}])}};const Cs=new class extends oA{constructor(){super("stream.video.sfu.models.Sdk",[{no:1,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.SdkType",zr,"SDK_TYPE_"]},{no:2,name:"major",kind:"scalar",T:9},{no:3,name:"minor",kind:"scalar",T:9},{no:4,name:"patch",kind:"scalar",T:9}])}};const vs=new class extends oA{constructor(){super("stream.video.sfu.models.OS",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9},{no:3,name:"architecture",kind:"scalar",T:9}])}};const bs=new class extends oA{constructor(){super("stream.video.sfu.models.Browser",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const ys=new class extends oA{constructor(){super("stream.video.sfu.models.RTMPIngress",[{no:1,name:"width",kind:"scalar",T:13},{no:2,name:"height",kind:"scalar",T:13},{no:3,name:"frame_rate",kind:"scalar",T:1},{no:4,name:"software",kind:"scalar",T:9},{no:5,name:"version",kind:"scalar",T:9},{no:6,name:"encoder",kind:"scalar",T:9},{no:7,name:"remote_addr",kind:"scalar",T:9}])}};const Us=new class extends oA{constructor(){super("stream.video.sfu.models.Device",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"version",kind:"scalar",T:9}])}};const Qs=new class extends oA{constructor(){super("stream.video.sfu.models.Call",[{no:1,name:"type",kind:"scalar",T:9},{no:2,name:"id",kind:"scalar",T:9},{no:3,name:"created_by_user_id",kind:"scalar",T:9},{no:4,name:"host_user_id",kind:"scalar",T:9},{no:5,name:"custom",kind:"message",T:()=>jr},{no:6,name:"created_at",kind:"message",T:()=>$r},{no:7,name:"updated_at",kind:"message",T:()=>$r}])}};const Es=new class extends oA{constructor(){super("stream.video.sfu.models.CallGrants",[{no:1,name:"can_publish_audio",kind:"scalar",T:8},{no:2,name:"can_publish_video",kind:"scalar",T:8},{no:3,name:"can_screenshare",kind:"scalar",T:8}])}};const Fs=new class extends oA{constructor(){super("stream.video.sfu.models.InputDevices",[{no:1,name:"available_devices",kind:"scalar",repeat:2,T:9},{no:2,name:"current_device",kind:"scalar",T:9},{no:3,name:"is_permitted",kind:"scalar",T:8}])}};const Ss=new class extends oA{constructor(){super("stream.video.sfu.models.AndroidState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AndroidThermalState",rs,"ANDROID_THERMAL_STATE_"]},{no:2,name:"is_power_saver_mode",kind:"scalar",T:8}])}};const Is=new class extends oA{constructor(){super("stream.video.sfu.models.AppleState",[{no:1,name:"thermal_state",kind:"enum",T:()=>["stream.video.sfu.models.AppleThermalState",ss,"APPLE_THERMAL_STATE_"]},{no:2,name:"is_low_power_mode_enabled",kind:"scalar",T:8}])}};const Ts=new class extends oA{constructor(){super("stream.video.sfu.models.PerformanceStats",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:2,name:"codec",kind:"message",T:()=>gs},{no:3,name:"avg_frame_time_ms",kind:"scalar",T:2},{no:4,name:"avg_fps",kind:"scalar",T:2},{no:5,name:"video_dimension",kind:"message",T:()=>us},{no:6,name:"target_bitrate",kind:"scalar",T:5}])}};var ks=Object.freeze({__proto__:null,AndroidState:Ss,get AndroidThermalState(){return rs},AppleState:Is,get AppleThermalState(){return ss},Browser:bs,Call:Qs,get CallEndedReason(){return ts},CallGrants:Es,CallState:is,ClientDetails:ws,Codec:gs,get ConnectionQuality(){return Xr},Device:Us,Error:Bs,get ErrorCode(){return Zr},get GoAwayReason(){return As},ICETrickle:fs,InputDevices:Fs,OS:vs,Participant:cs,ParticipantCount:os,get PeerType(){return Wr},PerformanceStats:Ts,Pin:as,PublishOption:ps,RTMPIngress:ys,Sdk:Cs,get SdkType(){return zr},StreamQuality:ls,SubscribeOption:hs,TrackInfo:ms,get TrackType(){return qr},get TrackUnpublishReason(){return es},VideoDimension:us,VideoLayer:ds,get VideoQuality(){return Yr},get WebsocketReconnectStrategy(){return ns}});const Rs=new class extends oA{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const xs=new class extends oA{constructor(){super("stream.video.sfu.signal.StartNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>Bs}])}};const Hs=new class extends oA{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationRequest",[{no:1,name:"session_id",kind:"scalar",T:9}])}};const _s=new class extends oA{constructor(){super("stream.video.sfu.signal.StopNoiseCancellationResponse",[{no:1,name:"error",kind:"message",T:()=>Bs}])}};const Os=new class extends oA{constructor(){super("stream.video.sfu.signal.Reconnection",[{no:1,name:"time_seconds",kind:"scalar",T:2},{no:2,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",ns,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};const Ds=new class extends oA{constructor(){super("stream.video.sfu.signal.Telemetry",[{no:1,name:"connection_time_seconds",kind:"scalar",oneof:"data",T:2},{no:2,name:"reconnection",kind:"message",oneof:"data",T:()=>Os}])}};const Ls=new class extends oA{constructor(){super("stream.video.sfu.signal.SendStatsRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"subscriber_stats",kind:"scalar",T:9},{no:3,name:"publisher_stats",kind:"scalar",T:9},{no:4,name:"webrtc_version",kind:"scalar",T:9},{no:5,name:"sdk",kind:"scalar",T:9},{no:6,name:"sdk_version",kind:"scalar",T:9},{no:7,name:"audio_devices",kind:"message",T:()=>Fs},{no:8,name:"video_devices",kind:"message",T:()=>Fs},{no:9,name:"android",kind:"message",oneof:"deviceState",T:()=>Ss},{no:10,name:"apple",kind:"message",oneof:"deviceState",T:()=>Is},{no:11,name:"telemetry",kind:"message",T:()=>Ds},{no:12,name:"rtmp",kind:"message",T:()=>ys},{no:13,name:"subscriber_rtc_stats",kind:"scalar",T:9},{no:14,name:"publisher_rtc_stats",kind:"scalar",T:9},{no:15,name:"rtc_stats",kind:"scalar",T:9},{no:16,name:"encode_stats",kind:"message",repeat:1,T:()=>Ts},{no:17,name:"decode_stats",kind:"message",repeat:1,T:()=>Ts},{no:18,name:"unified_session_id",kind:"scalar",T:9}])}};const Ps=new class extends oA{constructor(){super("stream.video.sfu.signal.SendStatsResponse",[{no:1,name:"error",kind:"message",T:()=>Bs}])}};const Ns=new class extends oA{constructor(){super("stream.video.sfu.signal.ICERestartRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",Wr,"PEER_TYPE_"]}])}};const Ks=new class extends oA{constructor(){super("stream.video.sfu.signal.ICERestartResponse",[{no:1,name:"error",kind:"message",T:()=>Bs}])}};const Ms=new class extends oA{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:3,name:"mute_states",kind:"message",repeat:1,T:()=>js}])}};const Vs=new class extends oA{constructor(){super("stream.video.sfu.signal.UpdateMuteStatesResponse",[{no:4,name:"error",kind:"message",T:()=>Bs}])}};const js=new class extends oA{constructor(){super("stream.video.sfu.signal.TrackMuteState",[{no:1,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:2,name:"muted",kind:"scalar",T:8}])}};new class extends oA{constructor(){super("stream.video.sfu.signal.AudioMuteChanged",[{no:1,name:"muted",kind:"scalar",T:8}])}};new class extends oA{constructor(){super("stream.video.sfu.signal.VideoMuteChanged",[{no:2,name:"muted",kind:"scalar",T:8}])}};const Gs=new class extends oA{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsRequest",[{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>$s}])}};const Js=new class extends oA{constructor(){super("stream.video.sfu.signal.UpdateSubscriptionsResponse",[{no:4,name:"error",kind:"message",T:()=>Bs}])}};const $s=new class extends oA{constructor(){super("stream.video.sfu.signal.TrackSubscriptionDetails",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:4,name:"dimension",kind:"message",T:()=>us}])}};const Ws=new class extends oA{constructor(){super("stream.video.sfu.signal.SendAnswerRequest",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",Wr,"PEER_TYPE_"]},{no:2,name:"sdp",kind:"scalar",T:9},{no:3,name:"session_id",kind:"scalar",T:9}])}};const Xs=new class extends oA{constructor(){super("stream.video.sfu.signal.SendAnswerResponse",[{no:4,name:"error",kind:"message",T:()=>Bs}])}};const Ys=new class extends oA{constructor(){super("stream.video.sfu.signal.ICETrickleResponse",[{no:4,name:"error",kind:"message",T:()=>Bs}])}};const qs=new class extends oA{constructor(){super("stream.video.sfu.signal.SetPublisherRequest",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"tracks",kind:"message",repeat:1,T:()=>ms}])}};const Zs=new class extends oA{constructor(){super("stream.video.sfu.signal.SetPublisherResponse",[{no:1,name:"sdp",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"ice_restart",kind:"scalar",T:8},{no:4,name:"error",kind:"message",T:()=>Bs}])}},zs=new class{constructor(e,A,t){this.typeName=e,this.methods=A.map((e=>function(e,A){var t,n,r;let s=e;return s.service=A,s.localName=null!==(t=s.localName)&&void 0!==t?t:le(s.name),s.serverStreaming=!!s.serverStreaming,s.clientStreaming=!!s.clientStreaming,s.options=null!==(n=s.options)&&void 0!==n?n:{},s.idempotency=null!==(r=s.idempotency)&&void 0!==r?r:void 0,s}(e,this))),this.options=null!==t&&void 0!==t?t:{}}}("stream.video.sfu.signal.SignalServer",[{name:"SetPublisher",options:{},I:qs,O:Zs},{name:"SendAnswer",options:{},I:Ws,O:Xs},{name:"IceTrickle",options:{},I:fs,O:Ys},{name:"UpdateSubscriptions",options:{},I:Gs,O:Js},{name:"UpdateMuteStates",options:{},I:Ms,O:Vs},{name:"IceRestart",options:{},I:Ns,O:Ks},{name:"SendStats",options:{},I:Ls,O:Ps},{name:"StartNoiseCancellation",options:{},I:Rs,O:xs},{name:"StopNoiseCancellation",options:{},I:Hs,O:_s}]);const ei=new class extends oA{constructor(){super("stream.video.sfu.event.SfuEvent",[{no:1,name:"subscriber_offer",kind:"message",oneof:"eventPayload",T:()=>wi},{no:2,name:"publisher_answer",kind:"message",oneof:"eventPayload",T:()=>Ci},{no:3,name:"connection_quality_changed",kind:"message",oneof:"eventPayload",T:()=>vi},{no:4,name:"audio_level_changed",kind:"message",oneof:"eventPayload",T:()=>Qi},{no:5,name:"ice_trickle",kind:"message",oneof:"eventPayload",T:()=>fs},{no:6,name:"change_publish_quality",kind:"message",oneof:"eventPayload",T:()=>Ii},{no:10,name:"participant_joined",kind:"message",oneof:"eventPayload",T:()=>fi},{no:11,name:"participant_left",kind:"message",oneof:"eventPayload",T:()=>mi},{no:12,name:"dominant_speaker_changed",kind:"message",oneof:"eventPayload",T:()=>yi},{no:13,name:"join_response",kind:"message",oneof:"eventPayload",T:()=>gi},{no:14,name:"health_check_response",kind:"message",oneof:"eventPayload",T:()=>ci},{no:16,name:"track_published",kind:"message",oneof:"eventPayload",T:()=>li},{no:17,name:"track_unpublished",kind:"message",oneof:"eventPayload",T:()=>ui},{no:18,name:"error",kind:"message",oneof:"eventPayload",T:()=>ri},{no:19,name:"call_grants_updated",kind:"message",oneof:"eventPayload",T:()=>Ti},{no:20,name:"go_away",kind:"message",oneof:"eventPayload",T:()=>ki},{no:21,name:"ice_restart",kind:"message",oneof:"eventPayload",T:()=>si},{no:22,name:"pins_updated",kind:"message",oneof:"eventPayload",T:()=>ni},{no:23,name:"call_ended",kind:"message",oneof:"eventPayload",T:()=>Ri},{no:24,name:"participant_updated",kind:"message",oneof:"eventPayload",T:()=>Bi},{no:25,name:"participant_migration_complete",kind:"message",oneof:"eventPayload",T:()=>ti},{no:27,name:"change_publish_options",kind:"message",oneof:"eventPayload",T:()=>Ai}])}};const Ai=new class extends oA{constructor(){super("stream.video.sfu.event.ChangePublishOptions",[{no:1,name:"publish_options",kind:"message",repeat:1,T:()=>ps},{no:2,name:"reason",kind:"scalar",T:9}])}};new class extends oA{constructor(){super("stream.video.sfu.event.ChangePublishOptionsComplete",[])}};const ti=new class extends oA{constructor(){super("stream.video.sfu.event.ParticipantMigrationComplete",[])}};const ni=new class extends oA{constructor(){super("stream.video.sfu.event.PinsChanged",[{no:1,name:"pins",kind:"message",repeat:1,T:()=>as}])}};const ri=new class extends oA{constructor(){super("stream.video.sfu.event.Error",[{no:4,name:"error",kind:"message",T:()=>Bs},{no:5,name:"reconnect_strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",ns,"WEBSOCKET_RECONNECT_STRATEGY_"]}])}};new class extends oA{constructor(){super("stream.video.sfu.event.ICETrickle",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",Wr,"PEER_TYPE_"]},{no:2,name:"ice_candidate",kind:"scalar",T:9}])}};const si=new class extends oA{constructor(){super("stream.video.sfu.event.ICERestart",[{no:1,name:"peer_type",kind:"enum",T:()=>["stream.video.sfu.models.PeerType",Wr,"PEER_TYPE_"]}])}};const ii=new class extends oA{constructor(){super("stream.video.sfu.event.SfuRequest",[{no:1,name:"join_request",kind:"message",oneof:"requestPayload",T:()=>di},{no:2,name:"health_check_request",kind:"message",oneof:"requestPayload",T:()=>ai},{no:3,name:"leave_call_request",kind:"message",oneof:"requestPayload",T:()=>oi}])}};const oi=new class extends oA{constructor(){super("stream.video.sfu.event.LeaveCallRequest",[{no:1,name:"session_id",kind:"scalar",T:9},{no:2,name:"reason",kind:"scalar",T:9}])}};const ai=new class extends oA{constructor(){super("stream.video.sfu.event.HealthCheckRequest",[])}};const ci=new class extends oA{constructor(){super("stream.video.sfu.event.HealthCheckResponse",[{no:1,name:"participant_count",kind:"message",T:()=>os}])}};const li=new class extends oA{constructor(){super("stream.video.sfu.event.TrackPublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:4,name:"participant",kind:"message",T:()=>cs}])}};const ui=new class extends oA{constructor(){super("stream.video.sfu.event.TrackUnpublished",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:4,name:"cause",kind:"enum",T:()=>["stream.video.sfu.models.TrackUnpublishReason",es,"TRACK_UNPUBLISH_REASON_"]},{no:5,name:"participant",kind:"message",T:()=>cs}])}};const di=new class extends oA{constructor(){super("stream.video.sfu.event.JoinRequest",[{no:1,name:"token",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"subscriber_sdp",kind:"scalar",T:9},{no:8,name:"publisher_sdp",kind:"scalar",T:9},{no:4,name:"client_details",kind:"message",T:()=>ws},{no:5,name:"migration",kind:"message",T:()=>pi},{no:6,name:"fast_reconnect",kind:"scalar",T:8},{no:7,name:"reconnect_details",kind:"message",T:()=>hi},{no:9,name:"preferred_publish_options",kind:"message",repeat:1,T:()=>ps},{no:10,name:"preferred_subscribe_options",kind:"message",repeat:1,T:()=>hs}])}};const hi=new class extends oA{constructor(){super("stream.video.sfu.event.ReconnectDetails",[{no:1,name:"strategy",kind:"enum",T:()=>["stream.video.sfu.models.WebsocketReconnectStrategy",ns,"WEBSOCKET_RECONNECT_STRATEGY_"]},{no:3,name:"announced_tracks",kind:"message",repeat:1,T:()=>ms},{no:4,name:"subscriptions",kind:"message",repeat:1,T:()=>$s},{no:5,name:"reconnect_attempt",kind:"scalar",T:13},{no:6,name:"from_sfu_id",kind:"scalar",T:9},{no:7,name:"previous_session_id",kind:"scalar",T:9},{no:8,name:"reason",kind:"scalar",T:9}])}};const pi=new class extends oA{constructor(){super("stream.video.sfu.event.Migration",[{no:1,name:"from_sfu_id",kind:"scalar",T:9},{no:2,name:"announced_tracks",kind:"message",repeat:1,T:()=>ms},{no:3,name:"subscriptions",kind:"message",repeat:1,T:()=>$s}])}};const gi=new class extends oA{constructor(){super("stream.video.sfu.event.JoinResponse",[{no:1,name:"call_state",kind:"message",T:()=>is},{no:2,name:"reconnected",kind:"scalar",T:8},{no:3,name:"fast_reconnect_deadline_seconds",kind:"scalar",T:5},{no:4,name:"publish_options",kind:"message",repeat:1,T:()=>ps}])}};const fi=new class extends oA{constructor(){super("stream.video.sfu.event.ParticipantJoined",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>cs}])}};const mi=new class extends oA{constructor(){super("stream.video.sfu.event.ParticipantLeft",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>cs}])}};const Bi=new class extends oA{constructor(){super("stream.video.sfu.event.ParticipantUpdated",[{no:1,name:"call_cid",kind:"scalar",T:9},{no:2,name:"participant",kind:"message",T:()=>cs}])}};const wi=new class extends oA{constructor(){super("stream.video.sfu.event.SubscriberOffer",[{no:1,name:"ice_restart",kind:"scalar",T:8},{no:2,name:"sdp",kind:"scalar",T:9}])}};const Ci=new class extends oA{constructor(){super("stream.video.sfu.event.PublisherAnswer",[{no:1,name:"sdp",kind:"scalar",T:9}])}};const vi=new class extends oA{constructor(){super("stream.video.sfu.event.ConnectionQualityChanged",[{no:1,name:"connection_quality_updates",kind:"message",repeat:1,T:()=>bi}])}};const bi=new class extends oA{constructor(){super("stream.video.sfu.event.ConnectionQualityInfo",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"connection_quality",kind:"enum",T:()=>["stream.video.sfu.models.ConnectionQuality",Xr,"CONNECTION_QUALITY_"]}])}};const yi=new class extends oA{constructor(){super("stream.video.sfu.event.DominantSpeakerChanged",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9}])}};const Ui=new class extends oA{constructor(){super("stream.video.sfu.event.AudioLevel",[{no:1,name:"user_id",kind:"scalar",T:9},{no:2,name:"session_id",kind:"scalar",T:9},{no:3,name:"level",kind:"scalar",T:2},{no:4,name:"is_speaking",kind:"scalar",T:8}])}};const Qi=new class extends oA{constructor(){super("stream.video.sfu.event.AudioLevelChanged",[{no:1,name:"audio_levels",kind:"message",repeat:1,T:()=>Ui}])}};const Ei=new class extends oA{constructor(){super("stream.video.sfu.event.AudioSender",[{no:2,name:"codec",kind:"message",T:()=>gs},{no:3,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:4,name:"publish_option_id",kind:"scalar",T:5}])}};const Fi=new class extends oA{constructor(){super("stream.video.sfu.event.VideoLayerSetting",[{no:1,name:"name",kind:"scalar",T:9},{no:2,name:"active",kind:"scalar",T:8},{no:3,name:"max_bitrate",kind:"scalar",T:5},{no:4,name:"scale_resolution_down_by",kind:"scalar",T:2},{no:6,name:"codec",kind:"message",T:()=>gs},{no:7,name:"max_framerate",kind:"scalar",T:13},{no:8,name:"scalability_mode",kind:"scalar",T:9}])}};const Si=new class extends oA{constructor(){super("stream.video.sfu.event.VideoSender",[{no:2,name:"codec",kind:"message",T:()=>gs},{no:3,name:"layers",kind:"message",repeat:1,T:()=>Fi},{no:4,name:"track_type",kind:"enum",T:()=>["stream.video.sfu.models.TrackType",qr,"TRACK_TYPE_"]},{no:5,name:"publish_option_id",kind:"scalar",T:5}])}};const Ii=new class extends oA{constructor(){super("stream.video.sfu.event.ChangePublishQuality",[{no:1,name:"audio_senders",kind:"message",repeat:1,T:()=>Ei},{no:2,name:"video_senders",kind:"message",repeat:1,T:()=>Si}])}};const Ti=new class extends oA{constructor(){super("stream.video.sfu.event.CallGrantsUpdated",[{no:1,name:"current_grants",kind:"message",T:()=>Es},{no:2,name:"message",kind:"scalar",T:9}])}};const ki=new class extends oA{constructor(){super("stream.video.sfu.event.GoAway",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.GoAwayReason",As,"GO_AWAY_REASON_"]}])}};const Ri=new class extends oA{constructor(){super("stream.video.sfu.event.CallEnded",[{no:1,name:"reason",kind:"enum",T:()=>["stream.video.sfu.models.CallEndedReason",ts,"CALL_ENDED_REASON_"]}])}};var xi,Hi;!function(e){e.UNKNOWN="UNKNOWN",e.VISIBLE="VISIBLE",e.INVISIBLE="INVISIBLE"}(xi||(xi={})),function(e){e[e.IMMEDIATE=20]="IMMEDIATE",e[e.FAST=100]="FAST",e[e.MEDIUM=600]="MEDIUM",e[e.SLOW=1200]="SLOW"}(Hi||(Hi={}));class _i{constructor(e){this._transport=e,this.typeName=zs.typeName,this.methods=zs.methods,this.options=zs.options}setPublisher(e,A){const t=this.methods[0],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}sendAnswer(e,A){const t=this.methods[1],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}iceTrickle(e,A){const t=this.methods[2],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}updateSubscriptions(e,A){const t=this.methods[3],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}updateMuteStates(e,A){const t=this.methods[4],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}iceRestart(e,A){const t=this.methods[5],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}sendStats(e,A){const t=this.methods[6],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}startNoiseCancellation(e,A){const t=this.methods[7],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}stopNoiseCancellation(e,A){const t=this.methods[8],n=this._transport.mergeOptions(A);return aA("unary",this._transport,t,n,e)}}const Oi={baseUrl:"",sendJson:!0,timeout:5e3,jsonOptions:{ignoreUnknownFields:!0}},Di=(e,A)=>({interceptUnary:(t,n,r,s)=>{let i;try{i=t(n,r,s)}finally{e(A,`Invoked SFU RPC method ${n.name}`,{request:i?.request,headers:i?.requestHeaders,response:i?.response})}return i}}),Li=e=>{const A={SendStats:!0};return{interceptUnary(t,n,r,s){if(A[n.name])return t(n,r,s);try{return e(n.name,r),t(n,r,s)}catch(i){throw e(`${n.name}OnFailure`,[r,i]),i}}}},Pi=e=>new Promise((A=>setTimeout(A,e)));function Ni(e){return e&&("[object Function]"===Object.prototype.toString.call(e)||"function"===typeof e||e instanceof Function)}const Ki=40,Mi=1e3;function Vi(e){const A=Math.min(500+2e3*e,5e3),t=Math.min(Math.max(250,2e3*(e-1)),5e3);return Math.floor(Math.random()*(A-t)+t)}function ji(e){let A="";for(let t=0;t<e.length;t++)A+=e[t].toString(16).padStart(2,"0");return A}function Gi(){const e=function(e){const A=new Uint8Array(e);return Ji(A),A}(16);return e[6]=15&e[6]|64,e[8]=191&e[8]|128,[ji(e.subarray(0,4)),ji(e.subarray(4,6)),ji(e.subarray(6,8)),ji(e.subarray(8,10)),ji(e.subarray(10,16))].join("-")}const Ji="undefined"!==typeof crypto&&crypto.getRandomValues?crypto.getRandomValues.bind(crypto):function(e){const A=Math.pow(2,8*e.byteLength/e.length);for(let t=0;t<e.length;t++)e[t]=Math.random()*A};function $i(e){"undefined"!==typeof window&&window.addEventListener&&(window.addEventListener("offline",e),window.addEventListener("online",e))}function Wi(e){"undefined"!==typeof window&&window.removeEventListener&&(window.removeEventListener("offline",e),window.removeEventListener("online",e))}const Xi=()=>"undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase(),Yi=Object.freeze({trace:0,debug:1,info:2,warn:3,error:4});let qi,Zi="info";const zi=function(e,A){let t;switch(e){case"error":if(Xi()){A=`ERROR: ${A}`,t=console.info;break}t=console.error;break;case"warn":if(Xi()){A=`WARN: ${A}`,t=console.info;break}t=console.warn;break;case"info":t=console.info;break;case"trace":t=console.trace;break;default:t=console.log}for(var n=arguments.length,r=new Array(n>2?n-2:0),s=2;s<n;s++)r[s-2]=arguments[s];t(A,...r)},eo=e=>{Zi=e},Ao=()=>Zi,to=e=>{const A=qi||zi,t=(e||[]).filter(Boolean).join(":");return function(e,n){if(Yi[e]>=Yi[Zi]){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];A(e,`[${t}]: ${n}`,...s)}}},no=async(e,A)=>{let t,n=0;do{n>0&&await Pi(Vi(n));try{t=await e()}catch(r){if(r instanceof cA&&r.code===Fn[Fn.cancelled]||(A?.aborted??!1))throw r;to(["sfu-client","rpc"])("debug",`rpc failed (${n})`,r),n++}}while(!t||t.response.error?.shouldRetry);return t},ro=async e=>{const A=new RTCPeerConnection;A.addTransceiver("video",{direction:e}),A.addTransceiver("audio",{direction:e});const t=(await A.createOffer()).sdp??"";return A.getTransceivers().forEach((e=>{e.stop?.()})),A.close(),t},so=e=>!!e&&("vp9"===(e=e.toLowerCase())||"av1"===e||"video/vp9"===e||"video/av1"===e),io={subscriberOffer:void 0,publisherAnswer:void 0,connectionQualityChanged:void 0,audioLevelChanged:void 0,iceTrickle:void 0,changePublishQuality:void 0,participantJoined:void 0,participantLeft:void 0,dominantSpeakerChanged:void 0,joinResponse:void 0,healthCheckResponse:void 0,trackPublished:void 0,trackUnpublished:void 0,error:void 0,callGrantsUpdated:void 0,goAway:void 0,iceRestart:void 0,pinsUpdated:void 0,callEnded:void 0,participantUpdated:void 0,participantMigrationComplete:void 0,changePublishOptions:void 0},oo=e=>Object.prototype.hasOwnProperty.call(io,e);class ao{constructor(){var e=this;this.logger=to(["Dispatcher"]),this.subscribers={},this.dispatch=function(A){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";const n=A.eventPayload.oneofKind;if(!n)return;const r=A.eventPayload[n];e.logger("debug",`Dispatching ${n}, tag=${t}`,r);const s=e.subscribers[n];if(s)for(const o of s)try{o(r)}catch(i){e.logger("warn","Listener failed with error",i)}},this.on=(e,A)=>{var t;return((t=this.subscribers)[e]??(t[e]=[])).push(A),()=>{this.off(e,A)}},this.off=(e,A)=>{this.subscribers[e]=(this.subscribers[e]||[]).filter((e=>e!==A))}}}class co{constructor(){this.subscriberCandidates=new jn,this.publisherCandidates=new jn,this.push=e=>{const A=lo(e);if(A)if(e.peerType===Wr.SUBSCRIBER)this.subscriberCandidates.next(A);else if(e.peerType===Wr.PUBLISHER_UNSPECIFIED)this.publisherCandidates.next(A);else{to(["sfu-client"])("warn","ICETrickle, Unknown peer type",e)}},this.dispose=()=>{this.subscriberCandidates.complete(),this.publisherCandidates.complete()}}}const lo=e=>{try{return JSON.parse(e.iceCandidate)}catch(A){return void to(["sfu-client"])("error","Failed to parse ICE Trickle",A,e)}},uo=fo((function(e,A){let t=!1;return{cb:()=>A().finally((()=>{t||po.delete(e)})),onContinued:()=>t=!0}})),ho=fo((function(e,A){const t=new AbortController;return{cb:()=>t.signal.aborted?Promise.resolve("canceled"):A(t.signal).finally((()=>{t.signal.aborted||po.delete(e)})),onContinued:()=>t.abort()}})),po=new Map;async function go(e){let A;for(;A=po.get(e);)await A.promise}function fo(e){return function(A,t){const{cb:n,onContinued:r}=e(A,t),s=po.get(A);s?.onContinued();const i=s?s.promise.then(n,n):n();return po.set(A,{promise:i,onContinued:r}),i}}const mo=e=>{let A,t;if(sr([e]).subscribe({next:e=>{let[t]=e;A=t},error:e=>{t=e}}).unsubscribe(),t)throw t;return A},Bo=(e,A)=>{const t=(e=>"function"===typeof e)(A)?A(mo(e)):A;return e.next(t),t},wo=(e,A)=>{const t=e.getValue(),n=Bo(e,A);return{lastValue:t,value:n,rollback:()=>Bo(e,t)}},Co=function(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e=>to(["RxUtils"])("warn","An observable emitted an error",e);const n=e.subscribe({next:A,error:t});return()=>{n.unsubscribe()}},vo=(e,A)=>{const t=Symbol();return Co(e,(e=>{uo(t,(()=>A(e)))}))};var bo,yo=Object.freeze({__proto__:null,createSafeAsyncSubscription:vo,createSubscription:Co,getCurrentValue:mo,setCurrentValue:Bo,updateValue:wo});!function(e){e.UNKNOWN="unknown",e.IDLE="idle",e.RINGING="ringing",e.JOINING="joining",e.JOINED="joined",e.LEFT="left",e.RECONNECTING="reconnecting",e.MIGRATING="migrating",e.RECONNECTING_FAILED="reconnecting-failed",e.OFFLINE="offline"}(bo||(bo={}));class Uo{constructor(){this.connectedUserSubject=new or(void 0),this.callsSubject=new or([]),this.setConnectedUser=e=>Bo(this.connectedUserSubject,e),this.setCalls=e=>Bo(this.callsSubject,e),this.registerCall=e=>{this.calls.find((A=>A.cid===e.cid))||this.setCalls((A=>[...A,e]))},this.unregisterCall=e=>(to(["client-state"])("trace",`Unregistering call: ${e.cid}`),this.setCalls((A=>A.filter((A=>A!==e))))),this.findCall=(e,A)=>this.calls.find((t=>t.type===e&&t.id===A)),this.connectedUserSubject.subscribe((async e=>{if(!e){const e=to(["client-state"]);for(const A of this.calls)A.state.callingState!==bo.LEFT&&(e("info",`User disconnected, leaving call: ${A.cid}`),await A.leave({message:"client.disconnectUser() called"}).catch((t=>{e("error",`Error leaving call: ${A.cid}`,t)})))}}))}get connectedUser(){return mo(this.connectedUserSubject)}get calls(){return mo(this.callsSubject)}}class Qo{constructor(e){this.getCurrentValue=mo,this.connectedUser$=e.connectedUserSubject.asObservable(),this.calls$=e.callsSubject.asObservable()}get connectedUser(){return mo(this.connectedUser$)}get calls(){return mo(this.calls$)}}const Eo=function(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return(e,t)=>{for(const n of A){const A=n(e,t);if(0!==A)return A}return 0}},Fo=e=>A=>(t,n)=>e(t,n)?A(t,n):0,So=e=>e.publishedTracks.includes(qr.VIDEO),Io=e=>e.publishedTracks.includes(qr.AUDIO),To=e=>e.publishedTracks.includes(qr.SCREEN_SHARE),ko=e=>e.publishedTracks.includes(qr.SCREEN_SHARE_AUDIO),Ro=e=>!!e.pin&&(e.pin.isLocalPin||e.pin.pinnedAt>0),xo=(e,A)=>e.isDominantSpeaker&&!A.isDominantSpeaker?-1:!e.isDominantSpeaker&&A.isDominantSpeaker?1:0,Ho=(e,A)=>e.isSpeaking&&!A.isSpeaking?-1:!e.isSpeaking&&A.isSpeaking?1:0,_o=(e,A)=>To(e)&&!To(A)?-1:!To(e)&&To(A)?1:0,Oo=(e,A)=>So(e)&&!So(A)?-1:!So(e)&&So(A)?1:0,Do=(e,A)=>Io(e)&&!Io(A)?-1:!Io(e)&&Io(A)?1:0,Lo=(e,A)=>{if(e.pin&&A.pin){if(!e.pin.isLocalPin&&A.pin.isLocalPin)return-1;if(e.pin.isLocalPin&&!A.pin.isLocalPin)return 1;if(e.pin.pinnedAt>A.pin.pinnedAt)return-1;if(e.pin.pinnedAt<A.pin.pinnedAt)return 1}return e.pin&&!A.pin?-1:!e.pin&&A.pin?1:0},Po=e=>(A,t)=>A.reaction?.type===e&&t.reaction?.type!==e?-1:A.reaction?.type!==e&&t.reaction?.type===e?1:0,No=(e,A)=>(e.roles||[]).some((e=>A.includes(e))),Ko=Fo(((e,A)=>e.viewportVisibilityState?.videoTrack===xi.INVISIBLE||A.viewportVisibilityState?.videoTrack===xi.INVISIBLE)),Mo=Fo(((e,A)=>e.viewportVisibilityState?.videoTrack===xi.INVISIBLE||e.viewportVisibilityState?.videoTrack===xi.UNKNOWN||A.viewportVisibilityState?.videoTrack===xi.INVISIBLE||A.viewportVisibilityState?.videoTrack===xi.UNKNOWN)),Vo=Eo(Lo,_o,Ko(Eo(xo,Ho,Po("raised-hand"),Oo,Do))),jo=Eo(Lo,_o,xo,Ko(Eo(Ho,Po("raised-hand"),Oo,Do))),Go=Eo(Lo,Mo(Eo(xo,Ho,Po("raised-hand"),Oo,Do))),Jo=Eo(Ko(Eo(xo,Ho,Po("raised-hand"),Oo,Do)),function(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return(e,t)=>No(e,A)&&!No(t,A)?-1:!No(e,A)&&No(t,A)?1:0}("admin","host","speaker")),$o={broadcasting:!1,hls:{playlist_url:"",status:""},rtmps:[]};class Wo{constructor(){this.backstageSubject=new or(!0),this.blockedUserIdsSubject=new or([]),this.createdAtSubject=new or(new Date),this.endedAtSubject=new or(void 0),this.startsAtSubject=new or(void 0),this.updatedAtSubject=new or(new Date),this.createdBySubject=new or(void 0),this.customSubject=new or({}),this.egressSubject=new or(void 0),this.ingressSubject=new or(void 0),this.recordingSubject=new or(!1),this.sessionSubject=new or(void 0),this.settingsSubject=new or(void 0),this.transcribingSubject=new or(!1),this.captioningSubject=new or(!1),this.endedBySubject=new or(void 0),this.thumbnailsSubject=new or(void 0),this.membersSubject=new or([]),this.ownCapabilitiesSubject=new or([]),this.callingStateSubject=new or(bo.UNKNOWN),this.startedAtSubject=new or(void 0),this.participantCountSubject=new or(0),this.anonymousParticipantCountSubject=new or(0),this.participantsSubject=new or([]),this.callStatsReportSubject=new or(void 0),this.closedCaptionsSubject=new or([]),this.orphanedTracks=[],this.logger=to(["CallState"]),this.sortParticipantsBy=Vo,this.closedCaptionsTasks=new Map,this.dispose=()=>{for(const[e,A]of this.closedCaptionsTasks.entries())clearTimeout(A),this.closedCaptionsTasks.delete(e)},this.setSortParticipantsBy=e=>{this.sortParticipantsBy=e,this.setCurrentValue(this.participantsSubject,(e=>e))},this.getCurrentValue=mo,this.setCurrentValue=Bo,this.setParticipantCount=e=>this.setCurrentValue(this.participantCountSubject,e),this.setStartedAt=e=>this.setCurrentValue(this.startedAtSubject,e),this.setCaptioning=e=>wo(this.captioningSubject,e),this.setAnonymousParticipantCount=e=>this.setCurrentValue(this.anonymousParticipantCountSubject,e),this.setParticipants=e=>this.setCurrentValue(this.participantsSubject,e),this.setCallingState=e=>this.setCurrentValue(this.callingStateSubject,e),this.setCallStatsReport=e=>this.setCurrentValue(this.callStatsReportSubject,e),this.setMembers=e=>{this.setCurrentValue(this.membersSubject,e)},this.setOwnCapabilities=e=>this.setCurrentValue(this.ownCapabilitiesSubject,e),this.setBackstage=e=>this.setCurrentValue(this.backstageSubject,e),this.setEndedAt=e=>this.setCurrentValue(this.endedAtSubject,e),this.findParticipantBySessionId=e=>this.participants.find((A=>A.sessionId===e)),this.getParticipantLookupBySessionId=()=>this.participants.reduce(((e,A)=>(e[A.sessionId]=A,e)),{}),this.updateParticipant=(e,A)=>{const t=this.findParticipantBySessionId(e);if(!t)return void this.logger("warn",`Participant with sessionId ${e} not found`);const n="function"===typeof A?A(t):A,r={...t,...n};return this.setParticipants((A=>A.map((A=>A.sessionId===e?r:A))))},this.updateOrAddParticipant=(e,A)=>this.setParticipants((t=>{let n=!0;const r=t.map((t=>t.sessionId===e?(n=!1,{...t,...A}):t));return n&&r.push(A),r})),this.updateParticipants=e=>0===Object.keys(e).length?this.participants:this.setParticipants((A=>A.map((A=>{const t=e[A.sessionId];return t?{...A,...t}:A})))),this.updateParticipantTracks=(e,A)=>this.updateParticipants(Object.entries(A).reduce(((A,t)=>{let[n,r]=t;r.dimension&&(r.dimension.height=Math.ceil(r.dimension.height),r.dimension.width=Math.ceil(r.dimension.width));const s="videoTrack"===e?"videoDimension":"screenShareTrack"===e?"screenShareDimension":void 0;return s&&(A[n]={[s]:r.dimension}),A}),{})),this.updateFromEvent=e=>{const A=this.eventHandlers[e.type];A&&A(e)},this.setServerSidePins=e=>{const A=e.reduce(((e,A)=>(e[A.sessionId]=Date.now(),e)),{});return this.setParticipants((e=>e.map((e=>{const t=A[e.sessionId];return t?{...e,pin:{isLocalPin:!1,pinnedAt:t}}:e.pin&&!e.pin.isLocalPin?{...e,pin:void 0}:e}))))},this.registerOrphanedTrack=e=>{this.orphanedTracks.push(e)},this.removeOrphanedTrack=e=>{this.orphanedTracks=this.orphanedTracks.filter((A=>A.id!==e))},this.takeOrphanedTracks=e=>{const A=this.orphanedTracks.filter((A=>A.trackLookupPrefix===e));return A.length>0&&(this.orphanedTracks=this.orphanedTracks.filter((A=>A.trackLookupPrefix!==e))),A},this.updateClosedCaptionSettings=e=>{this.closedCaptionsSettings={...this.closedCaptionsSettings,...e}},this.updateFromCallResponse=e=>{this.setBackstage(e.backstage),this.setCurrentValue(this.blockedUserIdsSubject,e.blocked_user_ids),this.setCurrentValue(this.createdAtSubject,new Date(e.created_at)),this.setCurrentValue(this.updatedAtSubject,new Date(e.updated_at)),this.setCurrentValue(this.startsAtSubject,e.starts_at?new Date(e.starts_at):void 0),this.setEndedAt(e.ended_at?new Date(e.ended_at):void 0),this.setCurrentValue(this.createdBySubject,e.created_by),this.setCurrentValue(this.customSubject,e.custom),this.setCurrentValue(this.egressSubject,e.egress),this.setCurrentValue(this.ingressSubject,e.ingress),this.setCurrentValue(this.recordingSubject,e.recording);const A=this.setCurrentValue(this.sessionSubject,e.session);this.updateParticipantCountFromSession(A),this.setCurrentValue(this.settingsSubject,e.settings),this.setCurrentValue(this.transcribingSubject,e.transcribing),this.setCurrentValue(this.captioningSubject,e.captioning),this.setCurrentValue(this.thumbnailsSubject,e.thumbnails)},this.updateFromSfuCallState=(e,A,t)=>{const{participants:n,participantCount:r,startedAt:s,pins:i}=e,o=t?.announcedTracks.map((e=>e.trackType))??[];this.setParticipants((()=>{const e=this.getParticipantLookupBySessionId();return n.map((t=>{const n=e[t.sessionId],r=t.sessionId===A;return Object.assign({},n,t,{isLocalParticipant:r,publishedTracks:r?o:t.publishedTracks,viewportVisibilityState:n?.viewportVisibilityState??{videoTrack:xi.UNKNOWN,screenShareTrack:xi.UNKNOWN}})}))})),this.setParticipantCount(r?.total||0),this.setAnonymousParticipantCount(r?.anonymous||0),this.setStartedAt(s?$r.toDate(s):new Date),this.setServerSidePins(i)},this.updateFromMemberRemoved=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(A=>A.filter((A=>-1===e.members.indexOf(A.user_id)))))},this.updateFromMemberAdded=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(A=>[...A,...e.members]))},this.updateFromHLSBroadcastStopped=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateFromHLSBroadcastingFailed=()=>{this.setCurrentValue(this.egressSubject,(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$o;return{...e,broadcasting:!1,hls:{...e.hls,status:""}}}))},this.updateParticipantCountFromSession=e=>{if(!e||this.callingState===bo.JOINED)return;const A=Object.values(e.participants_count_by_role).reduce(((e,A)=>e+A),0),t=Math.max(A,e.participants.length);this.setParticipantCount(t),this.setAnonymousParticipantCount(e.anonymous_participant_count||0)},this.updateFromSessionParticipantCountUpdate=e=>{const A=this.setCurrentValue(this.sessionSubject,(A=>A?{...A,anonymous_participant_count:e.anonymous_participant_count,participants_count_by_role:e.participants_count_by_role}:A));this.updateParticipantCountFromSession(A)},this.updateFromSessionParticipantLeft=e=>{const A=this.setCurrentValue(this.sessionSubject,(A=>{if(!A)return A;const{participants:t,participants_count_by_role:n}=A,{user:r,user_session_id:s}=e.participant;return{...A,participants:t.filter((e=>e.user_session_id!==s)),participants_count_by_role:{...n,[r.role]:Math.max(0,(n[r.role]||0)-1)}}}));this.updateParticipantCountFromSession(A)},this.updateFromSessionParticipantJoined=e=>{const A=this.setCurrentValue(this.sessionSubject,(A=>{if(!A)return A;const{participants:t,participants_count_by_role:n}=A,{user:r,user_session_id:s}=e.participant;let i=!0;const o=t.map((A=>A.user_session_id===s?(i=!1,e.participant):A));i&&o.push(e.participant);const a=i?1:0;return{...A,participants:o,participants_count_by_role:{...n,[r.role]:(n[r.role]||0)+a}}}));this.updateParticipantCountFromSession(A)},this.updateMembers=e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.membersSubject,(A=>A.map((A=>{const t=e.members.find((e=>e.user_id===A.user_id));return t||A}))))},this.updateParticipantReaction=e=>{const{user:A,custom:t,type:n,emoji_code:r}=e.reaction;this.setParticipants((e=>e.map((e=>e.userId!==A.id?e:{...e,reaction:{type:n,emoji_code:r,custom:t}}))))},this.unblockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(A=>A?A.filter((A=>A!==e.user.id)):A))},this.blockUser=e=>{this.setCurrentValue(this.blockedUserIdsSubject,(A=>[...A||[],e.user.id]))},this.updateOwnCapabilities=e=>{e.user.id===this.localParticipant?.userId&&this.setCurrentValue(this.ownCapabilitiesSubject,e.own_capabilities)},this.updateFromClosedCaptions=e=>{this.setCurrentValue(this.closedCaptionsSubject,(A=>{const{closed_caption:t}=e,n=e=>`${e.speaker_id}/${e.start_time}`,r=n(t);if(A.some((e=>n(e)===r)))return A;const s=[...A,t],{visibilityDurationMs:i=2700,maxVisibleCaptions:o=2}=this.closedCaptionsSettings||{};if(i>0){const e=setTimeout((()=>{this.setCurrentValue(this.closedCaptionsSubject,(e=>e.filter((e=>e!==t)))),this.closedCaptionsTasks.delete(r)}),i);this.closedCaptionsTasks.set(r,e);for(let A=0;A<s.length-o;A++){const e=n(s[A]),t=this.closedCaptionsTasks.get(e);clearTimeout(t),this.closedCaptionsTasks.delete(e)}}return s.slice(-o)}))},this.participants$=this.participantsSubject.asObservable().pipe(er((e=>e.sort(this.sortParticipantsBy))),ur({bufferSize:1,refCount:!0})),this.localParticipant$=this.participants$.pipe(er((e=>e.find((e=>e.isLocalParticipant)))),ur({bufferSize:1,refCount:!0})),this.remoteParticipants$=this.participants$.pipe(er((e=>e.filter((e=>!e.isLocalParticipant)))),ur({bufferSize:1,refCount:!0})),this.pinnedParticipants$=this.participants$.pipe(er((e=>e.filter((e=>!!e.pin)))),ur({bufferSize:1,refCount:!0})),this.dominantSpeaker$=this.participants$.pipe(er((e=>e.find((e=>e.isDominantSpeaker)))),ur({bufferSize:1,refCount:!0})),this.hasOngoingScreenShare$=this.participants$.pipe(er((e=>e.some((e=>To(e))))),dr(),ur({bufferSize:1,refCount:!0})),this.createdAt$=this.createdAtSubject.asObservable(),this.endedAt$=this.endedAtSubject.asObservable(),this.startsAt$=this.startsAtSubject.asObservable(),this.startedAt$=this.startedAtSubject.asObservable(),this.updatedAt$=this.updatedAtSubject.asObservable(),this.callStatsReport$=this.callStatsReportSubject.asObservable(),this.members$=this.membersSubject.asObservable(),this.createdBy$=this.createdBySubject.asObservable(),this.custom$=this.customSubject.asObservable(),this.egress$=this.egressSubject.asObservable(),this.ingress$=this.ingressSubject.asObservable(),this.session$=this.sessionSubject.asObservable(),this.settings$=this.settingsSubject.asObservable(),this.endedBy$=this.endedBySubject.asObservable(),this.thumbnails$=this.thumbnailsSubject.asObservable(),this.closedCaptions$=this.closedCaptionsSubject.asObservable();const e=(e,A)=>{if(e.length!==A.length)return!1;for(const t of e)if(!A.includes(t))return!1;for(const t of A)if(!e.includes(t))return!1;return!0},A=(e,A)=>e.asObservable().pipe(dr(A));this.anonymousParticipantCount$=A(this.anonymousParticipantCountSubject),this.blockedUserIds$=A(this.blockedUserIdsSubject,e),this.backstage$=A(this.backstageSubject),this.callingState$=A(this.callingStateSubject),this.ownCapabilities$=A(this.ownCapabilitiesSubject,e),this.participantCount$=A(this.participantCountSubject),this.recording$=A(this.recordingSubject),this.transcribing$=A(this.transcribingSubject),this.captioning$=A(this.captioningSubject),this.eventHandlers={"call.frame_recording_ready":void 0,"call.permission_request":void 0,"call.recording_ready":void 0,"call.rtmp_broadcast_failed":void 0,"call.rtmp_broadcast_started":void 0,"call.rtmp_broadcast_stopped":void 0,"call.transcription_ready":void 0,"call.user_muted":void 0,"connection.error":void 0,"connection.ok":void 0,"health.check":void 0,"user.updated":void 0,custom:void 0,"call.accepted":e=>this.updateFromCallResponse(e.call),"call.blocked_user":this.blockUser,"call.closed_caption":this.updateFromClosedCaptions,"call.closed_captions_failed":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.closed_captions_started":()=>{this.setCurrentValue(this.captioningSubject,!0)},"call.closed_captions_stopped":()=>{this.setCurrentValue(this.captioningSubject,!1)},"call.created":e=>this.updateFromCallResponse(e.call),"call.deleted":e=>this.updateFromCallResponse(e.call),"call.ended":e=>{this.updateFromCallResponse(e.call),this.setCurrentValue(this.endedBySubject,e.user)},"call.frame_recording_failed":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_started":e=>{this.updateFromCallResponse(e.call)},"call.frame_recording_stopped":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_failed":this.updateFromHLSBroadcastingFailed,"call.hls_broadcasting_started":e=>{this.updateFromCallResponse(e.call)},"call.hls_broadcasting_stopped":this.updateFromHLSBroadcastStopped,"call.live_started":e=>this.updateFromCallResponse(e.call),"call.member_added":this.updateFromMemberAdded,"call.member_removed":this.updateFromMemberRemoved,"call.member_updated_permission":this.updateMembers,"call.member_updated":this.updateMembers,"call.notification":e=>{this.updateFromCallResponse(e.call),this.setMembers(e.members)},"call.permissions_updated":this.updateOwnCapabilities,"call.reaction_new":this.updateParticipantReaction,"call.recording_started":()=>this.setCurrentValue(this.recordingSubject,!0),"call.recording_stopped":()=>this.setCurrentValue(this.recordingSubject,!1),"call.recording_failed":()=>this.setCurrentValue(this.recordingSubject,!1),"call.rejected":e=>this.updateFromCallResponse(e.call),"call.ring":e=>this.updateFromCallResponse(e.call),"call.missed":e=>this.updateFromCallResponse(e.call),"call.session_ended":e=>this.updateFromCallResponse(e.call),"call.session_participant_count_updated":this.updateFromSessionParticipantCountUpdate,"call.session_participant_joined":this.updateFromSessionParticipantJoined,"call.session_participant_left":this.updateFromSessionParticipantLeft,"call.session_started":e=>this.updateFromCallResponse(e.call),"call.transcription_started":()=>{this.setCurrentValue(this.transcribingSubject,!0)},"call.transcription_stopped":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.transcription_failed":()=>{this.setCurrentValue(this.transcribingSubject,!1)},"call.unblocked_user":this.unblockUser,"call.updated":e=>this.updateFromCallResponse(e.call)}}get participantCount(){return this.getCurrentValue(this.participantCount$)}get startedAt(){return this.getCurrentValue(this.startedAt$)}get captioning(){return this.getCurrentValue(this.captioning$)}get anonymousParticipantCount(){return this.getCurrentValue(this.anonymousParticipantCount$)}get participants(){return this.getCurrentValue(this.participants$)}get localParticipant(){return this.getCurrentValue(this.localParticipant$)}get remoteParticipants(){return this.getCurrentValue(this.remoteParticipants$)}get dominantSpeaker(){return this.getCurrentValue(this.dominantSpeaker$)}get pinnedParticipants(){return this.getCurrentValue(this.pinnedParticipants$)}get hasOngoingScreenShare(){return this.getCurrentValue(this.hasOngoingScreenShare$)}get callingState(){return this.getCurrentValue(this.callingState$)}get callStatsReport(){return this.getCurrentValue(this.callStatsReport$)}get members(){return this.getCurrentValue(this.members$)}get ownCapabilities(){return this.getCurrentValue(this.ownCapabilities$)}get backstage(){return this.getCurrentValue(this.backstage$)}get blockedUserIds(){return this.getCurrentValue(this.blockedUserIds$)}get createdAt(){return this.getCurrentValue(this.createdAt$)}get endedAt(){return this.getCurrentValue(this.endedAt$)}get startsAt(){return this.getCurrentValue(this.startsAt$)}get updatedAt(){return this.getCurrentValue(this.updatedAt$)}get createdBy(){return this.getCurrentValue(this.createdBy$)}get custom(){return this.getCurrentValue(this.custom$)}get egress(){return this.getCurrentValue(this.egress$)}get ingress(){return this.getCurrentValue(this.ingress$)}get recording(){return this.getCurrentValue(this.recording$)}get session(){return this.getCurrentValue(this.session$)}get settings(){return this.getCurrentValue(this.settings$)}get transcribing(){return this.getCurrentValue(this.transcribing$)}get endedBy(){return this.getCurrentValue(this.endedBy$)}get thumbnails(){return this.getCurrentValue(this.thumbnails$)}get closedCaptions(){return this.getCurrentValue(this.closedCaptions$)}}const Xo=e=>{const A=[];return e.forEach((e=>{A.push(e)})),A},Yo=e=>({id:e.id,tracks:e.getTracks().map((e=>({id:e.id,kind:e.kind,label:e.label,enabled:e.enabled,muted:e.muted,readyState:e.readyState})))}),qo=e=>e&&e.type===zr.REACT?"stream-react":e&&e.type===zr.REACT_NATIVE?"stream-react-native":"stream-js",Zo=e=>e?`${e.major}.${e.minor}.${e.patch}`:"0.0.0-development",zo=()=>"undefined"!==typeof navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent||""),ea=()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Firefox");var Aa=Object.freeze({__proto__:null,isChrome:()=>"undefined"!==typeof navigator&&navigator.userAgent?.includes("Chrome"),isFirefox:ea,isSafari:zo});const ta=(e,A)=>{const{trackKind:t,kind:n,publisher:r}=A,s="subscriber"===n?"inbound-rtp":"outbound-rtp",i=Xo(e);return{rawStats:e,streams:i.filter((e=>e.type===s&&e.kind===t)).map((e=>{const A=e,t=i.find((e=>"codec"===e.type&&e.id===A.codecId)),s=i.find((e=>"transport"===e.type&&e.id===A.transportId));let o,a;if(s&&"connected"===s.dtlsState){const e=i.find((e=>"candidate-pair"===e.type&&e.id===s.selectedCandidatePairId));o=e?.currentRoundTripTime}if("publisher"===n&&r){const e=ea(),t=i.find((t=>"media-source"===t.type&&(!!e||t.id===A.mediaSourceId)));t&&(a=r.getTrackType(t.trackIdentifier))}return{bytesSent:A.bytesSent,bytesReceived:A.bytesReceived,codec:t?.mimeType,currentRoundTripTime:o,frameHeight:A.frameHeight,frameWidth:A.frameWidth,framesPerSecond:A.framesPerSecond,jitter:A.jitter,kind:A.kind,mediaSourceId:A.mediaSourceId,qualityLimitationReason:A.qualityLimitationReason,rid:A.rid,ssrc:A.ssrc,trackType:a}})),timestamp:Date.now()}},na=e=>({rawReport:e??{streams:[],timestamp:Date.now()},totalBytesSent:0,totalBytesReceived:0,averageJitterInMs:0,averageRoundTripTimeInMs:0,qualityLimitationReasons:"none",highestFrameWidth:0,highestFrameHeight:0,highestFramesPerSecond:0,codec:"",codecPerTrackType:{},timestamp:Date.now()}),ra=e=>{const A=na(e);let t=-1;const n=new Set,r=e.streams,s=r.reduce(((e,A)=>{e.totalBytesSent+=A.bytesSent||0,e.totalBytesReceived+=A.bytesReceived||0,e.averageJitterInMs+=A.jitter||0,e.averageRoundTripTimeInMs+=A.currentRoundTripTime||0;const r=(s=A.frameWidth||0,i=A.frameHeight||0,s*i);var s,i;return r>t&&(e.highestFrameWidth=A.frameWidth||0,e.highestFrameHeight=A.frameHeight||0,e.highestFramesPerSecond=A.framesPerSecond||0,t=r),n.add(A.qualityLimitationReason||""),e}),A);r.length>0&&(s.averageJitterInMs=Math.round(s.averageJitterInMs/r.length*1e3),s.averageRoundTripTimeInMs=Math.round(s.averageRoundTripTimeInMs/r.length*1e3),s.codec=r[0].codec||"",s.codecPerTrackType=r.reduce(((e,A)=>(A.trackType&&(e[A.trackType]=A.codec||""),e)),{}));const i=[n.has("cpu")&&"cpu",n.has("bandwidth")&&"bandwidth",n.has("other")&&"other"].filter(Boolean).join(", ");return i&&(s.qualityLimitationReasons=i),s},[sa,ia,oa]="1.23.1".split(".");let aa,ca,la,ua={type:zr.PLAIN_JAVASCRIPT,major:sa,minor:ia,patch:oa},da={oneofKind:void 0};const ha=e=>{ua=e},pa=()=>ua,ga=async()=>{if(Xi())return{sdk:ua,os:aa,device:ca};const e=navigator.userAgentData;let A;if(e&&e.getHighEntropyValues)try{A=await e.getHighEntropyValues(["platform","platformVersion"])}catch{}const t=new Dr.UAParser(navigator.userAgent),{browser:n,os:r,device:s,cpu:i}=t.getResult();return{sdk:ua,browser:{name:n.name||navigator.userAgent,version:n.version||""},os:{name:A?.platform||r.name||"",version:A?.platformVersion||r.version||"",architecture:i.architecture||""},device:{name:[s.vendor,s.model,s.type].filter(Boolean).join(" "),version:""}}};class fa{constructor(e,A){let{options:t,clientDetails:n,subscriber:r,publisher:s,microphone:i,camera:o,state:a,tracer:c,unifiedSessionId:l}=A;this.logger=to(["SfuStatsReporter"]),this.inputDevices=new Map,this.observeDevice=(e,A)=>{const{browserPermissionState$:t}=e.state;this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=Co(sr([t,this.state.ownCapabilities$]),(t=>{let[n,r]=t;this.unsubscribeListDevicesSubscription?.();const s="mic"===A?r.includes(Kr.SEND_AUDIO):r.includes(Kr.SEND_VIDEO);"granted"===n&&s?this.unsubscribeListDevicesSubscription=Co(sr([e.listDevices(),e.state.selectedDevice$]),(e=>{let[t,n]=e;const r=t.find((e=>e.deviceId===n));this.inputDevices.set(A,{currentDevice:r?.label||n||"",availableDevices:t.map((e=>e.label)),isPermitted:!0})})):this.inputDevices.set(A,{currentDevice:"",availableDevices:[],isPermitted:!1})}))},this.sendConnectionTime=e=>{this.sendTelemetryData({data:{oneofKind:"connectionTimeSeconds",connectionTimeSeconds:e}})},this.sendReconnectionTime=(e,A)=>{this.sendTelemetryData({data:{oneofKind:"reconnection",reconnection:{strategy:e,timeSeconds:A}}})},this.sendTelemetryData=e=>{this.run(e).catch((e=>{this.logger("warn","Failed to send telemetry data",e)}))},this.run=async e=>{const[A,t]=await Promise.all([this.subscriber.stats.get(),this.publisher?.stats.get()]);this.subscriber.tracer?.trace("getstats",A.delta),t&&this.publisher?.tracer?.trace("getstats",t.delta);const n=this.subscriber.tracer?.take(),r=this.publisher?.tracer?.take(),s=this.tracer.take(),i=this.sfuClient.getTrace(),o=[...s.snapshot,...i?.snapshot??[],...r?.snapshot??[],...n?.snapshot??[]];try{await this.sfuClient.sendStats({sdk:this.sdkName,sdkVersion:this.sdkVersion,webrtcVersion:this.webRTCVersion,subscriberStats:JSON.stringify(Xo(A.stats)),publisherStats:t?JSON.stringify(Xo(t.stats)):"[]",subscriberRtcStats:"",publisherRtcStats:"",rtcStats:JSON.stringify(o),encodeStats:t?.performanceStats??[],decodeStats:A.performanceStats,audioDevices:this.inputDevices.get("mic"),videoDevices:this.inputDevices.get("camera"),unifiedSessionId:this.unifiedSessionId,deviceState:da,telemetry:e})}catch(a){throw r?.rollback(),n?.rollback(),s.rollback(),i?.rollback(),a}},this.start=()=>{this.options.reporting_interval_ms<=0||(this.observeDevice(this.microphone,"mic"),this.observeDevice(this.camera,"camera"),clearInterval(this.intervalId),this.intervalId=setInterval((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),this.options.reporting_interval_ms))},this.stop=()=>{this.unsubscribeDevicePermissionsSubscription?.(),this.unsubscribeDevicePermissionsSubscription=void 0,this.unsubscribeListDevicesSubscription?.(),this.unsubscribeListDevicesSubscription=void 0,this.inputDevices.clear(),clearInterval(this.intervalId),this.intervalId=void 0,clearTimeout(this.timeoutId),this.timeoutId=void 0},this.flush=()=>{this.run().catch((e=>{this.logger("warn","Failed to flush report stats",e)}))},this.scheduleOne=e=>{clearTimeout(this.timeoutId),this.timeoutId=setTimeout((()=>{this.run().catch((e=>{this.logger("warn","Failed to report stats",e)}))}),e)},this.sfuClient=e,this.options=t,this.subscriber=r,this.publisher=s,this.microphone=i,this.camera=o,this.state=a,this.tracer=c,this.unifiedSessionId=l;const{sdk:u,browser:d}=n;this.sdkName=qo(u),this.sdkVersion=Zo(u);const h=la;this.webRTCVersion=h?.version||`${d?.name||""}-${d?.version||""}`||"N/A"}}const ma=(e,A)=>{e.addEventListener("icecandidate",(e=>{A("onicecandidate",e.candidate)})),e.addEventListener("track",(e=>{const t=e.streams.map((e=>`stream:${e.id}`));A("ontrack",`${e.track.kind}:${e.track.id} ${t}`)})),e.addEventListener("signalingstatechange",(()=>{A("signalingstatechange",e.signalingState)})),e.addEventListener("iceconnectionstatechange",(()=>{A("iceconnectionstatechange",e.iceConnectionState)})),e.addEventListener("icegatheringstatechange",(()=>{A("icegatheringstatechange",e.iceGatheringState)})),e.addEventListener("connectionstatechange",(()=>{A("connectionstatechange",e.connectionState)})),e.addEventListener("negotiationneeded",(()=>{A("negotiationneeded",void 0)})),e.addEventListener("datachannel",(e=>{let{channel:t}=e;A("datachannel",[t.id,t.label])}));const t=e.close;e.close=function(){return A("close",void 0),t.call(this)};for(const n of["createOffer","createAnswer","setLocalDescription","setRemoteDescription","addIceCandidate"]){const t=e[n];t&&(e[n]=async function(){try{for(var e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];A(n,r);const i=await t.apply(this,r);return A(`${n}OnSuccess`,i),i}catch(i){throw A(`${n}OnFailure`,i.toString()),i}})}};class Ba{constructor(e,A,t){var n=this;this.previousStats={},this.frameTimeHistory=[],this.fpsHistory=[],this.get=async()=>{const e=await this.pc.getStats(),A=wa(e),t=this.withOverrides(this.peerType===Wr.SUBSCRIBER?this.getDecodeStats(A):this.getEncodeStats(A)),n=Ca(this.previousStats,A);return this.previousStats=A,this.frameTimeHistory=this.frameTimeHistory.slice(-2),this.fpsHistory=this.fpsHistory.slice(-2),{performanceStats:t,delta:n,stats:e}},this.getEncodeStats=e=>{const A=[];for(const t of Object.values(e)){if("outbound-rtp"!==t.type)continue;const{codecId:n,framesSent:r=0,kind:s,id:i,totalEncodeTime:o=0,framesPerSecond:a=0,frameHeight:c=0,frameWidth:l=0,targetBitrate:u=0,mediaSourceId:d}=t;if("audio"===s||!this.previousStats[i])continue;const h=this.previousStats[i],p=o-(h.totalEncodeTime||0),g=r-(h.framesSent||0),f=g>0?p/g*1e3:0;this.frameTimeHistory.push(f),this.fpsHistory.push(a);let m=qr.VIDEO;if(d&&e[d]){const A=e[d];m=this.trackIdToTrackType.get(A.trackIdentifier)||m}A.push({trackType:m,codec:ba(e,n),avgFrameTimeMs:va(this.frameTimeHistory),avgFps:va(this.fpsHistory),targetBitrate:Math.round(u),videoDimension:{width:l,height:c}})}return A},this.getDecodeStats=e=>{let A,t=0;for(const d of Object.values(e)){if("inbound-rtp"!==d.type)continue;const e=d,{kind:n,frameWidth:r=0,frameHeight:s=0}=e,i=r*s;"video"===n&&i>t&&(A=e,t=i)}if(!A||!this.previousStats[A.id])return[];const n=this.previousStats[A.id],{framesDecoded:r=0,framesPerSecond:s=0,totalDecodeTime:i=0,trackIdentifier:o}=A,a=i-(n.totalDecodeTime||0),c=r-(n.framesDecoded||0),l=c>0?a/c*1e3:0;this.frameTimeHistory.push(l),this.fpsHistory.push(s);const u=this.trackIdToTrackType.get(o)||qr.VIDEO;return[Ts.create({trackType:u,codec:ba(e,A.codecId),avgFrameTimeMs:va(this.frameTimeHistory),avgFps:va(this.fpsHistory),videoDimension:{width:A.frameWidth,height:A.frameHeight}})]},this.withOverrides=e=>{if(this.costOverrides)for(const A of e){const e=this.costOverrides.get(A.trackType);void 0!==e&&(A.avgFrameTimeMs=e+(A.avgFrameTimeMs||0)/1e3)}return e},this.setCost=function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qr.VIDEO;n.costOverrides||(n.costOverrides=new Map),n.costOverrides.set(A,e)},this.pc=e,this.peerType=A,this.trackIdToTrackType=t}}const wa=e=>{const A={};return e.forEach(((e,t)=>{A[t]=e})),A},Ca=(e,A)=>{A=JSON.parse(JSON.stringify(A));for(const[r,s]of Object.entries(A))if(delete s.id,e[r])for(const[A,t]of Object.entries(s))t===e[r][A]&&delete s[A];let t=-1/0;const n=Object.values(A);for(const r of n)r.timestamp>t&&(t=r.timestamp);for(const r of n)r.timestamp===t&&(r.timestamp=0);return A.timestamp=t,A},va=e=>e.reduce(((e,A)=>e+A),0)/e.length,ba=(e,A)=>{if(!A||!e[A])return;const t=e[A];return gs.create({name:t.mimeType.split("/").pop(),clockRate:t.clockRate,payloadType:t.payloadType,fmtp:t.sdpFmtpLine})};class ya{constructor(e){this.buffer=[],this.enabled=!0,this.setEnabled=e=>{this.enabled!==e&&(this.enabled=e,this.buffer=[])},this.trace=(e,A)=>{this.enabled&&this.buffer.push([e,this.id,A,Date.now()])},this.take=()=>{const e=this.buffer;return this.buffer=[],{snapshot:e,rollback:()=>{this.buffer.unshift(...e)}}},this.dispose=()=>{this.buffer=[]},this.id=e}}class Ua{constructor(e,A){let{sfuClient:t,connectionConfig:n,state:r,dispatcher:s,onUnrecoverableError:i,logTag:o,enableTracing:a}=A;if(this.isIceRestarting=!1,this.isDisposed=!1,this.trackIdToTrackType=new Map,this.subscriptions=[],this.lock=Math.random().toString(36).slice(2),this.on=(e,A)=>{this.subscriptions.push(this.dispatcher.on(e,(t=>{const n=`pc.${this.lock}.${e}`;uo(n,(async()=>A(t))).catch((A=>{this.isDisposed||this.logger("warn",`Error handling ${e}`,A)}))})))},this.addTrickledIceCandidates=()=>{const{iceTrickleBuffer:e}=this.sfuClient,A=this.peerType===Wr.SUBSCRIBER?e.subscriberCandidates:e.publisherCandidates;this.unsubscribeIceTrickle?.(),this.unsubscribeIceTrickle=vo(A,(async e=>this.pc.addIceCandidate(e).catch((A=>{this.isDisposed||this.logger("warn","ICE candidate error",A,e)}))))},this.setSfuClient=e=>{this.sfuClient=e},this.getStats=e=>this.pc.getStats(e),this.getTrackType=e=>this.trackIdToTrackType.get(e),this.onIceCandidate=e=>{const{candidate:A}=e;if(!A)return void this.logger("debug","null ice candidate");const t=this.asJSON(A);this.sfuClient.iceTrickle({peerType:this.peerType,iceCandidate:t}).catch((e=>{this.isDisposed||this.logger("warn","ICETrickle failed",e)}))},this.asJSON=e=>{if(!e.usernameFragment){const A=e.candidate.split(" "),t=A.findIndex((e=>"ufrag"===e))+1,n=A[t];return JSON.stringify({...e,usernameFragment:n})}return JSON.stringify(e.toJSON())},this.onConnectionStateChange=async()=>{const e=this.pc.connectionState;if(this.logger("debug","Connection state changed",e),this.tracer&&("connected"===e||"failed"===e))try{const e=await this.stats.get();this.tracer.trace("getstats",e.delta)}catch(A){this.tracer.trace("getstatsOnFailure",A.toString())}},this.onIceConnectionStateChange=()=>{const e=this.pc.iceConnectionState;this.logger("debug","ICE connection state changed",e),this.state.callingState!==bo.OFFLINE&&this.state.callingState!==bo.RECONNECTING&&(this.isIceRestarting||("failed"===e?this.onUnrecoverableError?.("ICE connection failed"):"disconnected"===e&&(this.logger("debug","Attempting to restart ICE"),this.restartIce().catch((e=>{const A="ICE restart failed";this.logger("error",A,e),this.onUnrecoverableError?.(`${A}: ${e}`)})))))},this.onIceCandidateError=e=>{const A=e instanceof RTCPeerConnectionIceErrorEvent&&`${e.errorCode}: ${e.errorText}`,t=this.pc.iceConnectionState,n="connected"===t||"checking"===t?"debug":"warn";this.logger(n,"ICE Candidate error",A)},this.onIceGatherChange=()=>{this.logger("debug","ICE Gathering State",this.pc.iceGatheringState)},this.onSignalingChange=()=>{this.logger("debug","Signaling state changed",this.pc.signalingState)},this.peerType=e,this.sfuClient=t,this.state=r,this.dispatcher=s,this.onUnrecoverableError=i,this.logger=to([e===Wr.SUBSCRIBER?"Subscriber":"Publisher",o]),this.pc=new RTCPeerConnection(n),this.pc.addEventListener("icecandidate",this.onIceCandidate),this.pc.addEventListener("icecandidateerror",this.onIceCandidateError),this.pc.addEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.addEventListener("icegatheringstatechange",this.onIceGatherChange),this.pc.addEventListener("signalingstatechange",this.onSignalingChange),this.pc.addEventListener("connectionstatechange",this.onConnectionStateChange),this.stats=new Ba(this.pc,e,this.trackIdToTrackType),a){const A=`${o}-${e===Wr.SUBSCRIBER?"sub":"pub"}`;this.tracer=new ya(A),this.tracer.trace("create",{url:t.edgeName,...n}),ma(this.pc,this.tracer.trace)}}dispose(){this.onUnrecoverableError=void 0,this.isDisposed=!0,this.detachEventHandlers(),this.pc.close(),this.tracer?.dispose()}detachEventHandlers(){this.pc.removeEventListener("icecandidate",this.onIceCandidate),this.pc.removeEventListener("icecandidateerror",this.onIceCandidateError),this.pc.removeEventListener("signalingstatechange",this.onSignalingChange),this.pc.removeEventListener("iceconnectionstatechange",this.onIceConnectionStateChange),this.pc.removeEventListener("icegatheringstatechange",this.onIceGatherChange),this.unsubscribeIceTrickle?.(),this.subscriptions.forEach((e=>e()))}}class Qa{constructor(){var e=this;this.cache=[],this.layers=[],this.transceiverOrder=[],this.add=(e,A)=>{this.cache.push({publishOption:e,transceiver:A}),this.transceiverOrder.push(A)},this.get=e=>this.findTransceiver(e)?.transceiver,this.has=e=>!!this.get(e),this.find=e=>this.cache.find(e),this.items=()=>this.cache,this.indexOf=e=>this.transceiverOrder.indexOf(e),this.getLayers=e=>{const A=this.layers.find((A=>A.publishOption.id===e.id&&A.publishOption.trackType===e.trackType));return A?.layers},this.setLayers=function(A){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const n=e.findLayer(A);n?n.layers=t:e.layers.push({publishOption:A,layers:t})},this.findTransceiver=e=>this.cache.find((A=>A.publishOption.id===e.id&&A.publishOption.trackType===e.trackType)),this.findLayer=e=>this.layers.find((A=>A.publishOption.id===e.id&&A.publishOption.trackType===e.trackType))}}const Ea=(e,A)=>{to(["helpers"])("warn",A,e)},Fa=e=>{switch(e){case qr.SCREEN_SHARE:return"screenShareStream";case qr.SCREEN_SHARE_AUDIO:return"screenShareAudioStream";case qr.VIDEO:return"videoStream";case qr.AUDIO:return"audioStream";case qr.UNSPECIFIED:throw new Error("Track type is unspecified");default:Ea(e,"Unknown track type")}},Sa=e=>e===qr.AUDIO||e===qr.SCREEN_SHARE_AUDIO,Ia={q:3e5,h:75e4,f:125e4},Ta=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>{return{rid:e.rid||"",bitrate:e.maxBitrate||0,fps:e.maxFramerate||0,quality:(A=e.rid||"","q"===A?Yr.LOW_UNSPECIFIED:"h"===A?Yr.MID:Yr.HIGH),videoDimension:{width:e.width,height:e.height}};var A}))},ka=(e,A)=>{if(Sa(A.trackType))return;const t=[],n=e.getSettings(),{width:r=0,height:s=0}=n,{bitrate:i,codec:o,fps:a,maxSpatialLayers:c=3,maxTemporalLayers:l=3,videoDimension:u={width:1280,height:720},useSingleLayer:d}=A,h=Ra(u,r,s,i);let p=1,g=1;const f=so(o?.name);for(const B of["f","h","q"].slice(0,c)){const e={active:!0,rid:B,width:Math.round(r/p),height:Math.round(s/p),maxBitrate:Math.round(h/g)||Ia[B],maxFramerate:a};f?e.scalabilityMode=`L${m=d?1:c}T${l}${m>1?"_KEY":""}`:e.scaleResolutionDownBy=p,p*=2,g*=2,t.unshift(e)}var m;return xa(n,t,d)},Ra=(e,A,t,n)=>{const{width:r,height:s}=e;if(A<r||t<s){const e=A*t/(r*s);return Math.round(n*e)}return n},xa=(e,A,t)=>{let n;const r=Math.max(e.width||0,e.height||0);n=r<=320?A.filter((e=>"f"===e.rid)):r<=640?A.filter((e=>"h"!==e.rid)):A;const s=["q","h","f"];return n.map(((e,A,n)=>({...e,rid:s[A],active:!(t&&A<n.length-1)&&e.active})))},Ha=(e,A,t)=>{if(e.mid)return e.mid;if(!t)return String(A);const n=e.sender.track,r=(0,Lr.qg)(t).media.find((e=>e.type===n.kind&&(e.msid?.includes(n.id)??!0)));return"undefined"!==typeof r?.mid?String(r.mid):A<0?"":String(A)};class _a extends Ua{constructor(e){var A;let{publishOptions:t,...n}=e;super(Wr.PUBLISHER_UNSPECIFIED,n),A=this,this.transceiverCache=new Qa,this.clonedTracks=new Set,this.publish=async(e,A)=>{if(!this.publishOptions.some((e=>e.trackType===A)))throw new Error(`No publish options found for ${qr[A]}`);for(const t of this.publishOptions){if(t.trackType!==A)continue;const n=this.cloneTrack(e),r=this.transceiverCache.get(t);if(r){const e=r.sender.track;await this.updateTransceiver(r,n,A),Xi()||this.stopTrack(e)}else await this.addTransceiver(n,t)}},this.addTransceiver=async(e,A)=>{const t=ka(e,A),n=so(A.codec?.name)?(e=>{if(!e)return;const A=e=>A=>A.rid===e;return[{...e.find(A("f"))||e.find(A("h"))||e.find(A("q")),rid:"q"}]})(t):t,r=this.pc.addTransceiver(e,{direction:"sendonly",sendEncodings:n}),s=r.sender.getParameters();s.degradationPreference="maintain-framerate",await r.sender.setParameters(s);const i=A.trackType;this.logger("debug",`Added ${qr[i]} transceiver`),this.transceiverCache.add(A,r),this.trackIdToTrackType.set(e.id,i),await this.negotiate()},this.updateTransceiver=async(e,A,t)=>{const n=e.sender;n.track&&this.trackIdToTrackType.delete(n.track.id),await n.replaceTrack(A),A&&this.trackIdToTrackType.set(A.id,t)},this.syncPublishOptions=async()=>{for(const e of this.publishOptions){const{trackType:A}=e;if(!this.isPublishing(A))continue;if(this.transceiverCache.has(e))continue;const t=this.transceiverCache.find((e=>!!e.transceiver.sender.track&&e.publishOption.trackType===A));if(!t||!t.transceiver)continue;const n=this.cloneTrack(t.transceiver.sender.track);await this.addTransceiver(n,e)}for(const e of this.transceiverCache.items()){const{publishOption:A,transceiver:t}=e;this.publishOptions.some((e=>e.id===A.id&&e.trackType===A.trackType))||(this.stopTrack(t.sender.track),await this.updateTransceiver(t,null,A.trackType))}},this.isPublishing=e=>{for(const A of this.transceiverCache.items()){if(A.publishOption.trackType!==e)continue;const t=A.transceiver.sender.track;if(t&&("live"===t.readyState&&t.enabled))return!0}return!1},this.stopTracks=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(const r of A.transceiverCache.items()){const{publishOption:e,transceiver:n}=r;t.includes(e.trackType)&&A.stopTrack(n.sender.track)}},this.stopAllTracks=()=>{for(const{transceiver:e}of this.transceiverCache.items())this.stopTrack(e.sender.track);for(const e of this.clonedTracks)this.stopTrack(e)},this.changePublishQuality=async e=>{const{trackType:A,layers:t,publishOptionId:n}=e,r=t.filter((e=>e.active)),s="Update publish quality:";this.logger("info",`${s} requested layers by SFU:`,r);const i=this.transceiverCache.find((e=>e.publishOption.id===n&&e.publishOption.trackType===A)),o=i?.transceiver.sender;if(!o)return this.logger("warn",`${s} no video sender found.`);const a=o.getParameters();if(0===a.encodings.length)return this.logger("warn",`${s} there are no encodings set.`);const c=i?.publishOption.codec?.name,l=c&&so(c);let u=!1;for(const h of a.encodings){const e=l?r[0]:r.find((e=>e.name===h.rid))??(1===a.encodings.length?r[0]:void 0),A=!!e?.active;if(A!==h.active&&(h.active=A,u=!0),!e)continue;const{maxFramerate:t,scaleResolutionDownBy:n,maxBitrate:s,scalabilityMode:i}=e;n>=1&&n!==h.scaleResolutionDownBy&&(h.scaleResolutionDownBy=n,u=!0),s>0&&s!==h.maxBitrate&&(h.maxBitrate=s,u=!0),t>0&&t!==h.maxFramerate&&(h.maxFramerate=t,u=!0),i&&i!==h.scalabilityMode&&(h.scalabilityMode=i,u=!0)}const d=a.encodings.filter((e=>e.active));if(!u)return this.logger("info",`${s} no change:`,d);await o.setParameters(a),this.logger("info",`${s} enabled rids:`,d)},this.restartIce=async()=>{this.logger("debug","Restarting ICE connection");const e=this.pc.signalingState;this.isIceRestarting||"have-local-offer"===e?this.logger("debug","ICE restart is already in progress"):await this.negotiate({iceRestart:!0})},this.negotiate=async e=>uo(`publisher.negotiate.${this.lock}`,(async()=>{const A=await this.pc.createOffer(e),t=this.getAnnouncedTracks(A.sdp);if(!t.length)throw new Error("Can't negotiate without any tracks");try{this.isIceRestarting=e?.iceRestart??!1,await this.pc.setLocalDescription(A);const{sdp:n=""}=A,{response:r}=await this.sfuClient.setPublisher({sdp:n,tracks:t});if(r.error)throw new Error(r.error.message);const{sdp:s}=r;await this.pc.setRemoteDescription({type:"answer",sdp:s})}finally{this.isIceRestarting=!1}this.addTrickledIceCandidates()})),this.getPublishedTracks=()=>{const e=[];for(const{transceiver:A}of this.transceiverCache.items()){const t=A.sender.track;t&&"live"===t.readyState&&e.push(t)}return e},this.getAnnouncedTracks=e=>{const A=[];for(const t of this.transceiverCache.items()){const{transceiver:n,publishOption:r}=t;n.sender.track&&A.push(this.toTrackInfo(n,r,e))}return A},this.getAnnouncedTracksForReconnect=()=>{const e=this.pc.localDescription?.sdp,A=[];for(const t of this.publishOptions){const n=this.transceiverCache.get(t);n&&n.sender.track&&A.push(this.toTrackInfo(n,t,e))}return A},this.toTrackInfo=(e,A,t)=>{const n=e.sender.track,r="live"===n.readyState,s=r?ka(n,A):this.transceiverCache.getLayers(A);this.transceiverCache.setLayers(A,s);const i=Sa(A.trackType),o=i&&2===n.getSettings().channelCount,a=this.transceiverCache.indexOf(e),c=this.state.settings?.audio;return{trackId:n.id,layers:Ta(s),trackType:A.trackType,mid:Ha(e,a,t),stereo:o,dtx:i&&!!c?.opus_dtx_enabled,red:i&&!!c?.redundant_coding_enabled,muted:!r,codec:A.codec,publishOptionId:A.id}},this.cloneTrack=e=>{const A=e.clone();return this.clonedTracks.add(A),A},this.stopTrack=e=>{e&&(e.stop(),this.clonedTracks.delete(e))},this.publishOptions=t,this.on("iceRestart",(e=>{e.peerType===Wr.PUBLISHER_UNSPECIFIED&&this.restartIce().catch((e=>{const A="ICE restart failed";this.logger("warn",A,e),this.onUnrecoverableError?.(`${A}: ${e}`)}))})),this.on("changePublishQuality",(async e=>{for(const A of e.videoSenders)await this.changePublishQuality(A)})),this.on("changePublishOptions",(e=>(this.publishOptions=e.publishOptions,this.syncPublishOptions())))}dispose(){super.dispose(),this.stopAllTracks(),this.clonedTracks.clear()}}class Oa extends Ua{constructor(e){super(Wr.SUBSCRIBER,e),this.restartIce=async()=>{if(this.logger("debug","Restarting ICE connection"),"have-remote-offer"===this.pc.signalingState)return void this.logger("debug","ICE restart is already in progress");if("new"===this.pc.connectionState)return void this.logger("debug","ICE connection is not yet established, skipping restart.");const e=this.isIceRestarting;try{this.isIceRestarting=!0,await this.sfuClient.iceRestart({peerType:Wr.SUBSCRIBER})}catch(A){throw this.isIceRestarting=e,A}},this.handleOnTrack=e=>{const[A]=e.streams,[t,n]=A.id.split(":"),r=this.state.participants.find((e=>e.trackLookupPrefix===t));this.logger("debug",`[onTrack]: Got remote ${n} track for userId: ${r?.userId}`,e.track.id,e.track);const s=`${r?.userId} ${n}:${t}`;e.track.addEventListener("mute",(()=>{this.logger("info",`[onTrack]: Track muted: ${s}`)})),e.track.addEventListener("unmute",(()=>{this.logger("info",`[onTrack]: Track unmuted: ${s}`)})),e.track.addEventListener("ended",(()=>{this.logger("info",`[onTrack]: Track ended: ${s}`),this.state.removeOrphanedTrack(A.id)}));const i=(e=>{switch(e){case"TRACK_TYPE_AUDIO":return qr.AUDIO;case"TRACK_TYPE_VIDEO":return qr.VIDEO;case"TRACK_TYPE_SCREEN_SHARE":return qr.SCREEN_SHARE;case"TRACK_TYPE_SCREEN_SHARE_AUDIO":return qr.SCREEN_SHARE_AUDIO;default:return}})(n);if(!i)return this.logger("error",`Unknown track type: ${n}`);if(this.trackIdToTrackType.set(e.track.id,i),!r)return this.logger("warn",`[onTrack]: Received track for unknown participant: ${t}`,e),void this.state.registerOrphanedTrack({id:A.id,trackLookupPrefix:t,track:A,trackType:i});const o=Fa(i);if(!o)return void this.logger("error",`Unknown track type: ${n}`);const a=r[o];this.state.updateParticipant(r.sessionId,{[o]:A}),a&&(this.logger("info",`[onTrack]: Cleaning up previous remote ${e.track.kind} tracks for userId: ${r.userId}`),a.getTracks().forEach((e=>{e.stop(),a.removeTrack(e)})))},this.negotiate=async e=>{await this.pc.setRemoteDescription({type:"offer",sdp:e.sdp}),this.addTrickledIceCandidates();const A=await this.pc.createAnswer();await this.pc.setLocalDescription(A),await this.sfuClient.sendAnswer({peerType:Wr.SUBSCRIBER,sdp:A.sdp||""}),this.isIceRestarting=!1},this.pc.addEventListener("track",this.handleOnTrack),this.on("subscriberOffer",(async e=>this.negotiate(e).catch((e=>{this.logger("error","Negotiation failed.",e)}))))}detachEventHandlers(){super.detachEventHandlers(),this.pc.removeEventListener("track",this.handleOnTrack)}}function Da(e){let A=!0;const t=e.then((e=>({status:"resolved",result:e})),(e=>({status:"rejected",error:e}))).finally((()=>A=!1)),n=()=>t.then((e=>{if("rejected"===e.status)throw e.error;return e.result}));return n.checkPending=()=>A,n}const La=()=>{let e,A;const t=new Promise(((t,n)=>{e=t,A=n}));let n=!1,r=!1;return{promise:t,resolve:A=>{n=!0,e(A)},reject:e=>{r=!0,A(e)},isResolved:()=>n,isRejected:()=>r}},Pa=Symbol("uninitialized");function Na(e){let A=Pa;return()=>(A===Pa&&(A=e()),A)}const Ka={src:"const timerIdMapping = new Map();\nself.addEventListener('message', (event) => {\n    const request = event.data;\n    switch (request.type) {\n        case 'setTimeout':\n        case 'setInterval':\n            timerIdMapping.set(request.id, (request.type === 'setTimeout' ? setTimeout : setInterval)(() => {\n                tick(request.id);\n                if (request.type === 'setTimeout') {\n                    timerIdMapping.delete(request.id);\n                }\n            }, request.timeout));\n            break;\n        case 'clearTimeout':\n        case 'clearInterval':\n            (request.type === 'clearTimeout' ? clearTimeout : clearInterval)(timerIdMapping.get(request.id));\n            timerIdMapping.delete(request.id);\n            break;\n    }\n});\nfunction tick(id) {\n    const message = { type: 'tick', id };\n    self.postMessage(message);\n}"};class Ma{constructor(){this.currentTimerId=1,this.callbacks=new Map,this.fallback=!1}setup(){let{useTimerWorker:e=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e)try{const e=new Blob([Ka.src],{type:"application/javascript; charset=utf-8"}),A=URL.createObjectURL(e);this.worker=new Worker(A,{name:"str-timer-worker"}),this.worker.addEventListener("message",(e=>{const{type:A,id:t}=e.data;"tick"===A&&this.callbacks.get(t)?.()}))}catch(A){to(["timer-worker"])("error",A),this.fallback=!0}else this.fallback=!0}destroy(){this.callbacks.clear(),this.worker?.terminate(),this.worker=void 0,this.fallback=!1}get ready(){return this.fallback||Boolean(this.worker)}setInterval(e,A){return this.setTimer("setInterval",e,A)}clearInterval(e){this.clearTimer("clearInterval",e)}setTimeout(e,A){return this.setTimer("setTimeout",e,A)}clearTimeout(e){this.clearTimer("clearTimeout",e)}setTimer(e,A,t){if(this.ready||this.setup(),this.fallback)return("setTimeout"===e?setTimeout:setInterval)(A,t);const n=this.getTimerId();return this.callbacks.set(n,(()=>{A(),"setTimeout"===e&&this.callbacks.delete(n)})),this.sendMessage({type:e,id:n,timeout:t}),n}clearTimer(e,A){A&&(this.ready||this.setup(),this.fallback?("clearTimeout"===e?clearTimeout:clearInterval)(A):(this.callbacks.delete(A),this.sendMessage({type:e,id:A})))}getTimerId(){return this.currentTimerId++}sendMessage(e){if(!this.worker)throw new Error("Cannot use timer worker before it's set up");this.worker.postMessage(e)}}let Va=!1;const ja=Na((()=>{const e=new Ma;return e.setup({useTimerWorker:Va}),e}));class Ga{constructor(e){var A=this;let{dispatcher:t,credentials:n,sessionId:r,logTag:s,joinResponseTimeout:i=5e3,onSignalClose:o,streamClient:a,enableTracing:c}=e;this.iceTrickleBuffer=new co,this.isLeaving=!1,this.isClosing=!1,this.pingIntervalInMs=1e4,this.unhealthyTimeoutInMs=this.pingIntervalInMs+5e3,this.joinResponseTask=La(),this.abortController=new AbortController,this.createWebSocket=()=>{const e={callEnded:!0,changePublishQuality:!0,error:!0,goAway:!0};this.signalWs=(e=>{const{endpoint:A,onMessage:t,logTag:n}=e,r=to(["SfuClientWS",n]);r("debug","Creating signaling WS channel:",A);const s=new WebSocket(A);return s.binaryType="arraybuffer",s.addEventListener("error",(e=>{r("error","Signaling WS channel error",e)})),s.addEventListener("close",(e=>{r("info","Signaling WS channel is closed",e)})),s.addEventListener("open",(e=>{r("info","Signaling WS channel is open",e)})),s.addEventListener("message",(e=>{try{const A=e.data instanceof ArrayBuffer?ei.fromBinary(new Uint8Array(e.data)):ei.fromJsonString(e.data.toString());t(A)}catch(A){r("error","Failed to decode a message. Check whether the Proto models match.",{event:e,error:A})}})),s})({logTag:this.logTag,endpoint:`${this.credentials.server.ws_endpoint}?tag=${this.logTag}`,onMessage:A=>{this.lastMessageTimestamp=new Date,this.scheduleConnectionCheck();const t=A.eventPayload.oneofKind;e[t]&&this.tracer?.trace(t,A),this.dispatcher.dispatch(A,this.logTag)}}),this.signalReady=Da(Promise.race([new Promise(((e,A)=>{const t=()=>{this.signalWs.removeEventListener("open",t),e(this.signalWs)};this.signalWs.addEventListener("open",t),this.signalWs.addEventListener("close",(e=>{this.handleWebSocketClose(e),A(new Error("SFU WS closed unexpectedly"))}))})),new Promise(((e,A)=>{setTimeout((()=>A(new Error("SFU WS connection timed out"))),this.joinResponseTimeout)}))]))},this.cleanUpWebSocket=()=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose)},this.handleWebSocketClose=e=>{this.signalWs.removeEventListener("close",this.handleWebSocketClose),ja().clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),this.onSignalClose?.(`${e.code} ${e.reason}`)},this.close=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga.NORMAL_CLOSURE,t=arguments.length>1?arguments[1]:void 0;A.isClosing=!0,A.signalWs.readyState===WebSocket.OPEN&&(A.logger("debug",`Closing SFU WS connection: ${e} - ${t}`),A.signalWs.close(e,`js-client: ${t}`),A.cleanUpWebSocket()),A.dispose()},this.dispose=()=>{this.logger("debug","Disposing SFU client"),this.unsubscribeIceTrickle(),this.unsubscribeNetworkChanged(),clearInterval(this.keepAliveInterval),clearTimeout(this.connectionCheckTimeout),clearTimeout(this.migrateAwayTimeout),this.abortController.abort(),this.migrationTask?.resolve(),this.iceTrickleBuffer.dispose()},this.getTrace=()=>this.tracer?.take(),this.leaveAndClose=async e=>{await this.joinTask;try{this.isLeaving=!0,await this.notifyLeave(e)}catch(A){this.logger("debug","Error notifying SFU about leaving call",A)}this.close(Ga.NORMAL_CLOSURE,e.substring(0,115))},this.updateSubscriptions=async e=>(await this.joinTask,no((()=>this.rpc.updateSubscriptions({sessionId:this.sessionId,tracks:e})),this.abortController.signal)),this.setPublisher=async e=>(await this.joinTask,no((()=>this.rpc.setPublisher({...e,sessionId:this.sessionId})),this.abortController.signal)),this.sendAnswer=async e=>(await this.joinTask,no((()=>this.rpc.sendAnswer({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceTrickle=async e=>(await this.joinTask,no((()=>this.rpc.iceTrickle({...e,sessionId:this.sessionId})),this.abortController.signal)),this.iceRestart=async e=>(await this.joinTask,no((()=>this.rpc.iceRestart({...e,sessionId:this.sessionId})),this.abortController.signal)),this.updateMuteStates=async e=>(await this.joinTask,no((()=>this.rpc.updateMuteStates({muteStates:e,sessionId:this.sessionId})),this.abortController.signal)),this.sendStats=async e=>(await this.joinTask,this.rpc.sendStats({...e,sessionId:this.sessionId})),this.startNoiseCancellation=async()=>(await this.joinTask,no((()=>this.rpc.startNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.stopNoiseCancellation=async()=>(await this.joinTask,no((()=>this.rpc.stopNoiseCancellation({sessionId:this.sessionId})),this.abortController.signal)),this.enterMigration=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};A.isLeaving=!0;const{timeout:t=7e3}=e;A.migrationTask?.reject(new Error("Cancelled previous migration"));const n=A.migrationTask=La(),r=A.dispatcher.on("participantMigrationComplete",(()=>{r(),clearTimeout(A.migrateAwayTimeout),n.resolve()}));return A.migrateAwayTimeout=setTimeout((()=>{r(),n.reject(new Error(`Migration (${A.logTag}) failed to complete in ${t}ms`))}),t),n.promise},this.join=async e=>{await this.signalReady(),(this.joinResponseTask.isResolved()||this.joinResponseTask.isRejected())&&(this.joinResponseTask=La());const A=this.joinResponseTask;let t;const n=this.dispatcher.on("joinResponse",(e=>{this.logger("debug","Received joinResponse",e),clearTimeout(t),n(),this.keepAlive(),A.resolve(e)}));t=setTimeout((()=>{n(),A.reject(new Error('Waiting for "joinResponse" has timed out'))}),this.joinResponseTimeout);const r=ii.create({requestPayload:{oneofKind:"joinRequest",joinRequest:di.create({...e,sessionId:this.sessionId,token:this.credentials.token})}});return this.tracer?.trace("joinRequest",r),await this.send(r),A.promise},this.ping=async()=>this.send(ii.create({requestPayload:{oneofKind:"healthCheckRequest",healthCheckRequest:{}}})),this.notifyLeave=async e=>this.send(ii.create({requestPayload:{oneofKind:"leaveCallRequest",leaveCallRequest:{sessionId:this.sessionId,reason:e}}})),this.send=async e=>{await this.signalReady();const A=ii.toJson(e);this.signalWs.readyState===WebSocket.OPEN?(this.logger("debug",`Sending message to: ${this.edgeName}`,A),this.signalWs.send(ii.toBinary(e))):this.logger("debug","Signal WS is not open. Skipping message",A)},this.keepAlive=()=>{const e=ja();e.clearInterval(this.keepAliveInterval),this.keepAliveInterval=e.setInterval((()=>{this.ping().catch((e=>{this.logger("error","Error sending healthCheckRequest to SFU",e)}))}),this.pingIntervalInMs)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeout),this.connectionCheckTimeout=setTimeout((()=>{if(this.lastMessageTimestamp){(new Date).getTime()-this.lastMessageTimestamp.getTime()>this.unhealthyTimeoutInMs&&this.close(Ga.ERROR_CONNECTION_UNHEALTHY,`SFU connection unhealthy. Didn't receive any message for ${this.unhealthyTimeoutInMs}ms`)}}),this.unhealthyTimeoutInMs)},this.dispatcher=t,this.sessionId=r||Gi(),this.onSignalClose=o,this.credentials=n;const{server:l,token:u}=n;var d;this.edgeName=l.edge_name,this.joinResponseTimeout=i,this.logTag=s,this.logger=to(["SfuClient",s]),this.tracer=c?new ya(`${s}-${this.edgeName}`):void 0,this.rpc=(e=>{const A=new Hn({...Oi,...e});return new _i(A)})({baseUrl:l.url,interceptors:[(d={Authorization:`Bearer ${u}`},{interceptUnary:(e,A,t,n)=>(n.meta={...n.meta,...d},e(A,t,n))}),this.tracer&&Li(this.tracer.trace),"trace"===Ao()&&Di(this.logger,"trace")].filter((e=>!!e))}),this.unsubscribeIceTrickle=t.on("iceTrickle",(e=>{this.iceTrickleBuffer.push(e)})),this.unsubscribeNetworkChanged=a.on("network.changed",(e=>{e.online?this.networkAvailableTask?.resolve():this.networkAvailableTask=La()})),this.createWebSocket()}get isHealthy(){return this.signalWs.readyState===WebSocket.OPEN&&this.joinResponseTask.isResolved()}get joinTask(){return this.joinResponseTask.promise}}Ga.NORMAL_CLOSURE=1e3,Ga.ERROR_CONNECTION_UNHEALTHY=4001,Ga.DISPOSE_OLD_SOCKET=4002;const Ja=e=>async function(A){if(A.user.id===e.currentUserId)return;const{state:t}=e;A.call.created_by.id===e.currentUserId&&t.callingState===bo.RINGING&&await e.join()},$a=e=>async function(A){if(A.user.id===e.currentUserId)return;const{call:t}=A,{session:n}=t;if(!n)return void e.logger("warn","No call session provided. Ignoring call.rejected event.",A);const r=n.rejected_by,{members:s,callingState:i}=e.state;if(i===bo.RINGING)if(e.isCreatedByMe){s.filter((A=>A.user_id!==e.currentUserId)).every((e=>r[e.user_id]))&&(e.logger("info","everyone rejected, leaving the call"),await e.leave({reject:!0,reason:"cancel",message:"ring: everyone rejected"}))}else r[t.created_by.id]&&(e.logger("info","call creator rejected, leaving call"),await e.leave({message:"ring: creator rejected"}));else e.logger("info","Call is not in ringing mode (it is either accepted or rejected already). Ignoring call.rejected event.",A)},Wa=e=>function(){const{callingState:A}=e.state;A!==bo.IDLE&&A!==bo.LEFT&&e.leave({message:"call.ended event received",reject:!1}).catch((A=>{e.logger("error","Failed to leave call after call.ended ",A)}))},Xa=e=>e.on("callEnded",(async A=>{if(e.state.callingState!==bo.LEFT)try{if(A.reason===ts.LIVE_ENDED){e.state.setBackstage(!0);const{hasPermission:A}=e.permissionsContext;if(A(Kr.JOIN_BACKSTAGE))return}e.state.setEndedAt(new Date);const t=ts[A.reason];await e.leave({message:`callEnded received: ${t}`})}catch(t){e.logger("error","Failed to leave call after being ended by the SFU",t)}})),Ya=e=>function(A){const{currentGrants:t}=A;if(t){const{canPublishAudio:A,canPublishVideo:n,canScreenshare:r}=t,s={[Kr.SEND_AUDIO]:A,[Kr.SEND_VIDEO]:n,[Kr.SCREENSHARE]:r},i=e.ownCapabilities.filter((e=>!1!==s[e]));Object.entries(s).forEach((e=>{let[A,t]=e;t&&!i.includes(A)&&i.push(A)})),e.setOwnCapabilities(i)}},qa=(e,A)=>e.on("connectionQualityChanged",(e=>{const{connectionQualityUpdates:t}=e;t&&A.updateParticipants(t.reduce(((e,A)=>{const{sessionId:t,connectionQuality:n}=A;return e[t]={connectionQuality:n},e}),{}))})),Za=(e,A)=>e.on("healthCheckResponse",(e=>{const{participantCount:t}=e;t&&(A.setParticipantCount(t.total),A.setAnonymousParticipantCount(t.anonymous))})),za=(e,A)=>e.on("error",(e=>{e.error&&e.error.code!==Zr.LIVE_ENDED||(A.state.setBackstage(!0),A.permissionsContext.hasPermission(Kr.JOIN_BACKSTAGE)||A.leave({message:"live ended"}).catch((e=>{A.logger("error","Failed to leave call after live ended",e)})))})),ec=e=>e.on("error",(e=>{if(!e.error)return;const A=to(["SfuClient"]),{error:t,reconnectStrategy:n}=e;A("error","SFU reported error",{code:Zr[t.code],reconnectStrategy:ns[n],message:t.message,shouldRetry:t.shouldRetry})})),Ac=e=>function(A){const{pins:t}=A;e.setServerSidePins(t)},tc=e=>e.on("trackUnpublished",(async A=>{const{cause:t,type:n,sessionId:r}=A,{localParticipant:s}=e.state;if(t===es.MODERATION&&r===s?.sessionId){const A=e.logger;A("info",`Local participant's ${qr[n]} track is muted remotely`);try{n===qr.VIDEO?await e.camera.disable():n===qr.AUDIO?await e.microphone.disable():n===qr.SCREEN_SHARE||n===qr.SCREEN_SHARE_AUDIO?await e.screenShare.disable():A("warn","Unsupported track type to soft mute",qr[n])}catch(i){A("error","Failed to stop publishing",i)}}})),nc=function(e){for(var A=arguments.length,t=new Array(A>1?A-1:0),n=1;n<A;n++)t[n-1]=arguments[n];for(const r of t)e.includes(r)||e.push(r);return e},rc=e=>function(A){const{participant:t}=A;if(!t)return;const n=cc(e,t);e.updateOrAddParticipant(t.sessionId,Object.assign(t,n,{viewportVisibilityState:{videoTrack:xi.UNKNOWN,screenShareTrack:xi.UNKNOWN}}))},sc=e=>function(A){const{participant:t}=A;t&&e.setParticipants((e=>e.filter((e=>e.sessionId!==t.sessionId))))},ic=e=>function(A){const{participant:t}=A;t&&e.updateParticipant(t.sessionId,t)},oc=e=>function(A){const{type:t,sessionId:n}=A;if(A.participant){const t=cc(e,A.participant),r=Object.assign(A.participant,t);e.updateOrAddParticipant(n,r)}else e.updateParticipant(n,(e=>({publishedTracks:nc([...e.publishedTracks],t)})))},ac=e=>function(A){const{type:t,sessionId:n}=A;if(A.participant){const t=cc(e,A.participant),r=Object.assign(A.participant,t);e.updateOrAddParticipant(n,r)}else e.updateParticipant(n,(e=>({publishedTracks:e.publishedTracks.filter((e=>e!==t))})))},cc=(e,A)=>{const t=e.takeOrphanedTracks(A.trackLookupPrefix);if(!t.length)return;const n={};for(const r of t){const e=Fa(r.trackType);e&&(n[e]=r.track)}return n},lc=(e,A)=>e.on("dominantSpeakerChanged",(e=>{const{sessionId:t}=e;t!==A.dominantSpeaker?.sessionId&&A.setParticipants((e=>e.map((e=>e.sessionId===t?{...e,isDominantSpeaker:!0}:e.isDominantSpeaker?{...e,isDominantSpeaker:!1}:e))))})),uc=(e,A)=>e.on("audioLevelChanged",(e=>{const{audioLevels:t}=e;A.updateParticipants(t.reduce(((e,A)=>(e[A.sessionId]={audioLevel:A.level,isSpeaking:A.isSpeaking},e)),{}))})),dc=e=>{const A={"call.accepted":Ja(e),"call.rejected":$a(e)},t=Object.keys(A).map((t=>{const n=t;return e.on(n,A[n])}));return()=>{t.forEach((e=>e()))}};class hc{constructor(){this.elementHandlerMap=new Map,this.observer=null,this.queueSet=new Set,this.setViewport=(e,A)=>(this.observer=new IntersectionObserver((e=>{e.forEach((e=>{const A=this.elementHandlerMap.get(e.target);A?.(e)}))}),{root:e,...A,threshold:A?.threshold??.35}),this.queueSet.size&&(this.queueSet.forEach((A=>{let[t,n]=A;e.contains(t)&&(this.observer.observe(t),this.elementHandlerMap.set(t,n))})),this.queueSet.clear()),()=>{this.observer?.disconnect(),this.observer=null,this.elementHandlerMap.clear()}),this.observe=(e,A)=>{const t=[e,A],n=()=>{this.elementHandlerMap.delete(e),this.observer?.unobserve(e),this.queueSet.delete(t)};return this.elementHandlerMap.has(e)?n:this.observer?(this.observer.root.contains(e)&&(this.elementHandlerMap.set(e,A),this.observer.observe(e)),n):(this.queueSet.add(t),n)}}}const pc={videoTrack:xi.UNKNOWN,screenShareTrack:xi.UNKNOWN},gc=Symbol("globalOverrideKey");class fc{constructor(e,A){var t=this;this.viewportTracker=new hc,this.logger=to(["DynascaleManager"]),this.pendingSubscriptionsUpdate=null,this.videoTrackSubscriptionOverridesSubject=new or({}),this.videoTrackSubscriptionOverrides$=this.videoTrackSubscriptionOverridesSubject.asObservable(),this.incomingVideoSettings$=this.videoTrackSubscriptionOverrides$.pipe(er((e=>{const{[gc]:A,...t}=e;return{enabled:!1!==A?.enabled,preferredResolution:A?.enabled?A.dimension:void 0,participants:Object.fromEntries(Object.entries(t).map((e=>{let[A,t]=e;return[A,{enabled:!1!==t?.enabled,preferredResolution:t?.enabled?t.dimension:void 0}]}))),isParticipantVideoEnabled:A=>e[A]?.enabled??e[gc]?.enabled??!0}})),ur(1)),this.setVideoTrackSubscriptionOverrides=(e,A)=>Bo(this.videoTrackSubscriptionOverridesSubject,A?t=>({...t,...Object.fromEntries(A.map((A=>[A,e])))}):e?{[gc]:e}:{}),this.applyTrackSubscriptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi.SLOW;t.pendingSubscriptionsUpdate&&clearTimeout(t.pendingSubscriptionsUpdate);const A=()=>{t.pendingSubscriptionsUpdate=null,t.sfuClient?.updateSubscriptions(t.trackSubscriptions).catch((e=>{t.logger("debug","Failed to update track subscriptions",e)}))};e?t.pendingSubscriptionsUpdate=setTimeout(A,e):A()},this.trackElementVisibility=(e,A,t)=>{const n=this.viewportTracker.observe(e,(n=>{this.callState.updateParticipant(A,(A=>{const r=A.viewportVisibilityState??pc,s=n.isIntersecting||document.fullscreenElement===e?xi.VISIBLE:xi.INVISIBLE;return{...A,viewportVisibilityState:{...r,[t]:s}}}))}));return()=>{n(),this.callState.updateParticipant(A,(e=>{const A=e.viewportVisibilityState??pc;return{...e,viewportVisibilityState:{...A,[t]:xi.UNKNOWN}}}))}},this.setViewport=e=>this.viewportTracker.setViewport(e),this.bindVideoElement=(e,A,t)=>{const n=this.callState.findParticipantBySessionId(A);if(!n)return;const r=(e,r)=>{!r||0!==r.width&&0!==r.height||(this.logger("debug","Ignoring 0x0 dimension",n),r=void 0),this.callState.updateParticipantTracks(t,{[A]:{dimension:r}}),this.applyTrackSubscriptions(e)},s=this.callState.participants$.pipe(er((e=>e.find((e=>e.sessionId===A)))),pr((e=>!!e)),dr(),ur({bufferSize:1,refCount:!0}));let i;const o=n.isLocalParticipant?null:s.pipe(er((e=>e.viewportVisibilityState?.[t])),dr()).subscribe((A=>{if(i){if(i=A??xi.UNKNOWN,A===xi.INVISIBLE)return r(Hi.MEDIUM,void 0);r(Hi.MEDIUM,{width:e.clientWidth,height:e.clientHeight})}else i=A??xi.UNKNOWN}));let a;const c=n.isLocalParticipant?null:new ResizeObserver((()=>{const A={width:e.clientWidth,height:e.clientHeight};if(!a)return void(a=A);if(a.width===A.width&&a.height===A.height||i===xi.INVISIBLE)return;const t=Math.max(A.width/a.width,A.height/a.height)>1.2?Hi.IMMEDIATE:Hi.MEDIUM;r(t,{width:e.clientWidth,height:e.clientHeight}),a=A}));c?.observe(e);const l=n.isLocalParticipant?null:s.pipe(gr("publishedTracks"),er((e=>"videoTrack"===t?So(e):To(e))),dr()).subscribe((A=>{A?r(Hi.IMMEDIATE,{width:e.clientWidth,height:e.clientHeight}):r(Hi.FAST,void 0)}));e.autoplay=!0,e.playsInline=!0,e.muted=!0;const u=s.pipe(gr("videoTrack"===t?"videoStream":"screenShareStream")).subscribe((A=>{const n="videoTrack"===t?A.videoStream:A.screenShareStream;e.srcObject!==n&&(e.srcObject=n??null,(zo()||ea())&&setTimeout((()=>{e.srcObject=n??null,e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}))}),25))}));return()=>{r(Hi.FAST,void 0),o?.unsubscribe(),l?.unsubscribe(),u.unsubscribe(),c?.disconnect()}},this.bindAudioElement=(e,A,t)=>{const n=this.callState.findParticipantBySessionId(A);if(!n||n.isLocalParticipant)return;const r=this.callState.participants$.pipe(er((e=>e.find((e=>e.sessionId===A)))),pr((e=>!!e)),dr(),ur({bufferSize:1,refCount:!0})),s=r.pipe(gr("screenShareAudioTrack"===t?"screenShareAudioStream":"audioStream")).subscribe((A=>{const n="screenShareAudioTrack"===t?A.screenShareAudioStream:A.audioStream;e.srcObject!==n&&setTimeout((()=>{if(e.srcObject=n??null,e.srcObject){e.play().catch((e=>{this.logger("warn","Failed to play stream",e)}));const{selectedDevice:A}=this.speaker.state;A&&"setSinkId"in e&&e.setSinkId(A)}}))})),i="setSinkId"in e?this.speaker.state.selectedDevice$.subscribe((A=>{A&&e.setSinkId(A)})):null,o=sr([this.speaker.state.volume$,r.pipe(gr("audioVolume"))]).subscribe((A=>{let[t,n]=A;e.volume=n.audioVolume??t}));return e.autoplay=!0,()=>{i?.unsubscribe(),o.unsubscribe(),s.unsubscribe()}},this.callState=e,this.speaker=A}setSfuClient(e){this.sfuClient=e}get trackSubscriptions(){const e=[];for(const A of this.callState.remoteParticipants){if(A.videoDimension&&So(A)){const t=this.videoTrackSubscriptionOverrides[A.sessionId]??this.videoTrackSubscriptionOverrides[gc];!1!==t?.enabled&&e.push({userId:A.userId,sessionId:A.sessionId,trackType:qr.VIDEO,dimension:t?.dimension??A.videoDimension})}A.screenShareDimension&&To(A)&&e.push({userId:A.userId,sessionId:A.sessionId,trackType:qr.SCREEN_SHARE,dimension:A.screenShareDimension}),ko(A)&&e.push({userId:A.userId,sessionId:A.sessionId,trackType:qr.SCREEN_SHARE_AUDIO})}return e}get videoTrackSubscriptionOverrides(){return mo(this.videoTrackSubscriptionOverrides$)}}class mc{constructor(){var e=this;this.permissions=[],this.setPermissions=e=>{this.permissions=e||[]},this.setCallSettings=e=>{this.settings=e},this.hasPermission=e=>this.permissions.includes(e),this.canPublish=e=>{switch(e){case qr.AUDIO:return this.hasPermission(Kr.SEND_AUDIO);case qr.VIDEO:return this.hasPermission(Kr.SEND_VIDEO);case qr.SCREEN_SHARE:case qr.SCREEN_SHARE_AUDIO:return this.hasPermission(Kr.SCREENSHARE);case qr.UNSPECIFIED:return!1;default:Ea(e,"Unknown track type")}},this.canRequest=function(A){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.settings;if(!t)return!1;const{audio:n,video:r,screensharing:s}=t;switch(A){case Kr.SEND_AUDIO:return n.access_request_enabled;case Kr.SEND_VIDEO:return r.access_request_enabled;case Kr.SCREENSHARE:return s.access_request_enabled;default:return!1}}}}class Bc{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{sortParticipantsBy:Vo};this.name=e,this.options=A}}const wc=new class{constructor(e){this.register=e=>{this.callTypes[e.name]=e},this.unregister=e=>{delete this.callTypes[e]},this.get=e=>(this.callTypes[e]||this.register(new Bc(e)),this.callTypes[e]),this.callTypes=e.reduce(((e,A)=>(e[A.name]=A,e)),{})}}([new Bc("default",{sortParticipantsBy:Vo}),new Bc("development",{sortParticipantsBy:Vo}),new Bc("livestream",{sortParticipantsBy:Jo}),new Bc("audio_room",{sortParticipantsBy:Jo})]);class Cc{constructor(e){this.permission=e,this.disposeController=new AbortController,this.wasPrompted=!1,this.listeners=new Set,this.logger=to(["permissions"]);const A=this.disposeController.signal;this.ready=(async()=>{const t=()=>{this.setState("prompt")};if(Xi()||"undefined"===typeof navigator||!navigator.permissions?.query)return t();try{const t=await navigator.permissions.query({name:e.queryName});A.aborted||(this.setState(t.state),t.addEventListener("change",(()=>this.setState(t.state)),{signal:A}))}catch(n){this.logger("debug","Failed to query permission status",n),t()}})()}dispose(){this.state=void 0,this.disposeController.abort()}async getState(){if(await this.ready,!this.state)throw new Error("BrowserPermission instance possibly disposed");return this.state}async prompt(){let{forcePrompt:e=!1,throwOnNotAllowed:A=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await uo(`permission-prompt-${this.permission.queryName}`,(async()=>{if("prompt"!==await this.getState()||this.wasPrompted&&!e){const e="granted"===this.state;if(!e&&A)throw new Error("Permission was not granted previously, and prompting again is not allowed");return e}try{this.wasPrompted=!0,this.setState("prompting");const e=await navigator.mediaDevices.getUserMedia(this.permission.constraints);return Dc(e),this.setState("granted"),!0}catch(t){if(t&&"object"===typeof t&&"name"in t&&("NotAllowedError"===t.name||"SecurityError"===t.name)){if(this.logger("info","Browser permission was not granted",{permission:this.permission}),this.setState("denied"),A)throw t;return!1}throw this.logger("error","Failed to getUserMedia",{error:t,permission:this.permission}),this.setState("prompt"),t}}))}listen(e){return this.listeners.add(e),this.state&&e(this.state),()=>this.listeners.delete(e)}asObservable(){return this.getStateObservable().pipe(er((e=>"denied"!==e)))}asStateObservable(){return this.getStateObservable()}getIsPromptingObservable(){return this.getStateObservable().pipe(er((e=>"prompting"===e)))}getStateObservable(){return mr((e=>this.listen(e)),((e,A)=>A()))}setState(e){this.state!==e&&(this.state=e,this.listeners.forEach((A=>A(e))))}}const vc=(e,A)=>(0,Yn.H)((async()=>{let t=await navigator.mediaDevices.enumerateDevices();return t.some((e=>e.kind===A&&""===e.label))&&await e.prompt()&&(t=await navigator.mediaDevices.enumerateDevices()),t.filter((e=>e.kind===A&&""!==e.label&&"default"!==e.deviceId))})()),bc={audio:{autoGainControl:!0,noiseSuppression:!0,echoCancellation:!0}},yc={video:{width:1280,height:720}},Uc=Na((()=>new Cc({constraints:bc,queryName:"microphone"}))),Qc=Na((()=>new Cc({constraints:yc,queryName:"camera"}))),Ec=Na((()=>{return navigator.mediaDevices.addEventListener?yr(navigator.mediaDevices,"devicechange").pipe(er((()=>{})),(e=500,void 0===A&&(A=Ir),(0,Zn.N)((function(t,n){var r=null,s=null,i=null,o=function(){if(r){r.unsubscribe(),r=null;var e=s;s=null,n.next(e)}};function a(){var t=i+e,s=A.now();if(s<t)return r=this.schedule(void 0,t-s),void n.add(r);o()}t.subscribe((0,zn._)(n,(function(t){s=t,i=A.now(),r||(r=A.schedule(a,e),n.add(r))}),(function(){o(),n.complete()}),void 0,(function(){s=r=null})))})))):(0,Yn.H)([]);var e,A})),Fc=Na((()=>Rr(Ec(),Uc().asObservable()).pipe(Hr(void 0),_r((()=>vc(Uc(),"audioinput"))),ur(1)))),Sc=Na((()=>Rr(Ec(),Qc().asObservable()).pipe(Hr(void 0),_r((()=>vc(Qc(),"videoinput"))),ur(1)))),Ic=Na((()=>Rr(Ec(),Uc().asObservable()).pipe(Hr(void 0),_r((()=>vc(Uc(),"audiooutput"))),ur(1))));let Tc=0;const kc=async(e,A)=>{const t=`navigator.mediaDevices.getUserMedia.${Tc++}.`;try{A?.trace(t,e);const n=await navigator.mediaDevices.getUserMedia(e);return A?.trace(`${t}OnSuccess`,Yo(n)),ea()&&navigator.mediaDevices.dispatchEvent(new Event("devicechange")),n}catch(n){throw A?.trace(`${t}OnFailure`,n.name),n}};function Rc(e){if(!e||"object"!==typeof e)return!1;if("name"in e&&"string"===typeof e.name){const A=e.name;if(["OverconstrainedError","NotFoundError"].includes(A))return!0}if("message"in e&&"string"===typeof e.message){if(e.message.startsWith("OverconstrainedError"))return!0}return!1}const xc=async(e,A)=>{const t={audio:{...bc.audio,...e}};try{return await Uc().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await kc(t,A)}catch(n){if(Rc(n)&&e?.deviceId){const{deviceId:A,...r}=e;return to(["devices"])("warn","Failed to get audio stream, will try again with relaxed constraints",{error:n,constraints:t,relaxedConstraints:r}),xc(r)}throw to(["devices"])("error","Failed to get audio stream",{error:n,constraints:t}),n}},Hc=async(e,A)=>{const t={video:{...yc.video,...e}};try{return await Qc().prompt({throwOnNotAllowed:!0,forcePrompt:!0}),await kc(t,A)}catch(n){if(Rc(n)&&e?.deviceId){const{deviceId:A,...r}=e;return to(["devices"])("warn","Failed to get video stream, will try again with relaxed constraints",{error:n,constraints:t,relaxedConstraints:r}),Hc(r)}throw to(["devices"])("error","Failed to get video stream",{error:n,constraints:t}),n}};let _c=0;const Oc="undefined"!==typeof navigator&&"undefined"!==typeof navigator.mediaDevices?Ec().pipe(Hr(void 0),_r((()=>navigator.mediaDevices.enumerateDevices())),ur(1)):void 0,Dc=e=>{e.active&&(e.getTracks().forEach((e=>{e.stop()})),"function"===typeof e.release&&e.release())},Lc=()=>/Mobi/i.test(navigator.userAgent);class Pc{constructor(e,A,t){this.stopOnLeave=!0,this.subscriptions=[],this.isTrackStoppedDueToTrackEnd=!1,this.filters=[],this.statusChangeConcurrencyTag=Symbol("statusChangeConcurrencyTag"),this.filterRegistrationConcurrencyTag=Symbol("filterRegistrationConcurrencyTag"),this.dispose=()=>{this.subscriptions.forEach((e=>e()))},this.call=e,this.state=A,this.trackType=t,this.logger=to([`${qr[t].toLowerCase()} manager`]),!Oc||Xi()||this.trackType!==qr.AUDIO&&this.trackType!==qr.VIDEO||this.handleDisconnectedOrReplacedDevices()}listDevices(){return this.getDevices()}get enabled(){return"enabled"===this.state.status}async enable(){this.state.prevStatus=this.state.optimisticStatus,"enabled"!==this.state.optimisticStatus&&(this.state.setPendingStatus("enabled"),await ho(this.statusChangeConcurrencyTag,(async e=>{try{await this.unmuteStream(),this.state.setStatus("enabled")}finally{e.aborted||this.state.setPendingStatus(this.state.status)}})))}async disable(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.state.prevStatus=this.state.optimisticStatus,(e||"disabled"!==this.state.optimisticStatus)&&(this.state.setPendingStatus("disabled"),await ho(this.statusChangeConcurrencyTag,(async A=>{try{const A=e||"stop-tracks"===this.state.disableMode;await this.muteStream(A),this.state.setStatus("disabled")}finally{A.aborted||this.state.setPendingStatus(this.state.status)}})))}async statusChangeSettled(){await go(this.statusChangeConcurrencyTag)}async resume(){"enabled"===this.state.prevStatus&&"enabled"!==this.state.status&&await this.enable()}async toggle(){return"enabled"===this.state.optimisticStatus?await this.disable():await this.enable()}registerFilter(e){const A={start:e,stop:void 0};this.call.tracer.trace(`registerFilter.${qr[this.trackType]}`,null);return{registered:uo(this.filterRegistrationConcurrencyTag,(async()=>{await go(this.statusChangeConcurrencyTag),this.filters.push(A),await this.applySettingsToStream()})),unregister:()=>uo(this.filterRegistrationConcurrencyTag,(async()=>{await go(this.statusChangeConcurrencyTag),A.stop?.(),this.filters=this.filters.filter((e=>e!==A)),await this.applySettingsToStream()}))}}setDefaultConstraints(e){this.state.setDefaultConstraints(e)}async select(e){if(Xi())throw new Error("This method is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for reference.");const A=this.state.selectedDevice;if(e!==A)try{this.state.setDevice(e),await this.applySettingsToStream()}catch(t){throw this.state.setDevice(A),t}}async applySettingsToStream(){await ho(this.statusChangeConcurrencyTag,(async()=>{this.enabled&&(await this.muteStream(),await this.unmuteStream())}))}publishStream(e){return this.call.publish(e,this.trackType)}stopPublishStream(){return this.call.stopPublish(this.trackType)}getTracks(){return this.state.mediaStream?.getTracks()??[]}async muteStream(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const A=this.state.mediaStream;if(!A)return;this.logger("debug",(e?"Stopping":"Disabling")+" stream"),this.call.state.callingState===bo.JOINED&&await this.stopPublishStream(),this.muteLocalStream(e);this.getTracks().every((e=>"ended"===e.readyState))&&("function"===typeof A.release&&A.release(),this.state.setMediaStream(void 0,void 0),this.filters.forEach((e=>e.stop?.())))}disableTracks(){this.getTracks().forEach((e=>{e.enabled&&(e.enabled=!1)}))}enableTracks(){this.getTracks().forEach((e=>{e.enabled||(e.enabled=!0)}))}stopTracks(){this.getTracks().forEach((e=>{"live"===e.readyState&&e.stop()}))}muteLocalStream(e){this.state.mediaStream&&(e?this.stopTracks():this.disableTracks())}async unmuteStream(){let e,A;this.logger("debug","Starting stream");try{if(this.state.mediaStream&&this.getTracks().every((e=>"live"===e.readyState)))e=this.state.mediaStream,this.enableTracks();else{const t={...this.state.defaultConstraints,deviceId:this.state.selectedDevice?{exact:this.state.selectedDevice}:void 0},n=e=>async A=>{if(!e)return A;const t=await e;return A.getTracks().forEach((e=>{const A=e.stop;e.stop=function(){A.call(e),t.getTracks().forEach((A=>{A.kind===e.kind&&A.stop()}))}})),t.getTracks().forEach((e=>{const t=()=>{A.getTracks().forEach((A=>{e.kind===A.kind&&(A.stop(),A.dispatchEvent(new Event("ended")))}))};e.addEventListener("ended",t),this.subscriptions.push((()=>{e.removeEventListener("ended",t)}))})),A};A=this.getStream(t),e=await this.filters.reduce(((e,A)=>e.then((e=>{const{stop:t,output:n}=A.start(e);return A.stop=t,n})).then(n(e),(A=>(this.logger("warn","Filter failed to start and will be ignored",A),e)))),A)}if(this.call.state.callingState===bo.JOINED&&await this.publishStream(e),this.state.mediaStream!==e){this.state.setMediaStream(e,await A);const t=async()=>{await this.statusChangeSettled(),this.enabled&&(this.isTrackStoppedDueToTrackEnd=!0,setTimeout((()=>{this.isTrackStoppedDueToTrackEnd=!1}),2e3),await this.disable())},n=e=>()=>{Lc()&&this.trackType===qr.VIDEO&&this.call.notifyTrackMuteState(e,this.trackType).catch((e=>{this.logger("warn","Error while notifying track mute state",e)}))};e.getTracks().forEach((e=>{const A=n(!0),r=n(!1);e.addEventListener("mute",A),e.addEventListener("unmute",r),e.addEventListener("ended",t),this.subscriptions.push((()=>{e.removeEventListener("mute",A),e.removeEventListener("unmute",r),e.removeEventListener("ended",t)}))}))}}catch(t){throw A&&Dc(await A),t}}get mediaDeviceKind(){return this.trackType===qr.AUDIO?"audioinput":this.trackType===qr.VIDEO?"videoinput":""}handleDisconnectedOrReplacedDevices(){this.subscriptions.push(Co(sr([Oc.pipe((0,Zn.N)((function(e,A){var t,n=!1;e.subscribe((0,zn._)(A,(function(e){var r=t;t=e,n&&A.next([r,e]),n=!0})))}))),this.state.selectedDevice$]),(async e=>{let[[A,t],n]=e;try{if(!n)return;await this.statusChangeSettled();let e=!1,r=!1;const s=this.findDevice(t,n),i=this.findDevice(A,n);!s&&i?e=!0:s&&i&&s.deviceId===i.deviceId&&s.groupId!==i.groupId&&(r=!0),e&&(await this.disable(),await this.select(void 0)),r&&(this.isTrackStoppedDueToTrackEnd&&"disabled"===this.state.status?(await this.enable(),this.isTrackStoppedDueToTrackEnd=!1):await this.applySettingsToStream())}catch(r){this.logger("warn","Unexpected error while handling disconnected or replaced device",r)}})))}findDevice(e,A){const t=this.mediaDeviceKind;return e.find((e=>e.deviceId===A&&e.kind===t))}}class Nc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stop-tracks",A=arguments.length>1?arguments[1]:void 0;this.disableMode=e,this.statusSubject=new or(void 0),this.optimisticStatusSubject=new or(void 0),this.mediaStreamSubject=new or(void 0),this.selectedDeviceSubject=new or(void 0),this.defaultConstraintsSubject=new or(void 0),this.mediaStream$=this.mediaStreamSubject.asObservable(),this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(dr()),this.status$=this.statusSubject.asObservable().pipe(dr()),this.optimisticStatus$=this.optimisticStatusSubject.asObservable().pipe(dr()),this.defaultConstraints$=this.defaultConstraintsSubject.asObservable(),this.hasBrowserPermission$=A?A.asObservable().pipe(ur(1)):(0,Or.of)(!0),this.browserPermissionState$=A?A.asStateObservable().pipe(ur(1)):(0,Or.of)("prompt"),this.isPromptingPermission$=A?A.getIsPromptingObservable().pipe(ur(1)):(0,Or.of)(!1)}get status(){return mo(this.status$)}get optimisticStatus(){return mo(this.optimisticStatus$)}get selectedDevice(){return mo(this.selectedDevice$)}get mediaStream(){return mo(this.mediaStream$)}setStatus(e){Bo(this.statusSubject,e)}setPendingStatus(e){Bo(this.optimisticStatusSubject,e)}setMediaStream(e,A){Bo(this.mediaStreamSubject,e),A&&this.setDevice(this.getDeviceIdFromStream(A))}setDevice(e){Bo(this.selectedDeviceSubject,e)}get defaultConstraints(){return mo(this.defaultConstraints$)}setDefaultConstraints(e){Bo(this.defaultConstraintsSubject,e)}}class Kc extends Nc{constructor(){super("stop-tracks",Qc()),this.directionSubject=new or(void 0),this.direction$=this.directionSubject.asObservable().pipe(dr())}get direction(){return mo(this.direction$)}setDirection(e){Bo(this.directionSubject,e)}setMediaStream(e,A){if(super.setMediaStream(e,A),e){const A=Xi()?this.direction:"environment"===e.getVideoTracks()[0]?.getSettings().facingMode?"back":"front";this.setDirection(A)}}getDeviceIdFromStream(e){const[A]=e.getVideoTracks();return A?.getSettings().deviceId}}class Mc extends Pc{constructor(e){super(e,new Kc,qr.VIDEO),this.targetResolution={width:1280,height:720}}isDirectionSupportedByDevice(){return Xi()||Lc()}async selectDirection(e){if(this.isDirectionSupportedByDevice())if(this.state.setDirection(e),this.state.setDevice(void 0),Xi()){const A=this.getTracks()[0];await(A?.applyConstraints({facingMode:"front"===e?"user":"environment"}))}else{this.getTracks().forEach((e=>e.stop()));try{await this.unmuteStream()}catch(A){throw A instanceof Error&&"NotReadableError"===A.name&&(await this.muteStream(),await this.unmuteStream()),A}}else this.logger("warn","Setting direction is not supported on this device")}async flip(){const e="front"===this.state.direction?"back":"front";await this.selectDirection(e)}async selectTargetResolution(e){if(this.targetResolution.height=e.height,this.targetResolution.width=e.width,"enabled"===this.state.optimisticStatus)try{await this.statusChangeSettled()}catch(A){this.logger("warn","could not apply target resolution",A)}if(this.enabled&&this.state.mediaStream){const[e]=this.state.mediaStream.getVideoTracks();if(!e)return;const{width:A,height:t}=e.getSettings();A===this.targetResolution.width&&t===this.targetResolution.height||(await this.applySettingsToStream(),this.logger("debug",`${A}x${t} target resolution applied to media stream`))}}async apply(e,A){const t=!!this.call.state.localParticipant?.videoStream,n=this.call.permissionsContext.hasPermission(Kr.SEND_AUDIO);if(t||!n)return;await this.statusChangeSettled();const{target_resolution:r,camera_facing:s,camera_default_on:i}=e;if(await this.selectTargetResolution(r),this.state.direction||this.state.selectedDevice||this.state.setDirection("front"===s?"front":"back"),!A)return;const{mediaStream:o}=this.state;this.enabled&&o?await this.publishStream(o):void 0===this.state.status&&i&&await this.enable()}getDevices(){return Sc()}getStream(e){return e.width=this.targetResolution.width,e.height=this.targetResolution.height,!e.deviceId&&this.state.direction&&this.isDirectionSupportedByDevice()&&(e.facingMode="front"===this.state.direction?"user":"environment"),Hc(e,this.call.tracer)}}class Vc extends Nc{constructor(e){super(e,Uc()),this.speakingWhileMutedSubject=new or(!1),this.speakingWhileMuted$=this.speakingWhileMutedSubject.asObservable().pipe(dr())}get speakingWhileMuted(){return mo(this.speakingWhileMuted$)}setSpeakingWhileMuted(e){Bo(this.speakingWhileMutedSubject,e)}getDeviceIdFromStream(e){const[A]=e.getAudioTracks();return A?.getSettings().deviceId}}const jc=500,Gc=150,Jc=128;class $c{constructor(){this.pc1=new RTCPeerConnection({}),this.pc2=new RTCPeerConnection({})}async start(e){try{this.cleanupAudioStream();const A=await navigator.mediaDevices.getUserMedia({audio:!0});this.audioStream=A,this.pc1.addEventListener("icecandidate",(async e=>{await this.pc2.addIceCandidate(e.candidate)})),this.pc2.addEventListener("icecandidate",(async e=>{await this.pc1.addIceCandidate(e.candidate)})),this.pc2.addEventListener("track",(e=>{e.streams[0].getTracks().forEach((e=>{e._setVolume(0)}))})),A.getTracks().forEach((e=>this.pc1.addTrack(e,A)));const t=await this.pc1.createOffer({});await this.pc2.setRemoteDescription(t),await this.pc1.setLocalDescription(t);const n=await this.pc2.createAnswer();await this.pc1.setRemoteDescription(n),await this.pc2.setLocalDescription(n);const r=this.onSpeakingDetectedStateChange(e);return()=>{r(),this.stop()}}catch(A){return to(["RNSpeechDetector"])("error","error handling permissions: ",A),()=>{}}}stop(){this.pc1.close(),this.pc2.close(),this.cleanupAudioStream()}onSpeakingDetectedStateChange(e){let A,t,n=.13,r=!1;const s=[],i=setInterval((async()=>{try{const i=await this.pc1.getStats(),o=Xo(i).find((e=>"media-source"===e.type&&"audio"===e.kind));if(o){const{audioLevel:i}=o;if(i){s.push(i),s.length>10&&s.shift();const o=s.reduce(((e,A)=>e+A),0)/s.length;o<1.1*n?t||(t=setTimeout((()=>{n=Math.min(.9*o,.13)}),5e3)):(clearTimeout(t),t=void 0),o>1.5*n&&(r||(r=!0,e({isSoundDetected:!0,audioLevel:i})),clearTimeout(A),A=setTimeout((()=>{r=!1,e({isSoundDetected:!1,audioLevel:0})}),500))}}}catch(i){to(["RNSpeechDetector"])("error","error checking audio level from stats",i)}}),100);return()=>{clearInterval(i),clearTimeout(A),clearTimeout(t)}}cleanupAudioStream(){this.audioStream&&(this.audioStream.getTracks().forEach((e=>e.stop())),"function"===typeof this.audioStream.release&&this.audioStream.release())}}class Wc extends Pc{constructor(e){super(e,new Vc(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"stop-tracks"),qr.AUDIO),this.speakingWhileMutedNotificationEnabled=!0,this.soundDetectorConcurrencyTag=Symbol("soundDetectorConcurrencyTag"),this.subscriptions.push(vo(sr([this.call.state.callingState$,this.call.state.ownCapabilities$,this.state.selectedDevice$,this.state.status$]),(async e=>{let[A,t,n,r]=e;try{if(A===bo.LEFT&&await this.stopSpeakingWhileMutedDetection(),A!==bo.JOINED)return;if(!this.speakingWhileMutedNotificationEnabled)return;t.includes(Kr.SEND_AUDIO)&&"disabled"===r?await this.startSpeakingWhileMutedDetection(n):await this.stopSpeakingWhileMutedDetection()}catch(s){this.logger("warn","Could not enable speaking while muted",s)}}))),this.subscriptions.push(Co(this.call.state.callingState$,(e=>{if(!this.noiseCancellationRegistration||!this.noiseCancellation)return;this.call.state.settings?.audio.noise_cancellation?.mode===Nr&&e===bo.JOINED?this.noiseCancellationRegistration.then((()=>!this.noiseCancellation?.canAutoEnable||this.noiseCancellation.canAutoEnable())).then((e=>{e&&this.noiseCancellation?.enable()})).catch((e=>(this.logger("warn","Failed to enable noise cancellation",e),this.call.notifyNoiseCancellationStopped()))):e===bo.LEFT&&this.noiseCancellationRegistration.then((()=>this.noiseCancellation?.disable())).catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))})))}async enableNoiseCancellation(e){const{ownCapabilities:A,settings:t}=this.call.state;if(!A.includes(Kr.ENABLE_NOISE_CANCELLATION))throw new Error("Noise cancellation is not available.");const n=t?.audio.noise_cancellation;if(!n||n.mode===Pr)throw new Error("Noise cancellation is disabled for this call type.");try{if(this.noiseCancellation=e,this.noiseCancellationChangeUnsubscribe=this.noiseCancellation.on("change",(e=>{this.call.tracer.trace("noiseCancellation.enabled",e),e?this.call.notifyNoiseCancellationStarting().catch((e=>{this.logger("warn","notifyNoiseCancellationStart failed",e)})):this.call.notifyNoiseCancellationStopped().catch((e=>{this.logger("warn","notifyNoiseCancellationStop failed",e)}))})),Xi())this.noiseCancellationRegistration=Promise.resolve();else{const A=this.registerFilter(e.toFilter());this.noiseCancellationRegistration=A.registered,this.unregisterNoiseCancellation=A.unregister,await this.noiseCancellationRegistration}if(n.mode===Nr&&this.call.state.callingState===bo.JOINED){let A=!0;e.canAutoEnable&&(A=await e.canAutoEnable()),A&&e.enable()}}catch(r){this.logger("warn","Failed to enable noise cancellation",r),await this.disableNoiseCancellation().catch((e=>{this.logger("warn","Failed to disable noise cancellation",e)}))}}async disableNoiseCancellation(){await(this.unregisterNoiseCancellation?.()??Promise.resolve()).then((()=>this.noiseCancellation?.disable())).then((()=>this.noiseCancellationChangeUnsubscribe?.())).catch((e=>{this.logger("warn","Failed to unregister noise cancellation",e)})),await this.call.notifyNoiseCancellationStopped()}async enableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!0,"disabled"===this.state.status&&await this.startSpeakingWhileMutedDetection(this.state.selectedDevice)}async disableSpeakingWhileMutedNotification(){this.speakingWhileMutedNotificationEnabled=!1,await this.stopSpeakingWhileMutedDetection()}async apply(e,A){if(!A)return;const t=!!this.call.state.localParticipant?.audioStream,n=this.call.permissionsContext.hasPermission(Kr.SEND_AUDIO);if(t||!n)return;await this.statusChangeSettled();const{mediaStream:r}=this.state;this.enabled&&r?await this.publishStream(r):void 0===this.state.status&&e.mic_default_on&&await this.enable()}getDevices(){return Fc()}getStream(e){return xc(e,this.call.tracer)}async startSpeakingWhileMutedDetection(e){await uo(this.soundDetectorConcurrencyTag,(async()=>{if(await this.stopSpeakingWhileMutedDetection(),Xi()){this.rnSpeechDetector=new $c;const e=await this.rnSpeechDetector.start((e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}));this.soundDetectorCleanup=()=>{e(),this.rnSpeechDetector=void 0}}else{const A=await this.getStream({deviceId:{exact:e}});this.soundDetectorCleanup=function(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{detectionFrequencyInMs:n=jc,audioLevelThreshold:r=Gc,fftSize:s=Jc,destroyStreamOnStop:i=!0}=t,o=new AudioContext,a=o.createAnalyser();a.fftSize=s;const c=o.createMediaStreamSource(e);c.connect(a);const l=setInterval((()=>{const t=new Uint8Array(a.frequencyBinCount);a.getByteFrequencyData(t);const n=t.some((e=>e>=r)),s=t.reduce(((e,A)=>e+A),0)/t.length,i=s>r?100:Math.round(s/r*100);e.getAudioTracks()[0]?.enabled?A({isSoundDetected:n,audioLevel:i}):A({isSoundDetected:!1,audioLevel:0})}),n);return async function(){clearInterval(l),c.disconnect(),a.disconnect(),"closed"!==o.state&&await o.close(),i&&e.getTracks().forEach((A=>{A.stop(),e.removeTrack(A)}))}}(A,(e=>{this.state.setSpeakingWhileMuted(e.isSoundDetected)}))}}))}async stopSpeakingWhileMutedDetection(){await uo(this.soundDetectorConcurrencyTag,(async()=>{if(!this.soundDetectorCleanup)return;const e=this.soundDetectorCleanup;this.soundDetectorCleanup=void 0,this.state.setSpeakingWhileMuted(!1),await e()}))}}class Xc extends Nc{constructor(){super(...arguments),this.audioEnabledSubject=new or(!0),this.settingsSubject=new or(void 0),this.audioEnabled$=this.audioEnabledSubject.asObservable().pipe(dr()),this.settings$=this.settingsSubject.asObservable(),this.getDeviceIdFromStream=e=>{const[A]=e.getTracks();return A?.getSettings().deviceId}}get audioEnabled(){return mo(this.audioEnabled$)}setAudioEnabled(e){Bo(this.audioEnabledSubject,e)}get settings(){return mo(this.settings$)}setSettings(e){Bo(this.settingsSubject,e)}}class Yc extends Pc{constructor(e){super(e,new Xc,qr.SCREEN_SHARE),this.subscriptions.push(Co(e.state.settings$,(e=>{const A=e?.screensharing.target_resolution;A&&this.setDefaultConstraints({video:{width:A.width,height:A.height}})})))}enableScreenShareAudio(){this.state.setAudioEnabled(!0)}async disableScreenShareAudio(){this.state.setAudioEnabled(!1),this.call.publisher?.isPublishing(qr.SCREEN_SHARE_AUDIO)&&await this.call.stopPublish(qr.SCREEN_SHARE_AUDIO)}getSettings(){return this.state.settings}setSettings(e){this.state.setSettings(e)}getDevices(){return(0,Or.of)([])}getStream(e){return this.state.audioEnabled||(e.audio=!1),(async(e,A)=>{const t=`navigator.mediaDevices.getDisplayMedia.${_c++}.`;try{A?.trace(t,e);const n=await navigator.mediaDevices.getDisplayMedia({video:!0,audio:{channelCount:{ideal:2},echoCancellation:!1,autoGainControl:!1,noiseSuppression:!1},systemAudio:"include",...e});return A?.trace(`${t}OnSuccess`,Yo(n)),n}catch(n){throw A?.trace(`${t}OnFailure`,n.name),to(["devices"])("error","Failed to get screen share stream",n),n}})(e,this.call.tracer)}async stopPublishStream(){return this.call.stopPublish(qr.SCREEN_SHARE,qr.SCREEN_SHARE_AUDIO)}async select(){throw new Error("Not supported")}}class qc{constructor(e){this.selectedDeviceSubject=new or(""),this.volumeSubject=new or(1),this.isDeviceSelectionSupported="undefined"!==typeof document&&"setSinkId"in document.createElement("audio"),this.tracer=e,this.selectedDevice$=this.selectedDeviceSubject.asObservable().pipe(dr()),this.volume$=this.volumeSubject.asObservable().pipe(dr())}get selectedDevice(){return mo(this.selectedDevice$)}get volume(){return mo(this.volume$)}setDevice(e){Bo(this.selectedDeviceSubject,e),this.tracer.trace("navigator.mediaDevices.setSinkId",e)}setVolume(e){Bo(this.volumeSubject,e)}}class Zc{constructor(e){this.subscriptions=[],this.dispose=()=>{this.subscriptions.forEach((e=>e.unsubscribe()))},this.call=e,this.state=new qc(e.tracer),Oc&&!Xi()&&this.subscriptions.push(sr([Oc,this.state.selectedDevice$]).subscribe((e=>{let[A,t]=e;if(!t)return;A.find((e=>e.deviceId===t&&"audiooutput"===e.kind))||this.select("")})))}listDevices(){if(Xi())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");return Ic()}select(e){if(Xi())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");this.state.setDevice(e)}setVolume(e){if(Xi())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(e&&(e<0||e>1))throw new Error("Volume must be between 0 and 1");this.state.setVolume(e)}setParticipantVolume(e,A){if(Xi())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");if(A&&(A<0||A>1))throw new Error("Volume must be between 0 and 1, or undefined");this.call.state.updateParticipant(e,{audioVolume:A})}}class zc{constructor(e){var A=this;let{type:t,id:n,streamClient:r,members:s,ownCapabilities:i,sortParticipantsBy:o,clientStore:a,ringing:c=!1,watching:l=!1}=e;this.state=new Wo,this.permissionsContext=new mc,this.tracer=new ya(null),this.dispatcher=new ao,this.sfuClientTag=0,this.reconnectConcurrencyTag=Symbol("reconnectConcurrencyTag"),this.reconnectAttempts=0,this.reconnectStrategy=ns.UNSPECIFIED,this.reconnectReason="",this.fastReconnectDeadlineSeconds=0,this.disconnectionTimeoutSeconds=0,this.lastOfflineTimestamp=0,this.trackPublishOrder=[],this.hasJoinedOnce=!1,this.deviceSettingsAppliedOnce=!1,this.initialized=!1,this.joinLeaveConcurrencyTag=Symbol("joinLeaveConcurrencyTag"),this.leaveCallHooks=new Set,this.streamClientEventHandlers=new Map,this.setup=async()=>{await uo(this.joinLeaveConcurrencyTag,(async()=>{this.initialized||(this.leaveCallHooks.add(this.on("all",(e=>{this.state.updateFromEvent(e)}))),this.leaveCallHooks.add(this.on("changePublishOptions",(e=>{this.currentPublishOptions=e.publishOptions}))),this.leaveCallHooks.add(((e,A)=>{const t=e.state,n=[e.on("call.ended",Wa(e)),Xa(e),za(A,e),ec(A),qa(A,t),Za(A,t),e.on("participantJoined",rc(t)),e.on("participantLeft",sc(t)),e.on("participantUpdated",ic(t)),e.on("trackPublished",oc(t)),e.on("trackUnpublished",ac(t)),uc(A,t),lc(A,t),e.on("callGrantsUpdated",Ya(t)),e.on("pinsUpdated",Ac(t)),tc(e)];return e.ringing&&n.push(dc(e)),()=>{n.forEach((e=>e()))}})(this,this.dispatcher)),this.registerEffects(),this.registerReconnectHandlers(),this.state.callingState===bo.LEFT&&this.state.setCallingState(bo.IDLE),this.initialized=!0)}))},this.registerEffects=()=>{this.leaveCallHooks.add(Co(this.state.settings$,(e=>{e&&this.permissionsContext.setCallSettings(e)}))),this.leaveCallHooks.add(vo(this.state.ownCapabilities$,this.handleOwnCapabilitiesUpdated)),this.leaveCallHooks.add(Co(this.state.blockedUserIds$,(async e=>{if(!e||0===e.length)return;const A=this.currentUserId;A&&e.includes(A)&&(this.logger("info","Leaving call because of being blocked"),await this.leave({message:"user blocked"}).catch((e=>{this.logger("error","Error leaving call after being blocked",e)})))}))),this.leaveCallHooks.add(Co(this.state.session$,(e=>{if(!this.ringing)return;const A=this.clientStore.connectedUser?.id;if(!A)return;const t=Boolean(e?.accepted_by[A]),n=Boolean(e?.rejected_by[A]);(t||n)&&this.cancelAutoDrop();var r;!(t&&this.state.callingState===bo.RINGING)&&!n||(r=this.joinLeaveConcurrencyTag,po.has(r))||this.leave().catch((()=>{this.logger("error","Could not leave a call that was accepted or rejected elsewhere")}))}))),this.leaveCallHooks.add(Co(this.ringingSubject,(e=>{if(!e)return;const A=this.state.session,t=this.clientStore.connectedUser?.id,n=A?.ended_at,r=this.state.createdBy?.id,s=A?.rejected_by,i=A?.accepted_by;let o=!1;n?o=!0:r&&s?s[r]&&(o=!0):t&&s?s[t]&&(o=!0):t&&i&&i[t]&&(o=!0),o?this.state.callingState!==bo.IDLE&&this.state.setCallingState(bo.IDLE):(this.state.callingState===bo.IDLE&&this.state.setCallingState(bo.RINGING),this.scheduleAutoDrop(),this.leaveCallHooks.add(dc(this)))})))},this.handleOwnCapabilitiesUpdated=async e=>{if(this.permissionsContext.setPermissions(e),!this.publisher)return;const A={[Kr.SEND_AUDIO]:qr.AUDIO,[Kr.SEND_VIDEO]:qr.VIDEO,[Kr.SCREENSHARE]:qr.SCREEN_SHARE};for(const[n,r]of Object.entries(A)){if(!this.permissionsContext.hasPermission(n))try{switch(r){case qr.AUDIO:this.microphone.enabled&&await this.microphone.disable();break;case qr.VIDEO:this.camera.enabled&&await this.camera.disable();break;case qr.SCREEN_SHARE:this.screenShare.enabled&&await this.screenShare.disable()}}catch(t){this.logger("error","Can't disable mic/camera/screenshare after revoked permissions",t)}}},this.on=(e,A)=>{if(oo(e))return this.dispatcher.on(e,A);const t=this.streamClient.on(e,(e=>{const t=e;t.call_cid&&t.call_cid===this.cid&&A(t)}));return this.streamClientEventHandlers.set(A,t),()=>{this.off(e,A)}},this.off=(e,A)=>{if(oo(e))return this.dispatcher.off(e,A);const t=this.streamClientEventHandlers.get(A);t&&t()},this.leave=async function(){let{reject:e,reason:t,message:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await uo(A.joinLeaveConcurrencyTag,(async()=>{const r=A.state.callingState;if(r===bo.LEFT)throw new Error("Cannot leave call that has already been left.");if(r===bo.JOINING){const e=()=>new Promise((e=>{A.state.callingState$.pipe(pr((e=>e!==bo.JOINED),!0)).subscribe((()=>e()))}));await e()}if(r===bo.RINGING&&!1!==e)if(e)await A.reject(t??"decline");else{const e=A.state.remoteParticipants.length>0;A.isCreatedByMe&&!e&&await A.reject("cancel")}A.statsReporter?.stop(),A.statsReporter=void 0,A.sfuStatsReporter?.flush(),A.sfuStatsReporter?.stop(),A.sfuStatsReporter=void 0,A.subscriber?.dispose(),A.subscriber=void 0,A.publisher?.dispose(),A.publisher=void 0,await(A.sfuClient?.leaveAndClose(n??t??"user is leaving the call")),A.sfuClient=void 0,A.dynascaleManager.setSfuClient(void 0),A.state.setCallingState(bo.LEFT),A.state.setParticipants([]),A.state.dispose(),A.leaveCallHooks.forEach((e=>e())),A.initialized=!1,A.hasJoinedOnce=!1,A.unifiedSessionId=void 0,A.ringingSubject.next(!1),A.cancelAutoDrop(),A.clientStore.unregisterCall(A),A.camera.dispose(),A.microphone.dispose(),A.screenShare.dispose(),A.speaker.dispose();const s=[];A.camera.stopOnLeave&&s.push(A.camera.disable(!0)),A.microphone.stopOnLeave&&s.push(A.microphone.disable(!0)),A.screenShare.stopOnLeave&&s.push(A.screenShare.disable(!0)),await Promise.all(s)}))},this.updateFromRingingEvent=async e=>{await this.setup();const{created_by:A,settings:t}=e.call,n=this.state.members.find((e=>e.user.id===A.id));n?this.state.setMembers([n,...e.members]):this.state.setMembers(e.members),this.state.updateFromCallResponse(e.call),this.watching=!0,this.ringingSubject.next(!0);const r=this.clientStore.calls.filter((e=>e.cid!==this.cid));this.clientStore.setCalls([this,...r]),await this.applyDeviceConfig(t,!1)},this.get=async e=>{await this.setup();const A=await this.streamClient.get(this.streamClientBasePath,e);return this.state.updateFromCallResponse(A.call),this.state.setMembers(A.members),this.state.setOwnCapabilities(A.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(A.call.settings,!1),A},this.getOrCreate=async e=>{await this.setup();const A=await this.streamClient.post(this.streamClientBasePath,e);return this.state.updateFromCallResponse(A.call),this.state.setMembers(A.members),this.state.setOwnCapabilities(A.own_capabilities),e?.ring&&this.ringingSubject.next(!0),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),await this.applyDeviceConfig(A.call.settings,!1),A},this.create=async e=>this.getOrCreate(e),this.delete=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.streamClient.post(`${A.streamClientBasePath}/delete`,e)},this.ring=async()=>await this.get({ring:!0}),this.notify=async()=>await this.get({notify:!0}),this.accept=async()=>this.streamClient.post(`${this.streamClientBasePath}/accept`),this.reject=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"decline";return A.streamClient.post(`${A.streamClientBasePath}/reject`,{reason:e})},this.join=async function(){let{maxJoinRetries:e=3,...t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};await A.setup();const n=A.state.callingState;if([bo.JOINED,bo.JOINING].includes(n))throw new Error("Illegal State: call.join() shall be called only once");A.state.setCallingState(bo.JOINING),e=Math.max(e,1);for(let s=0;s<e;s++){try{return A.logger("trace",`Joining call (${s})`,A.cid),await A.doJoin(t)}catch(r){if(A.logger("warn",`Failed to join call (${s})`,A.cid),s===e-1)throw A.state.setCallingState(n),r}await Pi(Vi(s))}},this.doJoin=async e=>{const A=Date.now(),t=this.state.callingState;this.joinCallData=e,this.logger("debug","Starting join flow"),this.state.setCallingState(bo.JOINING);const n=this.reconnectStrategy===ns.MIGRATE,r=this.reconnectStrategy===ns.REJOIN,s=this.reconnectStrategy===ns.FAST;let i=this.sfuStatsReporter?.options;if(!this.credentials||!i||r||n)try{const A=await this.doJoinRequest(e);this.credentials=A.credentials,i=A.stats_options}catch(d){throw this.state.callingState===bo.OFFLINE||this.state.setCallingState(t),d}const o=this.sfuClient,a=o?.sessionId,c=!!o?.isHealthy,l=r||n||!c?new Ga({logTag:String(++this.sfuClientTag),dispatcher:this.dispatcher,credentials:this.credentials,streamClient:this.streamClient,enableTracing:i.enable_rtc_stats,sessionId:r?void 0:a,onSignalClose:e=>this.handleSfuSignalClose(l,e)}):o;this.sfuClient=l,this.dynascaleManager.setSfuClient(l);const u=await ga();if(o!==l){const[A,n]=await Promise.all([ro("recvonly"),ro("sendonly")]),r=this.reconnectStrategy!==ns.UNSPECIFIED,i=r?this.getReconnectDetails(e?.migrating_from,a):void 0,o=r?this.currentPublishOptions||[]:this.getPreferredPublishOptions(),c=r?[]:this.getPreferredSubscribeOptions();try{const{callState:e,fastReconnectDeadlineSeconds:t,publishOptions:r}=await l.join({subscriberSdp:A,publisherSdp:n,clientDetails:u,fastReconnect:s,reconnectDetails:i,preferredPublishOptions:o,preferredSubscribeOptions:c});this.currentPublishOptions=r,this.fastReconnectDeadlineSeconds=t,e&&this.state.updateFromSfuCallState(e,l.sessionId,i)}catch(d){throw this.logger("warn","Join SFU request failed",d),l.close(Ga.ERROR_CONNECTION_UNHEALTHY,"Join request failed, connection considered unhealthy"),this.state.setCallingState(t),d}}if(n||this.state.setCallingState(bo.JOINED),this.hasJoinedOnce=!0,s)await this.restoreICE(l,{includeSubscriber:!1});else{const e={bundlePolicy:"max-bundle",iceServers:this.credentials.ice_servers.map((e=>({urls:e.urls,username:e.username,credential:e.password})))};this.initPublisherAndSubscriber({sfuClient:l,connectionConfig:e,clientDetails:u,statsOptions:i,publishOptions:this.currentPublishOptions||[],closePreviousInstances:!n})}if(r||s||n||this.sfuStatsReporter?.sendConnectionTime((Date.now()-A)/1e3),r&&c){const e=ns[this.reconnectStrategy];await(o?.leaveAndClose(`Closing previous WS after reconnect with strategy: ${e}`))}else c||o?.close(Ga.DISPOSE_OLD_SOCKET,"Closing unhealthy WS after reconnect");!this.deviceSettingsAppliedOnce&&this.state.settings&&(await this.applyDeviceConfig(this.state.settings,!0),this.deviceSettingsAppliedOnce=!0),delete this.joinCallData?.ring,delete this.joinCallData?.notify,this.reconnectStrategy=ns.UNSPECIFIED,this.reconnectReason="",this.logger("info",`Joined call ${this.cid}`)},this.getReconnectDetails=(e,A)=>{const t=this.reconnectStrategy,n=t===ns.REJOIN;return{strategy:t,announcedTracks:this.publisher?.getAnnouncedTracksForReconnect()||[],subscriptions:this.dynascaleManager.trackSubscriptions,reconnectAttempt:this.reconnectAttempts,fromSfuId:e||"",previousSessionId:n&&A||"",reason:this.reconnectReason}},this.getPreferredPublishOptions=()=>{const{preferredCodec:e,fmtpLine:A,preferredBitrate:t,maxSimulcastLayers:n}=this.clientPublishOptions||{};if(!e&&!t&&!n)return[];const r=e?gs.create({name:e.split("/").pop(),fmtp:A}):void 0,s=[ps.create({trackType:qr.VIDEO,codec:r,bitrate:t,maxSpatialLayers:n})],i=this.screenShare.getSettings();return i&&s.push(ps.create({trackType:qr.SCREEN_SHARE,fps:i.maxFramerate,bitrate:i.maxBitrate})),s},this.getPreferredSubscribeOptions=()=>{const{subscriberCodec:e,subscriberFmtpLine:A}=this.clientPublishOptions||{};return e&&A?[hs.create({trackType:qr.VIDEO,codecs:[{name:e.split("/").pop(),fmtp:A}]})]:[]},this.restoreICE=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{includeSubscriber:n=!0,includePublisher:r=!0}=t;A.subscriber&&(A.subscriber.setSfuClient(e),n&&await A.subscriber.restartIce()),A.publisher&&(A.publisher.setSfuClient(e),r&&await A.publisher.restartIce())},this.initPublisherAndSubscriber=e=>{const{sfuClient:A,connectionConfig:t,clientDetails:n,statsOptions:r,publishOptions:s,closePreviousInstances:i}=e,{enable_rtc_stats:o}=r;i&&this.subscriber&&this.subscriber.dispose(),this.subscriber=new Oa({sfuClient:A,dispatcher:this.dispatcher,state:this.state,connectionConfig:t,logTag:String(this.sfuClientTag),enableTracing:o,onUnrecoverableError:e=>{this.reconnect(ns.REJOIN,e).catch((A=>{this.logger("warn",`[Reconnect] Error reconnecting after a subscriber error: ${e}`,A)}))}});"anonymous"===this.streamClient.user?.type||(i&&this.publisher&&this.publisher.dispose(),this.publisher=new _a({sfuClient:A,dispatcher:this.dispatcher,state:this.state,connectionConfig:t,publishOptions:s,logTag:String(this.sfuClientTag),enableTracing:o,onUnrecoverableError:e=>{this.reconnect(ns.REJOIN,e).catch((A=>{this.logger("warn",`[Reconnect] Error reconnecting after a publisher error: ${e}`,A)}))}})),this.statsReporter?.stop(),this.statsReporter=(e=>{let{subscriber:A,publisher:t,state:n,datacenter:r,pollingIntervalInMs:s=2e3}=e;const i=to(["stats"]),o=async(e,n)=>"subscriber"===e&&A?A.getStats(n):"publisher"===e&&t?t.getStats(n):void 0,a=async(e,n)=>{const r="subscriber"===e?A:t;if(!r)return[];const s=[];for(const A of n){const t=await r.getStats(A),n=ta(t,{trackKind:A.kind,kind:e,publisher:void 0});s.push(n)}return s},c=new Set,l=async()=>{const e={};if(c.size>0){const A=new Set(c);for(const r of n.participants){if(!A.has(r.sessionId))continue;const{audioStream:n,isLocalParticipant:s,sessionId:o,userId:c,videoStream:l}=r,u=s?"publisher":"subscriber";try{const A=s?t?.getPublishedTracks()||[]:[...l?.getVideoTracks()||[],...n?.getAudioTracks()||[]];e[o]=await a(u,A)}catch(h){i("warn",`Failed to collect ${u} stats for ${c}`,h)}}}const[A,s]=await Promise.all([o("subscriber"),t?o("publisher"):void 0]),l=(e,A)=>ra(ta(e,{kind:A,trackKind:"video",publisher:t})),u=A?l(A,"subscriber"):na(),d=s?l(s,"publisher"):na();n.setCallStatsReport({datacenter:r,publisherStats:d,subscriberStats:u,subscriberRawStats:A,publisherRawStats:s,participants:e,timestamp:Date.now()})};let u;if(s>0){const e=async()=>{await l().catch((e=>{i("debug","Failed to collect stats",e)})),u=setTimeout(e,s)};e()}return{getRawStatsForTrack:o,getStatsForStream:a,startReportingStatsFor:e=>{c.add(e),l()},stopReportingStatsFor:e=>{c.delete(e),l()},stop:()=>{u&&clearTimeout(u)}}})({subscriber:this.subscriber,publisher:this.publisher,state:this.state,datacenter:A.edgeName}),this.tracer.setEnabled(o),this.sfuStatsReporter?.stop(),r?.reporting_interval_ms>0&&(this.unifiedSessionId??(this.unifiedSessionId=A.sessionId),this.sfuStatsReporter=new fa(A,{clientDetails:n,options:r,subscriber:this.subscriber,publisher:this.publisher,microphone:this.microphone,camera:this.camera,state:this.state,tracer:this.tracer,unifiedSessionId:this.unifiedSessionId}),this.sfuStatsReporter.start())},this.doJoinRequest=async e=>{const A=await this.streamClient.getLocationHint(),t={...e,location:A},n=await this.streamClient.post(`${this.streamClientBasePath}/join`,t);this.state.updateFromCallResponse(n.call),this.state.setMembers(n.members),this.state.setOwnCapabilities(n.own_capabilities),e?.ring&&this.ringingSubject.next(!0);return this.reconnectStrategy!==ns.UNSPECIFIED||!this.ringing||this.isCreatedByMe||await this.accept(),this.streamClient._hasConnectionID()&&(this.watching=!0,this.clientStore.registerCall(this)),n},this.handleSfuSignalClose=(e,A)=>{this.logger("debug","[Reconnect] SFU signal connection closed");const{callingState:t}=this.state;t!==bo.JOINING&&t!==bo.RECONNECTING&&t!==bo.IDLE&&t!==bo.LEFT&&(e.isLeaving||e.isClosing||this.reconnect(ns.REJOIN,A).catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))},this.reconnect=async(e,A)=>{if(this.state.callingState!==bo.RECONNECTING&&this.state.callingState!==bo.MIGRATING&&this.state.callingState!==bo.RECONNECTING_FAILED)return uo(this.reconnectConcurrencyTag,(async()=>{const t=Date.now();this.reconnectStrategy=e,this.reconnectReason=A;do{if(this.disconnectionTimeoutSeconds>0&&(Date.now()-t)/1e3>this.disconnectionTimeoutSeconds)return this.logger("warn","[Reconnect] Stopping reconnection attempts after reaching disconnection timeout"),void this.state.setCallingState(bo.RECONNECTING_FAILED);this.reconnectStrategy!==ns.FAST&&this.reconnectAttempts++;const e=ns[this.reconnectStrategy];try{switch(await(this.networkAvailableTask?.promise),this.logger("info",`[Reconnect] Reconnecting with strategy ${ns[this.reconnectStrategy]}`),this.reconnectStrategy){case ns.UNSPECIFIED:case ns.DISCONNECT:this.logger("debug",`[Reconnect] No-op strategy ${e}`);break;case ns.FAST:await this.reconnectFast();break;case ns.REJOIN:await this.reconnectRejoin();break;case ns.MIGRATE:await this.reconnectMigrate();break;default:Ea(this.reconnectStrategy,"Unknown reconnection strategy")}break}catch(n){if(this.state.callingState===bo.OFFLINE){this.logger("trace","[Reconnect] Can't reconnect while offline, stopping reconnection attempts");break}if(n instanceof Mr&&n.unrecoverable)return this.logger("warn","[Reconnect] Can't reconnect due to coordinator unrecoverable error",n),void this.state.setCallingState(bo.RECONNECTING_FAILED);this.logger("warn",`[Reconnect] ${e} (${this.reconnectAttempts}) failed. Attempting with REJOIN`,n),await Pi(500),this.reconnectStrategy=ns.REJOIN}}while(this.state.callingState!==bo.JOINED&&this.state.callingState!==bo.RECONNECTING_FAILED&&this.state.callingState!==bo.LEFT);this.logger("info","[Reconnect] Reconnection flow finished")}))},this.reconnectFast=async()=>{const e=Date.now();this.reconnectStrategy=ns.FAST,this.state.setCallingState(bo.RECONNECTING),await this.doJoin(this.joinCallData),this.sfuStatsReporter?.sendReconnectionTime(ns.FAST,(Date.now()-e)/1e3)},this.reconnectRejoin=async()=>{const e=Date.now();this.reconnectStrategy=ns.REJOIN,this.state.setCallingState(bo.RECONNECTING),await this.doJoin(this.joinCallData),await this.restorePublishedTracks(),this.restoreSubscribedTracks(),this.sfuStatsReporter?.sendReconnectionTime(ns.REJOIN,(Date.now()-e)/1e3)},this.reconnectMigrate=async()=>{const e=Date.now(),A=this.sfuClient;if(!A)throw new Error("Cannot migrate without an active SFU client");this.reconnectStrategy=ns.MIGRATE,this.state.setCallingState(bo.MIGRATING);const t=this.subscriber,n=this.publisher;t?.detachEventHandlers(),n?.detachEventHandlers();const r=Da(A.enterMigration());try{const e=A.edgeName;await this.doJoin({...this.joinCallData,migrating_from:e})}finally{delete this.joinCallData?.migrating_from}await this.restorePublishedTracks(),this.restoreSubscribedTracks();try{await r(),this.state.setCallingState(bo.JOINED)}finally{t?.dispose(),n?.dispose(),A.close(Ga.NORMAL_CLOSURE,"Migrating away")}this.sfuStatsReporter?.sendReconnectionTime(ns.MIGRATE,(Date.now()-e)/1e3)},this.registerReconnectHandlers=()=>{const e=this.on("goAway",(()=>{this.reconnect(ns.MIGRATE,"goAway").catch((e=>this.logger("warn","[Reconnect] Error reconnecting",e)))})),A=this.on("error",(e=>{const{reconnectStrategy:A,error:t}=e;A!==ns.UNSPECIFIED&&(A===ns.DISCONNECT?this.leave({message:"SFU instructed to disconnect"}).catch((e=>{this.logger("warn","Can't leave call after disconnect request",e)})):this.reconnect(A,t?.message||"SFU Error").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting",e)})))})),t=this.streamClient.on("network.changed",(e=>{if(this.tracer.trace("network.changed",e),e.online)this.logger("debug","[Reconnect] Going online"),this.sfuClient?.close(Ga.DISPOSE_OLD_SOCKET,"Closing WS to reconnect after going online"),this.networkAvailableTask?.resolve(),this.networkAvailableTask=void 0,this.sfuStatsReporter?.start();else{if(this.logger("debug","[Reconnect] Going offline"),!this.hasJoinedOnce)return;this.lastOfflineTimestamp=Date.now();const e=La();e.promise.then((()=>{let e=ns.FAST;if(this.lastOfflineTimestamp){(Date.now()-this.lastOfflineTimestamp)/1e3>this.fastReconnectDeadlineSeconds&&(e=ns.REJOIN)}this.reconnect(e,"Going online").catch((e=>{this.logger("warn","[Reconnect] Error reconnecting after going online",e)}))})),this.networkAvailableTask=e,this.sfuStatsReporter?.stop(),this.state.setCallingState(bo.OFFLINE)}}));this.leaveCallHooks.add(e).add(A).add(t)},this.restorePublishedTracks=async()=>{for(const e of this.trackPublishOrder){let A;switch(e){case qr.AUDIO:A=this.microphone.state.mediaStream;break;case qr.VIDEO:A=this.camera.state.mediaStream;break;case qr.SCREEN_SHARE:A=this.screenShare.state.mediaStream;break;case qr.SCREEN_SHARE_AUDIO:case qr.UNSPECIFIED:break;default:Ea(e,"Unknown track type")}A&&await this.publish(A,e)}},this.restoreSubscribedTracks=()=>{const{remoteParticipants:e}=this.state;e.length<=0||this.dynascaleManager.applyTrackSubscriptions(void 0)},this.publishVideoStream=async e=>{await this.publish(e,qr.VIDEO)},this.publishAudioStream=async e=>{await this.publish(e,qr.AUDIO)},this.publishScreenShareStream=async e=>{await this.publish(e,qr.SCREEN_SHARE)},this.publish=async(e,A)=>{if(!this.sfuClient)throw new Error("Call not joined yet.");if(await this.sfuClient.joinTask,!this.permissionsContext.canPublish(A))throw new Error(`No permission to publish ${qr[A]}`);if(!this.publisher)throw new Error("Publisher is not initialized");const[t]=Sa(A)?e.getAudioTracks():e.getVideoTracks();if(!t)throw new Error(`There is no ${qr[A]} track in the stream`);if("ended"===t.readyState)throw new Error("Can't publish ended tracks.");nc(this.trackPublishOrder,A),await this.publisher.publish(t,A);const n=[A];if(A===qr.SCREEN_SHARE){const[A]=e.getAudioTracks();A&&(nc(this.trackPublishOrder,qr.SCREEN_SHARE_AUDIO),await this.publisher.publish(A,qr.SCREEN_SHARE_AUDIO),n.push(qr.SCREEN_SHARE_AUDIO))}"video"===t.kind&&this.sfuStatsReporter?.scheduleOne(3e3),await this.updateLocalStreamState(e,...n)},this.stopPublish=async function(){if(A.sfuClient&&A.publisher){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];A.publisher.stopTracks(...t),await A.updateLocalStreamState(void 0,...t)}},this.updateLocalStreamState=async function(e){if(!A.sfuClient||!A.sfuClient.sessionId)return;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];await A.notifyTrackMuteState(!e,...n);const{sessionId:s}=A.sfuClient;for(const i of n){const t=Fa(i);t&&A.state.updateParticipant(s,(A=>({publishedTracks:e?nc([...A.publishedTracks],i):A.publishedTracks.filter((e=>e!==i)),[t]:e})))}},this.updatePublishOptions=e=>{this.logger("warn","[call.updatePublishOptions]: You are manually overriding the publish options for this call. This is not recommended, and it can cause call stability/compatibility issues. Use with caution."),this.state.callingState===bo.JOINED&&this.logger("warn","Updating publish options after joining the call does not have an effect"),this.clientPublishOptions={...this.clientPublishOptions,...e}},this.notifyNoiseCancellationStarting=async()=>this.sfuClient?.startNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify start of noise cancellation",e)})),this.notifyNoiseCancellationStopped=async()=>this.sfuClient?.stopNoiseCancellation().catch((e=>{this.logger("warn","Failed to notify stop of noise cancellation",e)})),this.notifyTrackMuteState=async function(e){if(A.sfuClient){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];await A.sfuClient.updateMuteStates(n.map((A=>({trackType:A,muted:e}))))}},this.startReportingStatsFor=e=>this.statsReporter?.startReportingStatsFor(e),this.stopReportingStatsFor=e=>this.statsReporter?.stopReportingStatsFor(e),this.resetReaction=e=>{this.state.updateParticipant(e,{reaction:void 0})},this.setSortParticipantsBy=e=>this.state.setSortParticipantsBy(e),this.sendReaction=async e=>this.streamClient.post(`${this.streamClientBasePath}/reaction`,e),this.blockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/block`,{user_id:e}),this.unblockUser=async e=>this.streamClient.post(`${this.streamClientBasePath}/unblock`,{user_id:e}),this.muteSelf=e=>{const A=this.currentUserId;if(A)return this.muteUser(A,e)},this.muteOthers=e=>{const A=(e=>{switch(e){case"audio":return qr.AUDIO;case"video":return qr.VIDEO;case"screenshare":return qr.SCREEN_SHARE;case"screenshare_audio":return qr.SCREEN_SHARE_AUDIO;default:Ea(e,"Unknown mute type")}})(e);if(!A)return;const t=[];for(const n of this.state.remoteParticipants)n.publishedTracks.includes(A)&&t.push(n.userId);return t.length>0?this.muteUser(t,e):void 0},this.muteUser=(e,A)=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{user_ids:Array.isArray(e)?e:[e],[A]:!0}),this.muteAllUsers=e=>this.streamClient.post(`${this.streamClientBasePath}/mute_users`,{mute_all_users:!0,[e]:!0}),this.startRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_recording`,e||{}),this.stopRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_recording`,{}),this.startTranscription=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_transcription`,e),this.stopTranscription=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_transcription`),this.startClosedCaptions=async e=>{const A=this.state.setCaptioning(!0);try{return await this.streamClient.post(`${this.streamClientBasePath}/start_closed_captions`,e)}catch(t){throw A.rollback(),t}},this.stopClosedCaptions=async e=>{const A=this.state.setCaptioning(!1);try{return await this.streamClient.post(`${this.streamClientBasePath}/stop_closed_captions`,e)}catch(t){throw A.rollback(),t}},this.updateClosedCaptionSettings=e=>{this.state.updateClosedCaptionSettings(e)},this.requestPermissions=async e=>{const{permissions:A}=e;if(!A.every((e=>this.permissionsContext.canRequest(e))))throw new Error(`You are not allowed to request permissions: ${A.join(", ")}`);return this.streamClient.post(`${this.streamClientBasePath}/request_permission`,e)},this.grantPermissions=async(e,A)=>this.updateUserPermissions({user_id:e,grant_permissions:A}),this.revokePermissions=async(e,A)=>this.updateUserPermissions({user_id:e,revoke_permissions:A}),this.updateUserPermissions=async e=>this.streamClient.post(`${this.streamClientBasePath}/user_permissions`,e),this.goLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return A.streamClient.post(`${A.streamClientBasePath}/go_live`,e,t)},this.stopLive=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return A.streamClient.post(`${A.streamClientBasePath}/stop_live`,e)},this.startHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/start_broadcasting`,{}),this.stopHLS=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_broadcasting`,{}),this.startRTMPBroadcasts=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts`,e),this.stopAllRTMPBroadcasts=async()=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/stop`),this.stopRTMPBroadcast=async e=>this.streamClient.post(`${this.streamClientBasePath}/rtmp_broadcasts/${e}/stop`),this.startFrameRecording=async e=>this.streamClient.post(`${this.streamClientBasePath}/start_frame_recording`,e),this.stopFrameRecording=async()=>this.streamClient.post(`${this.streamClientBasePath}/stop_frame_recording`),this.update=async e=>{const A=await this.streamClient.patch(`${this.streamClientBasePath}`,e),{call:t,members:n,own_capabilities:r}=A;return this.state.updateFromCallResponse(t),this.state.setMembers(n),this.state.setOwnCapabilities(r),A},this.endCall=async()=>this.streamClient.post(`${this.streamClientBasePath}/mark_ended`),this.pin=e=>{this.state.updateParticipant(e,{pin:{isLocalPin:!0,pinnedAt:Date.now()}})},this.unpin=e=>{this.state.updateParticipant(e,{pin:void 0})},this.pinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/pin`,e),this.unpinForEveryone=async e=>this.streamClient.post(`${this.streamClientBasePath}/unpin`,e),this.queryMembers=e=>this.streamClient.post("/call/members",{...e||{},id:this.id,type:this.type}),this.updateCallMembers=async e=>this.streamClient.post(`${this.streamClientBasePath}/members`,e),this.scheduleAutoDrop=()=>{this.cancelAutoDrop();const e=this.state.settings;if(!e)return;if(this.state.callingState!==bo.RINGING)return;const A=this.isCreatedByMe?e.ring.auto_cancel_timeout_ms:e.ring.incoming_call_timeout_ms;A<=0||(this.dropTimeout=setTimeout((()=>{this.state.callingState===bo.RINGING&&this.leave({reject:!0,reason:"timeout",message:"ringing timeout - "+(this.isCreatedByMe?"no one accepted":"user didn't interact with incoming call screen")}).catch((e=>{this.logger("error","Failed to drop call",e)}))}),A))},this.cancelAutoDrop=()=>{clearTimeout(this.dropTimeout),this.dropTimeout=void 0},this.queryRecordings=async e=>{let A=this.streamClientBasePath;return e&&(A=`${A}/${e}`),this.streamClient.get(`${A}/recordings`)},this.queryTranscriptions=async()=>this.streamClient.get(`${this.streamClientBasePath}/transcriptions`),this.getCallStats=async e=>{const A=`${this.streamClientBasePath}/stats/${e}`;return this.streamClient.get(A)},this.getCallReport=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=`${A.streamClientBasePath}/report`,n=""!==e?{session_id:e}:{};return A.streamClient.get(t,n)},this.submitFeedback=async function(e){let{reason:t,custom:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{sdkName:r,sdkVersion:s,...i}=(e=>{const{sdk:A,...t}=e;return{sdkName:qo(A),sdkVersion:Zo(A),...t}})(await ga());return A.streamClient.post(`${A.streamClientBasePath}/feedback`,{rating:e,reason:t,user_session_id:A.sfuClient?.sessionId,sdk:r,sdk_version:s,custom:{...n,"x-stream-platform-data":i}})},this.sendCustomEvent=async e=>this.streamClient.post(`${this.streamClientBasePath}/event`,{custom:e}),this.applyDeviceConfig=async(e,A)=>{await this.camera.apply(e.video,A).catch((e=>{this.logger("warn","Camera init failed",e)})),await this.microphone.apply(e.audio,A).catch((e=>{this.logger("warn","Mic init failed",e)}))},this.trackElementVisibility=(e,A,t)=>this.dynascaleManager.trackElementVisibility(e,A,t),this.setViewport=e=>this.dynascaleManager.setViewport(e),this.bindVideoElement=(e,A,t)=>{const n=this.dynascaleManager.bindVideoElement(e,A,t);if(n)return this.leaveCallHooks.add(n),()=>{this.leaveCallHooks.delete(n),n()}},this.bindAudioElement=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"audioTrack";const r=A.dynascaleManager.bindAudioElement(e,t,n);if(r)return A.leaveCallHooks.add(r),()=>{A.leaveCallHooks.delete(r),r()}},this.bindCallThumbnailElement=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=()=>{e.src=t.fallbackImageSource||"https://getstream.io/random_svg/?name=x&id=x"},r=Co(A.state.thumbnails$,(A=>{if(!A)return;e.addEventListener("error",n);const t=new URL(A.image_url);t.searchParams.set("w",String(e.clientWidth)),t.searchParams.set("h",String(e.clientHeight)),e.src=t.toString()}));return()=>{r(),e.removeEventListener("error",n)}},this.setPreferredIncomingVideoResolution=(e,A)=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?{enabled:!0,dimension:e}:void 0,A),this.dynascaleManager.applyTrackSubscriptions()},this.setIncomingVideoEnabled=e=>{this.dynascaleManager.setVideoTrackSubscriptionOverrides(e?void 0:{enabled:!1}),this.dynascaleManager.applyTrackSubscriptions()},this.setDisconnectionTimeout=e=>{this.disconnectionTimeoutSeconds=e},this.type=t,this.id=n,this.cid=`${t}:${n}`,this.ringingSubject=new or(c),this.watching=l,this.streamClient=r,this.clientStore=a,this.streamClientBasePath=`/call/${this.type}/${this.id}`,this.logger=to(["Call"]);const u=wc.get(t),d=o||u.options.sortParticipantsBy;d&&this.state.setSortParticipantsBy(d),this.state.setMembers(s||[]),this.state.setOwnCapabilities(i||[]),this.state.setCallingState(c?bo.RINGING:bo.IDLE),this.camera=new Mc(this),this.microphone=new Wc(this),this.speaker=new Zc(this),this.screenShare=new Yc(this),this.dynascaleManager=new fc(this.state,this.speaker)}get ringing(){return mo(this.ringingSubject)}get currentUserId(){return this.clientStore.connectedUser?.id}get isCreatedByMe(){return this.state.createdBy?.id===this.currentUserId}}class el{constructor(e){var A=this;this._log=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info";A.client.logger(n,`connection:${e}`,t)},this.setClient=e=>{this.client=e},this._buildUrl=()=>{const e=new URLSearchParams;return e.set("api_key",this.client.key),e.set("stream-auth-type",this.client.getAuthType()),e.set("X-Stream-Client",this.client.getUserAgent()),`${this.client.wsBaseURL}/connect?${e.toString()}`},this.onlineStatusChanged=e=>{"offline"===e.type?(this._log("onlineStatusChanged() - Status changing to offline"),this._setHealth(!1,!0)):"online"===e.type&&(this._log(`onlineStatusChanged() - Status changing to online. isHealthy: ${this.isHealthy}`),this.isHealthy||this._reconnect({interval:10}))},this.onopen=e=>{if(this.wsID!==e)return;const A=this.client.user;if(!A)return void this.client.logger("error","User not set, can't connect to WS");const t=this.client._getToken();if(!t)return void this.client.logger("error","Token not set, can't connect authenticate");const n=JSON.stringify({token:t,user_details:{id:A.id,name:A.name,image:A.image,custom:A.custom}});this._log(`onopen() - Sending auth message ${n}`,{},"trace"),this.ws?.send(n),this._log("onopen() - onopen callback",{wsID:e})},this.onmessage=(e,A)=>{if(this.wsID!==e)return;this._log("onmessage() - onmessage callback",{event:A,wsID:e});const t="string"===typeof A.data?JSON.parse(A.data):null;if(!this.isConnectionOpenResolved&&t&&"connection.error"===t.type&&(this.isConnectionOpenResolved=!0,t.error))this.rejectConnectionOpen?.(this._errorFromWSEvent(t,!1));else{if(this.lastEvent=new Date,!t||"health.check"!==t.type&&"connection.ok"!==t.type||this.scheduleNextPing(),t&&"connection.ok"===t.type&&(this.resolveConnectionOpen?.(t),this._setHealth(!0)),t&&"connection.error"===t.type&&t.error){const{code:e}=t.error;this.isHealthy=!1,this.isConnecting=!1,this.consecutiveFailures+=1,e!==Ki||this.client.tokenManager.isStatic()||(clearTimeout(this.connectionCheckTimeoutRef),this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0}))}t&&(t.received_at=new Date,this.client.dispatchEvent(t)),this.scheduleConnectionCheck()}},this.onclose=(e,A)=>{if(this.wsID===e)if(this._log("onclose() - onclose callback - "+A.code,{event:A,wsID:e}),A.code===Mi){const e=new Error(`WS connection reject with error ${A.reason}`);e.reason=A.reason,e.code=A.code,e.wasClean=A.wasClean,e.target=A.target,this.rejectConnectionOpen?.(e),this._log(`onclose() - WS connection reject with error ${A.reason}`,{event:A})}else this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(this._errorFromWSEvent(A)),this._log("onclose() - WS connection closed. Calling reconnect ...",{event:A}),this._reconnect()},this.onerror=(e,A)=>{this.wsID===e&&(this.consecutiveFailures+=1,this.totalFailures+=1,this._setHealth(!1),this.isConnecting=!1,this.rejectConnectionOpen?.(new Error(`WebSocket error: ${A}`)),this._log("onerror() - WS connection resulted into error",{event:A}),this._reconnect())},this._setHealth=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e!==A.isHealthy&&(A.isHealthy=e,A.isHealthy||t?A.client.dispatchEvent({type:"connection.changed",online:A.isHealthy}):setTimeout((()=>{A.isHealthy||A.client.dispatchEvent({type:"connection.changed",online:A.isHealthy})}),5e3))},this._errorFromWSEvent=function(e){let t,n,r,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(function(e){return void 0!==e.code}(e))t=e.code,r=e.reason,n=0;else{const{error:A}=e;t=A.code,r=A.message,n=A.StatusCode}const i=`WS failed with code: ${t} and reason: ${r}`;A._log(i,{event:e},"warn");const o=new Error(i);return o.code=t,o.StatusCode=n,o.isWSFailure=s,o},this._setupConnectionPromise=()=>{this.isConnectionOpenResolved=!1,this.connectionOpenSafe=Da(new Promise(((e,A)=>{this.resolveConnectionOpen=e,this.rejectConnectionOpen=A})))},this.scheduleNextPing=()=>{const e=ja();this.healthCheckTimeoutRef&&e.clearTimeout(this.healthCheckTimeoutRef),this.healthCheckTimeoutRef=e.setTimeout((()=>{const e=[{type:"health.check",client_id:this.client.clientID}];try{this.ws?.send(JSON.stringify(e))}catch{}}),this.pingInterval)},this.scheduleConnectionCheck=()=>{clearTimeout(this.connectionCheckTimeoutRef),this.connectionCheckTimeoutRef=setTimeout((()=>{const e=new Date;this.lastEvent&&e.getTime()-this.lastEvent.getTime()>this.connectionCheckTimeout&&(this._log("scheduleConnectionCheck - going to reconnect"),this._setHealth(!1),this._reconnect())}),this.connectionCheckTimeout)},this.client=e,this.consecutiveFailures=0,this.totalFailures=0,this.isConnecting=!1,this.isDisconnected=!1,this.isConnectionOpenResolved=!1,this.isHealthy=!1,this.wsID=1,this.lastEvent=null,this.pingInterval=25e3,this.connectionCheckTimeout=this.pingInterval+1e4,$i(this.onlineStatusChanged)}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;if(this.isConnecting)throw Error("You've called connect twice, can only attempt 1 connection at the time");this.isDisconnected=!1;try{const e=await this._connect();this.consecutiveFailures=0,this._log(`connect() - Established ws connection with healthcheck: ${e}`)}catch(A){if(this.isHealthy=!1,this.consecutiveFailures+=1,A.code!==Ki||this.client.tokenManager.isStatic()){if(!A.isWSFailure)throw new Error(JSON.stringify({code:A.code,StatusCode:A.StatusCode,message:A.message,isWSFailure:A.isWSFailure}))}else this._log("connect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0})}return await this._waitForHealthy(e)}async _waitForHealthy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:15e3;return Promise.race([(async()=>{for(let t=0;t<=e;t+=50)try{return await this.connectionOpen}catch(A){if(t===e)throw new Error(JSON.stringify({code:A.code,StatusCode:A.StatusCode,message:A.message,isWSFailure:A.isWSFailure}));await Pi(50)}})(),(async()=>{throw await Pi(e),this.isConnecting=!1,new Error(JSON.stringify({code:"",StatusCode:"",message:"initial WS connection could not be established",isWSFailure:!0}))})()])}disconnect(e){let A;this._log(`disconnect() - Closing the websocket connection for wsID ${this.wsID}`),this.wsID+=1,this.isConnecting=!1,this.isDisconnected=!0,this.healthCheckTimeoutRef&&ja().clearInterval(this.healthCheckTimeoutRef),this.connectionCheckTimeoutRef&&clearInterval(this.connectionCheckTimeoutRef),Wi(this.onlineStatusChanged),this.isHealthy=!1;const{ws:t}=this;return t&&t.close&&t.readyState===t.OPEN?(A=new Promise((A=>{const n=e=>{this._log(`disconnect() - resolving isClosedPromise ${e?"with":"without"} close frame`,{event:e}),A()};t.onclose=n,setTimeout(n,null!=e?e:1e3)})),this._log("disconnect() - Manually closed connection by calling client.disconnect()"),t.close(Mi,"Manually closed connection by calling client.disconnect()")):(this._log("disconnect() - ws connection doesn't exist or it is already closed."),A=Promise.resolve()),delete this.ws,A}async _connect(){if(this.isConnecting)return;this.isConnecting=!0;let e=!1;try{this._log("_connect() - waiting for token"),await this.client.tokenManager.tokenReady(),e=!0}catch{}try{e||(this._log("_connect() - tokenProvider failed before, so going to retry"),await this.client.tokenManager.loadToken()),this.client.isConnectionIsPromisePending||this.client._setupConnectionIdPromise(),this._setupConnectionPromise();const A=this._buildUrl();this._log(`_connect() - Connecting to ${A}`);const t=this.client.options.WebSocketImpl??WebSocket;this.ws=new t(A),this.ws.onopen=this.onopen.bind(this,this.wsID),this.ws.onclose=this.onclose.bind(this,this.wsID),this.ws.onerror=this.onerror.bind(this,this.wsID),this.ws.onmessage=this.onmessage.bind(this,this.wsID);const n=await this.connectionOpen;if(this.isConnecting=!1,n)return this.connectionID=n.connection_id,this.client.resolveConnectionId?.(this.connectionID),n}catch(A){throw this.client._setupConnectionIdPromise(),this.isConnecting=!1,this._log("_connect() - Error - ",A),this.client.rejectConnectionId?.(A),A}}async _reconnect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._log("_reconnect() - Initiating the reconnect"),this.isConnecting||this.isHealthy)return void this._log("_reconnect() - Abort (1) since already connecting or healthy");let A=e.interval;if(A||(A=Vi(this.consecutiveFailures)),await Pi(A),this.isConnecting||this.isHealthy)this._log("_reconnect() - Abort (2) since already connecting or healthy");else if(this.isDisconnected)this._log("_reconnect() - Abort (3) since disconnect() is called");else{this._log("_reconnect() - Destroying current WS connection"),this._destroyCurrentWSConnection(),e.refreshToken&&await this.client.tokenManager.loadToken();try{await this._connect(),this._log("_reconnect() - Waiting for recoverCallBack"),this._log("_reconnect() - Finished recoverCallBack"),this.consecutiveFailures=0}catch(t){if(this.isHealthy=!1,this.consecutiveFailures+=1,t.code===Ki&&!this.client.tokenManager.isStatic())return this._log("_reconnect() - WS failure due to expired token, so going to try to reload token and reconnect"),this._reconnect({refreshToken:!0});t.isWSFailure&&(this._log("_reconnect() - WS failure, so going to try to reconnect"),this._reconnect())}this._log("_reconnect() - == END ==")}}_destroyCurrentWSConnection(){this.wsID+=1;try{this?.ws?.close()}catch{}}get connectionOpen(){return this.connectionOpenSafe?.()}}const Al=e=>{const A={},t=String.fromCharCode,n=e.length;let r,s,i,o,a=0,c=0,l="";for(r=0;r<64;r++)A["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(r)]=r;for(i=0;i<n;i++)for(s=A[e.charAt(i)],a=(a<<6)+s,c+=6;c>=8;)((o=a>>>(c-=8)&255)||i<n-2)&&(l+=t(o));return l};class tl{constructor(e){this.loadTokenPromise=null,this.type="static",this.setTokenOrProvider=async(e,A,t)=>{this.user=A,this.isAnonymous=t,this.validateToken(e),Ni(e)&&(this.tokenProvider=e,this.type="provider"),"string"===typeof e&&(this.token=e,this.type="static"),await this.loadToken()},this.reset=()=>{this.token=void 0,this.tokenProvider=void 0,this.type="static",this.user=void 0,this.loadTokenPromise=null},this.validateToken=e=>{if(!this.user||!this.isAnonymous||e){if(!this.secret&&!e)throw new Error("User token can not be empty");if("string"!==typeof e&&!Ni(e))throw new Error("User token should either be a string or a function");if("string"===typeof e){if(this.isAnonymous&&""===e)return;const A=function(e){const A=e.split(".");if(3!==A.length)return"";const t=A[1],n=Al(t);return JSON.parse(n).user_id}(e);if(null!=e&&(null==A||""===A||!this.isAnonymous&&A!==this.user.id))throw new Error("userToken does not have a user_id or is not matching with user.id")}}},this.tokenReady=()=>this.loadTokenPromise,this.loadToken=()=>(this.loadTokenPromise=new Promise((async(e,A)=>{if("static"===this.type)return e(this.token);if(this.tokenProvider&&"string"!==typeof this.tokenProvider){try{const e=await this.tokenProvider();this.validateToken(e),this.token=e}catch(t){return A(new Error(`Call to tokenProvider failed with message: ${t}`))}e(this.token)}})),this.loadTokenPromise),this.getToken=()=>{if(this.token)return this.token;if(this.user&&!this.token)return this.token;throw new Error("User token is not set. Either client.connectUser wasn't called or client.disconnect was called")},this.isStatic=()=>"static"===this.type,this.secret=e}}const nl=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"https://hint.stream-io-video.com/",A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;const n=to(["location-hint"]);let r=0,s="ERR";do{const t=new AbortController,r=setTimeout((()=>t.abort()),A);try{const A=(await fetch(e,{method:"HEAD",signal:t.signal})).headers.get("x-amz-cf-pop")||"ERR";n("debug",`Location header: ${A}`),s=A.substring(0,3)}catch(i){n("warn",`Failed to get location hint from ${e}`,i),s="ERR"}finally{clearTimeout(r)}}while("ERR"===s&&++r<t);return s};class rl{constructor(e,A){var t=this;this.listeners={},this.getAuthType=()=>this.anonymous?"anonymous":"jwt",this.setBaseURL=e=>{this.baseURL=e,this.wsBaseURL=this.baseURL.replace("http","ws").replace(":3030",":8800")},this.getLocationHint=async(e,A)=>{const t=await this.locationHint;return t&&"ERR"!==t?t:(this.locationHint=nl(e??this.options.locationHintUrl,A??this.options.locationHintTimeout),this.locationHint)},this._getConnectionID=()=>this.wsConnection?.connectionID,this._hasConnectionID=()=>Boolean(this._getConnectionID()),this.connectUser=async(e,A)=>{if(!e.id)throw new Error('The "id" field on the user is missing');if(this.userID===e.id&&this.connectUserTask)return this.logger("warn","Consecutive calls to connectUser is detected, ideally you should only call this function once in your app."),this.connectUserTask;if(this.userID)throw new Error("Use client.disconnect() before trying to connect as a different user. connectUser was called twice.");!this.secret&&!this.node||this.options.allowServerSideConnect||this.logger("warn","Please do not use connectUser server side. Use our @stream-io/node-sdk instead: https://getstream.io/video/docs/api/"),this.userID=e.id,this.anonymous=!1,await this.tokenManager.setTokenOrProvider(A,e,!1),this._setUser(e),this.connectUserTask=this.openConnection();try{return $i(this.updateNetworkConnectionStatus),await this.connectUserTask}catch(t){throw this.persistUserOnConnectionFailure?await this.closeConnection():await this.disconnectUser(),t}},this._setUser=e=>{this.user=e,this.userID=e.id,this._user={...e}},this.closeConnection=async e=>{await(this.wsConnection?.disconnect(e))},this.openConnection=async()=>{if(!this.userID)throw Error("UserWithId is not set on client, use client.connectUser or client.connectAnonymousUser instead");const e=this.wsPromiseSafe?.();if(this.wsConnection?.isConnecting&&e)return this.logger("info","client:openConnection() - connection already in progress"),await e;if(this.wsConnection?.isHealthy&&this._hasConnectionID())return void this.logger("info","client:openConnection() - openConnection called twice, healthy connection already exists");this._setupConnectionIdPromise(),this.clientID=`${this.userID}--${Gi()}`;const A=this.connect();return this.wsPromiseSafe=Da(A),await A},this.disconnectUser=async e=>{this.logger("info","client:disconnect() - Disconnecting the client"),delete this.user,delete this._user,delete this.userID,this.anonymous=!1,await this.closeConnection(e),Wi(this.updateNetworkConnectionStatus),this.tokenManager.reset(),this.connectionIdPromiseSafe=void 0,this.rejectConnectionId=void 0,this.resolveConnectionId=void 0},this.connectGuestUser=async e=>{this.guestUserCreatePromise=this.doAxiosRequest("post","/guest",{user:e},{publicEndpoint:!0});const A=await this.guestUserCreatePromise;return this.guestUserCreatePromise.finally((()=>this.guestUserCreatePromise=void 0)),this.connectUser(A.user,A.access_token)},this.connectAnonymousUser=async(e,A)=>{$i(this.updateNetworkConnectionStatus),this._setupConnectionIdPromise(),this.anonymous=!0,await this.tokenManager.setTokenOrProvider(A,e,!0),this._setUser(e),this.resolveConnectionId?.()},this.on=(e,A)=>(this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Adding listener for ${e} event`),this.listeners[e]?.push(A),()=>{this.off(e,A)}),this.off=(e,A)=>{this.listeners[e]||(this.listeners[e]=[]),this.logger("debug",`Removing listener for ${e} event`),this.listeners[e]=this.listeners[e]?.filter((e=>e!==A))},this._setupConnectionIdPromise=()=>{this.connectionIdPromiseSafe=Da(new Promise(((e,A)=>{this.resolveConnectionId=e,this.rejectConnectionId=A})))},this._logApiRequest=(e,A,t,n)=>{"trace"===Ao()&&this.logger("trace",`client: ${e} - Request - ${A}`,{payload:t,config:n})},this._logApiResponse=(e,A,t)=>{"trace"===Ao()&&this.logger("trace",`client:${e} - Response - url: ${A} > status ${t.status}`,{response:t})},this._logApiError=(e,A,t)=>{this.logger("error",`client:${e} - Error - url: ${A}`,{url:A,error:t})},this.doAxiosRequest=async function(e,A,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if(!r.publicEndpoint){await Promise.all([t.tokenManager.tokenReady(),t.guestUserCreatePromise]);try{await t.connectionIdPromise}catch{await(t.wsConnection?._waitForHealthy()),await t.connectionIdPromise}}const s=t._enrichAxiosOptions(r);try{let r;switch(t._logApiRequest(e,A,n,s),e){case"get":r=await t.axiosInstance.get(A,s);break;case"delete":r=await t.axiosInstance.delete(A,s);break;case"post":r=await t.axiosInstance.post(A,n,s);break;case"put":r=await t.axiosInstance.put(A,n,s);break;case"patch":r=await t.axiosInstance.patch(A,n,s);break;case"options":r=await t.axiosInstance.options(A,s);break;default:throw new Error("Invalid request type")}return t._logApiResponse(e,A,r),t.consecutiveFailures=0,t.handleResponse(r)}catch(i){if(i.client_request_id=s.headers?.["x-client-request-id"],t.consecutiveFailures+=1,i.response)return t._logApiError(e,A,i.response),i.response.data.code!==Ki||t.tokenManager.isStatic()?t.handleResponse(i.response):(t.consecutiveFailures>1&&await Pi(Vi(t.consecutiveFailures)),await t.tokenManager.loadToken(),await t.doAxiosRequest(e,A,n,r));throw t._logApiError(e,A,i),i}},this.get=(e,A)=>this.doAxiosRequest("get",e,null,{params:A}),this.put=(e,A,t)=>this.doAxiosRequest("put",e,A,{params:t}),this.post=(e,A,t)=>this.doAxiosRequest("post",e,A,{params:t}),this.patch=(e,A,t)=>this.doAxiosRequest("patch",e,A,{params:t}),this.delete=(e,A)=>this.doAxiosRequest("delete",e,null,{params:A}),this.errorFromResponse=e=>{const{data:A,status:t}=e;return new Mr({message:`Stream error code ${A.code}: ${A.message}`,code:A.code??null,unrecoverable:A.unrecoverable??null,response:e,status:t})},this.handleResponse=e=>{const A=e.data;if(function(e){return!e.status||e.status<200||300<=e.status}(e))throw this.errorFromResponse(e);return A},this.dispatchEvent=e=>{if(this.logger("debug",`Dispatching event: ${e.type}`,e),this.listeners){for(const A of this.listeners.all||[])A(e);for(const A of this.listeners[e.type]||[])A(e)}},this.connect=async()=>{if(!this.userID||!this._user)throw Error("Call connectUser or connectAnonymousUser before starting the connection");if(!this.wsBaseURL)throw Error("Websocket base url not set");if(!this.clientID)throw Error("clientID is not set");return this.wsConnection=new el(this),this.logger("info","StreamClient.connect: this.wsConnection.connect()"),await this.wsConnection.connect(this.defaultWSTimeout)},this.getUserAgent=()=>{if(!this.cachedUserAgent){const{clientAppIdentifier:e={}}=this.options,{sdkName:A="js",sdkVersion:t="1.23.1",...n}=e;this.cachedUserAgent=[`stream-video-${A}-v${t}`,...Object.entries(n).map((e=>{let[A,t]=e;return`${A}=${t}`})),"client_bundle=browser-esm"].join("|")}return this.cachedUserAgent},this._enrichAxiosOptions=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{params:{},headers:{},config:{}};const A=e.publicEndpoint&&!t.user?void 0:t._getToken(),n=A?{Authorization:A}:void 0;return e.headers?.["x-client-request-id"]||(e.headers={...e.headers,"x-client-request-id":Gi()}),{params:{user_id:t.userID,connection_id:t._getConnectionID(),api_key:t.key,...e.params},headers:{...n,"stream-auth-type":e.publicEndpoint&&!t.user?"anonymous":t.getAuthType(),"X-Stream-Client":t.getUserAgent(),...e.headers},...e.config,...t.options.axiosRequestConfig}},this._getToken=()=>this.tokenManager?this.tokenManager.getToken():null,this.updateNetworkConnectionStatus=e=>{"offline"===e.type?(this.logger("debug","device went offline"),this.dispatchEvent({type:"network.changed",online:!1})):"online"===e.type&&(this.logger("debug","device went online"),this.dispatchEvent({type:"network.changed",online:!0}))},this.key=e,this.secret=A?.secret;const n=A||{browser:"undefined"!==typeof window};this.browser=n.browser||"undefined"!==typeof window,this.node=!this.browser,this.browser&&(this.locationHint=nl(A?.locationHintUrl,A?.locationHintTimeout,A?.locationHintMaxAttempts)),this.options={timeout:5e3,withCredentials:!1,...n},this.node&&!this.options.httpsAgent&&(this.options.httpsAgent=new null.Agent({keepAlive:!0,keepAliveMsecs:3e3})),this.setBaseURL(this.options.baseURL||"https://video.stream-io-api.com/video"),this.axiosInstance=En.create({...this.options,baseURL:this.baseURL}),this.wsConnection=null,this.wsPromiseSafe=null,this.connectUserTask=null,this.anonymous=!1,this.persistUserOnConnectionFailure=this.options?.persistUserOnConnectionFailure,this.tokenManager=new tl(this.secret),this.consecutiveFailures=0,this.defaultWSTimeout=this.options.defaultWsTimeout??15e3,this.logger=Ni(n.logger)?n.logger:()=>null}get connectionIdPromise(){return this.connectionIdPromiseSafe?.()}get isConnectionIsPromisePending(){return this.connectionIdPromiseSafe?.checkPending()??!1}get wsPromise(){return this.wsPromiseSafe?.()}}const sl=(e,A)=>`${e}/${A.id}`,il=(e,A)=>{const t=(e=>{const A=e?.clientAppIdentifier||{},t=pa();return t&&(A.sdkName=zr[t.type].toLowerCase(),A.sdkVersion=`${t.major}.${t.minor}.${t.patch}`),A})(A),n=to(["coordinator"]);return new rl(e,{persistUserOnConnectionFailure:!0,...A,clientAppIdentifier:t,logger:n})};class ol{constructor(e,A){var t=this;this.effectsRegistered=!1,this.eventHandlersToUnregister=[],this.connectionConcurrencyTag=Symbol("connectionConcurrencyTag"),this.registerClientInstance=(e,A)=>{const t=sl(e,A);ol._instances.has(t)&&this.logger("warn",`A StreamVideoClient already exists for ${A.id}; Prefer using getOrCreateInstance method`),ol._instances.set(t,this)},this.registerEffects=()=>{this.effectsRegistered||(this.eventHandlersToUnregister.push(this.on("connection.changed",(e=>{if(!e.online)return;const A=this.writeableStateStore.calls.filter((e=>e.watching)).map((e=>e.cid));A.length<=0||(this.logger("info",`Rewatching calls ${A.join(", ")}`),this.queryCalls({watch:!0,filter_conditions:{cid:{$in:A}},sort:[{field:"cid",direction:1}]}).catch((e=>{this.logger("error","Failed to re-watch calls",e)})))}))),this.eventHandlersToUnregister.push(this.on("call.created",(e=>{const{call:A,members:t}=e;if(this.state.connectedUser?.id===A.created_by.id)return void this.logger("warn","Received `call.created` sent by the current user");this.logger("info",`New call created and registered: ${A.cid}`);const n=new zc({streamClient:this.streamClient,type:A.type,id:A.id,members:t,clientStore:this.writeableStateStore});n.state.updateFromCallResponse(A),this.writeableStateStore.registerCall(n)}))),this.eventHandlersToUnregister.push(this.on("call.ring",(async e=>{const{call:A,members:t}=e;if(this.state.connectedUser?.id===A.created_by.id)return void this.logger("debug","Received `call.ring` sent by the current user so ignoring the event");const n=this.writeableStateStore.findCall(A.type,A.id);if(n)await n.updateFromRingingEvent(e);else{const e=new zc({streamClient:this.streamClient,type:A.type,id:A.id,members:t,clientStore:this.writeableStateStore,ringing:!0});await e.get()}}))),this.effectsRegistered=!0)},this.connectUser=async(e,A)=>{if("anonymous"===e.type)return e.id="!anon",this.connectAnonymousUser(e,A);const t=await uo(this.connectionConcurrencyTag,(async()=>{const t=this.streamClient,{onConnectUserError:n,persistUserOnConnectionFailure:r}=t.options;let{maxConnectUserRetries:s=5}=t.options;s=Math.max(s,1);const i=[];for(let a=0;a<s;a++)try{return this.logger("trace",`Connecting user (${a})`,e),"guest"===e.type?await t.connectGuestUser(e):await t.connectUser(e,A)}catch(o){if(this.logger("warn",`Failed to connect a user (${a})`,o),i.push(o),a===s-1)throw n?.(o,i),o;r&&await t.disconnectUser(),await Pi(Vi(a))}}));return t?.me&&this.writeableStateStore.setConnectedUser(t.me),this.registerEffects(),t},this.disconnectUser=async e=>{await uo(this.connectionConcurrencyTag,(async()=>{const{user:A,key:t}=this.streamClient;A&&(await this.streamClient.disconnectUser(e),A.id&&ol._instances.delete(sl(t,A)),this.eventHandlersToUnregister.forEach((e=>e())),this.eventHandlersToUnregister=[],this.effectsRegistered=!1,this.writeableStateStore.setConnectedUser(void 0))}))},this.on=(e,A)=>this.streamClient.on(e,A),this.off=(e,A)=>this.streamClient.off(e,A),this.call=(e,A)=>new zc({streamClient:this.streamClient,id:A,type:e,clientStore:this.writeableStateStore}),this.createGuestUser=async e=>this.streamClient.doAxiosRequest("post","/guest",e,{publicEndpoint:!0}),this.queryCalls=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const A=await t.streamClient.post("/calls",e),n=[];for(const r of A.calls){const A=new zc({streamClient:t.streamClient,id:r.call.id,type:r.call.type,members:r.members,ownCapabilities:r.own_capabilities,watching:e.watch,clientStore:t.writeableStateStore});A.state.updateFromCallResponse(r.call),await A.applyDeviceConfig(r.call.settings,!1),e.watch&&(await A.setup(),t.writeableStateStore.registerCall(A)),n.push(A)}return{...A,calls:n}},this.queryCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post("/call/stats",e)},this.queryAggregateCallStats=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.streamClient.post("/stats",e)},this.edges=async()=>this.streamClient.get("/edges"),this.addDevice=async(e,A,t,n,r)=>await this.streamClient.post("/devices",{id:e,push_provider:A,voip_token:r,...null!=n?{user_id:n}:{},...null!=t?{push_provider_name:t}:{}}),this.addVoipDevice=async(e,A,t,n)=>await this.addDevice(e,A,t,n,!0),this.getDevices=async e=>await this.streamClient.get("/devices",e?{user_id:e}:{}),this.removeDevice=async(e,A)=>await this.streamClient.delete("/devices",{id:e,...A?{user_id:A}:{}}),this.onRingingCall=async e=>{let A=this.state.calls.find((A=>A.cid===e&&A.ringing));if(!A){const[t,n]=e.split(":");A=new zc({streamClient:this.streamClient,type:t,id:n,clientStore:this.writeableStateStore,ringing:!0}),await A.get()}return A},this.connectAnonymousUser=async(e,A)=>uo(this.connectionConcurrencyTag,(()=>this.streamClient.connectAnonymousUser(e,A)));const n="string"===typeof e?e:e.apiKey,r="string"===typeof e?A:e.options;r?.enableTimerWorker&&(Va=!0);var s;if(qi=r?.logger||zi,(s=r?.logLevel||"warn")&&eo(s),this.logger=to(["client"]),this.streamClient=il(n,r),this.writeableStateStore=new Uo,this.readOnlyStateStore=new Qo(this.writeableStateStore),"string"!==typeof e&&e.user){const A=e.user;"anonymous"===A.type&&(A.id="!anon"),A.id&&this.registerClientInstance(n,A);const t=(e=>{const{token:A,tokenProvider:t}=e;if(A&&t){let e=!1;return async function(){return e?t():(e=!0,A)}}return A||t})(e);this.connectUser(A,t).catch((e=>{this.logger("error","Failed to connect",e)}))}}static getOrCreateInstance(e){const{apiKey:A,user:t,token:n,tokenProvider:r}=e;if(!t.id&&"anonymous"!==t.type)throw new Error("user.id is required for a non-anonymous user");if(!n&&!r&&"anonymous"!==t.type&&"guest"!==t.type)throw new Error("tokenProvider or token is required for a authenticated users");return ol._instances.get(sl(A,t))||new ol(e)}get state(){return this.readOnlyStateStore}}ol._instances=new Map},869:(e,A,t)=>{"use strict";t.d(A,{y:()=>r});var n=t(5314);function r(e){return(0,n.T)(null===e||void 0===e?void 0:e.then)}},1054:(e,A,t)=>{"use strict";function n(e,A,t,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var s=A.schedule((function(){t(),r?e.add(this.schedule(null,n)):this.unsubscribe()}),n);if(e.add(s),!r)return s}t.d(A,{N:()=>n})},2184:(e,A,t)=>{"use strict";function n(e){return e}t.d(A,{D:()=>n})},2324:(e,A,t)=>{"use strict";t.d(A,{l:()=>n});var n="function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},2631:(e,A,t)=>{"use strict";t.d(A,{s:()=>n});var n="function"===typeof Symbol&&Symbol.observable||"@@observable"},2669:()=>{},3629:(e,A,t)=>{"use strict";t.d(A,{$:()=>n});var n={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},3661:(e,A,t)=>{"use strict";t.d(A,{Tg:()=>g});var n=t(6326),r=t(6726),s=t(869),i=t(8989),o=t(8660),a=t(4166),c=t(294),l=t(8744),u=t(7241),d=t(5314),h=t(6171),p=t(2631);function g(e){if(e instanceof i.c)return e;if(null!=e){if((0,o.l)(e))return B=e,new i.c((function(e){var A=B[p.s]();if((0,d.T)(A.subscribe))return A.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if((0,r.X)(e))return m=e,new i.c((function(e){for(var A=0;A<m.length&&!e.closed;A++)e.next(m[A]);e.complete()}));if((0,s.y)(e))return g=e,new i.c((function(e){g.then((function(A){e.closed||(e.next(A),e.complete())}),(function(A){return e.error(A)})).then(null,h.m)}));if((0,a.T)(e))return f(e);if((0,l.x)(e))return t=e,new i.c((function(e){var A,r;try{for(var s=(0,n.Ju)(t),i=s.next();!i.done;i=s.next()){var o=i.value;if(e.next(o),e.closed)return}}catch(a){A={error:a}}finally{try{i&&!i.done&&(r=s.return)&&r.call(s)}finally{if(A)throw A.error}}e.complete()}));if((0,u.U)(e))return A=e,f((0,u.C)(A))}var A,t,g,m,B;throw(0,c.L)(e)}function f(e){return new i.c((function(A){(function(e,A){var t,r,s,i;return(0,n.sH)(this,void 0,void 0,(function(){var o,a;return(0,n.YH)(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),t=(0,n.xN)(e),c.label=1;case 1:return[4,t.next()];case 2:if((r=c.sent()).done)return[3,4];if(o=r.value,A.next(o),A.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),s={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return A.complete(),[2]}}))}))})(e,A).catch((function(e){return A.error(e)}))}))}},4043:(e,A,t)=>{"use strict";t.d(A,{R0:()=>o,ms:()=>s,lI:()=>i});var n=t(5314);function r(e){return e[e.length-1]}function s(e){return(0,n.T)(r(e))?e.pop():void 0}function i(e){return(A=r(e))&&(0,n.T)(A.schedule)?e.pop():void 0;var A}function o(e,A){return"number"===typeof r(e)?e.pop():A}},4121:function(e,A,t){var n;!function(r,s){"use strict";var i="function",o="undefined",a="object",c="string",l="major",u="model",d="name",h="type",p="vendor",g="version",f="architecture",m="console",B="mobile",w="tablet",C="smarttv",v="wearable",b="embedded",y="Amazon",U="Apple",Q="ASUS",E="BlackBerry",F="Browser",S="Chrome",I="Firefox",T="Google",k="Huawei",R="LG",x="Microsoft",H="Motorola",_="Opera",O="Samsung",D="Sharp",L="Sony",P="Xiaomi",N="Zebra",K="Facebook",M="Chromium OS",V="Mac OS",j=" Browser",G=function(e){for(var A={},t=0;t<e.length;t++)A[e[t].toUpperCase()]=e[t];return A},J=function(e,A){return typeof e===c&&-1!==$(A).indexOf($(e))},$=function(e){return e.toLowerCase()},W=function(e,A){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof A===o?e:e.substring(0,500)},X=function(e,A){for(var t,n,r,o,c,l,u=0;u<A.length&&!c;){var d=A[u],h=A[u+1];for(t=n=0;t<d.length&&!c&&d[t];)if(c=d[t++].exec(e))for(r=0;r<h.length;r++)l=c[++n],typeof(o=h[r])===a&&o.length>0?2===o.length?typeof o[1]==i?this[o[0]]=o[1].call(this,l):this[o[0]]=o[1]:3===o.length?typeof o[1]!==i||o[1].exec&&o[1].test?this[o[0]]=l?l.replace(o[1],o[2]):s:this[o[0]]=l?o[1].call(this,l,o[2]):s:4===o.length&&(this[o[0]]=l?o[3].call(this,l.replace(o[1],o[2])):s):this[o]=l||s;u+=2}},Y=function(e,A){for(var t in A)if(typeof A[t]===a&&A[t].length>0){for(var n=0;n<A[t].length;n++)if(J(A[t][n],e))return"?"===t?s:t}else if(J(A[t],e))return"?"===t?s:t;return A.hasOwnProperty("*")?A["*"]:e},q={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Z={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[d,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[d,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[d,g],[/opios[\/ ]+([\w\.]+)/i],[g,[d,_+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[g,[d,_+" GX"]],[/\bopr\/([\w\.]+)/i],[g,[d,_]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[g,[d,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[g,[d,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[d,g],[/quark(?:pc)?\/([-\w\.]+)/i],[g,[d,"Quark"]],[/\bddg\/([\w\.]+)/i],[g,[d,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[d,"UC"+F]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[g,[d,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[d,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[d,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[g,[d,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[g,[d,"Smart Lenovo "+F]],[/(avast|avg)\/([\w\.]+)/i],[[d,/(.+)/,"$1 Secure "+F],g],[/\bfocus\/([\w\.]+)/i],[g,[d,I+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[d,_+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[d,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[d,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[d,_+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[d,"MIUI"+j]],[/fxios\/([\w\.-]+)/i],[g,[d,I]],[/\bqihoobrowser\/?([\w\.]*)/i],[g,[d,"360"]],[/\b(qq)\/([\w\.]+)/i],[[d,/(.+)/,"$1Browser"],g],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[d,/(.+)/,"$1"+j],g],[/samsungbrowser\/([\w\.]+)/i],[g,[d,O+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[g,[d,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[d,"Sogou Mobile"],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[d,g],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[d],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[g,d],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[d,K],g],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[d,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[d,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[g,[d,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[d,S+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[d,S+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[d,"Android "+F]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[d,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[d,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,d],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[d,[g,Y,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[d,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[d,"Netscape"],g],[/(wolvic|librewolf)\/([\w\.]+)/i],[d,g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[d,I+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[d,[g,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[d,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[f,"amd64"]],[/(ia32(?=;))/i],[[f,$]],[/((?:i[346]|x)86)[;\)]/i],[[f,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[f,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[f,"armhf"]],[/windows (ce|mobile); ppc;/i],[[f,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[f,/ower/,"",$]],[/(sun4\w)[;\)]/i],[[f,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[f,$]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[p,O],[h,w]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[p,O],[h,B]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[p,U],[h,B]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[p,U],[h,w]],[/(macintosh);/i],[u,[p,U]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[p,D],[h,B]],[/(?:honor)([-\w ]+)[;\)]/i],[u,[p,"Honor"],[h,B]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[u,[p,k],[h,w]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[p,k],[h,B]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i],[[u,/_/g," "],[p,P],[h,B]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[u,/_/g," "],[p,P],[h,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[p,"OPPO"],[h,B]],[/\b(opd2\d{3}a?) bui/i],[u,[p,"OPPO"],[h,w]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[p,"Vivo"],[h,B]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[p,"Realme"],[h,B]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[p,H],[h,B]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[p,H],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[p,R],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[p,R],[h,B]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[u,[p,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[u,/_/g," "],[p,"Nokia"],[h,B]],[/(pixel c)\b/i],[u,[p,T],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[p,T],[h,B]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[p,L],[h,B]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[p,L],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[p,"OnePlus"],[h,B]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[p,y],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[p,y],[h,B]],[/(playbook);[-\w\),; ]+(rim)/i],[u,p,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[p,E],[h,B]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[p,Q],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[p,Q],[h,B]],[/(nexus 9)/i],[u,[p,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[u,/_/g," "],[h,B]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[p,"TCL"],[h,w]],[/(itel) ((\w+))/i],[[p,$],u,[h,Y,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[p,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[p,"Meizu"],[h,B]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[p,"Ulefone"],[h,B]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[p,"Energizer"],[h,B]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[p,"Cat"],[h,B]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[p,"Smartfren"],[h,B]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[p,"Nothing"],[h,B]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (imo) ((?!tab)[\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[p,u,[h,B]],[/(imo) (tab \w+)/i,/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[p,u,[h,w]],[/(surface duo)/i],[u,[p,x],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[p,"Fairphone"],[h,B]],[/(u304aa)/i],[u,[p,"AT&T"],[h,B]],[/\bsie-(\w*)/i],[u,[p,"Siemens"],[h,B]],[/\b(rct\w+) b/i],[u,[p,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[u,[p,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[u,[p,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[p,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[u,[p,"NuVision"],[h,w]],[/\b(k88) b/i],[u,[p,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[u,[p,"ZTE"],[h,B]],[/\b(gen\d{3}) b.+49h/i],[u,[p,"Swiss"],[h,B]],[/\b(zur\d{3}) b/i],[u,[p,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[u,[p,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[p,"Dragon Touch"],u,[h,w]],[/\b(ns-?\w{0,9}) b/i],[u,[p,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[p,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[p,"Voice"],u,[h,B]],[/\b(lvtel\-)?(v1[12]) b/i],[[p,"LvTel"],u,[h,B]],[/\b(ph-1) /i],[u,[p,"Essential"],[h,B]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[p,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[u,[p,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[u,[p,"Rotor"],[h,w]],[/(shield[\w ]+) b/i],[u,[p,"Nvidia"],[h,w]],[/(sprint) (\w+)/i],[p,u,[h,B]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[p,x],[h,B]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[p,N],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[p,N],[h,B]],[/smart-tv.+(samsung)/i],[p,[h,C]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[p,O],[h,C]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,R],[h,C]],[/(apple) ?tv/i],[p,[u,U+" TV"],[h,C]],[/crkey/i],[[u,S+"cast"],[p,T],[h,C]],[/droid.+aft(\w+)( bui|\))/i],[u,[p,y],[h,C]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[p,D],[h,C]],[/(bravia[\w ]+)( bui|\))/i],[u,[p,L],[h,C]],[/(mitv-\w{5}) bui/i],[u,[p,P],[h,C]],[/Hbbtv.*(technisat) (.*);/i],[p,u,[h,C]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,W],[u,W],[h,C]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,C]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[p,u,[h,m]],[/droid.+; (shield) bui/i],[u,[p,"Nvidia"],[h,m]],[/(playstation [345portablevi]+)/i],[u,[p,L],[h,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[p,x],[h,m]],[/\b(sm-[lr]\d\d[05][fnuw]?s?)\b/i],[u,[p,O],[h,v]],[/((pebble))app/i],[p,u,[h,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[p,U],[h,v]],[/droid.+; (glass) \d/i],[u,[p,T],[h,v]],[/droid.+; (wt63?0{2,3})\)/i],[u,[p,N],[h,v]],[/droid.+; (glass) \d/i],[u,[p,T],[h,v]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,u,[h,v]],[/; (quest( \d| pro)?)/i],[u,[p,K],[h,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[h,b]],[/(aeobc)\b/i],[u,[p,y],[h,b]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[h,B]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,B]],[/(android[-\w\. ]{0,9});.+buil/i],[u,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[d,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[d,g],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[d,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[d,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,d]],os:[[/microsoft (windows) (vista|xp)/i],[d,g],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[d,[g,Y,q]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[g,Y,q],[d,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[d,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[d,V],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,d],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[d,g],[/\(bb(10);/i],[g,[d,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[d,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[d,I+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[d,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[d,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[d,S+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[d,M],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[d,g],[/(sunos) ?([\w\.\d]*)/i],[[d,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[d,g]]},z=function(e,A){if(typeof e===a&&(A=e,e=s),!(this instanceof z))return new z(e,A).getResult();var t=typeof r!==o&&r.navigator?r.navigator:s,n=e||(t&&t.userAgent?t.userAgent:""),m=t&&t.userAgentData?t.userAgentData:s,C=A?function(e,A){var t={};for(var n in e)A[n]&&A[n].length%2===0?t[n]=A[n].concat(e[n]):t[n]=e[n];return t}(Z,A):Z,v=t&&t.userAgent==n;return this.getBrowser=function(){var e,A={};return A[d]=s,A[g]=s,X.call(A,n,C.browser),A[l]=typeof(e=A[g])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:s,v&&t&&t.brave&&typeof t.brave.isBrave==i&&(A[d]="Brave"),A},this.getCPU=function(){var e={};return e[f]=s,X.call(e,n,C.cpu),e},this.getDevice=function(){var e={};return e[p]=s,e[u]=s,e[h]=s,X.call(e,n,C.device),v&&!e[h]&&m&&m.mobile&&(e[h]=B),v&&"Macintosh"==e[u]&&t&&typeof t.standalone!==o&&t.maxTouchPoints&&t.maxTouchPoints>2&&(e[u]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[d]=s,e[g]=s,X.call(e,n,C.engine),e},this.getOS=function(){var e={};return e[d]=s,e[g]=s,X.call(e,n,C.os),v&&!e[d]&&m&&m.platform&&"Unknown"!=m.platform&&(e[d]=m.platform.replace(/chrome os/i,M).replace(/macos/i,V)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=typeof e===c&&e.length>500?W(e,500):e,this},this.setUA(n),this};z.VERSION="1.0.40",z.BROWSER=G([d,g,l]),z.CPU=G([f]),z.DEVICE=G([u,p,h,m,B,C,w,v,b]),z.ENGINE=z.OS=G([d,g]),typeof A!==o?(e.exports&&(A=e.exports=z),A.UAParser=z):t.amdO?(n=function(){return z}.call(A,t,A,e))===s||(e.exports=n):typeof r!==o&&(r.UAParser=z);var ee=typeof r!==o&&(r.jQuery||r.Zepto);if(ee&&!ee.ua){var Ae=new z;ee.ua=Ae.getResult(),ee.ua.get=function(){return Ae.getUA()},ee.ua.set=function(e){Ae.setUA(e);var A=Ae.getResult();for(var t in A)ee.ua[t]=A[t]}}}("object"===typeof window?window:this)},4166:(e,A,t)=>{"use strict";t.d(A,{T:()=>r});var n=t(5314);function r(e){return Symbol.asyncIterator&&(0,n.T)(null===e||void 0===e?void 0:e[Symbol.asyncIterator])}},4459:(e,A,t)=>{"use strict";t.d(A,{Ms:()=>m,vU:()=>h});var n=t(6326),r=t(5314),s=t(6794),i=t(3629),o=t(6171);function a(){}var c=l("C",void 0,void 0);function l(e,A,t){return{kind:e,value:A,error:t}}var u=t(7531),d=t(8879),h=function(e){function A(A){var t=e.call(this)||this;return t.isStopped=!1,A?(t.destination=A,(0,s.Uv)(A)&&A.add(t)):t.destination=C,t}return(0,n.C6)(A,e),A.create=function(e,A,t){return new m(e,A,t)},A.prototype.next=function(e){this.isStopped?w(function(e){return l("N",e,void 0)}(e),this):this._next(e)},A.prototype.error=function(e){this.isStopped?w(l("E",void 0,e),this):(this.isStopped=!0,this._error(e))},A.prototype.complete=function(){this.isStopped?w(c,this):(this.isStopped=!0,this._complete())},A.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},A.prototype._next=function(e){this.destination.next(e)},A.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},A.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},A}(s.yU),p=Function.prototype.bind;function g(e,A){return p.call(e,A)}var f=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var A=this.partialObserver;if(A.next)try{A.next(e)}catch(t){B(t)}},e.prototype.error=function(e){var A=this.partialObserver;if(A.error)try{A.error(e)}catch(t){B(t)}else B(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(A){B(A)}},e}(),m=function(e){function A(A,t,n){var s,o,a=e.call(this)||this;(0,r.T)(A)||!A?s={next:null!==A&&void 0!==A?A:void 0,error:null!==t&&void 0!==t?t:void 0,complete:null!==n&&void 0!==n?n:void 0}:a&&i.$.useDeprecatedNextContext?((o=Object.create(A)).unsubscribe=function(){return a.unsubscribe()},s={next:A.next&&g(A.next,o),error:A.error&&g(A.error,o),complete:A.complete&&g(A.complete,o)}):s=A;return a.destination=new f(s),a}return(0,n.C6)(A,e),A}(h);function B(e){i.$.useDeprecatedSynchronousErrorHandling?(0,d.l)(e):(0,o.m)(e)}function w(e,A){var t=i.$.onStoppedNotification;t&&u.f.setTimeout((function(){return t(e,A)}))}var C={closed:!0,next:a,error:function(e){throw e},complete:a}},4619:(e,A,t)=>{"use strict";t.d(A,{N:()=>r});var n=t(5314);function r(e){return function(A){if(function(e){return(0,n.T)(null===e||void 0===e?void 0:e.lift)}(A))return A.lift((function(A){try{return e(A,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}},4820:(e,A,t)=>{"use strict";t.d(A,{xZ6:()=>yt,uUZ:()=>at,ctU:()=>qt,xwR:()=>Ht,E8H:()=>Ft,Mf9:()=>Ot,Lcj:()=>vt,OAE:()=>bt});var n=t(542),r=t(7495),s=t(579),i=t(5043),o=t.t(i,2),a=t(5702),c=t(5e3),l=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],u=l.join(","),d="undefined"===typeof Element,h=d?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,p=!d&&Element.prototype.getRootNode?function(e){var A;return null===e||void 0===e||null===(A=e.getRootNode)||void 0===A?void 0:A.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},g=function e(A,t){var n;void 0===t&&(t=!0);var r=null===A||void 0===A||null===(n=A.getAttribute)||void 0===n?void 0:n.call(A,"inert");return""===r||"true"===r||t&&A&&e(A.parentNode)},f=function(e,A,t){if(g(e))return[];var n=Array.prototype.slice.apply(e.querySelectorAll(u));return A&&h.call(e,u)&&n.unshift(e),n=n.filter(t)},m=function e(A,t,n){for(var r=[],s=Array.from(A);s.length;){var i=s.shift();if(!g(i,!1))if("SLOT"===i.tagName){var o=i.assignedElements(),a=e(o.length?o:i.children,!0,n);n.flatten?r.push.apply(r,a):r.push({scopeParent:i,candidates:a})}else{h.call(i,u)&&n.filter(i)&&(t||!A.includes(i))&&r.push(i);var c=i.shadowRoot||"function"===typeof n.getShadowRoot&&n.getShadowRoot(i),l=!g(c,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(i));if(c&&l){var d=e(!0===c?i.children:c.children,!0,n);n.flatten?r.push.apply(r,d):r.push({scopeParent:i,candidates:d})}else s.unshift.apply(s,i.children)}}return r},B=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},w=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var A,t=null===e||void 0===e||null===(A=e.getAttribute)||void 0===A?void 0:A.call(e,"contenteditable");return""===t||"true"===t}(e))&&!B(e)?0:e.tabIndex},C=function(e,A){return e.tabIndex===A.tabIndex?e.documentOrder-A.documentOrder:e.tabIndex-A.tabIndex},v=function(e){return"INPUT"===e.tagName},b=function(e){return function(e){return v(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var A,t=e.form||p(e),n=function(e){return t.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)A=n(window.CSS.escape(e.name));else try{A=n(e.name)}catch(s){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",s.message),!1}var r=function(e,A){for(var t=0;t<e.length;t++)if(e[t].checked&&e[t].form===A)return e[t]}(A,e.form);return!r||r===e}(e)},y=function(e){var A=e.getBoundingClientRect(),t=A.width,n=A.height;return 0===t&&0===n},U=function(e,A){var t=A.displayCheck,n=A.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var r=h.call(e,"details>summary:first-of-type")?e.parentElement:e;if(h.call(r,"details:not([open]) *"))return!0;if(t&&"full"!==t&&"legacy-full"!==t){if("non-zero-area"===t)return y(e)}else{if("function"===typeof n){for(var s=e;e;){var i=e.parentElement,o=p(e);if(i&&!i.shadowRoot&&!0===n(i))return y(e);e=e.assignedSlot?e.assignedSlot:i||o===e.ownerDocument?i:o.host}e=s}if(function(e){var A,t,n,r,s=e&&p(e),i=null===(A=s)||void 0===A?void 0:A.host,o=!1;if(s&&s!==e)for(o=!!(null!==(t=i)&&void 0!==t&&null!==(n=t.ownerDocument)&&void 0!==n&&n.contains(i)||null!==e&&void 0!==e&&null!==(r=e.ownerDocument)&&void 0!==r&&r.contains(e));!o&&i;){var a,c,l;o=!(null===(c=i=null===(a=s=p(i))||void 0===a?void 0:a.host)||void 0===c||null===(l=c.ownerDocument)||void 0===l||!l.contains(i))}return o}(e))return!e.getClientRects().length;if("legacy-full"!==t)return!0}return!1},Q=function(e,A){return!(A.disabled||g(A)||function(e){return v(e)&&"hidden"===e.type}(A)||U(A,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(A)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var A=e.parentElement;A;){if("FIELDSET"===A.tagName&&A.disabled){for(var t=0;t<A.children.length;t++){var n=A.children.item(t);if("LEGEND"===n.tagName)return!!h.call(A,"fieldset[disabled] *")||!n.contains(e)}return!0}A=A.parentElement}return!1}(A))},E=function(e,A){return!(b(A)||w(A)<0||!Q(e,A))},F=function(e){var A=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(A)||A>=0)},S=function e(A){var t=[],n=[];return A.forEach((function(A,r){var s=!!A.scopeParent,i=s?A.scopeParent:A,o=function(e,A){var t=w(e);return t<0&&A&&!B(e)?0:t}(i,s),a=s?e(A.candidates):i;0===o?s?t.push.apply(t,a):t.push(i):n.push({documentOrder:r,tabIndex:o,item:A,isScope:s,content:a})})),n.sort(C).reduce((function(e,A){return A.isScope?e.push.apply(e,A.content):e.push(A.content),e}),[]).concat(t)},I=function(e,A){var t;return t=(A=A||{}).getShadowRoot?m([e],A.includeContainer,{filter:E.bind(null,A),flatten:!1,getShadowRoot:A.getShadowRoot,shadowRootFilter:F}):f(e,A.includeContainer,E.bind(null,A)),S(t)},T=function(e,A){if(A=A||{},!e)throw new Error("No node provided");return!1!==h.call(e,u)&&E(A,e)};function k(){const e=navigator.userAgentData;return null!=e&&e.platform?e.platform:navigator.platform}function R(){const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?e.brands.map((e=>{let{brand:A,version:t}=e;return A+"/"+t})).join(" "):navigator.userAgent}function x(){const e=/android/i;return e.test(k())||e.test(R())}function H(){return R().includes("jsdom/")}const _="data-floating-ui-focusable",O="ArrowLeft",D="ArrowRight";function L(e){let A=e.activeElement;for(;null!=(null==(t=A)||null==(t=t.shadowRoot)?void 0:t.activeElement);){var t;A=A.shadowRoot.activeElement}return A}function P(e,A){if(!e||!A)return!1;const t=null==A.getRootNode?void 0:A.getRootNode();if(e.contains(A))return!0;if(t&&(0,a.Ng)(t)){let t=A;for(;t;){if(e===t)return!0;t=t.parentNode||t.host}}return!1}function N(e){return"composedPath"in e?e.composedPath()[0]:e.target}function K(e,A){if(null==A)return!1;if("composedPath"in e)return e.composedPath().includes(A);const t=e;return null!=t.target&&A.contains(t.target)}function M(e){return(null==e?void 0:e.ownerDocument)||document}function V(e){return(0,a.sb)(e)&&e.matches("input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])")}function j(e){return!!e&&("combobox"===e.getAttribute("role")&&V(e))}function G(e){return e?e.hasAttribute(_)?e:e.querySelector("["+_+"]")||e:null}function J(e,A,t){void 0===t&&(t=!0);let n=e.filter((e=>{var t;return e.parentId===A&&(null==(t=e.context)?void 0:t.open)})),r=n;for(;r.length;)r=t?e.filter((e=>{var A;return null==(A=r)?void 0:A.some((A=>{var t;return e.parentId===A.id&&(null==(t=e.context)?void 0:t.open)}))})):e,n=n.concat(r);return n}function $(e,A){var t;let n=[],r=null==(t=e.find((e=>e.id===A)))?void 0:t.parentId;for(;r;){const A=e.find((e=>e.id===r));r=null==A?void 0:A.parentId,A&&(n=n.concat(A))}return n}function W(e){e.preventDefault(),e.stopPropagation()}function X(e){return!(0!==e.mozInputSource||!e.isTrusted)||(x()&&e.pointerType?"click"===e.type&&1===e.buttons:0===e.detail&&!e.pointerType)}function Y(e){return!H()&&(!x()&&0===e.width&&0===e.height||x()&&1===e.width&&1===e.height&&0===e.pressure&&0===e.detail&&"mouse"===e.pointerType||e.width<1&&e.height<1&&0===e.pressure&&0===e.detail&&"touch"===e.pointerType)}function q(e,A){const t=["mouse","pen"];return A||t.push("",void 0),t.includes(e)}var Z="undefined"!==typeof document?i.useLayoutEffect:i.useEffect;function z(e){const A=i.useRef(e);return Z((()=>{A.current=e})),A}const ee={...o}.useInsertionEffect||(e=>e());function Ae(e){const A=i.useRef((()=>{0}));return ee((()=>{A.current=e})),i.useCallback((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==A.current?void 0:A.current(...t)}),[])}function te(e,A,t){return Math.floor(e/A)!==t}function ne(e,A){return A<0||A>=e.current.length}function re(e,A){return ie(e,{disabledIndices:A})}function se(e,A){return ie(e,{decrement:!0,startingIndex:e.current.length,disabledIndices:A})}function ie(e,A){let{startingIndex:t=-1,decrement:n=!1,disabledIndices:r,amount:s=1}=void 0===A?{}:A,i=t;do{i+=n?-s:s}while(i>=0&&i<=e.current.length-1&&ce(e,i,r));return i}function oe(e,A,t,n,r){if(-1===e)return-1;const s=t.indexOf(e),i=A[e];switch(r){case"tl":return s;case"tr":return i?s+i.width-1:s;case"bl":return i?s+(i.height-1)*n:s;case"br":return t.lastIndexOf(e)}}function ae(e,A){return A.flatMap(((A,t)=>e.includes(A)?[t]:[]))}function ce(e,A,t){if(t)return t.includes(A);const n=e.current[A];return null==n||n.hasAttribute("disabled")||"true"===n.getAttribute("aria-disabled")}const le=()=>({getShadowRoot:!0,displayCheck:"function"===typeof ResizeObserver&&ResizeObserver.toString().includes("[native code]")?"full":"none"});function ue(e,A){const t=I(e,le()),n=t.length;if(0===n)return;const r=L(M(e)),s=t.indexOf(r);return t[-1===s?1===A?0:n-1:s+A]}function de(e){return ue(M(e).body,1)||e}function he(e){return ue(M(e).body,-1)||e}function pe(e,A){const t=A||e.currentTarget,n=e.relatedTarget;return!n||!P(t,n)}function ge(e){I(e,le()).forEach((e=>{e.dataset.tabindex=e.getAttribute("tabindex")||"",e.setAttribute("tabindex","-1")}))}function fe(e){e.querySelectorAll("[data-tabindex]").forEach((e=>{const A=e.dataset.tabindex;delete e.dataset.tabindex,A?e.setAttribute("tabindex",A):e.removeAttribute("tabindex")}))}var me=t(7950),Be=t(6178);function we(e,A){const t=e.compareDocumentPosition(A);return t&Node.DOCUMENT_POSITION_FOLLOWING||t&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:t&Node.DOCUMENT_POSITION_PRECEDING||t&Node.DOCUMENT_POSITION_CONTAINS?1:0}const Ce=i.createContext({register:()=>{},unregister:()=>{},map:new Map,elementsRef:{current:[]}});function ve(e){const{children:A,elementsRef:t,labelsRef:n}=e,[r,o]=i.useState((()=>new Set)),a=i.useCallback((e=>{o((A=>new Set(A).add(e)))}),[]),c=i.useCallback((e=>{o((A=>{const t=new Set(A);return t.delete(e),t}))}),[]),l=i.useMemo((()=>{const e=new Map;return Array.from(r.keys()).sort(we).forEach(((A,t)=>{e.set(A,t)})),e}),[r]);return(0,s.jsx)(Ce.Provider,{value:i.useMemo((()=>({register:a,unregister:c,map:l,elementsRef:t,labelsRef:n})),[a,c,l,t,n]),children:A})}function be(e){void 0===e&&(e={});const{label:A}=e,{register:t,unregister:n,map:r,elementsRef:s,labelsRef:o}=i.useContext(Ce),[a,c]=i.useState(null),l=i.useRef(null),u=i.useCallback((e=>{if(l.current=e,null!==a&&(s.current[a]=e,o)){var t;const n=void 0!==A;o.current[a]=n?A:null!=(t=null==e?void 0:e.textContent)?t:null}}),[a,s,o,A]);return Z((()=>{const e=l.current;if(e)return t(e),()=>{n(e)}}),[t,n]),Z((()=>{const e=l.current?r.get(l.current):null;null!=e&&c(e)}),[r]),i.useMemo((()=>({ref:u,index:null==a?-1:a})),[a,u])}const ye="data-floating-ui-focusable",Ue="active",Qe="selected",Ee="ArrowLeft",Fe="ArrowRight",Se="ArrowUp",Ie="ArrowDown";const Te=[Ee,Fe],ke=[Se,Ie],Re={...o};let xe=!1,He=0;const _e=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+He++;const Oe=Re.useId||function(){const[e,A]=i.useState((()=>xe?_e():void 0));return Z((()=>{null==e&&A(_e())}),[]),i.useEffect((()=>{xe=!0}),[]),e};const De=i.forwardRef((function(e,A){const{context:{placement:t,elements:{floating:n},middlewareData:{arrow:r,shift:o}},width:c=14,height:l=7,tipRadius:u=0,strokeWidth:d=0,staticOffset:h,stroke:p,d:g,style:{transform:f,...m}={},...B}=e;const w=Oe(),[C,v]=i.useState(!1);if(Z((()=>{if(!n)return;"rtl"===(0,a.L9)(n).direction&&v(!0)}),[n]),!n)return null;const[b,y]=t.split("-"),U="top"===b||"bottom"===b;let Q=h;(U&&null!=o&&o.x||!U&&null!=o&&o.y)&&(Q=null);const E=2*d,F=E/2,S=c/2*(u/-8+1),I=l/2*u/4,T=!!g,k=Q&&"end"===y?"bottom":"top";let R=Q&&"end"===y?"right":"left";Q&&C&&(R="end"===y?"left":"right");const x=null!=(null==r?void 0:r.x)?Q||r.x:"",H=null!=(null==r?void 0:r.y)?Q||r.y:"",_=g||"M0,0 H"+c+" L"+(c-S)+","+(l-I)+" Q"+c/2+","+l+" "+S+","+(l-I)+" Z",O={top:T?"rotate(180deg)":"",left:T?"rotate(90deg)":"rotate(-90deg)",bottom:T?"":"rotate(180deg)",right:T?"rotate(-90deg)":"rotate(90deg)"}[b];return(0,s.jsxs)("svg",{...B,"aria-hidden":!0,ref:A,width:T?c:c+E,height:c,viewBox:"0 0 "+c+" "+(l>c?l:c),style:{position:"absolute",pointerEvents:"none",[R]:x,[k]:H,[b]:U||T?"100%":"calc(100% - "+E/2+"px)",transform:[O,f].filter((e=>!!e)).join(" "),...m},children:[E>0&&(0,s.jsx)("path",{clipPath:"url(#"+w+")",fill:"none",stroke:p,strokeWidth:E+(g?0:1),d:_}),(0,s.jsx)("path",{stroke:E&&!g?B.fill:"none",d:_}),(0,s.jsx)("clipPath",{id:w,children:(0,s.jsx)("rect",{x:-F,y:F*(T?-1:1),width:c+E,height:c})})]})}));function Le(){const e=new Map;return{emit(A,t){var n;null==(n=e.get(A))||n.forEach((e=>e(t)))},on(A,t){e.has(A)||e.set(A,new Set),e.get(A).add(t)},off(A,t){var n;null==(n=e.get(A))||n.delete(t)}}}const Pe=i.createContext(null),Ne=i.createContext(null),Ke=()=>{var e;return(null==(e=i.useContext(Pe))?void 0:e.id)||null},Me=()=>i.useContext(Ne);function Ve(e){return"data-floating-ui-"+e}function je(e){-1!==e.current&&(clearTimeout(e.current),e.current=-1)}let Ge=0;function Je(e,A){void 0===A&&(A={});const{preventScroll:t=!1,cancelPrevious:n=!0,sync:r=!1}=A;n&&cancelAnimationFrame(Ge);const s=()=>null==e?void 0:e.focus({preventScroll:t});r?s():Ge=requestAnimationFrame(s)}let $e=new WeakMap,We=new WeakSet,Xe={},Ye=0;const qe=e=>e&&(e.host||qe(e.parentNode));function Ze(e,A,t,n){const r="data-floating-ui-inert",s=n?"inert":t?"aria-hidden":null,i=(o=A,e.map((e=>{if(o.contains(e))return e;const A=qe(e);return o.contains(A)?A:null})).filter((e=>null!=e)));var o;const c=new Set,l=new Set(i),u=[];Xe[r]||(Xe[r]=new WeakMap);const d=Xe[r];return i.forEach((function e(A){if(!A||c.has(A))return;c.add(A),A.parentNode&&e(A.parentNode)})),function e(A){if(!A||l.has(A))return;[].forEach.call(A.children,(A=>{if("script"!==(0,a.mq)(A))if(c.has(A))e(A);else{const e=s?A.getAttribute(s):null,t=null!==e&&"false"!==e,n=$e.get(A)||0,i=s?n+1:n,o=(d.get(A)||0)+1;$e.set(A,i),d.set(A,o),u.push(A),1===i&&t&&We.add(A),1===o&&A.setAttribute(r,""),!t&&s&&A.setAttribute(s,"inert"===s?"":"true")}}))}(A),c.clear(),Ye++,()=>{u.forEach((e=>{const A=$e.get(e)||0,t=s?A-1:A,n=(d.get(e)||0)-1;$e.set(e,t),d.set(e,n),t||(!We.has(e)&&s&&e.removeAttribute(s),We.delete(e)),n||e.removeAttribute(r)})),Ye--,Ye||($e=new WeakMap,$e=new WeakMap,We=new WeakSet,Xe={})}}function ze(e,A,t){void 0===A&&(A=!1),void 0===t&&(t=!1);const n=(r=e[0],(null==r?void 0:r.ownerDocument)||document).body;var r;return Ze(e.concat(Array.from(n.querySelectorAll("[aria-live]"))),n,A,t)}const eA={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"fixed",whiteSpace:"nowrap",width:"1px",top:0,left:0},AA=i.forwardRef((function(e,A){const[t,n]=i.useState();Z((()=>{/apple/i.test(navigator.vendor)&&n("button")}),[]);const r={ref:A,tabIndex:0,role:t,"aria-hidden":!t||void 0,[Ve("focus-guard")]:"",style:eA};return(0,s.jsx)("span",{...e,...r})})),tA=i.createContext(null),nA=Ve("portal");function rA(e){const{children:A,id:t,root:n,preserveTabOrder:r=!0}=e,o=function(e){void 0===e&&(e={});const{id:A,root:t}=e,n=Oe(),r=sA(),[s,o]=i.useState(null),c=i.useRef(null);return Z((()=>()=>{null==s||s.remove(),queueMicrotask((()=>{c.current=null}))}),[s]),Z((()=>{if(!n)return;if(c.current)return;const e=A?document.getElementById(A):null;if(!e)return;const t=document.createElement("div");t.id=n,t.setAttribute(nA,""),e.appendChild(t),c.current=t,o(t)}),[A,n]),Z((()=>{if(null===t)return;if(!n)return;if(c.current)return;let e=t||(null==r?void 0:r.portalNode);e&&!(0,a.vq)(e)&&(e=e.current),e=e||document.body;let s=null;A&&(s=document.createElement("div"),s.id=A,e.appendChild(s));const i=document.createElement("div");i.id=n,i.setAttribute(nA,""),e=s||e,e.appendChild(i),c.current=i,o(i)}),[A,t,n,r]),s}({id:t,root:n}),[c,l]=i.useState(null),u=i.useRef(null),d=i.useRef(null),h=i.useRef(null),p=i.useRef(null),g=null==c?void 0:c.modal,f=null==c?void 0:c.open,m=!!c&&!c.modal&&c.open&&r&&!(!n&&!o);return i.useEffect((()=>{if(o&&r&&!g)return o.addEventListener("focusin",e,!0),o.addEventListener("focusout",e,!0),()=>{o.removeEventListener("focusin",e,!0),o.removeEventListener("focusout",e,!0)};function e(e){if(o&&pe(e)){("focusin"===e.type?fe:ge)(o)}}}),[o,r,g]),i.useEffect((()=>{o&&(f||fe(o))}),[f,o]),(0,s.jsxs)(tA.Provider,{value:i.useMemo((()=>({preserveTabOrder:r,beforeOutsideRef:u,afterOutsideRef:d,beforeInsideRef:h,afterInsideRef:p,portalNode:o,setFocusManagerState:l})),[r,o]),children:[m&&o&&(0,s.jsx)(AA,{"data-type":"outside",ref:u,onFocus:e=>{if(pe(e,o)){var A;null==(A=h.current)||A.focus()}else{const e=he(c?c.domReference:null);null==e||e.focus()}}}),m&&o&&(0,s.jsx)("span",{"aria-owns":o.id,style:eA}),o&&me.createPortal(A,o),m&&o&&(0,s.jsx)(AA,{"data-type":"outside",ref:d,onFocus:e=>{if(pe(e,o)){var A;null==(A=p.current)||A.focus()}else{const A=de(c?c.domReference:null);null==A||A.focus(),(null==c?void 0:c.closeOnFocusOut)&&(null==c||c.onOpenChange(!1,e.nativeEvent,"focus-out"))}}})]})}const sA=()=>i.useContext(tA);function iA(e){return i.useMemo((()=>A=>{e.forEach((e=>{e&&(e.current=A)}))}),e)}let oA=[];function aA(){return oA.slice().reverse().find((e=>e.isConnected))}function cA(e,A){var t;if(!A.current.includes("floating")&&(null==(t=e.getAttribute("role"))||!t.includes("dialog")))return;const n=le(),r=function(e,A){return(A=A||{}).getShadowRoot?m([e],A.includeContainer,{filter:Q.bind(null,A),flatten:!0,getShadowRoot:A.getShadowRoot}):f(e,A.includeContainer,Q.bind(null,A))}(e,n),s=r.filter((e=>{const A=e.getAttribute("data-tabindex")||"";return T(e,n)||e.hasAttribute("data-tabindex")&&!A.startsWith("-")})),i=e.getAttribute("tabindex");A.current.includes("floating")||0===s.length?"0"!==i&&e.setAttribute("tabindex","0"):("-1"!==i||e.hasAttribute("data-tabindex")&&"-1"!==e.getAttribute("data-tabindex"))&&(e.setAttribute("tabindex","-1"),e.setAttribute("data-tabindex","-1"))}const lA=i.forwardRef((function(e,A){return(0,s.jsx)("button",{...e,type:"button",ref:A,tabIndex:-1,style:eA})}));function uA(e){const{context:A,children:t,disabled:n=!1,order:r=["content"],guards:o=!0,initialFocus:c=0,returnFocus:l=!0,restoreFocus:u=!1,modal:d=!0,visuallyHiddenDismiss:h=!1,closeOnFocusOut:p=!0,outsideElementsInert:g=!1,getInsideElements:f=()=>[]}=e,{open:m,onOpenChange:B,events:w,dataRef:C,elements:{domReference:v,floating:b}}=A,y=Ae((()=>{var e;return null==(e=C.current.floatingContext)?void 0:e.nodeId})),U=Ae(f),Q="number"===typeof c&&c<0,E=j(v)&&Q,F="undefined"!==typeof HTMLElement&&"inert"in HTMLElement.prototype,S=!F||o,k=!S||F&&g,R=z(r),x=z(c),H=z(l),_=Me(),O=sA(),D=i.useRef(null),K=i.useRef(null),V=i.useRef(!1),q=i.useRef(!1),ee=i.useRef(-1),te=null!=O,ne=G(b),re=Ae((function(e){return void 0===e&&(e=ne),e?I(e,le()):[]})),se=Ae((e=>{const A=re(e);return R.current.map((e=>v&&"reference"===e?v:ne&&"floating"===e?ne:A)).filter(Boolean).flat()}));i.useEffect((()=>{if(n)return;if(!d)return;function e(e){if("Tab"===e.key){P(ne,L(M(ne)))&&0===re().length&&!E&&W(e);const A=se(),t=N(e);"reference"===R.current[0]&&t===v&&(W(e),e.shiftKey?Je(A[A.length-1]):Je(A[1])),"floating"===R.current[1]&&t===ne&&e.shiftKey&&(W(e),Je(A[0]))}}const A=M(ne);return A.addEventListener("keydown",e),()=>{A.removeEventListener("keydown",e)}}),[n,v,ne,d,R,E,re,se]),i.useEffect((()=>{if(!n&&b)return b.addEventListener("focusin",e),()=>{b.removeEventListener("focusin",e)};function e(e){const A=N(e),t=re().indexOf(A);-1!==t&&(ee.current=t)}}),[n,b,re]),i.useEffect((()=>{if(!n&&p)return b&&(0,a.sb)(v)?(v.addEventListener("focusout",A),v.addEventListener("pointerdown",e),b.addEventListener("focusout",A),()=>{v.removeEventListener("focusout",A),v.removeEventListener("pointerdown",e),b.removeEventListener("focusout",A)}):void 0;function e(){q.current=!0,setTimeout((()=>{q.current=!1}))}function A(e){const A=e.relatedTarget,t=e.currentTarget;queueMicrotask((()=>{const n=y(),r=!(P(v,A)||P(b,A)||P(A,b)||P(null==O?void 0:O.portalNode,A)||null!=A&&A.hasAttribute(Ve("focus-guard"))||_&&(J(_.nodesRef.current,n).find((e=>{var t,n;return P(null==(t=e.context)?void 0:t.elements.floating,A)||P(null==(n=e.context)?void 0:n.elements.domReference,A)}))||$(_.nodesRef.current,n).find((e=>{var t,n,r;return[null==(t=e.context)?void 0:t.elements.floating,G(null==(n=e.context)?void 0:n.elements.floating)].includes(A)||(null==(r=e.context)?void 0:r.elements.domReference)===A}))));if(t===v&&ne&&cA(ne,R),u&&r&&L(M(ne))===M(ne).body){(0,a.sb)(ne)&&ne.focus();const e=ee.current,A=re(),t=A[e]||A[A.length-1]||ne;(0,a.sb)(t)&&t.focus()}!E&&d||!A||!r||q.current||A===aA()||(V.current=!0,B(!1,e,"focus-out"))}))}}),[n,v,b,ne,d,_,O,B,p,u,re,E,y,R]);const ie=i.useRef(null),oe=i.useRef(null),ae=iA([ie,null==O?void 0:O.beforeInsideRef]),ce=iA([oe,null==O?void 0:O.afterInsideRef]);function ue(e){return!n&&h&&d?(0,s.jsx)(lA,{ref:"start"===e?D:K,onClick:e=>B(!1,e.nativeEvent),children:"string"===typeof h?h:"Dismiss"}):null}i.useEffect((()=>{var e,A;if(n)return;if(!b)return;const t=Array.from((null==O||null==(e=O.portalNode)?void 0:e.querySelectorAll("["+Ve("portal")+"]"))||[]),r=_?$(_.nodesRef.current,y()):[],s=_&&!d?r.map((e=>{var A;return null==(A=e.context)?void 0:A.elements.floating})):[],i=null==(A=r.find((e=>{var A;return j((null==(A=e.context)?void 0:A.elements.domReference)||null)})))||null==(A=A.context)?void 0:A.elements.domReference,o=[b,i,...t,...s,...U(),D.current,K.current,ie.current,oe.current,null==O?void 0:O.beforeOutsideRef.current,null==O?void 0:O.afterOutsideRef.current,R.current.includes("reference")||E?v:null].filter((e=>null!=e)),a=d||E?ze(o,!k,k):ze(o);return()=>{a()}}),[n,v,b,d,R,O,E,S,k,_,y,U]),Z((()=>{if(n||!(0,a.sb)(ne))return;const e=L(M(ne));queueMicrotask((()=>{const A=se(ne),t=x.current,n=("number"===typeof t?A[t]:t.current)||ne,r=P(ne,e);Q||r||!m||Je(n,{preventScroll:n===ne})}))}),[n,m,ne,Q,se,x]),Z((()=>{if(n||!ne)return;let e=!1;const A=M(ne),t=L(A);var r;function s(A){let{reason:t,event:n,nested:r}=A;if(["hover","safe-polygon"].includes(t)&&"mouseleave"===n.type&&(V.current=!0),"outside-press"===t)if(r)V.current=!1,e=!0;else if(X(n)||Y(n))V.current=!1;else{let A=!1;document.createElement("div").focus({get preventScroll(){return A=!0,!1}}),A?(V.current=!1,e=!0):V.current=!0}}r=t,oA=oA.filter((e=>e.isConnected)),r&&"body"!==(0,a.mq)(r)&&(oA.push(r),oA.length>20&&(oA=oA.slice(-20))),w.on("openchange",s);const i=A.createElement("span");return i.setAttribute("tabindex","-1"),i.setAttribute("aria-hidden","true"),Object.assign(i.style,eA),te&&v&&v.insertAdjacentElement("afterend",i),()=>{w.off("openchange",s);const t=L(A),n=P(b,t)||_&&J(_.nodesRef.current,y()).some((e=>{var A;return P(null==(A=e.context)?void 0:A.elements.floating,t)})),r=function(){if("boolean"===typeof H.current){const e=v||aA();return e&&e.isConnected?e:i}return H.current.current||i}();queueMicrotask((()=>{const s=function(e){const A=le();return T(e,A)?e:I(e,A)[0]||e}(r);H.current&&!V.current&&(0,a.sb)(s)&&(s===t||t===A.body||n)&&s.focus({preventScroll:e}),i.remove()}))}}),[n,b,ne,H,C,w,_,te,v,y]),i.useEffect((()=>{queueMicrotask((()=>{V.current=!1}))}),[n]),Z((()=>{if(!n&&O)return O.setFocusManagerState({modal:d,closeOnFocusOut:p,open:m,onOpenChange:B,domReference:v}),()=>{O.setFocusManagerState(null)}}),[n,O,d,m,B,p,v]),Z((()=>{n||ne&&cA(ne,R)}),[n,ne,R]);const ge=!n&&S&&(!d||!E)&&(te||d);return(0,s.jsxs)(s.Fragment,{children:[ge&&(0,s.jsx)(AA,{"data-type":"inside",ref:ae,onFocus:e=>{if(d){const e=se();Je("reference"===r[0]?e[0]:e[e.length-1])}else if(null!=O&&O.preserveTabOrder&&O.portalNode)if(V.current=!1,pe(e,O.portalNode)){const e=de(v);null==e||e.focus()}else{var A;null==(A=O.beforeOutsideRef.current)||A.focus()}}}),!E&&ue("start"),t,ue("end"),ge&&(0,s.jsx)(AA,{"data-type":"inside",ref:ce,onFocus:e=>{if(d)Je(se()[0]);else if(null!=O&&O.preserveTabOrder&&O.portalNode)if(p&&(V.current=!0),pe(e,O.portalNode)){const e=he(v);null==e||e.focus()}else{var A;null==(A=O.afterOutsideRef.current)||A.focus()}}})]})}let dA=0;let hA=()=>{};const pA=i.forwardRef((function(e,A){const{lockScroll:t=!1,...n}=e;return Z((()=>{if(t)return dA++,1===dA&&(hA=function(){const e=/iP(hone|ad|od)|iOS/.test(k()),A=document.body.style,t=Math.round(document.documentElement.getBoundingClientRect().left)+document.documentElement.scrollLeft?"paddingLeft":"paddingRight",n=window.innerWidth-document.documentElement.clientWidth,r=A.left?parseFloat(A.left):window.scrollX,s=A.top?parseFloat(A.top):window.scrollY;if(A.overflow="hidden",n&&(A[t]=n+"px"),e){var i,o;const e=(null==(i=window.visualViewport)?void 0:i.offsetLeft)||0,t=(null==(o=window.visualViewport)?void 0:o.offsetTop)||0;Object.assign(A,{position:"fixed",top:-(s-Math.floor(t))+"px",left:-(r-Math.floor(e))+"px",right:"0"})}return()=>{Object.assign(A,{overflow:"",[t]:""}),e&&(Object.assign(A,{position:"",top:"",left:"",right:""}),window.scrollTo(r,s))}}()),()=>{dA--,0===dA&&hA()}}),[t]),(0,s.jsx)("div",{ref:A,...n,style:{position:"fixed",overflow:"auto",top:0,right:0,bottom:0,left:0,...n.style}})}));function gA(e){return(0,a.sb)(e.target)&&"BUTTON"===e.target.tagName}function fA(e){return V(e)}function mA(e,A){void 0===A&&(A={});const{open:t,onOpenChange:n,dataRef:r,elements:{domReference:s}}=e,{enabled:o=!0,event:c="click",toggle:l=!0,ignoreMouse:u=!1,keyboardHandlers:d=!0,stickIfOpen:h=!0}=A,p=i.useRef(),g=i.useRef(!1),f=i.useMemo((()=>({onPointerDown(e){p.current=e.pointerType},onMouseDown(e){const A=p.current;0===e.button&&"click"!==c&&(q(A,!0)&&u||(!t||!l||r.current.openEvent&&h&&"mousedown"!==r.current.openEvent.type?(e.preventDefault(),n(!0,e.nativeEvent,"click")):n(!1,e.nativeEvent,"click")))},onClick(e){const A=p.current;"mousedown"===c&&p.current?p.current=void 0:q(A,!0)&&u||(!t||!l||r.current.openEvent&&h&&"click"!==r.current.openEvent.type?n(!0,e.nativeEvent,"click"):n(!1,e.nativeEvent,"click"))},onKeyDown(e){p.current=void 0,e.defaultPrevented||!d||gA(e)||(" "!==e.key||fA(s)||(e.preventDefault(),g.current=!0),function(e){return(0,a.sb)(e.target)&&"A"===e.target.tagName}(e)||"Enter"===e.key&&n(!t||!l,e.nativeEvent,"click"))},onKeyUp(e){e.defaultPrevented||!d||gA(e)||fA(s)||" "===e.key&&g.current&&(g.current=!1,n(!t||!l,e.nativeEvent,"click"))}})),[r,s,c,u,d,n,t,h,l]);return i.useMemo((()=>o?{reference:f}:{}),[o,f])}const BA={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},wA={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},CA=e=>{var A,t;return{escapeKey:"boolean"===typeof e?e:null!=(A=null==e?void 0:e.escapeKey)&&A,outsidePress:"boolean"===typeof e?e:null==(t=null==e?void 0:e.outsidePress)||t}};function vA(e){void 0===e&&(e={});const{nodeId:A}=e,t=function(e){const{open:A=!1,onOpenChange:t,elements:n}=e,r=Oe(),s=i.useRef({}),[o]=i.useState((()=>Le())),a=null!=Ke(),[c,l]=i.useState(n.reference),u=Ae(((e,A,n)=>{s.current.openEvent=e?A:void 0,o.emit("openchange",{open:e,event:A,reason:n,nested:a}),null==t||t(e,A,n)})),d=i.useMemo((()=>({setPositionReference:l})),[]),h=i.useMemo((()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference})),[c,n.reference,n.floating]);return i.useMemo((()=>({dataRef:s,open:A,onOpenChange:u,elements:h,events:o,floatingId:r,refs:d})),[A,u,h,o,r,d])}({...e,elements:{reference:null,floating:null,...e.elements}}),n=e.rootContext||t,r=n.elements,[s,o]=i.useState(null),[c,l]=i.useState(null),u=(null==r?void 0:r.domReference)||s,d=i.useRef(null),h=Me();Z((()=>{u&&(d.current=u)}),[u]);const p=(0,Be.we)({...e,elements:{...r,...c&&{reference:c}}}),g=i.useCallback((e=>{const A=(0,a.vq)(e)?{getBoundingClientRect:()=>e.getBoundingClientRect(),getClientRects:()=>e.getClientRects(),contextElement:e}:e;l(A),p.refs.setReference(A)}),[p.refs]),f=i.useCallback((e=>{((0,a.vq)(e)||null===e)&&(d.current=e,o(e)),((0,a.vq)(p.refs.reference.current)||null===p.refs.reference.current||null!==e&&!(0,a.vq)(e))&&p.refs.setReference(e)}),[p.refs]),m=i.useMemo((()=>({...p.refs,setReference:f,setPositionReference:g,domReference:d})),[p.refs,f,g]),B=i.useMemo((()=>({...p.elements,domReference:u})),[p.elements,u]),w=i.useMemo((()=>({...p,...n,refs:m,elements:B,nodeId:A})),[p,m,B,A,n]);return Z((()=>{n.dataRef.current.floatingContext=w;const e=null==h?void 0:h.nodesRef.current.find((e=>e.id===A));e&&(e.context=w)})),i.useMemo((()=>({...p,context:w,refs:m,elements:B})),[p,m,B,w])}function bA(e,A,t){const n=new Map,r="item"===t;let s=e;if(r&&e){const{[Ue]:A,[Qe]:t,...n}=e;s=n}return{..."floating"===t&&{tabIndex:-1,[ye]:""},...s,...A.map((A=>{const n=A?A[t]:null;return"function"===typeof n?e?n(e):null:n})).concat(e).reduce(((e,A)=>A?(Object.entries(A).forEach((A=>{let[t,s]=A;var i;r&&[Ue,Qe].includes(t)||(0===t.indexOf("on")?(n.has(t)||n.set(t,[]),"function"===typeof s&&(null==(i=n.get(t))||i.push(s),e[t]=function(){for(var e,A=arguments.length,r=new Array(A),s=0;s<A;s++)r[s]=arguments[s];return null==(e=n.get(t))?void 0:e.map((e=>e(...r))).find((e=>void 0!==e))})):e[t]=s)})),e):e),{})}}function yA(e,A,t){switch(e){case"vertical":return A;case"horizontal":return t;default:return A||t}}function UA(e,A){return yA(A,e===Se||e===Ie,e===Ee||e===Fe)}function QA(e,A,t){return yA(A,e===Ie,t?e===Ee:e===Fe)||"Enter"===e||" "===e||""===e}function EA(e,A,t){return yA(A,t?e===Ee:e===Fe,e===Ie)}function FA(e,A,t,n){return"both"===A||"horizontal"===A&&n&&n>1?"Escape"===e:yA(A,t?e===Fe:e===Ee,e===Se)}function SA(e,A){const{open:t,onOpenChange:n,elements:r,floatingId:s}=e,{listRef:o,activeIndex:l,onNavigate:u=()=>{},enabled:d=!0,selectedIndex:h=null,allowEscape:p=!1,loop:g=!1,nested:f=!1,rtl:m=!1,virtual:B=!1,focusItemOnOpen:w="auto",focusItemOnHover:C=!0,openOnArrowKeyDown:v=!0,disabledIndices:b,orientation:y="vertical",parentOrientation:U,cols:Q=1,scrollItemIntoView:E=!0,virtualItemRef:F,itemSizes:S,dense:I=!1}=A;const T=z(G(r.floating)),k=Ke(),R=Me();Z((()=>{e.dataRef.current.orientation=y}),[e,y]);const x=Ae((()=>{u(-1===N.current?null:N.current)})),H=j(r.domReference),_=i.useRef(w),N=i.useRef(null!=h?h:-1),K=i.useRef(null),V=i.useRef(!0),$=i.useRef(x),q=i.useRef(!!r.floating),ee=i.useRef(t),le=i.useRef(!1),ue=i.useRef(!1),de=z(b),he=z(t),pe=z(E),ge=z(h),[fe,me]=i.useState(),[Be,we]=i.useState(),Ce=Ae((()=>{function e(e){var A;B?(null!=(A=e.id)&&A.endsWith("-fui-option")&&(e.id=s+"-"+Math.random().toString(16).slice(2,10)),me(e.id),null==R||R.events.emit("virtualfocus",e),F&&(F.current=e)):Je(e,{sync:le.current,preventScroll:!0})}const A=o.current[N.current],t=ue.current;A&&e(A);(le.current?e=>e():requestAnimationFrame)((()=>{const n=o.current[N.current]||A;if(!n)return;A||e(n);const r=pe.current;r&&be&&(t||!V.current)&&(null==n.scrollIntoView||n.scrollIntoView("boolean"===typeof r?{block:"nearest",inline:"nearest"}:r))}))}));Z((()=>{d&&(t&&r.floating?_.current&&null!=h&&(ue.current=!0,N.current=h,x()):q.current&&(N.current=-1,$.current()))}),[d,t,r.floating,h,x]),Z((()=>{if(d&&t&&r.floating)if(null==l){if(le.current=!1,null!=ge.current)return;if(q.current&&(N.current=-1,Ce()),(!ee.current||!q.current)&&_.current&&(null!=K.current||!0===_.current&&null==K.current)){let e=0;const A=()=>{if(null==o.current[0]){if(e<2){(e?requestAnimationFrame:queueMicrotask)(A)}e++}else N.current=null==K.current||QA(K.current,y,m)||f?re(o,de.current):se(o,de.current),K.current=null,x()};A()}}else ne(o,l)||(N.current=l,Ce(),ue.current=!1)}),[d,t,r.floating,l,ge,f,o,y,m,x,Ce,de]),Z((()=>{var e;if(!d||r.floating||!R||B||!q.current)return;const A=R.nodesRef.current,t=null==(e=A.find((e=>e.id===k)))||null==(e=e.context)?void 0:e.elements.floating,n=L(M(r.floating)),s=A.some((e=>e.context&&P(e.context.elements.floating,n)));t&&!s&&V.current&&t.focus({preventScroll:!0})}),[d,r.floating,R,k,B]),Z((()=>{if(d&&R&&B&&!k)return R.events.on("virtualfocus",e),()=>{R.events.off("virtualfocus",e)};function e(e){we(e.id),F&&(F.current=e)}}),[d,R,B,k,F]),Z((()=>{$.current=x,ee.current=t,q.current=!!r.floating})),Z((()=>{t||(K.current=null)}),[t]);const ve=null!=l,be=i.useMemo((()=>{function e(e){if(!t)return;const A=o.current.indexOf(e);-1!==A&&N.current!==A&&(N.current=A,x())}return{onFocus(A){let{currentTarget:t}=A;le.current=!0,e(t)},onClick:e=>{let{currentTarget:A}=e;return A.focus({preventScroll:!0})},...C&&{onMouseMove(A){let{currentTarget:t}=A;le.current=!0,ue.current=!1,e(t)},onPointerLeave(e){let{pointerType:A}=e;var t;V.current&&"touch"!==A&&(le.current=!0,N.current=-1,x(),B||null==(t=T.current)||t.focus({preventScroll:!0}))}}}}),[t,T,C,o,x,B]),ye=i.useCallback((()=>{var e;return null!=U?U:null==R||null==(e=R.nodesRef.current.find((e=>e.id===k)))||null==(e=e.context)||null==(e=e.dataRef)?void 0:e.current.orientation}),[k,R,U]),Ue=Ae((e=>{if(V.current=!1,le.current=!0,229===e.which)return;if(!he.current&&e.currentTarget===T.current)return;if(f&&FA(e.key,y,m,Q))return UA(e.key,ye())||W(e),n(!1,e.nativeEvent,"list-navigation"),void((0,a.sb)(r.domReference)&&(B?null==R||R.events.emit("virtualfocus",r.domReference):r.domReference.focus()));const A=N.current,s=re(o,b),i=se(o,b);if(H||("Home"===e.key&&(W(e),N.current=s,x()),"End"===e.key&&(W(e),N.current=i,x())),Q>1){const A=S||Array.from({length:o.current.length},(()=>({width:1,height:1}))),t=function(e,A,t){const n=[];let r=0;return e.forEach(((e,s)=>{let{width:i,height:o}=e,a=!1;for(t&&(r=0);!a;){const e=[];for(let t=0;t<i;t++)for(let n=0;n<o;n++)e.push(r+t+n*A);r%A+i<=A&&e.every((e=>null==n[e]))?(e.forEach((e=>{n[e]=s})),a=!0):r++}})),[...n]}(A,Q,I),n=t.findIndex((e=>null!=e&&!ce(o,e,b))),r=t.reduce(((e,A,t)=>null==A||ce(o,A,b)?e:t),-1),a=t[function(e,A){let{event:t,orientation:n,loop:r,rtl:s,cols:i,disabledIndices:o,minIndex:a,maxIndex:l,prevIndex:u,stopEvent:d=!1}=A,h=u;if("ArrowUp"===t.key){if(d&&W(t),-1===u)h=l;else if(h=ie(e,{startingIndex:h,amount:i,decrement:!0,disabledIndices:o}),r&&(u-i<a||h<0)){const e=u%i,A=l%i,t=l-(A-e);h=A===e?l:A>e?t:t-i}ne(e,h)&&(h=u)}if("ArrowDown"===t.key&&(d&&W(t),-1===u?h=a:(h=ie(e,{startingIndex:u,amount:i,disabledIndices:o}),r&&u+i>l&&(h=ie(e,{startingIndex:u%i-i,amount:i,disabledIndices:o}))),ne(e,h)&&(h=u)),"both"===n){const A=(0,c.RI)(u/i);t.key===(s?O:D)&&(d&&W(t),u%i!==i-1?(h=ie(e,{startingIndex:u,disabledIndices:o}),r&&te(h,i,A)&&(h=ie(e,{startingIndex:u-u%i-1,disabledIndices:o}))):r&&(h=ie(e,{startingIndex:u-u%i-1,disabledIndices:o})),te(h,i,A)&&(h=u)),t.key===(s?D:O)&&(d&&W(t),u%i!==0?(h=ie(e,{startingIndex:u,decrement:!0,disabledIndices:o}),r&&te(h,i,A)&&(h=ie(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:o}))):r&&(h=ie(e,{startingIndex:u+(i-u%i),decrement:!0,disabledIndices:o})),te(h,i,A)&&(h=u));const n=(0,c.RI)(l/i)===A;ne(e,h)&&(h=r&&n?t.key===(s?D:O)?l:ie(e,{startingIndex:u-u%i-1,disabledIndices:o}):u)}return h}({current:t.map((e=>null!=e?o.current[e]:null))},{event:e,orientation:y,loop:g,rtl:m,cols:Q,disabledIndices:ae([...b||o.current.map(((e,A)=>ce(o,A)?A:void 0)),void 0],t),minIndex:n,maxIndex:r,prevIndex:oe(N.current>i?s:N.current,A,t,Q,e.key===Ie?"bl":e.key===(m?Ee:Fe)?"tr":"tl"),stopEvent:!0})];if(null!=a&&(N.current=a,x()),"both"===y)return}if(UA(e.key,y)){if(W(e),t&&!B&&L(e.currentTarget.ownerDocument)===e.currentTarget)return N.current=QA(e.key,y,m)?s:i,void x();QA(e.key,y,m)?N.current=g?A>=i?p&&A!==o.current.length?-1:s:ie(o,{startingIndex:A,disabledIndices:b}):Math.min(i,ie(o,{startingIndex:A,disabledIndices:b})):N.current=g?A<=s?p&&-1!==A?o.current.length:i:ie(o,{startingIndex:A,decrement:!0,disabledIndices:b}):Math.max(s,ie(o,{startingIndex:A,decrement:!0,disabledIndices:b})),ne(o,N.current)&&(N.current=-1),x()}})),Qe=i.useMemo((()=>B&&t&&ve&&{"aria-activedescendant":Be||fe}),[B,t,ve,Be,fe]),Se=i.useMemo((()=>({"aria-orientation":"both"===y?void 0:y,...H?{}:Qe,onKeyDown:Ue,onPointerMove(){V.current=!0}})),[Qe,Ue,y,H]),Te=i.useMemo((()=>{function e(e){"auto"===w&&X(e.nativeEvent)&&(_.current=!0)}function A(e){_.current=w,"auto"===w&&Y(e.nativeEvent)&&(_.current=!0)}return{...Qe,onKeyDown(e){V.current=!1;const A=e.key.startsWith("Arrow"),r=["Home","End"].includes(e.key),s=A||r,i=EA(e.key,y,m),a=FA(e.key,y,m,Q),c=EA(e.key,ye(),m),l=UA(e.key,y),u=(f?c:l)||"Enter"===e.key||""===e.key.trim();if(B&&t){const A=null==R?void 0:R.nodesRef.current.find((e=>null==e.parentId)),t=R&&A?function(e,A){let t,n=-1;return function A(r,s){s>n&&(t=r,n=s),J(e,r).forEach((e=>{A(e.id,s+1)}))}(A,0),e.find((e=>e.id===t))}(R.nodesRef.current,A.id):null;if(s&&t&&F){const A=new KeyboardEvent("keydown",{key:e.key,bubbles:!0});if(i||a){var d,p;const n=(null==(d=t.context)?void 0:d.elements.domReference)===e.currentTarget,r=a&&!n?null==(p=t.context)?void 0:p.elements.domReference:i?o.current.find((e=>(null==e?void 0:e.id)===fe)):null;r&&(W(e),r.dispatchEvent(A),we(void 0))}var g;if((l||r)&&t.context)if(t.context.open&&t.parentId&&e.currentTarget!==t.context.elements.domReference)return W(e),void(null==(g=t.context.elements.domReference)||g.dispatchEvent(A))}return Ue(e)}if(t||v||!A){if(u){const A=UA(e.key,ye());K.current=f&&A?null:e.key}f?c&&(W(e),t?(N.current=re(o,de.current),x()):n(!0,e.nativeEvent,"list-navigation")):l&&(null!=h&&(N.current=h),W(e),!t&&v?n(!0,e.nativeEvent,"list-navigation"):Ue(e),t&&x())}},onFocus(){t&&!B&&(N.current=-1,x())},onPointerDown:A,onPointerEnter:A,onMouseDown:e,onClick:e}}),[fe,Qe,Q,Ue,de,w,o,f,x,n,t,v,y,ye,m,h,R,B,F]);return i.useMemo((()=>d?{reference:Te,floating:Se,item:be}:{}),[d,Te,Se,be])}const IA=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);var TA=t(5885),kA=t(8387);const RA=e=>{let{participant:A,trackType:t="audioTrack",...n}=e;const o=(0,r.Gc)(),[a,c]=(0,i.useState)(null),{userId:l,sessionId:u}=A;return(0,i.useEffect)((()=>{if(!o||!a)return;const e=o.bindAudioElement(a,u,t);return()=>{e?.()}}),[o,u,a,t]),(0,s.jsx)("audio",{autoPlay:!0,...n,ref:c,"data-user-id":l,"data-session-id":u,"data-track-type":t})};RA.displayName="Audio";const xA=e=>{const{participants:A,audioProps:t}=e;return(0,s.jsx)(s.Fragment,{children:A.map((e=>{if(e.isLocalParticipant)return null;const{audioStream:A,screenShareAudioStream:r,sessionId:o}=e,a=(0,n.Fv)(e)&&A&&(0,s.jsx)(RA,{...t,trackType:"audioTrack",participant:e}),c=(0,n.sf)(e)&&r&&(0,s.jsx)(RA,{...t,trackType:"screenShareAudioTrack",participant:e});return(0,s.jsxs)(i.Fragment,{children:[a,c]},o)}))})};xA.displayName="ParticipantsAudio";const HA=(0,i.createContext)(void 0),_A=()=>(0,i.useContext)(HA),OA=e=>{let{middleware:A=[],placement:t,strategy:n,offset:r=10}=e;const{refs:s,x:o,y:a,update:c,elements:{domReference:l,floating:u},context:d}=vA({placement:t,strategy:n,middleware:[(0,Be.cY)(r),(0,Be.BN)(),(0,Be.UU)(),(0,Be.Ej)({padding:10,apply:e=>{let{availableHeight:A,elements:t}=e;Object.assign(t.floating.style,{maxHeight:`${A}px`})}}),...A]});return(0,i.useEffect)((()=>{if(!l||!u)return;const e=(0,TA.ll)(l,u,c);return()=>e()}),[l,u,c]),{refs:s,x:o,y:a,domReference:l,floating:u,strategy:n,context:d}};function DA(e,A){const{t:t}=(0,r.s9)();return(0,i.useMemo)((()=>{let n=null,r=null;const s=e.map(((e,t)=>{const s=e.deviceId===A,i={deviceId:e.deviceId,label:e.label,isSelected:s};return s&&(n=i,r=t),i}));if(null===n||null===r){const e={deviceId:"default",label:t("Default"),isSelected:!0};n=e,r=0,s.unshift(e)}return{deviceList:s,selectedDeviceInfo:n,selectedIndex:r}}),[e,A,t])}var LA;!function(e){e.PORTAL="portal",e.MENU="menu"}(LA||(LA={}));const PA=(0,i.createContext)({}),NA=()=>(0,i.useContext)(PA),KA=e=>{let{children:A,refs:t}=e;const n=(0,i.useMemo)((()=>`str-video-portal-${Math.random().toString(36).substring(2,9)}`),[]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{id:n,className:"str-video__portal"}),(0,s.jsx)(pA,{children:(0,s.jsx)(rA,{id:n,children:(0,s.jsx)("div",{className:"str-video__portal-content",ref:t.setFloating,children:A})})})]})},MA=e=>{let{ToggleButton:A,placement:t="top-start",strategy:n="absolute",offset:r,visualType:o=LA.MENU,children:a,onToggle:c}=e;const[l,u]=(0,i.useState)(!1),d=(0,i.useRef)(c);d.current=c;const{floating:h,domReference:p,refs:g,x:f,y:m}=OA({placement:t,strategy:n,offset:r});return(0,i.useEffect)((()=>{const e=p?.ownerDocument,A=e=>{!h&&p?.contains(e.target)?(u(!0),d.current?.(!0)):h&&!h?.contains(e.target)&&(u(!1),d.current?.(!1))},t=e=>{!e.key||"escape"!==e.key.toLowerCase()||e.altKey||e.ctrlKey||(u(!1),d.current?.(!1))};return e?.addEventListener("click",A,{capture:!0}),e?.addEventListener("keydown",t),()=>{e?.removeEventListener("click",A,{capture:!0}),e?.removeEventListener("keydown",t)}}),[h,p]),(0,s.jsxs)(s.Fragment,{children:[l&&(0,s.jsx)(PA.Provider,{value:{close:()=>u(!1)},children:o===LA.PORTAL?(0,s.jsx)(KA,{refs:g,children:a}):o===LA.MENU?(0,s.jsx)("div",{className:"str-video__menu-container",ref:g.setFloating,style:{position:n,top:m??0,left:f??0,overflowY:"auto"},role:"menu",children:a}):null}),(0,s.jsx)(A,{menuShown:l,ref:g.setReference})]})},VA=e=>{let{children:A,onItemClick:t}=e;const n=(0,i.useRef)(null);return(0,s.jsx)("ul",{className:"str-video__generic-menu",ref:n,onClick:e=>{t&&e.target!==n.current&&n.current?.contains(e.target)&&t(e)},children:A})},jA=e=>{let{children:A,...t}=e;return(0,s.jsx)("li",{className:"str-video__generic-menu--item",children:(0,s.jsx)("button",{...t,children:A})})},GA=e=>{let{className:A,icon:t}=e;return(0,s.jsx)("span",{className:(0,kA.A)("str-video__icon",t&&`str-video__icon--${t}`,A)})};function JA(e){const[A,t]=(0,i.useState)(document.pictureInPictureElement===e);return!e&&A&&t(!1),(0,i.useEffect)((()=>{if(!e)return;const A=()=>{t(document.pictureInPictureElement===e)};return e.addEventListener("enterpictureinpicture",A),e.addEventListener("leavepictureinpicture",A),()=>{e.removeEventListener("enterpictureinpicture",A),e.removeEventListener("leavepictureinpicture",A)}}),[e]),A}const $A=()=>{const{participant:e,participantViewElement:A,videoElement:t}=_A(),[o,a]=(0,i.useState)(!!document.fullscreenElement),c=(0,r.Gc)(),l=JA(t??void 0),{t:u}=(0,r.s9)(),{pin:d,sessionId:h,userId:p}=e,g=(0,n.Fv)(e),f=(0,n.aV)(e),m=(0,n.Mc)(e),B=(0,n.sf)(e),w=e=>()=>{c?.updateUserPermissions({user_id:p,grant_permissions:[e]})},C=e=>()=>{c?.updateUserPermissions({user_id:p,revoke_permissions:[e]})};(0,i.useEffect)((()=>{const e=()=>{a(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>{document.removeEventListener("fullscreenchange",e)}}),[]);const{close:v}=NA()||{};return(0,s.jsxs)(VA,{onItemClick:v,children:[(0,s.jsxs)(jA,{onClick:()=>{d?c?.unpin(h):c?.pin(h)},disabled:d&&!d.isLocalPin,children:[(0,s.jsx)(GA,{icon:"pin"}),u(d?"Unpin":"Pin")]}),(0,s.jsxs)(r.c7,{requiredGrants:[n.pI.PIN_FOR_EVERYONE],children:[(0,s.jsxs)(jA,{onClick:()=>{c?.pinForEveryone({user_id:p,session_id:h}).catch((e=>{console.error(`Failed to pin participant ${p}`,e)}))},disabled:d&&!d.isLocalPin,children:[(0,s.jsx)(GA,{icon:"pin"}),u("Pin for everyone")]}),(0,s.jsxs)(jA,{onClick:()=>{c?.unpinForEveryone({user_id:p,session_id:h}).catch((e=>{console.error(`Failed to unpin participant ${p}`,e)}))},disabled:!d||d.isLocalPin,children:[(0,s.jsx)(GA,{icon:"pin"}),u("Unpin for everyone")]})]}),(0,s.jsx)(r.c7,{requiredGrants:[n.pI.BLOCK_USERS],children:(0,s.jsxs)(jA,{onClick:()=>c?.blockUser(p),children:[(0,s.jsx)(GA,{icon:"not-allowed"}),u("Block")]})}),(0,s.jsxs)(r.c7,{requiredGrants:[n.pI.MUTE_USERS],children:[f&&(0,s.jsxs)(jA,{onClick:()=>c?.muteUser(p,"video"),children:[(0,s.jsx)(GA,{icon:"camera-off-outline"}),u("Turn off video")]}),m&&(0,s.jsxs)(jA,{onClick:()=>c?.muteUser(p,"screenshare"),children:[(0,s.jsx)(GA,{icon:"screen-share-off"}),u("Turn off screen share")]}),g&&(0,s.jsxs)(jA,{onClick:()=>c?.muteUser(p,"audio"),children:[(0,s.jsx)(GA,{icon:"no-audio"}),u("Mute audio")]}),B&&(0,s.jsxs)(jA,{onClick:()=>c?.muteUser(p,"screenshare_audio"),children:[(0,s.jsx)(GA,{icon:"no-audio"}),u("Mute screen share audio")]})]}),A&&"undefined"!==typeof A.requestFullscreen&&(0,s.jsx)(jA,{onClick:()=>o?document.exitFullscreen().catch(console.error):A?.requestFullscreen().catch(console.error),children:u("{{ direction }} fullscreen",{direction:u(o?"Leave":"Enter")})}),t&&document.pictureInPictureEnabled&&(0,s.jsx)(jA,{onClick:()=>t&&!l?t.requestPictureInPicture().catch(console.error):document.exitPictureInPicture().catch(console.error),children:u("{{ direction }} picture-in-picture",{direction:u(l?"Leave":"Enter")})}),(0,s.jsxs)(r.c7,{requiredGrants:[n.pI.UPDATE_CALL_PERMISSIONS],children:[(0,s.jsx)(jA,{onClick:w(n.pI.SEND_AUDIO),children:u("Allow audio")}),(0,s.jsx)(jA,{onClick:w(n.pI.SEND_VIDEO),children:u("Allow video")}),(0,s.jsx)(jA,{onClick:w(n.pI.SCREENSHARE),children:u("Allow screen sharing")}),(0,s.jsx)(jA,{onClick:C(n.pI.SEND_AUDIO),children:u("Disable audio")}),(0,s.jsx)(jA,{onClick:C(n.pI.SEND_VIDEO),children:u("Disable video")}),(0,s.jsx)(jA,{onClick:C(n.pI.SCREENSHARE),children:u("Disable screen sharing")})]})]})},WA=e=>null!==e&&!(0,i.isValidElement)(e),XA=(e,A)=>{if(e)return"function"===typeof e?e(A):void(e.current=A)},YA=((0,i.forwardRef)((function(e,A){let{stream:t,...r}=e;const[o,a]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(o&&t&&t!==o.srcObject)return o.srcObject=t,(n.cV.isSafari()||n.cV.isFirefox())&&setTimeout((()=>{o.srcObject=t,o.play().catch((e=>{console.error("Failed to play stream",e)}))}),0),()=>{o.pause(),o.srcObject=null}}),[t,o]),(0,s.jsx)("video",{autoPlay:!0,playsInline:!0,...r,ref:e=>{XA(A,e),a(e)}})})),(0,i.forwardRef)((function(e,A){let{participant:t,style:n,children:r}=e;const[o,a]=(0,i.useState)(!1),c=t.name||t.userId;return(0,s.jsxs)("div",{className:"str-video__video-placeholder",style:n,ref:A,children:[(!t.image||o)&&(c?(0,s.jsx)(qA,{name:c}):(0,s.jsx)("div",{className:"str-video__video-placeholder__no-video-label",children:r})),t.image&&!o&&(0,s.jsx)("img",{onError:()=>a(!0),alt:c,className:"str-video__video-placeholder__avatar",src:t.image})]})}))),qA=e=>{const{name:A}=e,t=A.split(" ").slice(0,2).map((e=>e[0])).join("");return(0,s.jsx)("div",{className:"str-video__video-placeholder__initials-fallback",children:t})},ZA=(0,i.forwardRef)((function(e,A){const{t:t}=(0,r.s9)();return(0,s.jsx)(YA,{ref:A,...e,children:t("Video is disabled")})})),zA=(0,i.forwardRef)((function(e,A){const{t:t}=(0,r.s9)();return(0,s.jsx)(YA,{ref:A,...e,children:t("Video is playing in a popup")})})),et=e=>{let{enabled:A=!0,mirror:t,trackType:o,participant:a,className:c,VideoPlaceholder:l=ZA,PictureInPicturePlaceholder:u=zA,refs:d,...h}=e;const{sessionId:p,videoStream:g,screenShareStream:f,viewportVisibilityState:m,isLocalParticipant:B,userId:w}=a,C=(0,r.Gc)(),[v,b]=(0,i.useState)(null),[y,U]=(0,i.useState)(!0),[Q,E]=(0,i.useState)(!0),F=JA(v??void 0),S="videoTrack"===o?g:"screenShareTrack"===o?f:void 0;if((0,i.useLayoutEffect)((()=>{if(!C||!v||"none"===o)return;const e=C.bindVideoElement(v,p,o);return()=>{e?.()}}),[C,o,p,v]),(0,i.useEffect)((()=>{if(!S||!v)return;const[e]=S.getVideoTracks();if(!e)return;const A=()=>{U(v.paused);const{width:A=0,height:t=0}=e.getSettings();E(A>=t)};return U(v.paused),v.addEventListener("play",A),v.addEventListener("pause",A),e.addEventListener("unmute",A),()=>{v.removeEventListener("play",A),v.removeEventListener("pause",A),e.removeEventListener("unmute",A),U(!0)}}),[S,v]),!C)return null;const I="videoTrack"===o?(0,n.aV)(a):"screenShareTrack"===o&&(0,n.Mc)(a),T="none"===o||m?.[o]===n.cy.INVISIBLE,k=!A||!I||T,R=void 0===t?B&&"videoTrack"===o:t,x="screenShareTrack"===o;return(0,s.jsxs)(s.Fragment,{children:[!k&&(0,s.jsx)("video",{...h,className:(0,kA.A)("str-video__video",c,{"str-video__video--not-playing":y,"str-video__video--tall":!Q,"str-video__video--mirror":R,"str-video__video--screen-share":x}),"data-user-id":w,"data-session-id":p,ref:e=>{b(e),d?.setVideoElement?.(e)}}),F&&u&&(0,s.jsx)(u,{style:{position:"absolute"},participant:a}),(k||y)&&l&&(0,s.jsx)(l,{style:{position:"absolute"},participant:a,ref:d?.setVideoPlaceholderElement})]})};et.displayName="Video";(0,i.createContext)(void 0);const At=(0,i.forwardRef)((function(e,A){const{icon:t,enabled:n,variant:r,onClick:i,className:o,...a}=e;return(0,s.jsx)("button",{className:(0,kA.A)("str-video__call-controls__button",o,{[`str-video__call-controls__button--variant-${r}`]:r,"str-video__call-controls__button--enabled":n}),onClick:e=>{e.preventDefault(),i?.(e)},ref:A,...a,children:(0,s.jsx)(GA,{icon:t})})})),tt=(0,i.forwardRef)((function(e,A){let{disabled:t,caption:n,children:r,className:i,active:o,Menu:a,menuPlacement:c,menuOffset:l,title:u,ToggleMenuButton:d=nt,variant:h,onClick:p,onMenuToggle:g,...f}=e;return(0,s.jsxs)("div",{className:(0,kA.A)("str-video__composite-button",i,{"str-video__composite-button--caption":n,"str-video__composite-button--menu":a}),title:u,ref:A,children:[(0,s.jsxs)("div",{className:(0,kA.A)("str-video__composite-button__button-group",{"str-video__composite-button__button-group--active":o,"str-video__composite-button__button-group--active-primary":o&&"primary"===h,"str-video__composite-button__button-group--active-secondary":o&&"secondary"===h,"str-video__composite-button__button-group--disabled":t}),children:[(0,s.jsx)("button",{type:"button",className:"str-video__composite-button__button",onClick:e=>{e.preventDefault(),p?.(e)},disabled:t,...f,children:r}),a&&(0,s.jsx)(MA,{offset:l,placement:c,ToggleButton:d,onToggle:g,children:WA(a)?(0,s.jsx)(a,{}):a})]}),n&&(0,s.jsx)("div",{className:"str-video__composite-button__caption",children:n})]})})),nt=(0,i.forwardRef)((function(e,A){let{menuShown:t}=e;return(0,s.jsx)(At,{className:(0,kA.A)("str-video__menu-toggle-button",{"str-video__menu-toggle-button--active":t}),icon:t?"caret-down":"caret-up",ref:A})})),rt=e=>{const{isVisible:A,message:t,children:n,visibilityTimeout:r,resetIsVisible:o,placement:a="top",iconClassName:c="str-video__notification__icon",close:l}=e,{refs:u,x:d,y:h,strategy:p}=OA({placement:a,strategy:"absolute"});return(0,i.useEffect)((()=>{if(!A||!r||!o)return;const e=setTimeout((()=>{o()}),r);return()=>clearTimeout(e)}),[A,o,r]),(0,s.jsxs)("div",{ref:u.setReference,children:[A&&(0,s.jsxs)("div",{className:"str-video__notification",ref:u.setFloating,style:{position:p,top:h??0,left:d??0,overflowY:"auto"},children:[c&&(0,s.jsx)("i",{className:c}),(0,s.jsx)("span",{className:"str-video__notification__message",children:t}),l?(0,s.jsx)("i",{className:"str-video__icon str-video__icon--close str-video__notification__close",onClick:l}):null]}),n]})},st=e=>{let{className:A,type:t="spinner",text:n,tooltip:r}=e;return(0,s.jsxs)("div",{className:(0,kA.A)("str-video__loading-indicator",A),title:r,children:[(0,s.jsx)("div",{className:(0,kA.A)("str-video__loading-indicator__icon",t)}),n&&(0,s.jsx)("p",{className:"str-video__loading-indicator-text",children:n})]})},it=e=>{let{children:A,referenceElement:t,tooltipClassName:n,tooltipPlacement:r="top",visible:o=!1}=e;const a=(0,i.useRef)(null),{refs:c,x:l,y:u,strategy:d,context:h}=OA({placement:r,strategy:"absolute",middleware:[(0,Be.UE)({element:a})]});return(0,i.useEffect)((()=>{c.setReference(t)}),[t,c]),o?(0,s.jsxs)("div",{className:(0,kA.A)("str-video__tooltip",n),ref:c.setFloating,style:{position:d,top:u??0,left:l??0},children:[(0,s.jsx)(De,{ref:a,context:h,fill:"var(--str-video__tooltip--background-color)"}),A]}):null},ot=e=>{let{title:A,tooltipClassName:t,tooltipPlacement:n,tooltipDisabled:r,...o}=e;const{handleMouseEnter:a,handleMouseLeave:c,tooltipVisible:l}=function(){let{onMouseEnter:e,onMouseLeave:A}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[t,n]=(0,i.useState)(!1);return{handleMouseEnter:(0,i.useCallback)((A=>{n(!0),e?.(A)}),[e]),handleMouseLeave:(0,i.useCallback)((e=>{n(!1),A?.(e)}),[A]),tooltipVisible:t}}(),[u,d]=(0,i.useState)(null),h=!r&&Boolean(A)&&l;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(it,{referenceElement:u,visible:h,tooltipClassName:t,tooltipPlacement:n,children:A||""}),(0,s.jsx)("div",{ref:d,onMouseEnter:a,onMouseLeave:c,...o})]})},at=((0,i.forwardRef)((function(e,A){return(0,s.jsx)(tt,{ref:A,active:!0,variant:"secondary","data-testid":"recording-stop-button",children:(0,s.jsx)(GA,{icon:"recording-off"})})})),e=>{let{caption:A}=e;const{t:t}=(0,r.s9)(),{toggleCallRecording:i,isAwaitingResponse:o,isCallRecordingInProgress:a}=(0,r.X)();let c=A??t("Record call");return o&&(c=t(a?"Waiting for recording to stop...":"Waiting for recording to start...")),(0,s.jsx)(r.c7,{requiredGrants:[n.pI.START_RECORD_CALL,n.pI.STOP_RECORD_CALL],children:(0,s.jsx)(tt,{active:a,caption:A,variant:"secondary","data-testid":a?"recording-stop-button":"recording-start-button",title:c,onClick:o?void 0:i,children:o?(0,s.jsx)(st,{}):(0,s.jsx)(GA,{icon:a?"recording-on":"recording-off"})})})}),ct={":like:":"\ud83d\udc4d",":raise-hand:":"\u270b",":fireworks:":"\ud83c\udf89",":dislike:":"\ud83d\udc4e",":heart:":"\u2764\ufe0f",":smile:":"\ud83d\ude00"},lt=e=>{let{participant:{reaction:A,sessionId:t},hideAfterTimeoutInMs:n=5500,emojiReactionMap:o=ct}=e;const a=(0,r.Gc)();if((0,i.useEffect)((()=>{if(!a||!A)return;const e=setTimeout((()=>{a.resetReaction(t)}),n);return()=>{clearTimeout(e)}}),[a,n,A,t]),!A)return null;const{emoji_code:c}=A;return(0,s.jsx)("div",{className:"str-video__reaction",children:(0,s.jsx)("span",{className:"str-video__reaction__emoji",children:c&&o[c]})})},ut=((0,i.forwardRef)((function(e,A){let{menuShown:t}=e;const{t:n}=(0,r.s9)();return(0,s.jsx)(ot,{title:n("Reactions"),tooltipDisabled:t,children:(0,s.jsx)(tt,{ref:A,active:t,variant:"primary",children:(0,s.jsx)(GA,{icon:"reactions"})})})})),(e,A)=>{const t=(0,n.tZ)(["react-sdk"]);return async()=>{try{await A()}catch(n){if(e.onError)return void e.onError(n);(function(e){return e instanceof DOMException&&"NotAllowedError"===e.name})(n)||t("error","Call control handler failed",n)}}});const dt=(0,i.createContext)({}),ht=e=>{const{children:A,icon:t,defaultSelectedLabel:n,defaultSelectedIndex:r,handleSelect:o}=e,[c,l]=(0,i.useState)(!1),[u,d]=(0,i.useState)(null),[h,p]=(0,i.useState)(r),[g,f]=(0,i.useState)(n),{refs:m,context:B}=vA({placement:"bottom-start",open:c,onOpenChange:l,whileElementsMounted:TA.ll,middleware:[(0,Be.UU)()]}),w=(0,i.useRef)([]),C=(0,i.useRef)([]),v=(0,i.useCallback)((e=>{p(e),o(e||0),l(!1),null!==e&&f(C.current[e])}),[o]),b=SA(B,{listRef:w,activeIndex:u,selectedIndex:h,onNavigate:d}),y=function(e,A){var t;const{open:n,dataRef:r}=e,{listRef:s,activeIndex:o,onMatch:a,onTypingChange:c,enabled:l=!0,findMatch:u=null,resetMs:d=750,ignoreKeys:h=[],selectedIndex:p=null}=A,g=i.useRef(-1),f=i.useRef(""),m=i.useRef(null!=(t=null!=p?p:o)?t:-1),B=i.useRef(null),w=Ae(a),C=Ae(c),v=z(u),b=z(h);Z((()=>{n&&(je(g),B.current=null,f.current="")}),[n]),Z((()=>{var e;n&&""===f.current&&(m.current=null!=(e=null!=p?p:o)?e:-1)}),[n,p,o]);const y=Ae((e=>{e?r.current.typing||(r.current.typing=e,C(e)):r.current.typing&&(r.current.typing=e,C(e))})),U=Ae((e=>{function A(e,A,t){const n=v.current?v.current(A,t):A.find((e=>0===(null==e?void 0:e.toLocaleLowerCase().indexOf(t.toLocaleLowerCase()))));return n?e.indexOf(n):-1}const t=s.current;if(f.current.length>0&&" "!==f.current[0]&&(-1===A(t,t,f.current)?y(!1):" "===e.key&&W(e)),null==t||b.current.includes(e.key)||1!==e.key.length||e.ctrlKey||e.metaKey||e.altKey)return;n&&" "!==e.key&&(W(e),y(!0)),t.every((e=>{var A,t;return!e||(null==(A=e[0])?void 0:A.toLocaleLowerCase())!==(null==(t=e[1])?void 0:t.toLocaleLowerCase())}))&&f.current===e.key&&(f.current="",m.current=B.current),f.current+=e.key,je(g),g.current=window.setTimeout((()=>{f.current="",m.current=B.current,y(!1)}),d);const r=m.current,i=A(t,[...t.slice((r||0)+1),...t.slice(0,(r||0)+1)],f.current);-1!==i?(w(i),B.current=i):" "!==e.key&&(f.current="",y(!1))})),Q=i.useMemo((()=>({onKeyDown:U})),[U]),E=i.useMemo((()=>({onKeyDown:U,onKeyUp(e){" "===e.key&&y(!1)}})),[U,y]);return i.useMemo((()=>l?{reference:Q,floating:E}:{}),[l,Q,E])}(B,{listRef:C,activeIndex:u,selectedIndex:h,onMatch:e=>{c?d(e):v(e)}}),U=mA(B),Q=function(e,A){void 0===A&&(A={});const{open:t,onOpenChange:n,elements:r,dataRef:s}=e,{enabled:o=!0,escapeKey:c=!0,outsidePress:l=!0,outsidePressEvent:u="pointerdown",referencePress:d=!1,referencePressEvent:h="pointerdown",ancestorScroll:p=!1,bubbles:g,capture:f}=A,m=Me(),B=Ae("function"===typeof l?l:()=>!1),w="function"===typeof l?B:l,C=i.useRef(!1),v=i.useRef(!1),{escapeKey:b,outsidePress:y}=CA(g),{escapeKey:U,outsidePress:Q}=CA(f),E=i.useRef(!1),F=Ae((e=>{var A;if(!t||!o||!c||"Escape"!==e.key)return;if(E.current)return;const r=null==(A=s.current.floatingContext)?void 0:A.nodeId,i=m?J(m.nodesRef.current,r):[];if(!b&&(e.stopPropagation(),i.length>0)){let e=!0;if(i.forEach((A=>{var t;null==(t=A.context)||!t.open||A.context.dataRef.current.__escapeKeyBubbles||(e=!1)})),!e)return}n(!1,function(e){return"nativeEvent"in e}(e)?e.nativeEvent:e,"escape-key")})),S=Ae((e=>{var A;const t=()=>{var A;F(e),null==(A=N(e))||A.removeEventListener("keydown",t)};null==(A=N(e))||A.addEventListener("keydown",t)})),I=Ae((e=>{var A;const t=C.current;C.current=!1;const i=v.current;if(v.current=!1,"click"===u&&i)return;if(t)return;if("function"===typeof w&&!w(e))return;const o=N(e),c="["+Ve("inert")+"]",l=M(r.floating).querySelectorAll(c);let d=(0,a.vq)(o)?o:null;for(;d&&!(0,a.eu)(d);){const e=(0,a.$4)(d);if((0,a.eu)(e)||!(0,a.vq)(e))break;d=e}if(l.length&&(0,a.vq)(o)&&!o.matches("html,body")&&!P(o,r.floating)&&Array.from(l).every((e=>!P(d,e))))return;if((0,a.sb)(o)&&R){const A=(0,a.eu)(o),t=(0,a.L9)(o),n=/auto|scroll/,r=A||n.test(t.overflowX),s=A||n.test(t.overflowY),i=r&&o.clientWidth>0&&o.scrollWidth>o.clientWidth,c=s&&o.clientHeight>0&&o.scrollHeight>o.clientHeight,l="rtl"===t.direction,u=c&&(l?e.offsetX<=o.offsetWidth-o.clientWidth:e.offsetX>o.clientWidth),d=i&&e.offsetY>o.clientHeight;if(u||d)return}const h=null==(A=s.current.floatingContext)?void 0:A.nodeId,p=m&&J(m.nodesRef.current,h).some((A=>{var t;return K(e,null==(t=A.context)?void 0:t.elements.floating)}));if(K(e,r.floating)||K(e,r.domReference)||p)return;const g=m?J(m.nodesRef.current,h):[];if(g.length>0){let e=!0;if(g.forEach((A=>{var t;null==(t=A.context)||!t.open||A.context.dataRef.current.__outsidePressBubbles||(e=!1)})),!e)return}n(!1,e,"outside-press")})),T=Ae((e=>{var A;const t=()=>{var A;I(e),null==(A=N(e))||A.removeEventListener(u,t)};null==(A=N(e))||A.addEventListener(u,t)}));i.useEffect((()=>{if(!t||!o)return;s.current.__escapeKeyBubbles=b,s.current.__outsidePressBubbles=y;let e=-1;function A(e){n(!1,e,"ancestor-scroll")}function i(){window.clearTimeout(e),E.current=!0}function l(){e=window.setTimeout((()=>{E.current=!1}),(0,a.Tc)()?5:0)}const d=M(r.floating);c&&(d.addEventListener("keydown",U?S:F,U),d.addEventListener("compositionstart",i),d.addEventListener("compositionend",l)),w&&d.addEventListener(u,Q?T:I,Q);let h=[];return p&&((0,a.vq)(r.domReference)&&(h=(0,a.v9)(r.domReference)),(0,a.vq)(r.floating)&&(h=h.concat((0,a.v9)(r.floating))),!(0,a.vq)(r.reference)&&r.reference&&r.reference.contextElement&&(h=h.concat((0,a.v9)(r.reference.contextElement)))),h=h.filter((e=>{var A;return e!==(null==(A=d.defaultView)?void 0:A.visualViewport)})),h.forEach((e=>{e.addEventListener("scroll",A,{passive:!0})})),()=>{c&&(d.removeEventListener("keydown",U?S:F,U),d.removeEventListener("compositionstart",i),d.removeEventListener("compositionend",l)),w&&d.removeEventListener(u,Q?T:I,Q),h.forEach((e=>{e.removeEventListener("scroll",A)})),window.clearTimeout(e)}}),[s,r,c,w,u,t,n,p,o,b,y,F,U,S,I,Q,T]),i.useEffect((()=>{C.current=!1}),[w,u]);const k=i.useMemo((()=>({onKeyDown:F,...d&&{[BA[h]]:e=>{n(!1,e.nativeEvent,"reference-press")},..."click"!==h&&{onClick(e){n(!1,e.nativeEvent,"reference-press")}}}})),[F,n,d,h]),R=i.useMemo((()=>({onKeyDown:F,onMouseDown(){v.current=!0},onMouseUp(){v.current=!0},[wA[u]]:()=>{C.current=!0}})),[F,u]);return i.useMemo((()=>o?{reference:k,floating:R}:{}),[o,k,R])}(B),E=function(e,A){var t,n;void 0===A&&(A={});const{open:r,elements:s,floatingId:o}=e,{enabled:a=!0,role:c="dialog"}=A,l=Oe(),u=(null==(t=s.domReference)?void 0:t.id)||l,d=i.useMemo((()=>{var e;return(null==(e=G(s.floating))?void 0:e.id)||o}),[s.floating,o]),h=null!=(n=IA.get(c))?n:c,p=null!=Ke(),g=i.useMemo((()=>"tooltip"===h||"label"===c?{["aria-"+("label"===c?"labelledby":"describedby")]:r?d:void 0}:{"aria-expanded":r?"true":"false","aria-haspopup":"alertdialog"===h?"dialog":h,"aria-controls":r?d:void 0,..."listbox"===h&&{role:"combobox"},..."menu"===h&&{id:u},..."menu"===h&&p&&{role:"menuitem"},..."select"===c&&{"aria-autocomplete":"none"},..."combobox"===c&&{"aria-autocomplete":"list"}}),[h,d,p,r,u,c]),f=i.useMemo((()=>{const e={id:d,...h&&{role:h}};return"tooltip"===h||"label"===c?e:{...e,..."menu"===h&&{"aria-labelledby":u}}}),[h,d,u,c]),m=i.useCallback((e=>{let{active:A,selected:t}=e;const n={role:"option",...A&&{id:d+"-fui-option"}};switch(c){case"select":return{...n,"aria-selected":A&&t};case"combobox":return{...n,"aria-selected":t}}return{}}),[d,c]);return i.useMemo((()=>a?{reference:g,floating:f,item:m}:{}),[a,g,f,m])}(B,{role:"listbox"}),{getReferenceProps:F,getFloatingProps:S,getItemProps:I}=function(e){void 0===e&&(e=[]);const A=e.map((e=>null==e?void 0:e.reference)),t=e.map((e=>null==e?void 0:e.floating)),n=e.map((e=>null==e?void 0:e.item)),r=i.useCallback((A=>bA(A,e,"reference")),A),s=i.useCallback((A=>bA(A,e,"floating")),t),o=i.useCallback((A=>bA(A,e,"item")),n);return i.useMemo((()=>({getReferenceProps:r,getFloatingProps:s,getItemProps:o})),[r,s,o])}([b,y,U,Q,E]),T=(0,i.useMemo)((()=>({activeIndex:u,selectedIndex:h,getItemProps:I,handleSelect:v})),[u,h,I,v]);return(0,s.jsxs)("div",{className:"str-video__dropdown",children:[(0,s.jsxs)("div",{className:"str-video__dropdown-selected",ref:m.setReference,tabIndex:0,...F(),children:[(0,s.jsxs)("label",{className:"str-video__dropdown-selected__label",children:[t&&(0,s.jsx)(GA,{className:"str-video__dropdown-selected__icon",icon:t}),g]}),(0,s.jsx)(GA,{className:"str-video__dropdown-selected__chevron",icon:c?"chevron-up":"chevron-down"})]}),(0,s.jsx)(dt.Provider,{value:T,children:c&&(0,s.jsx)(uA,{context:B,modal:!1,children:(0,s.jsx)("div",{className:"str-video__dropdown-list",ref:m.setFloating,...S(),children:(0,s.jsx)(ve,{elementsRef:w,labelsRef:C,children:A})})})})]})},pt=e=>{const{selected:A,label:t,icon:n}=e,{getItemProps:r,handleSelect:o}=(0,i.useContext)(dt),{ref:a,index:c}=be();return(0,s.jsxs)("div",{className:(0,kA.A)("str-video__dropdown-option",{"str-video__dropdown-option--selected":A}),ref:a,...r({onClick:()=>o(c)}),children:[n&&(0,s.jsx)(GA,{className:"str-video__dropdown-icon",icon:n}),(0,s.jsx)("span",{className:"str-video__dropdown-label",children:t})]})},gt=e=>{const{children:A,icon:t,handleSelect:n,defaultSelectedLabel:r,defaultSelectedIndex:i}=e;return(0,s.jsx)(ht,{icon:t,handleSelect:n,defaultSelectedIndex:i,defaultSelectedLabel:r,children:A})},ft=e=>{let{disabled:A,id:t,label:n,onChange:r,name:i,selected:o,defaultChecked:a,value:c}=e;return(0,s.jsxs)("label",{className:(0,kA.A)("str-video__device-settings__option",{"str-video__device-settings__option--selected":o,"str-video__device-settings__option--disabled":A}),htmlFor:t,children:[(0,s.jsx)("input",{type:"radio",name:i,onChange:r,value:c,id:t,checked:o,defaultChecked:a,disabled:A}),n]})},mt=e=>{const{devices:A=[],selectedDeviceId:t,title:n,type:r,onChange:i}=e,{close:o}=NA(),{deviceList:a}=DA(A,t);return(0,s.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[n&&(0,s.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),a.map((e=>(0,s.jsx)(ft,{id:`${r}--${e.deviceId}`,value:e.deviceId,label:e.label,onChange:e=>{const A=e.target.value;"default"!==A&&i?.(A),o?.()},name:r,selected:e.isSelected},e.deviceId)))]})},Bt=e=>{const{devices:A=[],selectedDeviceId:t,title:n,onChange:r,icon:o}=e,{deviceList:a,selectedDeviceInfo:c,selectedIndex:l}=DA(A,t),u=(0,i.useCallback)((e=>{const A=a[e].deviceId;"default"!==A&&r?.(A)}),[a,r]);return(0,s.jsxs)("div",{className:"str-video__device-settings__device-kind",children:[(0,s.jsx)("div",{className:"str-video__device-settings__device-selector-title",children:n}),(0,s.jsx)(gt,{icon:o,defaultSelectedIndex:l,defaultSelectedLabel:c.label,handleSelect:u,children:a.map((e=>(0,s.jsx)(pt,{icon:o,label:e.label,selected:e.isSelected},e.deviceId)))})]})},wt=e=>{const{visualType:A="list",icon:t,...n}=e;return"list"===A?(0,s.jsx)(mt,{...n}):(0,s.jsx)(Bt,{...n,icon:t})},Ct=e=>{let{title:A,visualType:t}=e;const{useCameraState:n}=(0,r.R3)(),{camera:i,devices:o,selectedDevice:a}=n();return(0,s.jsx)(wt,{devices:o||[],type:"videoinput",selectedDeviceId:a,onChange:async e=>{await i.select(e)},title:A,visualType:t,icon:"camera"})},vt=((0,i.forwardRef)((function(e,A){let{menuShown:t}=e;const{t:n}=(0,r.s9)();return(0,s.jsx)(At,{className:(0,kA.A)("str-video__device-settings__button",{"str-video__device-settings__button--active":t}),title:n("Toggle device menu"),icon:"device-settings",ref:A})})),e=>{const{caption:A,onMenuToggle:t,...n}=e,{t:o}=(0,r.s9)(),{useMicrophoneState:a}=(0,r.R3)(),{microphone:c,optimisticIsMute:l,hasBrowserPermission:u,isPromptingPermission:d}=a(),[h,p]=(0,i.useState)(!1),g=ut(e,(()=>c.toggle()));return(0,s.jsx)(ot,{title:u?A??o("Mic"):o("Check your browser audio permissions"),tooltipDisabled:h,children:(0,s.jsxs)(tt,{active:l,caption:A,className:(0,kA.A)(!u&&"str-video__device-unavailable"),variant:"secondary",disabled:!u,"data-testid":l?"preview-audio-unmute-button":"preview-audio-mute-button",onClick:g,...n,onMenuToggle:e=>{p(e),t?.(e)},children:[(0,s.jsx)(GA,{icon:l?"mic-off":"mic"}),!u&&(0,s.jsx)("span",{className:"str-video__no-media-permission",title:o("Check your browser audio permissions"),children:"!"}),d&&(0,s.jsx)("span",{className:"str-video__pending-permission",title:o("Waiting for permission"),children:"?"})]})})}),bt=e=>{const{caption:A,Menu:t=Ct,menuPlacement:n="top",onMenuToggle:o,...a}=e,{t:c}=(0,r.s9)(),{useCameraState:l}=(0,r.R3)(),{camera:u,optimisticIsMute:d,hasBrowserPermission:h,isPromptingPermission:p}=l(),[g,f]=(0,i.useState)(!1),m=ut(e,(()=>u.toggle()));return(0,s.jsx)(ot,{title:h?A??c("Video"):c("Check your browser video permissions"),tooltipDisabled:g,children:(0,s.jsxs)(tt,{active:d,caption:A,className:(0,kA.A)(!h&&"str-video__device-unavailable"),variant:"secondary","data-testid":d?"preview-video-unmute-button":"preview-video-mute-button",onClick:m,disabled:!h,Menu:t,menuPlacement:n,...a,onMenuToggle:e=>{f(e),o?.(e)},children:[(0,s.jsx)(GA,{icon:d?"camera-off":"camera"}),!h&&(0,s.jsx)("span",{className:"str-video__no-media-permission",title:c("Check your browser video permissions"),children:"!"}),p&&(0,s.jsx)("span",{className:"str-video__pending-permission",title:c("Waiting for permission"),children:"?"})]})})},yt=((0,i.forwardRef)((function(e,A){let{menuShown:t}=e;const{t:n}=(0,r.s9)();return(0,s.jsx)(ot,{title:n("Leave call"),tooltipDisabled:t,children:(0,s.jsx)(At,{icon:t?"close":"call-end",variant:t?"active":"danger","data-testid":"leave-call-button",ref:A})})})),e=>{let{disabled:A,caption:t,onClick:n,onLeave:o}=e;const a=(0,r.Gc)(),{t:c}=(0,r.s9)(),l=(0,i.useCallback)((async e=>{n?n(e):a&&(await a.leave(),o?.())}),[n,o,a]);return(0,s.jsx)(At,{disabled:A,icon:"call-end",variant:"danger",title:t??c("Leave call"),"data-testid":"cancel-call-button",onClick:l})});(0,i.lazy)((()=>t.e(55).then(t.bind(t,8055))));var Ut;!function(e){e.GOOD="Good",e.OK="Ok",e.BAD="Bad"}(Ut||(Ut={}));(0,i.forwardRef)((function(e,A){const{t:t}=(0,r.s9)(),{caption:n,menuShown:i}=e;return(0,s.jsx)(tt,{ref:A,active:i,caption:n,title:n||t("Statistics"),"data-testid":"stats-button",children:(0,s.jsx)(GA,{icon:"stats"})})})),(0,i.forwardRef)((function(e,A){return(0,s.jsx)(At,{enabled:e.menuShown,icon:"ellipsis",ref:A})}));(0,i.forwardRef)((function(e,A){return(0,s.jsx)(At,{enabled:e.menuShown,icon:"filter",ref:A})})),(0,i.createContext)(null),n.Ko.JOINING,n.Ko.RINGING,n.Ko.MIGRATING,n.Ko.RECONNECTING,n.Ko.RECONNECTING_FAILED,n.Ko.OFFLINE,n.Ko.IDLE,n.Ko.UNKNOWN,n.Ko.JOINED,n.Ko.LEFT,(0,i.forwardRef)((function(e,A){const{permissionRequests:t,handleUpdatePermission:n,...o}=e,{t:a}=(0,r.s9)();return(0,s.jsx)("div",{className:"str-video__permission-requests-list",ref:A,...o,children:t.map(((e,A)=>{const{user:t,permissions:r}=e;return(0,s.jsx)(i.Fragment,{children:r.map((A=>(0,s.jsxs)("div",{className:"str-video__permission-request",children:[(0,s.jsx)("div",{className:"str-video__permission-request__message",children:Et(t.name||t.id,A,a)}),(0,s.jsx)(Qt,{className:"str-video__permission-request__button--allow",type:"button",onClick:n(e,"grant"),children:a("Allow")}),(0,s.jsx)(Qt,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"revoke"),children:a("Revoke")}),(0,s.jsx)(Qt,{className:"str-video__permission-request__button--reject",type:"button",onClick:n(e,"dismiss"),children:a("Dismiss")})]},A)))},`${t.id}/${A}`)}))})}));const Qt=e=>{const{className:A,...t}=e;return(0,s.jsx)("button",{className:(0,kA.A)("str-video__permission-request__button",A),...t})},Et=(e,A,t)=>{switch(A){case n.pI.SEND_AUDIO:return t("{{ userName }} is requesting to speak",{userName:e});case n.pI.SEND_VIDEO:return t("{{ userName }} is requesting to share their camera",{userName:e});case n.pI.SCREENSHARE:return t("{{ userName }} is requesting to present their screen",{userName:e});default:return t("{{ userName }} is requesting permission: {{ permission }}",{userName:e,permission:A})}},Ft=e=>{let{as:A="div",className:t,children:n,...r}=e;return(0,s.jsx)(A,{...r,className:(0,kA.A)("str-video",t),children:n})},St=(0,i.forwardRef)((function(e,A){return(0,s.jsx)(At,{enabled:e.menuShown,icon:"ellipsis",ref:A})})),It=()=>{const e=(0,r.Gc)(),{t:A}=(0,r.s9)();return(0,s.jsxs)("div",{className:"str-video__screen-share-overlay",children:[(0,s.jsx)(GA,{icon:"screen-share-off"}),(0,s.jsx)("span",{className:"str-video__screen-share-overlay__title",children:A("You are presenting your screen")}),(0,s.jsxs)("button",{onClick:()=>{e?.screenShare.disable()},className:"str-video__screen-share-overlay__button",children:[(0,s.jsx)(GA,{icon:"close"})," ",A("Stop Screen Sharing")]})]})},Tt=e=>{let{indicatorsVisible:A=!0,menuPlacement:t="bottom-start",showMenuButton:r=!0,ParticipantActionsContextMenu:i=$A}=e;const{participant:o,trackType:a}=_A(),c=(0,n.Mc)(o);return o.isLocalParticipant&&c&&"screenShareTrack"===a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(It,{}),(0,s.jsx)(kt,{indicatorsVisible:A})]}):(0,s.jsxs)(s.Fragment,{children:[r&&(0,s.jsx)(MA,{strategy:"fixed",placement:t,ToggleButton:St,children:(0,s.jsx)(i,{})}),(0,s.jsx)(lt,{participant:o}),(0,s.jsx)(kt,{indicatorsVisible:A})]})},kt=e=>{let{indicatorsVisible:A=!0}=e;const{participant:t}=_A(),{isLocalParticipant:i,connectionQuality:o,pin:a,sessionId:c,name:l,userId:u}=t,d=(0,r.Gc)(),{t:h}=(0,r.s9)(),p=!!o&&n.hc.ConnectionQuality[o].toLowerCase(),g=(0,n.Fv)(t),f=(0,n.aV)(t),m=!!a&&a.isLocalPin;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"str-video__participant-details",children:(0,s.jsxs)("span",{className:"str-video__participant-details__name",children:[l||u,A&&!g&&(0,s.jsx)("span",{className:"str-video__participant-details__name--audio-muted"}),A&&!f&&(0,s.jsx)("span",{className:"str-video__participant-details__name--video-muted"}),A&&m&&(0,s.jsx)("span",{title:h("Unpin"),onClick:()=>d?.unpin(c),className:"str-video__participant-details__name--pinned"}),A&&(0,s.jsx)(Rt,{})]})}),A&&(0,s.jsx)(rt,{isVisible:i&&o===n.hc.ConnectionQuality.POOR,message:h("Poor connection quality"),children:p&&(0,s.jsx)("span",{className:(0,kA.A)("str-video__participant-details__connection-quality",`str-video__participant-details__connection-quality--${p}`),title:p})})]})},Rt=()=>{const{participant:e}=_A(),{isSpeaking:A,isDominantSpeaker:t}=e;return(0,s.jsxs)("span",{className:(0,kA.A)("str-video__speech-indicator",A&&"str-video__speech-indicator--speaking",t&&"str-video__speech-indicator--dominant"),children:[(0,s.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,s.jsx)("span",{className:"str-video__speech-indicator__bar"}),(0,s.jsx)("span",{className:"str-video__speech-indicator__bar"})]})},xt=(0,i.forwardRef)((function(e,A){let{participant:t,trackType:o="videoTrack",mirror:a,muteAudio:c,refs:{setVideoElement:l,setVideoPlaceholderElement:u}={},className:d,VideoPlaceholder:h,PictureInPicturePlaceholder:p,ParticipantViewUI:g=Tt}=e;const{isLocalParticipant:f,isSpeaking:m,isDominantSpeaker:B,sessionId:w}=t,C=(0,n.Fv)(t),v=(0,n.aV)(t),b=(0,n.sf)(t),[y,U]=(0,i.useState)(null),[Q,E]=(0,i.useState)(null),[F,S]=(0,i.useState)(null);(e=>{let{trackedElement:A,dynascaleManager:t,sessionId:n,trackType:s}=e;const o=(0,r.Gc)(),a=t??o?.dynascaleManager;(0,i.useEffect)((()=>{if(!A||!a||!o||"none"===s)return;const e=a.trackElementVisibility(A,n,s);return()=>{e()}}),[A,a,o,n,s])})({sessionId:w,trackedElement:y,trackType:o});const{useIncomingVideoSettings:I}=(0,r.R3)(),{isParticipantVideoEnabled:T}=I(),k=(0,i.useMemo)((()=>({participant:t,participantViewElement:y,videoElement:Q,videoPlaceholderElement:F,trackType:o})),[Q,F,t,y,o]),R=(0,i.useMemo)((()=>({setVideoElement:e=>{l?.(e),E(e)},setVideoPlaceholderElement:e=>{u?.(e),S(e)}})),[l,u]);return(0,s.jsx)("div",{"data-testid":"participant-view",ref:e=>{XA(A,e),U(e)},className:(0,kA.A)("str-video__participant-view",B&&"str-video__participant-view--dominant-speaker",m&&"str-video__participant-view--speaking",!v&&"str-video__participant-view--no-video",!C&&"str-video__participant-view--no-audio",d),children:(0,s.jsxs)(HA.Provider,{value:k,children:[!f&&!c&&(0,s.jsxs)(s.Fragment,{children:[C&&(0,s.jsx)(RA,{participant:t,trackType:"audioTrack"}),b&&(0,s.jsx)(RA,{participant:t,trackType:"screenShareAudioTrack"})]}),(0,s.jsx)(et,{VideoPlaceholder:h,PictureInPicturePlaceholder:p,participant:t,trackType:o,refs:R,enabled:f||"videoTrack"!==o||T(t.sessionId),mirror:a,autoPlay:!0}),WA(g)?(0,s.jsx)(g,{}):g]})})}));xt.displayName="ParticipantView";const Ht=r.kb;Ht.displayName="StreamCall";const _t={en:{Joining:"Joining",Mic:"Mic","No internet connection":"No internet connection","Re-connecting":"Re-connecting",Ringing:"Ringing","Screen Share":"Screen Share","Select a Camera":"Select a Camera","Select a Mic":"Select a Mic","Select Speakers":"Select Speakers",Speakers:"Speakers",Video:"Video","You are muted. Unmute to speak.":"You are muted. Unmute to speak.",Live:"Live","You can now speak.":"You can now speak.","Awaiting for an approval to speak.":"Awaiting for an approval to speak.","You can no longer speak.":"You can no longer speak.","You can now share your video.":"You can now share your video.","Awaiting for an approval to share your video.":"Awaiting for an approval to share your video.","You can no longer share your video.":"You can no longer share your video.","Waiting for recording to stop...":"Waiting for recording to stop...","Waiting for recording to start...":"Waiting for recording to start...","Record call":"Record call",Reactions:"Reactions",Statistics:"Statistics","You can now share your screen.":"You can now share your screen.","Awaiting for an approval to share screen.":"Awaiting for an approval to share screen.","You can no longer share your screen.":"You can no longer share your screen.","Share screen":"Share screen","Incoming Call...":"Incoming Call...","Calling...":"Calling...","Mute All":"Mute All",Invite:"Invite",Join:"Join",You:"You",Me:"Me",Unknown:"Unknown","Toggle device menu":"Toggle device menu",Default:"Default","Call Recordings":"Call Recordings",Refresh:"Refresh","Check your browser video permissions":"Check your browser video permissions","Video publishing is disabled by the system":"Video publishing is disabled by the system","You have no permission to share your video":"You have no permission to share your video","You have no permission to share your audio":"You have no permission to share your audio","You are presenting your screen":"You are presenting your screen","Stop Screen Sharing":"Stop Screen Sharing",Allow:"Allow",Revoke:"Revoke",Dismiss:"Dismiss","Microphone on":"Microphone on","Microphone off":"Microphone off","Camera on":"Camera on","Camera off":"Camera off","No camera found":"No camera found","Video is disabled":"Video is disabled",Pinned:"Pinned",Unpin:"Unpin",Pin:"Pin","Pin for everyone":"Pin for everyone","Unpin for everyone":"Unpin for everyone",Block:"Block","Turn off video":"Turn off video","Turn off screen share":"Turn off screen share","Mute audio":"Mute audio","Mute screen share audio":"Mute screen share audio","Allow audio":"Allow audio","Allow video":"Allow video","Allow screen sharing":"Allow screen sharing","Disable audio":"Disable audio","Disable video":"Disable video","Disable screen sharing":"Disable screen sharing",Enter:"Enter",Leave:"Leave","Leave call":"Leave call","End call for all":"End call for all","{{ direction }} fullscreen":"{{ direction }} fullscreen","{{ direction }} picture-in-picture":"{{ direction }} picture-in-picture","Dominant Speaker":"Dominant Speaker","Poor connection quality":"Poor connection quality. Please check your internet connection.",Participants:"Participants",Anonymous:", and ({{ count }}) anonymous","No participants found":"No participants found","Participants ({{ numberOfParticipants }})":"Participants ({{ numberOfParticipants }})","{{ userName }} is sharing their screen":"{{ userName }} is sharing their screen","{{ userName }} is requesting to speak":"{{ userName }} is requesting to speak","{{ userName }} is requesting to share their camera":"{{ userName }} is requesting to share their camera","{{ userName }} is requesting to present their screen":"{{ userName }} is requesting to present their screen","{{ userName }} is requesting permission: {{ permission }}":"{{ userName }} is requesting permission: {{ permission }}"}},Ot=e=>(0,s.jsx)(r.Dv,{translationsOverrides:_t,...e});function Dt(e,A){return"$and"in A?A.$and.every((A=>Dt(e,A))):"$or"in A?A.$or.some((A=>Dt(e,A))):"$not"in A?!Dt(e,A.$not):function(e,A){let t=!0;for(const n of Object.keys(A)){const r=A[n],s=r&&"object"===typeof r,i=e[n];if(s&&"$eq"in r){t&&(t=r.$eq===i)}else if(s&&"$neq"in r){t&&(t=r.$neq!==i)}else if(s&&"$in"in r){t&&(t=r.$in.includes(i))}else if(s&&"$contains"in r)if(Array.isArray(i)){const e=r;t&&(t=i.includes(e.$contains))}else t=!1;else{t&&(t=r===i)}if(!t)return!1}return!0}(e,A)}Ot.displayName="StreamVideo";const Lt=e=>{let{excludeLocalParticipant:A=!1,filterParticipants:t}=e;const{useParticipants:n,useRemoteParticipants:s}=(0,r.R3)(),o=n(),a=s();return(0,i.useMemo)((()=>{const e=A?a:o;return t?Pt(e,t):e}),[o,a,A,t])},Pt=(e,A)=>{const t="function"===typeof A?A:e=>Dt({userId:e.userId,isSpeaking:e.isSpeaking,isDominantSpeaker:e.isDominantSpeaker,name:e.name,roles:e.roles,isPinned:(0,n.T4)(e),hasVideo:(0,n.aV)(e),hasAudio:(0,n.Fv)(e)},A);return e.filter(t)},Nt=e=>{(0,i.useEffect)((()=>{if(e)return e.setSortParticipantsBy(n.bT),()=>{Kt(e)}}),[e])},Kt=e=>{const A=n.iV.get(e.type);e.setSortParticipantsBy(A.options.sortParticipantsBy||n.B6)},Mt=(e,A)=>e.isLocalParticipant?1:A.isLocalParticipant?-1:0,Vt=e=>{const{useParticipants:A,useRemoteParticipants:t,useHasOngoingScreenShare:i}=(0,r.R3)(),o=(0,r.Gc)(),a=A(),[c]=a,l=t(),u=i(),d=u?a.find(n.Mc):void 0;Nt(o);const h=(0,s.jsx)(jt,{showParticipantCount:e.showParticipantCount,showDuration:e.showDuration,showLiveBadge:e.showLiveBadge,showSpeakerName:e.showSpeakerName}),{floatingParticipantProps:p,muted:g}=e,f=u&&(0,s.jsx)(jt,{showParticipantCount:p?.showParticipantCount??!1,showDuration:p?.showDuration??!1,showLiveBadge:p?.showLiveBadge??!1,showSpeakerName:p?.showSpeakerName??!0});return(0,s.jsxs)("div",{className:"str-video__livestream-layout__wrapper",children:[!g&&(0,s.jsx)(xA,{participants:l}),u&&d&&(0,s.jsx)(xt,{className:"str-video__livestream-layout__screen-share",participant:d,ParticipantViewUI:h,trackType:"screenShareTrack",muteAudio:!0}),c&&(0,s.jsx)(xt,{className:(0,kA.A)(u&&(0,kA.A)("str-video__livestream-layout__floating-participant",`str-video__livestream-layout__floating-participant--${p?.position??"top-right"}`)),participant:c,ParticipantViewUI:f||h,mirror:!1!==e.mirrorLocalParticipantVideo&&void 0,muteAudio:!0})]})},jt=e=>{const{enableFullScreen:A=!0,showParticipantCount:t=!0,showDuration:n=!0,showLiveBadge:i=!0,showSpeakerName:o=!1}=e,{participant:a}=_A(),{useParticipantCount:c}=(0,r.R3)(),l=c(),u=Gt(),d=Jt(),{t:h}=(0,r.s9)();return(0,s.jsx)("div",{className:"str-video__livestream-layout__overlay",children:(0,s.jsxs)("div",{className:"str-video__livestream-layout__overlay__bar",children:[i&&(0,s.jsx)("span",{className:"str-video__livestream-layout__live-badge",children:h("Live")}),t&&(0,s.jsx)("span",{className:"str-video__livestream-layout__viewers-count",children:l}),o&&(0,s.jsx)("span",{className:"str-video__livestream-layout__speaker-name",title:a.name||a.userId||"",children:a.name||a.userId||""}),n&&(0,s.jsx)("span",{className:"str-video__livestream-layout__duration",children:$t(u)}),A&&(0,s.jsx)("span",{className:"str-video__livestream-layout__go-fullscreen",onClick:d})]})})};Vt.displayName="LivestreamLayout";const Gt=()=>{const{useIsCallLive:e,useCallSession:A}=(0,r.R3)(),t=e(),n=A(),[s,o]=(0,i.useState)((()=>{if(!n||!n.live_started_at)return 0;const e=new Date(n.live_started_at),A=new Date;return Math.floor((A.getTime()-e.getTime())/1e3)}));return(0,i.useEffect)((()=>{if(!t)return;const e=setInterval((()=>{o((e=>e+1))}),1e3);return()=>{clearInterval(e)}}),[t]),s},Jt=()=>{const{participantViewElement:e}=_A(),[A,t]=(0,i.useState)(!1);return(0,i.useCallback)((()=>{A?document.exitFullscreen().then((()=>{t(!1)})):e?.requestFullscreen().then((()=>{t(!0)}))}),[A,e])},$t=e=>{const A=Math.floor(e/86400),t=Math.floor(e/3600),n=Math.floor(e%3600/60),r=e%60;return`${A?A+" ":""}${t?t+":":""}${n<10?"0":""}${n}:${r<10?"0":""}${r}`},Wt=16,Xt=e=>{let{group:A,mirror:t,VideoPlaceholder:n,PictureInPicturePlaceholder:r,ParticipantViewUI:i}=e;return(0,s.jsx)("div",{className:(0,kA.A)("str-video__paginated-grid-layout__group",{"str-video__paginated-grid-layout--one":1===A.length,"str-video__paginated-grid-layout--two-four":A.length>=2&&A.length<=4,"str-video__paginated-grid-layout--five-nine":A.length>=5&&A.length<=9}),children:A.map((e=>(0,s.jsx)(xt,{participant:e,muteAudio:!0,mirror:t,VideoPlaceholder:n,PictureInPicturePlaceholder:r,ParticipantViewUI:i},e.sessionId)))})};(e=>{const{groupSize:A=(e.groupSize||0)>0&&e.groupSize||Wt,excludeLocalParticipant:t=!1,filterParticipants:n,mirrorLocalParticipantVideo:o=!0,pageArrowsVisible:a=!0,VideoPlaceholder:c,ParticipantViewUI:l=Tt,PictureInPicturePlaceholder:u,muted:d}=e,[h,p]=(0,i.useState)(0),[g,f]=(0,i.useState)(null),m=(0,r.Gc)(),{useRemoteParticipants:B}=(0,r.R3)(),w=B(),C=Lt({excludeLocalParticipant:t,filterParticipants:n});Nt(m),(0,i.useEffect)((()=>{if(!g||!m)return;const e=m.setViewport(g);return()=>e()}),[g,m]);const v=(0,i.useMemo)((()=>((e,A)=>{const t=Math.ceil(e.length/A);return Array.from({length:t},((t,n)=>e.slice(A*n,A*n+A)))})(C,A)),[C,A]),b=v.length;(0,i.useEffect)((()=>{h>b-1&&p(Math.max(0,b-1))}),[h,b]);const y=v[h],U=!!o&&void 0;return m?(0,s.jsxs)("div",{className:"str-video__paginated-grid-layout__wrapper",ref:f,children:[!d&&(0,s.jsx)(xA,{participants:w}),(0,s.jsxs)("div",{className:"str-video__paginated-grid-layout",children:[a&&b>1&&(0,s.jsx)(At,{icon:"caret-left",disabled:0===h,onClick:()=>p((e=>Math.max(0,e-1)))}),y&&(0,s.jsx)(Xt,{group:y,mirror:U,VideoPlaceholder:c,ParticipantViewUI:l,PictureInPicturePlaceholder:u}),a&&b>1&&(0,s.jsx)(At,{disabled:h===b-1,icon:"caret-right",onClick:()=>p((e=>Math.min(b-1,e+1)))})]})]}):null}).displayName="PaginatedGridLayout";const Yt=()=>(0,s.jsx)(Tt,{menuPlacement:"top-end"}),qt=e=>{let{ParticipantViewUIBar:A=Yt,ParticipantViewUISpotlight:t=Tt,VideoPlaceholder:o,PictureInPicturePlaceholder:a,participantsBarPosition:c="bottom",participantsBarLimit:l,mirrorLocalParticipantVideo:u=!0,excludeLocalParticipant:d=!1,filterParticipants:h,pageArrowsVisible:p=!0,muted:g}=e;const f=(0,r.Gc)(),{useParticipants:m,useRemoteParticipants:B}=(0,r.R3)(),w=m(),C=B(),[v,...b]=Lt({excludeLocalParticipant:d,filterParticipants:h}),[y,U]=(0,i.useState)(null),[Q,E]=(0,i.useState)(null),[F,S]=(0,i.useState)(null),I=v&&(0,n.Mc)(v),T=((e,A,t)=>{const[n,r]=(0,i.useState)({vertical:"number"===typeof t?t:null,horizontal:"number"===typeof t?t:null});return(0,i.useEffect)((()=>{if(!A||!e||"number"===typeof t||"undefined"===typeof t)return;let n=null,s=null;const i=new ResizeObserver(((t,i)=>{if(t.length>1){const e=A.firstChild;e&&(s=e.clientHeight,n=e.clientWidth,i.unobserve(A))}if(null===s||null===n)return;const o=Math.floor(e.clientHeight/s),a=Math.floor(e.clientWidth/n);r((e=>e.vertical!==o||e.horizontal!==a?{vertical:o,horizontal:a}:e))}));return i.observe(e),i.observe(A),()=>{i.disconnect()}}),[A,t,e]),n})(F,Q,l),k="left"===c||"right"===c,R="top"===c||"bottom"===c;(0,i.useEffect)((()=>{if(!y||!f)return;const e=f.setViewport(y);return()=>e()}),[y,f]);const x=2===w.length;((e,A)=>{(0,i.useEffect)((()=>{if(e)return A?e.setSortParticipantsBy((0,n.SJ)(n.Vz,Mt)):e.setSortParticipantsBy(n.ND),()=>{Kt(e)}}),[e,A])})(f,x);let H=b;const _=k?T.vertical:T.horizontal;"undefined"!==typeof l&&null!==_&&(H=b.slice(0,_-(I?1:0)));const O=!!u&&void 0;if(!f)return null;const D=c&&(H.length>0||I);return(0,s.jsxs)("div",{className:"str-video__speaker-layout__wrapper",children:[!g&&(0,s.jsx)(xA,{participants:C}),(0,s.jsxs)("div",{className:(0,kA.A)("str-video__speaker-layout",c&&`str-video__speaker-layout--variant-${c}`),children:[(0,s.jsx)("div",{className:"str-video__speaker-layout__spotlight",children:v&&(0,s.jsx)(xt,{participant:v,muteAudio:!0,mirror:O,trackType:I?"screenShareTrack":"videoTrack",ParticipantViewUI:t,VideoPlaceholder:o,PictureInPicturePlaceholder:a})}),D&&(0,s.jsxs)("div",{ref:S,className:"str-video__speaker-layout__participants-bar-buttons-wrapper",children:[(0,s.jsx)("div",{className:"str-video__speaker-layout__participants-bar-wrapper",ref:U,children:(0,s.jsxs)("div",{ref:E,className:"str-video__speaker-layout__participants-bar",children:[I&&(0,s.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,s.jsx)(xt,{participant:v,ParticipantViewUI:A,VideoPlaceholder:o,PictureInPicturePlaceholder:a,mirror:O,muteAudio:!0})},v.sessionId),H.map((e=>(0,s.jsx)("div",{className:"str-video__speaker-layout__participant-tile",children:(0,s.jsx)(xt,{participant:e,ParticipantViewUI:A,VideoPlaceholder:o,PictureInPicturePlaceholder:a,mirror:O,muteAudio:!0})},e.sessionId)))]})}),p&&k&&(0,s.jsx)(zt,{scrollWrapper:y}),p&&R&&(0,s.jsx)(Zt,{scrollWrapper:y})]})]})]})};qt.displayName="SpeakerLayout";const Zt=e=>{let{scrollWrapper:A}=e;const t=function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(!e)return;const t=()=>{const t=e;return t.scrollWidth>t.clientWidth?t.scrollLeft<=A?n("start"):Math.abs(t.scrollWidth-t.scrollLeft-t.clientWidth)<=A?n("end"):void n("between"):n(null)},r=new ResizeObserver(t);return r.observe(e),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t),r.disconnect()}}),[e,A]),t}(A);return(0,s.jsxs)(s.Fragment,{children:[t&&"start"!==t&&(0,s.jsx)(At,{onClick:()=>{A?.scrollBy({left:-150,behavior:"smooth"})},icon:"caret-left",className:"str-video__speaker-layout__participants-bar--button-left"}),t&&"end"!==t&&(0,s.jsx)(At,{onClick:()=>{A?.scrollBy({left:150,behavior:"smooth"})},icon:"caret-right",className:"str-video__speaker-layout__participants-bar--button-right"})]})},zt=e=>{let{scrollWrapper:A}=e;const t=function(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;const[t,n]=(0,i.useState)(null);return(0,i.useEffect)((()=>{if(!e)return;const t=()=>{const t=e;return t.scrollHeight>t.clientHeight?t.scrollTop<=A?n("top"):Math.abs(t.scrollHeight-t.scrollTop-t.clientHeight)<=A?n("bottom"):void n("between"):n(null)},r=new ResizeObserver(t);return r.observe(e),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t),r.disconnect()}}),[e,A]),t}(A);return(0,s.jsxs)(s.Fragment,{children:[t&&"top"!==t&&(0,s.jsx)(At,{onClick:()=>{A?.scrollBy({top:-150,behavior:"smooth"})},icon:"caret-up",className:"str-video__speaker-layout__participants-bar--button-top"}),t&&"bottom"!==t&&(0,s.jsx)(At,{onClick:()=>{A?.scrollBy({top:150,behavior:"smooth"})},icon:"caret-down",className:"str-video__speaker-layout__participants-bar--button-bottom"})]})},en=e=>{const{t:A}=(0,r.s9)(),{excludeLocalParticipant:t=!1,filterParticipants:o,mirrorLocalParticipantVideo:a=!0,VideoPlaceholder:c,ParticipantViewUI:l=Tt}=e,[u,d]=(0,i.useState)(null),h=(0,r.Gc)(),p=Lt({excludeLocalParticipant:t,filterParticipants:o}),g=p.find((e=>(0,n.Mc)(e)));Nt(h),(0,i.useEffect)((()=>{if(u&&h)return h.setViewport(u)}),[u,h]);const f=!!a&&void 0;return h?(0,s.jsxs)("div",{className:"str-video__pip-layout",ref:d,children:[g&&(g.isLocalParticipant?(0,s.jsxs)("div",{className:"str-video__pip-screen-share-local",children:[(0,s.jsx)(GA,{icon:"screen-share-off"}),(0,s.jsx)("span",{className:"str-video__pip-screen-share-local__title",children:A("You are presenting your screen")})]}):(0,s.jsx)(xt,{participant:g,trackType:"screenShareTrack",muteAudio:!0,mirror:!1,VideoPlaceholder:c,ParticipantViewUI:l})),p.map((e=>(0,s.jsx)(xt,{participant:e,muteAudio:!0,mirror:f,VideoPlaceholder:c,ParticipantViewUI:l},e.sessionId)))]}):null};en.displayName="PipLayout.Pip";const An=()=>{const{useRemoteParticipants:e}=(0,r.R3)(),A=e();return(0,s.jsx)(xA,{participants:A})};An.displayName="PipLayout.Host";const[tn,nn,rn]="1.17.1".split(".");(0,n.x8)({type:n.hc.SdkType.REACT,major:tn,minor:nn,patch:rn})},5012:(e,A,t)=>{"use strict";t.d(A,{of:()=>s});var n=t(4043),r=t(8869);function s(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];var t=(0,n.lI)(e);return(0,r.H)(e,t)}},5239:function(e){e.exports=function(){"use strict";var e=function(A,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,A){e.__proto__=A}||function(e,A){for(var t in A)Object.prototype.hasOwnProperty.call(A,t)&&(e[t]=A[t])},e(A,t)};function A(A,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=A}e(A,t),A.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var t=function(){return t=Object.assign||function(e){for(var A,t=1,n=arguments.length;t<n;t++)for(var r in A=arguments[t])Object.prototype.hasOwnProperty.call(A,r)&&(e[r]=A[r]);return e},t.apply(this,arguments)};function n(e,A,t,n){function r(e){return e instanceof t?e:new t((function(A){A(e)}))}return new(t||(t=Promise))((function(t,s){function i(e){try{a(n.next(e))}catch(DA){s(DA)}}function o(e){try{a(n.throw(e))}catch(DA){s(DA)}}function a(e){e.done?t(e.value):r(e.value).then(i,o)}a((n=n.apply(e,A||[])).next())}))}function r(e,A){var t,n,r,s,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return s={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(A){return a([e,A])}}function a(s){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(r=2&s[0]?n.return:s[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,s[1])).done)return r;switch(n=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,n=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!r||s[1]>r[0]&&s[1]<r[3])){i.label=s[1];break}if(6===s[0]&&i.label<r[1]){i.label=r[1],r=s;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(s);break}r[2]&&i.ops.pop(),i.trys.pop();continue}s=A.call(e,i)}catch(DA){s=[6,DA],n=0}finally{t=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function s(e,A,t){if(t||2===arguments.length)for(var n,r=0,s=A.length;r<s;r++)!n&&r in A||(n||(n=Array.prototype.slice.call(A,0,r)),n[r]=A[r]);return e.concat(n||A)}for(var i=function(){function e(e,A,t,n){this.left=e,this.top=A,this.width=t,this.height=n}return e.prototype.add=function(A,t,n,r){return new e(this.left+A,this.top+t,this.width+n,this.height+r)},e.fromClientRect=function(A,t){return new e(t.left+A.windowBounds.left,t.top+A.windowBounds.top,t.width,t.height)},e.fromDOMRectList=function(A,t){var n=Array.from(t).find((function(e){return 0!==e.width}));return n?new e(n.left+A.windowBounds.left,n.top+A.windowBounds.top,n.width,n.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,A){return i.fromClientRect(e,A.getBoundingClientRect())},a=function(e){var A=e.body,t=e.documentElement;if(!A||!t)throw new Error("Unable to get document size");var n=Math.max(Math.max(A.scrollWidth,t.scrollWidth),Math.max(A.offsetWidth,t.offsetWidth),Math.max(A.clientWidth,t.clientWidth)),r=Math.max(Math.max(A.scrollHeight,t.scrollHeight),Math.max(A.offsetHeight,t.offsetHeight),Math.max(A.clientHeight,t.clientHeight));return new i(0,0,n,r)},c=function(e){for(var A=[],t=0,n=e.length;t<n;){var r=e.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=e.charCodeAt(t++);56320===(64512&s)?A.push(((1023&r)<<10)+(1023&s)+65536):(A.push(r),t--)}else A.push(r)}return A},l=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var i=e[r];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d="undefined"===typeof Uint8Array?[]:new Uint8Array(256),h=0;h<u.length;h++)d[u.charCodeAt(h)]=h;for(var p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g="undefined"===typeof Uint8Array?[]:new Uint8Array(256),f=0;f<p.length;f++)g[p.charCodeAt(f)]=f;for(var m=function(e){var A,t,n,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),l=Array.isArray(c)?c:new Uint8Array(c);for(A=0;A<o;A+=4)t=g[e.charCodeAt(A)],n=g[e.charCodeAt(A+1)],r=g[e.charCodeAt(A+2)],s=g[e.charCodeAt(A+3)],l[a++]=t<<2|n>>4,l[a++]=(15&n)<<4|r>>2,l[a++]=(3&r)<<6|63&s;return c},B=function(e){for(var A=e.length,t=[],n=0;n<A;n+=2)t.push(e[n+1]<<8|e[n]);return t},w=function(e){for(var A=e.length,t=[],n=0;n<A;n+=4)t.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return t},C=5,v=11,b=2,y=65536>>C,U=(1<<C)-1,Q=y+(1024>>C)+32,E=65536>>v,F=(1<<v-C)-1,S=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},I=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},T=function(e,A){var t=m(e),n=Array.isArray(t)?w(t):new Uint32Array(t),r=Array.isArray(t)?B(t):new Uint16Array(t),s=24,i=S(r,s/2,n[4]/2),o=2===n[5]?S(r,(s+n[4])/2):I(n,Math.ceil((s+n[4])/4));return new k(n[0],n[1],n[2],n[3],i,o)},k=function(){function e(e,A,t,n,r,s){this.initialValue=e,this.errorValue=A,this.highStart=t,this.highValueIndex=n,this.index=r,this.data=s}return e.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=((A=this.index[e>>C])<<b)+(e&U),this.data[A];if(e<=65535)return A=((A=this.index[y+(e-55296>>C)])<<b)+(e&U),this.data[A];if(e<this.highStart)return A=Q-E+(e>>v),A=this.index[A],A+=e>>C&F,A=((A=this.index[A])<<b)+(e&U),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",x="undefined"===typeof Uint8Array?[]:new Uint8Array(256),H=0;H<R.length;H++)x[R.charCodeAt(H)]=H;var _=50,O=1,D=2,L=3,P=4,N=5,K=7,M=8,V=9,j=10,G=11,J=12,$=13,W=14,X=15,Y=16,q=17,Z=18,z=19,ee=20,Ae=21,te=22,ne=23,re=24,se=25,ie=26,oe=27,ae=28,ce=29,le=30,ue=31,de=32,he=33,pe=34,ge=35,fe=36,me=37,Be=38,we=39,Ce=40,ve=41,be=42,ye=43,Ue=[9001,65288],Qe="!",Ee="\xd7",Fe="\xf7",Se=T("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Ie=[le,fe],Te=[O,D,L,N],ke=[j,M],Re=[oe,ie],xe=Te.concat(ke),He=[Be,we,Ce,pe,ge],_e=[X,$],Oe=function(e,A){void 0===A&&(A="strict");var t=[],n=[],r=[];return e.forEach((function(e,s){var i=Se.get(e);if(i>_?(r.push(!0),i-=_):r.push(!1),-1!==["normal","auto","loose"].indexOf(A)&&-1!==[8208,8211,12316,12448].indexOf(e))return n.push(s),t.push(Y);if(i===P||i===G){if(0===s)return n.push(s),t.push(le);var o=t[s-1];return-1===xe.indexOf(o)?(n.push(n[s-1]),t.push(o)):(n.push(s),t.push(le))}return n.push(s),i===ue?t.push("strict"===A?Ae:me):i===be||i===ce?t.push(le):i===ye?e>=131072&&e<=196605||e>=196608&&e<=262141?t.push(me):t.push(le):void t.push(i)})),[n,t,r]},De=function(e,A,t,n){var r=n[t];if(Array.isArray(e)?-1!==e.indexOf(r):e===r)for(var s=t;s<=n.length;){if((a=n[++s])===A)return!0;if(a!==j)break}if(r===j)for(s=t;s>0;){var i=n[--s];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=t;o<=n.length;){var a;if((a=n[++o])===A)return!0;if(a!==j)break}if(i!==j)break}return!1},Le=function(e,A){for(var t=e;t>=0;){var n=A[t];if(n!==j)return n;t--}return 0},Pe=function(e,A,t,n,r){if(0===t[n])return Ee;var s=n-1;if(Array.isArray(r)&&!0===r[s])return Ee;var i=s-1,o=s+1,a=A[s],c=i>=0?A[i]:0,l=A[o];if(a===D&&l===L)return Ee;if(-1!==Te.indexOf(a))return Qe;if(-1!==Te.indexOf(l))return Ee;if(-1!==ke.indexOf(l))return Ee;if(Le(s,A)===M)return Fe;if(Se.get(e[s])===G)return Ee;if((a===de||a===he)&&Se.get(e[o])===G)return Ee;if(a===K||l===K)return Ee;if(a===V)return Ee;if(-1===[j,$,X].indexOf(a)&&l===V)return Ee;if(-1!==[q,Z,z,re,ae].indexOf(l))return Ee;if(Le(s,A)===te)return Ee;if(De(ne,te,s,A))return Ee;if(De([q,Z],Ae,s,A))return Ee;if(De(J,J,s,A))return Ee;if(a===j)return Fe;if(a===ne||l===ne)return Ee;if(l===Y||a===Y)return Fe;if(-1!==[$,X,Ae].indexOf(l)||a===W)return Ee;if(c===fe&&-1!==_e.indexOf(a))return Ee;if(a===ae&&l===fe)return Ee;if(l===ee)return Ee;if(-1!==Ie.indexOf(l)&&a===se||-1!==Ie.indexOf(a)&&l===se)return Ee;if(a===oe&&-1!==[me,de,he].indexOf(l)||-1!==[me,de,he].indexOf(a)&&l===ie)return Ee;if(-1!==Ie.indexOf(a)&&-1!==Re.indexOf(l)||-1!==Re.indexOf(a)&&-1!==Ie.indexOf(l))return Ee;if(-1!==[oe,ie].indexOf(a)&&(l===se||-1!==[te,X].indexOf(l)&&A[o+1]===se)||-1!==[te,X].indexOf(a)&&l===se||a===se&&-1!==[se,ae,re].indexOf(l))return Ee;if(-1!==[se,ae,re,q,Z].indexOf(l))for(var u=s;u>=0;){if((d=A[u])===se)return Ee;if(-1===[ae,re].indexOf(d))break;u--}if(-1!==[oe,ie].indexOf(l))for(u=-1!==[q,Z].indexOf(a)?i:s;u>=0;){var d;if((d=A[u])===se)return Ee;if(-1===[ae,re].indexOf(d))break;u--}if(Be===a&&-1!==[Be,we,pe,ge].indexOf(l)||-1!==[we,pe].indexOf(a)&&-1!==[we,Ce].indexOf(l)||-1!==[Ce,ge].indexOf(a)&&l===Ce)return Ee;if(-1!==He.indexOf(a)&&-1!==[ee,ie].indexOf(l)||-1!==He.indexOf(l)&&a===oe)return Ee;if(-1!==Ie.indexOf(a)&&-1!==Ie.indexOf(l))return Ee;if(a===re&&-1!==Ie.indexOf(l))return Ee;if(-1!==Ie.concat(se).indexOf(a)&&l===te&&-1===Ue.indexOf(e[o])||-1!==Ie.concat(se).indexOf(l)&&a===Z)return Ee;if(a===ve&&l===ve){for(var h=t[s],p=1;h>0&&A[--h]===ve;)p++;if(p%2!==0)return Ee}return a===de&&l===he?Ee:Fe},Ne=function(e,A){A||(A={lineBreak:"normal",wordBreak:"normal"});var t=Oe(e,A.lineBreak),n=t[0],r=t[1],s=t[2];"break-all"!==A.wordBreak&&"break-word"!==A.wordBreak||(r=r.map((function(e){return-1!==[se,le,be].indexOf(e)?me:e})));var i="keep-all"===A.wordBreak?s.map((function(A,t){return A&&e[t]>=19968&&e[t]<=40959})):void 0;return[n,r,i]},Ke=function(){function e(e,A,t,n){this.codePoints=e,this.required=A===Qe,this.start=t,this.end=n}return e.prototype.slice=function(){return l.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),Me=function(e,A){var t=c(e),n=Ne(t,A),r=n[0],s=n[1],i=n[2],o=t.length,a=0,l=0;return{next:function(){if(l>=o)return{done:!0,value:null};for(var e=Ee;l<o&&(e=Pe(t,s,r,++l,i))===Ee;);if(e!==Ee||l===o){var A=new Ke(t,e,a,l);return a=l,{value:A,done:!1}}return{done:!0,value:null}}}},Ve=1,je=2,Ge=4,Je=8,$e=10,We=47,Xe=92,Ye=9,qe=32,Ze=34,ze=61,eA=35,AA=36,tA=37,nA=39,rA=40,sA=41,iA=95,oA=45,aA=33,cA=60,lA=62,uA=64,dA=91,hA=93,pA=61,gA=123,fA=63,mA=125,BA=124,wA=126,CA=128,vA=65533,bA=42,yA=43,UA=44,QA=58,EA=59,FA=46,SA=0,IA=8,TA=11,kA=14,RA=31,xA=127,HA=-1,_A=48,OA=97,DA=101,LA=102,PA=117,NA=122,KA=65,MA=69,VA=70,jA=85,GA=90,JA=function(e){return e>=_A&&e<=57},$A=function(e){return e>=55296&&e<=57343},WA=function(e){return JA(e)||e>=KA&&e<=VA||e>=OA&&e<=LA},XA=function(e){return e>=OA&&e<=NA},YA=function(e){return e>=KA&&e<=GA},qA=function(e){return XA(e)||YA(e)},ZA=function(e){return e>=CA},zA=function(e){return e===$e||e===Ye||e===qe},et=function(e){return qA(e)||ZA(e)||e===iA},At=function(e){return et(e)||JA(e)||e===oA},tt=function(e){return e>=SA&&e<=IA||e===TA||e>=kA&&e<=RA||e===xA},nt=function(e,A){return e===Xe&&A!==$e},rt=function(e,A,t){return e===oA?et(A)||nt(A,t):!!et(e)||!(e!==Xe||!nt(e,A))},st=function(e,A,t){return e===yA||e===oA?!!JA(A)||A===FA&&JA(t):JA(e===FA?A:e)},it=function(e){var A=0,t=1;e[A]!==yA&&e[A]!==oA||(e[A]===oA&&(t=-1),A++);for(var n=[];JA(e[A]);)n.push(e[A++]);var r=n.length?parseInt(l.apply(void 0,n),10):0;e[A]===FA&&A++;for(var s=[];JA(e[A]);)s.push(e[A++]);var i=s.length,o=i?parseInt(l.apply(void 0,s),10):0;e[A]!==MA&&e[A]!==DA||A++;var a=1;e[A]!==yA&&e[A]!==oA||(e[A]===oA&&(a=-1),A++);for(var c=[];JA(e[A]);)c.push(e[A++]);var u=c.length?parseInt(l.apply(void 0,c),10):0;return t*(r+o*Math.pow(10,-i))*Math.pow(10,a*u)},ot={type:2},at={type:3},ct={type:4},lt={type:13},ut={type:8},dt={type:21},ht={type:9},pt={type:10},gt={type:11},ft={type:12},mt={type:14},Bt={type:23},wt={type:1},Ct={type:25},vt={type:24},bt={type:26},yt={type:27},Ut={type:28},Qt={type:29},Et={type:31},Ft={type:32},St=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==Ft;)e.push(A),A=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case eA:var A=this.peekCodePoint(0),t=this.peekCodePoint(1),n=this.peekCodePoint(2);if(At(A)||nt(t,n)){var r=rt(A,t,n)?je:Ve;return{type:5,value:this.consumeName(),flags:r}}break;case AA:if(this.peekCodePoint(0)===ze)return this.consumeCodePoint(),lt;break;case nA:return this.consumeStringToken(nA);case rA:return ot;case sA:return at;case bA:if(this.peekCodePoint(0)===ze)return this.consumeCodePoint(),mt;break;case yA:if(st(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case UA:return ct;case oA:var s=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(st(s,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(rt(s,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===oA&&o===lA)return this.consumeCodePoint(),this.consumeCodePoint(),vt;break;case FA:if(st(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case We:if(this.peekCodePoint(0)===bA)for(this.consumeCodePoint();;){var a=this.consumeCodePoint();if(a===bA&&(a=this.consumeCodePoint())===We)return this.consumeToken();if(a===HA)return this.consumeToken()}break;case QA:return bt;case EA:return yt;case cA:if(this.peekCodePoint(0)===aA&&this.peekCodePoint(1)===oA&&this.peekCodePoint(2)===oA)return this.consumeCodePoint(),this.consumeCodePoint(),Ct;break;case uA:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),d=this.peekCodePoint(2);if(rt(c,u,d))return{type:7,value:this.consumeName()};break;case dA:return Ut;case Xe:if(nt(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case hA:return Qt;case pA:if(this.peekCodePoint(0)===ze)return this.consumeCodePoint(),ut;break;case gA:return gt;case mA:return ft;case PA:case jA:var h=this.peekCodePoint(0),p=this.peekCodePoint(1);return h!==yA||!WA(p)&&p!==fA||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case BA:if(this.peekCodePoint(0)===ze)return this.consumeCodePoint(),ht;if(this.peekCodePoint(0)===BA)return this.consumeCodePoint(),dt;break;case wA:if(this.peekCodePoint(0)===ze)return this.consumeCodePoint(),pt;break;case HA:return Ft}return zA(e)?(this.consumeWhiteSpace(),Et):JA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):et(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:l(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();WA(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var t=!1;A===fA&&e.length<6;)e.push(A),A=this.consumeCodePoint(),t=!0;if(t)return{type:30,start:parseInt(l.apply(void 0,e.map((function(e){return e===fA?_A:e}))),16),end:parseInt(l.apply(void 0,e.map((function(e){return e===fA?VA:e}))),16)};var n=parseInt(l.apply(void 0,e),16);if(this.peekCodePoint(0)===oA&&WA(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var r=[];WA(A)&&r.length<6;)r.push(A),A=this.consumeCodePoint();return{type:30,start:n,end:parseInt(l.apply(void 0,r),16)}}return{type:30,start:n,end:n}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===rA?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===rA?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===HA)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===nA||A===Ze){var t=this.consumeStringToken(this.consumeCodePoint());return 0===t.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===HA||this.peekCodePoint(0)===sA)?(this.consumeCodePoint(),{type:22,value:t.value}):(this.consumeBadUrlRemnants(),Bt)}for(;;){var n=this.consumeCodePoint();if(n===HA||n===sA)return{type:22,value:l.apply(void 0,e)};if(zA(n))return this.consumeWhiteSpace(),this.peekCodePoint(0)===HA||this.peekCodePoint(0)===sA?(this.consumeCodePoint(),{type:22,value:l.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Bt);if(n===Ze||n===nA||n===rA||tt(n))return this.consumeBadUrlRemnants(),Bt;if(n===Xe){if(!nt(n,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),Bt;e.push(this.consumeEscapedCodePoint())}else e.push(n)}},e.prototype.consumeWhiteSpace=function(){for(;zA(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===sA||e===HA)return;nt(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var A=5e4,t="";e>0;){var n=Math.min(A,e);t+=l.apply(void 0,this._value.splice(0,n)),e-=n}return this._value.shift(),t},e.prototype.consumeStringToken=function(e){for(var A="",t=0;;){var n=this._value[t];if(n===HA||void 0===n||n===e)return{type:0,value:A+=this.consumeStringSlice(t)};if(n===$e)return this._value.splice(0,t),wt;if(n===Xe){var r=this._value[t+1];r!==HA&&void 0!==r&&(r===$e?(A+=this.consumeStringSlice(t),t=-1,this._value.shift()):nt(n,r)&&(A+=this.consumeStringSlice(t),A+=l(this.consumeEscapedCodePoint()),t=-1))}t++}},e.prototype.consumeNumber=function(){var e=[],A=Ge,t=this.peekCodePoint(0);for(t!==yA&&t!==oA||e.push(this.consumeCodePoint());JA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());t=this.peekCodePoint(0);var n=this.peekCodePoint(1);if(t===FA&&JA(n))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=Je;JA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());t=this.peekCodePoint(0),n=this.peekCodePoint(1);var r=this.peekCodePoint(2);if((t===MA||t===DA)&&((n===yA||n===oA)&&JA(r)||JA(n)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=Je;JA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[it(e),A]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],t=e[1],n=this.peekCodePoint(0),r=this.peekCodePoint(1),s=this.peekCodePoint(2);return rt(n,r,s)?{type:15,number:A,flags:t,unit:this.consumeName()}:n===tA?(this.consumeCodePoint(),{type:16,number:A,flags:t}):{type:17,number:A,flags:t}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(WA(e)){for(var A=l(e);WA(this.peekCodePoint(0))&&A.length<6;)A+=l(this.consumeCodePoint());zA(this.peekCodePoint(0))&&this.consumeCodePoint();var t=parseInt(A,16);return 0===t||$A(t)||t>1114111?vA:t}return e===HA?vA:e},e.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(At(A))e+=l(A);else{if(!nt(A,this.peekCodePoint(0)))return this.reconsumeCodePoint(A),e;e+=l(this.consumeEscapedCodePoint())}}},e}(),It=function(){function e(e){this._tokens=e}return e.create=function(A){var t=new St;return t.write(A),new e(t.read())},e.parseValue=function(A){return e.create(A).parseComponentValue()},e.parseValues=function(A){return e.create(A).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(32===A.type)return e;e.push(A),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},t=this.consumeToken();;){if(32===t.type||Lt(t,e))return A;this.reconsumeToken(t),A.values.push(this.consumeComponentValue()),t=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var t=this.consumeToken();if(32===t.type||3===t.type)return A;this.reconsumeToken(t),A.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?Ft:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Tt=function(e){return 15===e.type},kt=function(e){return 17===e.type},Rt=function(e){return 20===e.type},xt=function(e){return 0===e.type},Ht=function(e,A){return Rt(e)&&e.value===A},_t=function(e){return 31!==e.type},Ot=function(e){return 31!==e.type&&4!==e.type},Dt=function(e){var A=[],t=[];return e.forEach((function(e){if(4===e.type){if(0===t.length)throw new Error("Error parsing function args, zero tokens for arg");return A.push(t),void(t=[])}31!==e.type&&t.push(e)})),t.length&&A.push(t),A},Lt=function(e,A){return 11===A&&12===e.type||28===A&&29===e.type||2===A&&3===e.type},Pt=function(e){return 17===e.type||15===e.type},Nt=function(e){return 16===e.type||Pt(e)},Kt=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Mt={type:17,number:0,flags:Ge},Vt={type:16,number:50,flags:Ge},jt={type:16,number:100,flags:Ge},Gt=function(e,A,t){var n=e[0],r=e[1];return[Jt(n,A),Jt("undefined"!==typeof r?r:n,t)]},Jt=function(e,A){if(16===e.type)return e.number/100*A;if(Tt(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},$t="deg",Wt="grad",Xt="rad",Yt="turn",qt={name:"angle",parse:function(e,A){if(15===A.type)switch(A.unit){case $t:return Math.PI*A.number/180;case Wt:return Math.PI/200*A.number;case Xt:return A.number;case Yt:return 2*Math.PI*A.number}throw new Error("Unsupported angle type")}},Zt=function(e){return 15===e.type&&(e.unit===$t||e.unit===Wt||e.unit===Xt||e.unit===Yt)},zt=function(e){switch(e.filter(Rt).map((function(e){return e.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Mt,Mt];case"to top":case"bottom":return en(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Mt,jt];case"to right":case"left":return en(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[jt,jt];case"to bottom":case"top":return en(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[jt,Mt];case"to left":case"right":return en(270)}return 0},en=function(e){return Math.PI*e/180},An={name:"color",parse:function(e,A){if(18===A.type){var t=ln[A.name];if("undefined"===typeof t)throw new Error('Attempting to parse an unsupported color function "'+A.name+'"');return t(e,A.values)}if(5===A.type){if(3===A.value.length){var n=A.value.substring(0,1),r=A.value.substring(1,2),s=A.value.substring(2,3);return rn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),1)}if(4===A.value.length){n=A.value.substring(0,1),r=A.value.substring(1,2),s=A.value.substring(2,3);var i=A.value.substring(3,4);return rn(parseInt(n+n,16),parseInt(r+r,16),parseInt(s+s,16),parseInt(i+i,16)/255)}if(6===A.value.length)return n=A.value.substring(0,2),r=A.value.substring(2,4),s=A.value.substring(4,6),rn(parseInt(n,16),parseInt(r,16),parseInt(s,16),1);if(8===A.value.length)return n=A.value.substring(0,2),r=A.value.substring(2,4),s=A.value.substring(4,6),i=A.value.substring(6,8),rn(parseInt(n,16),parseInt(r,16),parseInt(s,16),parseInt(i,16)/255)}if(20===A.type){var o=dn[A.value.toUpperCase()];if("undefined"!==typeof o)return o}return dn.TRANSPARENT}},tn=function(e){return 0===(255&e)},nn=function(e){var A=255&e,t=255&e>>8,n=255&e>>16,r=255&e>>24;return A<255?"rgba("+r+","+n+","+t+","+A/255+")":"rgb("+r+","+n+","+t+")"},rn=function(e,A,t,n){return(e<<24|A<<16|t<<8|Math.round(255*n))>>>0},sn=function(e,A){if(17===e.type)return e.number;if(16===e.type){var t=3===A?1:255;return 3===A?e.number/100*t:Math.round(e.number/100*t)}return 0},on=function(e,A){var t=A.filter(Ot);if(3===t.length){var n=t.map(sn),r=n[0],s=n[1],i=n[2];return rn(r,s,i,1)}if(4===t.length){var o=t.map(sn),a=(r=o[0],s=o[1],i=o[2],o[3]);return rn(r,s,i,a)}return 0};function an(e,A,t){return t<0&&(t+=1),t>=1&&(t-=1),t<1/6?(A-e)*t*6+e:t<.5?A:t<2/3?6*(A-e)*(2/3-t)+e:e}var cn=function(e,A){var t=A.filter(Ot),n=t[0],r=t[1],s=t[2],i=t[3],o=(17===n.type?en(n.number):qt.parse(e,n))/(2*Math.PI),a=Nt(r)?r.number/100:0,c=Nt(s)?s.number/100:0,l="undefined"!==typeof i&&Nt(i)?Jt(i,1):1;if(0===a)return rn(255*c,255*c,255*c,1);var u=c<=.5?c*(a+1):c+a-c*a,d=2*c-u,h=an(d,u,o+1/3),p=an(d,u,o),g=an(d,u,o-1/3);return rn(255*h,255*p,255*g,l)},ln={hsl:cn,hsla:cn,rgb:on,rgba:on},un=function(e,A){return An.parse(e,It.create(A).parseComponentValue())},dn={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},hn={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map((function(e){if(Rt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},pn={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},gn=function(e,A){var t=An.parse(e,A[0]),n=A[1];return n&&Nt(n)?{color:t,stop:n}:{color:t,stop:null}},fn=function(e,A){var t=e[0],n=e[e.length-1];null===t.stop&&(t.stop=Mt),null===n.stop&&(n.stop=jt);for(var r=[],s=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var a=Jt(o,A);a>s?r.push(a):r.push(s),s=a}else r.push(null)}var c=null;for(i=0;i<r.length;i++){var l=r[i];if(null===l)null===c&&(c=i);else if(null!==c){for(var u=i-c,d=(l-r[c-1])/(u+1),h=1;h<=u;h++)r[c+h-1]=d*h;c=null}}return e.map((function(e,t){return{color:e.color,stop:Math.max(Math.min(1,r[t]/A),0)}}))},mn=function(e,A,t){var n=A/2,r=t/2,s=Jt(e[0],A)-n,i=r-Jt(e[1],t);return(Math.atan2(i,s)+2*Math.PI)%(2*Math.PI)},Bn=function(e,A,t){var n="number"===typeof e?e:mn(e,A,t),r=Math.abs(A*Math.sin(n))+Math.abs(t*Math.cos(n)),s=A/2,i=t/2,o=r/2,a=Math.sin(n-Math.PI/2)*o,c=Math.cos(n-Math.PI/2)*o;return[r,s-c,s+c,i-a,i+a]},wn=function(e,A){return Math.sqrt(e*e+A*A)},Cn=function(e,A,t,n,r){return[[0,0],[0,A],[e,0],[e,A]].reduce((function(e,A){var s=A[0],i=A[1],o=wn(t-s,n-i);return(r?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:A,optimumDistance:o}:e}),{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},vn=function(e,A,t,n,r){var s=0,i=0;switch(e.size){case 0:0===e.shape?s=i=Math.min(Math.abs(A),Math.abs(A-n),Math.abs(t),Math.abs(t-r)):1===e.shape&&(s=Math.min(Math.abs(A),Math.abs(A-n)),i=Math.min(Math.abs(t),Math.abs(t-r)));break;case 2:if(0===e.shape)s=i=Math.min(wn(A,t),wn(A,t-r),wn(A-n,t),wn(A-n,t-r));else if(1===e.shape){var o=Math.min(Math.abs(t),Math.abs(t-r))/Math.min(Math.abs(A),Math.abs(A-n)),a=Cn(n,r,A,t,!0),c=a[0],l=a[1];i=o*(s=wn(c-A,(l-t)/o))}break;case 1:0===e.shape?s=i=Math.max(Math.abs(A),Math.abs(A-n),Math.abs(t),Math.abs(t-r)):1===e.shape&&(s=Math.max(Math.abs(A),Math.abs(A-n)),i=Math.max(Math.abs(t),Math.abs(t-r)));break;case 3:if(0===e.shape)s=i=Math.max(wn(A,t),wn(A,t-r),wn(A-n,t),wn(A-n,t-r));else if(1===e.shape){o=Math.max(Math.abs(t),Math.abs(t-r))/Math.max(Math.abs(A),Math.abs(A-n));var u=Cn(n,r,A,t,!1);c=u[0],l=u[1],i=o*(s=wn(c-A,(l-t)/o))}}return Array.isArray(e.size)&&(s=Jt(e.size[0],n),i=2===e.size.length?Jt(e.size[1],r):s),[s,i]},bn=function(e,A){var t=en(180),n=[];return Dt(A).forEach((function(A,r){if(0===r){var s=A[0];if(20===s.type&&-1!==["top","left","right","bottom"].indexOf(s.value))return void(t=zt(A));if(Zt(s))return void(t=(qt.parse(e,s)+en(270))%en(360))}var i=gn(e,A);n.push(i)})),{angle:t,stops:n,type:1}},yn="closest-side",Un="farthest-side",Qn="closest-corner",En="farthest-corner",Fn="circle",Sn="ellipse",In="cover",Tn="contain",kn=function(e,A){var t=0,n=3,r=[],s=[];return Dt(A).forEach((function(A,i){var o=!0;if(0===i?o=A.reduce((function(e,A){if(Rt(A))switch(A.value){case"center":return s.push(Vt),!1;case"top":case"left":return s.push(Mt),!1;case"right":case"bottom":return s.push(jt),!1}else if(Nt(A)||Pt(A))return s.push(A),!1;return e}),o):1===i&&(o=A.reduce((function(e,A){if(Rt(A))switch(A.value){case Fn:return t=0,!1;case Sn:return t=1,!1;case Tn:case yn:return n=0,!1;case Un:return n=1,!1;case Qn:return n=2,!1;case In:case En:return n=3,!1}else if(Pt(A)||Nt(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return e}),o)),o){var a=gn(e,A);r.push(a)}})),{size:n,shape:t,stops:r,position:s,type:2}},Rn=function(e){return 1===e.type},xn=function(e){return 2===e.type},Hn={name:"image",parse:function(e,A){if(22===A.type){var t={url:A.value,type:0};return e.cache.addImage(A.value),t}if(18===A.type){var n=Dn[A.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported image function "'+A.name+'"');return n(e,A.values)}throw new Error("Unsupported image type "+A.type)}};function _n(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Dn[e.name])}var On,Dn={"linear-gradient":function(e,A){var t=en(180),n=[];return Dt(A).forEach((function(A,r){if(0===r){var s=A[0];if(20===s.type&&"to"===s.value)return void(t=zt(A));if(Zt(s))return void(t=qt.parse(e,s))}var i=gn(e,A);n.push(i)})),{angle:t,stops:n,type:1}},"-moz-linear-gradient":bn,"-ms-linear-gradient":bn,"-o-linear-gradient":bn,"-webkit-linear-gradient":bn,"radial-gradient":function(e,A){var t=0,n=3,r=[],s=[];return Dt(A).forEach((function(A,i){var o=!0;if(0===i){var a=!1;o=A.reduce((function(e,A){if(a)if(Rt(A))switch(A.value){case"center":return s.push(Vt),e;case"top":case"left":return s.push(Mt),e;case"right":case"bottom":return s.push(jt),e}else(Nt(A)||Pt(A))&&s.push(A);else if(Rt(A))switch(A.value){case Fn:return t=0,!1;case Sn:return t=1,!1;case"at":return a=!0,!1;case yn:return n=0,!1;case In:case Un:return n=1,!1;case Tn:case Qn:return n=2,!1;case En:return n=3,!1}else if(Pt(A)||Nt(A))return Array.isArray(n)||(n=[]),n.push(A),!1;return e}),o)}if(o){var c=gn(e,A);r.push(c)}})),{size:n,shape:t,stops:r,position:s,type:2}},"-moz-radial-gradient":kn,"-ms-radial-gradient":kn,"-o-radial-gradient":kn,"-webkit-radial-gradient":kn,"-webkit-gradient":function(e,A){var t=en(180),n=[],r=1,s=0,i=3,o=[];return Dt(A).forEach((function(A,t){var s=A[0];if(0===t){if(Rt(s)&&"linear"===s.value)return void(r=1);if(Rt(s)&&"radial"===s.value)return void(r=2)}if(18===s.type)if("from"===s.name){var i=An.parse(e,s.values[0]);n.push({stop:Mt,color:i})}else if("to"===s.name)i=An.parse(e,s.values[0]),n.push({stop:jt,color:i});else if("color-stop"===s.name){var o=s.values.filter(Ot);if(2===o.length){i=An.parse(e,o[1]);var a=o[0];kt(a)&&n.push({stop:{type:16,number:100*a.number,flags:a.flags},color:i})}}})),1===r?{angle:(t+en(180))%en(360),stops:n,type:r}:{size:i,shape:s,stops:n,position:o,type:r}}},Ln={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(0===A.length)return[];var t=A[0];return 20===t.type&&"none"===t.value?[]:A.filter((function(e){return Ot(e)&&_n(e)})).map((function(A){return Hn.parse(e,A)}))}},Pn={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,A){return A.map((function(e){if(Rt(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Nn={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,A){return Dt(A).map((function(e){return e.filter(Nt)})).map(Kt)}},Kn={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,A){return Dt(A).map((function(e){return e.filter(Rt).map((function(e){return e.value})).join(" ")})).map(Mn)}},Mn=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(On||(On={}));var Vn,jn={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,A){return Dt(A).map((function(e){return e.filter(Gn)}))}},Gn=function(e){return Rt(e)||Nt(e)},Jn=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},$n=Jn("top"),Wn=Jn("right"),Xn=Jn("bottom"),Yn=Jn("left"),qn=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return Kt(A.filter(Nt))}}},Zn=qn("top-left"),zn=qn("top-right"),er=qn("bottom-right"),Ar=qn("bottom-left"),tr=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},nr=tr("top"),rr=tr("right"),sr=tr("bottom"),ir=tr("left"),or=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return Tt(A)?A.number:0}}},ar=or("top"),cr=or("right"),lr=or("bottom"),ur=or("left"),dr={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},hr={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,A){return"rtl"===A?1:0}},pr={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,A){return A.filter(Rt).reduce((function(e,A){return e|gr(A.value)}),0)}},gr=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},fr={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},mr={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,A){return 20===A.type&&"normal"===A.value?0:17===A.type||15===A.type?A.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Vn||(Vn={}));var Br,wr={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){return"strict"===A?Vn.STRICT:Vn.NORMAL}},Cr={name:"line-height",initialValue:"normal",prefix:!1,type:4},vr=function(e,A){return Rt(e)&&"normal"===e.value?1.2*A:17===e.type?A*e.number:Nt(e)?Jt(e,A):A},br={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,A){return 20===A.type&&"none"===A.value?null:Hn.parse(e,A)}},yr={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,A){return"inside"===A?0:1}},Ur={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Qr=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Er=Qr("top"),Fr=Qr("right"),Sr=Qr("bottom"),Ir=Qr("left"),Tr={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,A){return A.filter(Rt).map((function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}}))}},kr={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){return"break-word"===A?"break-word":"normal"}},Rr=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},xr=Rr("top"),Hr=Rr("right"),_r=Rr("bottom"),Or=Rr("left"),Dr={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,A){switch(A){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Lr={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,A){switch(A){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Pr={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return 1===A.length&&Ht(A[0],"none")?[]:Dt(A).map((function(A){for(var t={color:dn.TRANSPARENT,offsetX:Mt,offsetY:Mt,blur:Mt},n=0,r=0;r<A.length;r++){var s=A[r];Pt(s)?(0===n?t.offsetX=s:1===n?t.offsetY=s:t.blur=s,n++):t.color=An.parse(e,s)}return t}))}},Nr={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Kr={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,A){if(20===A.type&&"none"===A.value)return null;if(18===A.type){var t=Mr[A.name];if("undefined"===typeof t)throw new Error('Attempting to parse an unsupported transform function "'+A.name+'"');return t(A.values)}return null}},Mr={matrix:function(e){var A=e.filter((function(e){return 17===e.type})).map((function(e){return e.number}));return 6===A.length?A:null},matrix3d:function(e){var A=e.filter((function(e){return 17===e.type})).map((function(e){return e.number})),t=A[0],n=A[1];A[2],A[3];var r=A[4],s=A[5];A[6],A[7],A[8],A[9],A[10],A[11];var i=A[12],o=A[13];return A[14],A[15],16===A.length?[t,n,r,s,i,o]:null}},Vr={type:16,number:50,flags:Ge},jr=[Vr,Vr],Gr={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,A){var t=A.filter(Nt);return 2!==t.length?jr:[t[0],t[1]]}},Jr={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,A){switch(A){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(Br||(Br={}));for(var $r={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"break-all":return Br.BREAK_ALL;case"keep-all":return Br.KEEP_ALL;default:return Br.NORMAL}}},Wr={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,A){if(20===A.type)return{auto:!0,order:0};if(kt(A))return{auto:!1,order:A.number};throw new Error("Invalid z-index number parsed")}},Xr={name:"time",parse:function(e,A){if(15===A.type)switch(A.unit.toLowerCase()){case"s":return 1e3*A.number;case"ms":return A.number}throw new Error("Unsupported time type")}},Yr={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,A){return kt(A)?A.number:1}},qr={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zr={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,A){return A.filter(Rt).map((function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(e){return 0!==e}))}},zr={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,A){var t=[],n=[];return A.forEach((function(e){switch(e.type){case 20:case 0:t.push(e.value);break;case 17:t.push(e.number.toString());break;case 4:n.push(t.join(" ")),t.length=0}})),t.length&&n.push(t.join(" ")),n.map((function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"}))}},es={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},As={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,A){return kt(A)?A.number:Rt(A)&&"bold"===A.value?700:400}},ts={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return A.filter(Rt).map((function(e){return e.value}))}},ns={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,A){switch(A){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},rs=function(e,A){return 0!==(e&A)},ss={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,A){if(0===A.length)return[];var t=A[0];return 20===t.type&&"none"===t.value?[]:A}},is={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(0===A.length)return null;var t=A[0];if(20===t.type&&"none"===t.value)return null;for(var n=[],r=A.filter(_t),s=0;s<r.length;s++){var i=r[s],o=r[s+1];if(20===i.type){var a=o&&kt(o)?o.number:1;n.push({counter:i.value,increment:a})}}return n}},os={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(0===A.length)return[];for(var t=[],n=A.filter(_t),r=0;r<n.length;r++){var s=n[r],i=n[r+1];if(Rt(s)&&"none"!==s.value){var o=i&&kt(i)?i.number:0;t.push({counter:s.value,reset:o})}}return t}},as={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,A){return A.filter(Tt).map((function(A){return Xr.parse(e,A)}))}},cs={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,A){if(0===A.length)return null;var t=A[0];if(20===t.type&&"none"===t.value)return null;var n=[],r=A.filter(xt);if(r.length%2!==0)return null;for(var s=0;s<r.length;s+=2){var i=r[s].value,o=r[s+1].value;n.push({open:i,close:o})}return n}},ls=function(e,A,t){if(!e)return"";var n=e[Math.min(A,e.length-1)];return n?t?n.open:n.close:""},us={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,A){return 1===A.length&&Ht(A[0],"none")?[]:Dt(A).map((function(A){for(var t={color:255,offsetX:Mt,offsetY:Mt,blur:Mt,spread:Mt,inset:!1},n=0,r=0;r<A.length;r++){var s=A[r];Ht(s,"inset")?t.inset=!0:Pt(s)?(0===n?t.offsetX=s:1===n?t.offsetY=s:2===n?t.blur=s:t.spread=s,n++):t.color=An.parse(e,s)}return t}))}},ds={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,A){var t=[0,1,2],n=[];return A.filter(Rt).forEach((function(e){switch(e.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2)}})),t.forEach((function(e){-1===n.indexOf(e)&&n.push(e)})),n}},hs={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},ps={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return Tt(A)?A.number:0}},gs=function(){function e(e,A){var t,n;this.animationDuration=Bs(e,as,A.animationDuration),this.backgroundClip=Bs(e,hn,A.backgroundClip),this.backgroundColor=Bs(e,pn,A.backgroundColor),this.backgroundImage=Bs(e,Ln,A.backgroundImage),this.backgroundOrigin=Bs(e,Pn,A.backgroundOrigin),this.backgroundPosition=Bs(e,Nn,A.backgroundPosition),this.backgroundRepeat=Bs(e,Kn,A.backgroundRepeat),this.backgroundSize=Bs(e,jn,A.backgroundSize),this.borderTopColor=Bs(e,$n,A.borderTopColor),this.borderRightColor=Bs(e,Wn,A.borderRightColor),this.borderBottomColor=Bs(e,Xn,A.borderBottomColor),this.borderLeftColor=Bs(e,Yn,A.borderLeftColor),this.borderTopLeftRadius=Bs(e,Zn,A.borderTopLeftRadius),this.borderTopRightRadius=Bs(e,zn,A.borderTopRightRadius),this.borderBottomRightRadius=Bs(e,er,A.borderBottomRightRadius),this.borderBottomLeftRadius=Bs(e,Ar,A.borderBottomLeftRadius),this.borderTopStyle=Bs(e,nr,A.borderTopStyle),this.borderRightStyle=Bs(e,rr,A.borderRightStyle),this.borderBottomStyle=Bs(e,sr,A.borderBottomStyle),this.borderLeftStyle=Bs(e,ir,A.borderLeftStyle),this.borderTopWidth=Bs(e,ar,A.borderTopWidth),this.borderRightWidth=Bs(e,cr,A.borderRightWidth),this.borderBottomWidth=Bs(e,lr,A.borderBottomWidth),this.borderLeftWidth=Bs(e,ur,A.borderLeftWidth),this.boxShadow=Bs(e,us,A.boxShadow),this.color=Bs(e,dr,A.color),this.direction=Bs(e,hr,A.direction),this.display=Bs(e,pr,A.display),this.float=Bs(e,fr,A.cssFloat),this.fontFamily=Bs(e,zr,A.fontFamily),this.fontSize=Bs(e,es,A.fontSize),this.fontStyle=Bs(e,ns,A.fontStyle),this.fontVariant=Bs(e,ts,A.fontVariant),this.fontWeight=Bs(e,As,A.fontWeight),this.letterSpacing=Bs(e,mr,A.letterSpacing),this.lineBreak=Bs(e,wr,A.lineBreak),this.lineHeight=Bs(e,Cr,A.lineHeight),this.listStyleImage=Bs(e,br,A.listStyleImage),this.listStylePosition=Bs(e,yr,A.listStylePosition),this.listStyleType=Bs(e,Ur,A.listStyleType),this.marginTop=Bs(e,Er,A.marginTop),this.marginRight=Bs(e,Fr,A.marginRight),this.marginBottom=Bs(e,Sr,A.marginBottom),this.marginLeft=Bs(e,Ir,A.marginLeft),this.opacity=Bs(e,Yr,A.opacity);var r=Bs(e,Tr,A.overflow);this.overflowX=r[0],this.overflowY=r[r.length>1?1:0],this.overflowWrap=Bs(e,kr,A.overflowWrap),this.paddingTop=Bs(e,xr,A.paddingTop),this.paddingRight=Bs(e,Hr,A.paddingRight),this.paddingBottom=Bs(e,_r,A.paddingBottom),this.paddingLeft=Bs(e,Or,A.paddingLeft),this.paintOrder=Bs(e,ds,A.paintOrder),this.position=Bs(e,Lr,A.position),this.textAlign=Bs(e,Dr,A.textAlign),this.textDecorationColor=Bs(e,qr,null!==(t=A.textDecorationColor)&&void 0!==t?t:A.color),this.textDecorationLine=Bs(e,Zr,null!==(n=A.textDecorationLine)&&void 0!==n?n:A.textDecoration),this.textShadow=Bs(e,Pr,A.textShadow),this.textTransform=Bs(e,Nr,A.textTransform),this.transform=Bs(e,Kr,A.transform),this.transformOrigin=Bs(e,Gr,A.transformOrigin),this.visibility=Bs(e,Jr,A.visibility),this.webkitTextStrokeColor=Bs(e,hs,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=Bs(e,ps,A.webkitTextStrokeWidth),this.wordBreak=Bs(e,$r,A.wordBreak),this.zIndex=Bs(e,Wr,A.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return tn(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return rs(this.display,4)||rs(this.display,33554432)||rs(this.display,268435456)||rs(this.display,536870912)||rs(this.display,67108864)||rs(this.display,134217728)},e}(),fs=function(){function e(e,A){this.content=Bs(e,ss,A.content),this.quotes=Bs(e,cs,A.quotes)}return e}(),ms=function(){function e(e,A){this.counterIncrement=Bs(e,is,A.counterIncrement),this.counterReset=Bs(e,os,A.counterReset)}return e}(),Bs=function(e,A,t){var n=new St,r=null!==t&&"undefined"!==typeof t?t.toString():A.initialValue;n.write(r);var s=new It(n.read());switch(A.type){case 2:var i=s.parseComponentValue();return A.parse(e,Rt(i)?i.value:A.initialValue);case 0:return A.parse(e,s.parseComponentValue());case 1:return A.parse(e,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(A.format){case"angle":return qt.parse(e,s.parseComponentValue());case"color":return An.parse(e,s.parseComponentValue());case"image":return Hn.parse(e,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Pt(o)?o:Mt;case"length-percentage":var a=s.parseComponentValue();return Nt(a)?a:Mt;case"time":return Xr.parse(e,s.parseComponentValue())}}},ws="data-html2canvas-debug",Cs=function(e){switch(e.getAttribute(ws)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},vs=function(e,A){var t=Cs(e);return 1===t||A===t},bs=function(){function e(e,A){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,vs(A,3),this.styles=new gs(e,window.getComputedStyle(A,null)),co(A)&&(this.styles.animationDuration.some((function(e){return e>0}))&&(A.style.animationDuration="0s"),null!==this.styles.transform&&(A.style.transform="none")),this.bounds=o(this.context,A),vs(A,4)&&(this.flags|=16)}return e}(),ys="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Us="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Qs="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Es=0;Es<Us.length;Es++)Qs[Us.charCodeAt(Es)]=Es;for(var Fs=function(e){var A,t,n,r,s,i=.75*e.length,o=e.length,a=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),l=Array.isArray(c)?c:new Uint8Array(c);for(A=0;A<o;A+=4)t=Qs[e.charCodeAt(A)],n=Qs[e.charCodeAt(A+1)],r=Qs[e.charCodeAt(A+2)],s=Qs[e.charCodeAt(A+3)],l[a++]=t<<2|n>>4,l[a++]=(15&n)<<4|r>>2,l[a++]=(3&r)<<6|63&s;return c},Ss=function(e){for(var A=e.length,t=[],n=0;n<A;n+=2)t.push(e[n+1]<<8|e[n]);return t},Is=function(e){for(var A=e.length,t=[],n=0;n<A;n+=4)t.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return t},Ts=5,ks=11,Rs=2,xs=65536>>Ts,Hs=(1<<Ts)-1,_s=xs+(1024>>Ts)+32,Os=65536>>ks,Ds=(1<<ks-Ts)-1,Ls=function(e,A,t){return e.slice?e.slice(A,t):new Uint16Array(Array.prototype.slice.call(e,A,t))},Ps=function(e,A,t){return e.slice?e.slice(A,t):new Uint32Array(Array.prototype.slice.call(e,A,t))},Ns=function(e,A){var t=Fs(e),n=Array.isArray(t)?Is(t):new Uint32Array(t),r=Array.isArray(t)?Ss(t):new Uint16Array(t),s=24,i=Ls(r,s/2,n[4]/2),o=2===n[5]?Ls(r,(s+n[4])/2):Ps(n,Math.ceil((s+n[4])/4));return new Ks(n[0],n[1],n[2],n[3],i,o)},Ks=function(){function e(e,A,t,n,r,s){this.initialValue=e,this.errorValue=A,this.highStart=t,this.highValueIndex=n,this.index=r,this.data=s}return e.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=((A=this.index[e>>Ts])<<Rs)+(e&Hs),this.data[A];if(e<=65535)return A=((A=this.index[xs+(e-55296>>Ts)])<<Rs)+(e&Hs),this.data[A];if(e<this.highStart)return A=_s-Os+(e>>ks),A=this.index[A],A+=e>>Ts&Ds,A=((A=this.index[A])<<Rs)+(e&Hs),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),Ms="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vs="undefined"===typeof Uint8Array?[]:new Uint8Array(256),js=0;js<Ms.length;js++)Vs[Ms.charCodeAt(js)]=js;var Gs,Js=1,$s=2,Ws=3,Xs=4,Ys=5,qs=7,Zs=8,zs=9,ei=10,Ai=11,ti=12,ni=13,ri=14,si=15,ii=function(e){for(var A=[],t=0,n=e.length;t<n;){var r=e.charCodeAt(t++);if(r>=55296&&r<=56319&&t<n){var s=e.charCodeAt(t++);56320===(64512&s)?A.push(((1023&r)<<10)+(1023&s)+65536):(A.push(r),t--)}else A.push(r)}return A},oi=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var t=e.length;if(!t)return"";for(var n=[],r=-1,s="";++r<t;){var i=e[r];i<=65535?n.push(i):(i-=65536,n.push(55296+(i>>10),i%1024+56320)),(r+1===t||n.length>16384)&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return s},ai=Ns(ys),ci="\xd7",li="\xf7",ui=function(e){return ai.get(e)},di=function(e,A,t){var n=t-2,r=A[n],s=A[t-1],i=A[t];if(s===$s&&i===Ws)return ci;if(s===$s||s===Ws||s===Xs)return li;if(i===$s||i===Ws||i===Xs)return li;if(s===Zs&&-1!==[Zs,zs,Ai,ti].indexOf(i))return ci;if((s===Ai||s===zs)&&(i===zs||i===ei))return ci;if((s===ti||s===ei)&&i===ei)return ci;if(i===ni||i===Ys)return ci;if(i===qs)return ci;if(s===Js)return ci;if(s===ni&&i===ri){for(;r===Ys;)r=A[--n];if(r===ri)return ci}if(s===si&&i===si){for(var o=0;r===si;)o++,r=A[--n];if(o%2===0)return ci}return li},hi=function(e){var A=ii(e),t=A.length,n=0,r=0,s=A.map(ui);return{next:function(){if(n>=t)return{done:!0,value:null};for(var e=ci;n<t&&(e=di(A,s,++n))===ci;);if(e!==ci||n===t){var i=oi.apply(null,A.slice(r,n));return r=n,{value:i,done:!1}}return{done:!0,value:null}}}},pi=function(e){for(var A,t=hi(e),n=[];!(A=t.next()).done;)A.value&&n.push(A.value.slice());return n},gi=function(e){var A=123;if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var n=e.createElement("boundtest");n.style.height=A+"px",n.style.display="block",e.body.appendChild(n),t.selectNode(n);var r=t.getBoundingClientRect(),s=Math.round(r.height);if(e.body.removeChild(n),s===A)return!0}}return!1},fi=function(e){var A=e.createElement("boundtest");A.style.width="50px",A.style.display="block",A.style.fontSize="12px",A.style.letterSpacing="0px",A.style.wordSpacing="0px",e.body.appendChild(A);var t=e.createRange();A.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var n=A.firstChild,r=c(n.data).map((function(e){return l(e)})),s=0,i={},o=r.every((function(e,A){t.setStart(n,s),t.setEnd(n,s+e.length);var r=t.getBoundingClientRect();s+=e.length;var o=r.x>i.x||r.y>i.y;return i=r,0===A||o}));return e.body.removeChild(A),o},mi=function(){return"undefined"!==typeof(new Image).crossOrigin},Bi=function(){return"string"===typeof(new XMLHttpRequest).responseType},wi=function(e){var A=new Image,t=e.createElement("canvas"),n=t.getContext("2d");if(!n)return!1;A.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(A,0,0),t.toDataURL()}catch(DA){return!1}return!0},Ci=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},vi=function(e){var A=e.createElement("canvas"),t=100;A.width=t,A.height=t;var n=A.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,t,t);var r=new Image,s=A.toDataURL();r.src=s;var i=bi(t,t,0,0,r);return n.fillStyle="red",n.fillRect(0,0,t,t),yi(i).then((function(A){n.drawImage(A,0,0);var r=n.getImageData(0,0,t,t).data;n.fillStyle="red",n.fillRect(0,0,t,t);var i=e.createElement("div");return i.style.backgroundImage="url("+s+")",i.style.height=t+"px",Ci(r)?yi(bi(t,t,0,0,i)):Promise.reject(!1)})).then((function(e){return n.drawImage(e,0,0),Ci(n.getImageData(0,0,t,t).data)})).catch((function(){return!1}))},bi=function(e,A,t,n,r){var s="http://www.w3.org/2000/svg",i=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",A.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",t.toString()),o.setAttributeNS(null,"y",n.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(r),i},yi=function(e){return new Promise((function(A,t){var n=new Image;n.onload=function(){return A(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},Ui={get SUPPORT_RANGE_BOUNDS(){var e=gi(document);return Object.defineProperty(Ui,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ui.SUPPORT_RANGE_BOUNDS&&fi(document);return Object.defineProperty(Ui,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=wi(document);return Object.defineProperty(Ui,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?vi(document):Promise.resolve(!1);return Object.defineProperty(Ui,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=mi();return Object.defineProperty(Ui,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=Bi();return Object.defineProperty(Ui,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ui,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ui,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},Qi=function(){function e(e,A){this.text=e,this.bounds=A}return e}(),Ei=function(e,A,t,n){var r=ki(A,t),s=[],o=0;return r.forEach((function(A){if(t.textDecorationLine.length||A.trim().length>0)if(Ui.SUPPORT_RANGE_BOUNDS){var r=Si(n,o,A.length).getClientRects();if(r.length>1){var a=Ii(A),c=0;a.forEach((function(A){s.push(new Qi(A,i.fromDOMRectList(e,Si(n,c+o,A.length).getClientRects()))),c+=A.length}))}else s.push(new Qi(A,i.fromDOMRectList(e,r)))}else{var l=n.splitText(A.length);s.push(new Qi(A,Fi(e,n))),n=l}else Ui.SUPPORT_RANGE_BOUNDS||(n=n.splitText(A.length));o+=A.length})),s},Fi=function(e,A){var t=A.ownerDocument;if(t){var n=t.createElement("html2canvaswrapper");n.appendChild(A.cloneNode(!0));var r=A.parentNode;if(r){r.replaceChild(n,A);var s=o(e,n);return n.firstChild&&r.replaceChild(n.firstChild,n),s}}return i.EMPTY},Si=function(e,A,t){var n=e.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(e,A),r.setEnd(e,A+t),r},Ii=function(e){if(Ui.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(A.segment(e)).map((function(e){return e.segment}))}return pi(e)},Ti=function(e,A){if(Ui.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(t.segment(e)).map((function(e){return e.segment}))}return xi(e,A)},ki=function(e,A){return 0!==A.letterSpacing?Ii(e):Ti(e,A)},Ri=[32,160,4961,65792,65793,4153,4241],xi=function(e,A){for(var t,n=Me(e,{lineBreak:A.lineBreak,wordBreak:"break-word"===A.overflowWrap?"break-word":A.wordBreak}),r=[],s=function(){if(t.value){var e=t.value.slice(),A=c(e),n="";A.forEach((function(e){-1===Ri.indexOf(e)?n+=l(e):(n.length&&r.push(n),r.push(l(e)),n="")})),n.length&&r.push(n)}};!(t=n.next()).done;)s();return r},Hi=function(){function e(e,A,t){this.text=_i(A.data,t.textTransform),this.textBounds=Ei(e,this.text,t,A)}return e}(),_i=function(e,A){switch(A){case 1:return e.toLowerCase();case 3:return e.replace(Oi,Di);case 2:return e.toUpperCase();default:return e}},Oi=/(^|\s|:|-|\(|\))([a-z])/g,Di=function(e,A,t){return e.length>0?A+t.toUpperCase():e},Li=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.src=t.currentSrc||t.src,n.intrinsicWidth=t.naturalWidth,n.intrinsicHeight=t.naturalHeight,n.context.cache.addImage(n.src),n}return A(t,e),t}(bs),Pi=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.canvas=t,n.intrinsicWidth=t.width,n.intrinsicHeight=t.height,n}return A(t,e),t}(bs),Ni=function(e){function t(A,t){var n=e.call(this,A,t)||this,r=new XMLSerializer,s=o(A,t);return t.setAttribute("width",s.width+"px"),t.setAttribute("height",s.height+"px"),n.svg="data:image/svg+xml,"+encodeURIComponent(r.serializeToString(t)),n.intrinsicWidth=t.width.baseVal.value,n.intrinsicHeight=t.height.baseVal.value,n.context.cache.addImage(n.svg),n}return A(t,e),t}(bs),Ki=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.value=t.value,n}return A(t,e),t}(bs),Mi=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.start=t.start,n.reversed="boolean"===typeof t.reversed&&!0===t.reversed,n}return A(t,e),t}(bs),Vi=[{type:15,flags:0,unit:"px",number:3}],ji=[{type:16,flags:0,number:50}],Gi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Ji=function(e){var A=e.type===Xi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===A.length?e.placeholder||"":A},$i="checkbox",Wi="radio",Xi="password",Yi=707406591,qi=function(e){function t(A,t){var n=e.call(this,A,t)||this;switch(n.type=t.type.toLowerCase(),n.checked=t.checked,n.value=Ji(t),n.type!==$i&&n.type!==Wi||(n.styles.backgroundColor=3739148031,n.styles.borderTopColor=n.styles.borderRightColor=n.styles.borderBottomColor=n.styles.borderLeftColor=2779096575,n.styles.borderTopWidth=n.styles.borderRightWidth=n.styles.borderBottomWidth=n.styles.borderLeftWidth=1,n.styles.borderTopStyle=n.styles.borderRightStyle=n.styles.borderBottomStyle=n.styles.borderLeftStyle=1,n.styles.backgroundClip=[0],n.styles.backgroundOrigin=[0],n.bounds=Gi(n.bounds)),n.type){case $i:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=Vi;break;case Wi:n.styles.borderTopRightRadius=n.styles.borderTopLeftRadius=n.styles.borderBottomRightRadius=n.styles.borderBottomLeftRadius=ji}return n}return A(t,e),t}(bs),Zi=function(e){function t(A,t){var n=e.call(this,A,t)||this,r=t.options[t.selectedIndex||0];return n.value=r&&r.text||"",n}return A(t,e),t}(bs),zi=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.value=t.value,n}return A(t,e),t}(bs),eo=function(e){function t(A,t){var n=e.call(this,A,t)||this;n.src=t.src,n.width=parseInt(t.width,10)||0,n.height=parseInt(t.height,10)||0,n.backgroundColor=n.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){n.tree=ro(A,t.contentWindow.document.documentElement);var r=t.contentWindow.document.documentElement?un(A,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):dn.TRANSPARENT,s=t.contentWindow.document.body?un(A,getComputedStyle(t.contentWindow.document.body).backgroundColor):dn.TRANSPARENT;n.backgroundColor=tn(r)?tn(s)?n.styles.backgroundColor:s:r}}catch(DA){}return n}return A(t,e),t}(bs),Ao=["OL","UL","MENU"],to=function(e,A,t,n){for(var r=A.firstChild,s=void 0;r;r=s)if(s=r.nextSibling,oo(r)&&r.data.trim().length>0)t.textNodes.push(new Hi(e,r,t.styles));else if(ao(r))if(Eo(r)&&r.assignedNodes)r.assignedNodes().forEach((function(A){return to(e,A,t,n)}));else{var i=no(e,r);i.styles.isVisible()&&(so(r,i,n)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==Ao.indexOf(r.tagName)&&(i.flags|=8),t.elements.push(i),r.slot,r.shadowRoot?to(e,r.shadowRoot,i,n):Uo(r)||fo(r)||Qo(r)||to(e,r,i,n))}},no=function(e,A){return Co(A)?new Li(e,A):Bo(A)?new Pi(e,A):fo(A)?new Ni(e,A):uo(A)?new Ki(e,A):ho(A)?new Mi(e,A):po(A)?new qi(e,A):Qo(A)?new Zi(e,A):Uo(A)?new zi(e,A):vo(A)?new eo(e,A):new bs(e,A)},ro=function(e,A){var t=no(e,A);return t.flags|=4,to(e,A,t,t),t},so=function(e,A,t){return A.styles.isPositionedWithZIndex()||A.styles.opacity<1||A.styles.isTransformed()||mo(e)&&t.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},ao=function(e){return e.nodeType===Node.ELEMENT_NODE},co=function(e){return ao(e)&&"undefined"!==typeof e.style&&!lo(e)},lo=function(e){return"object"===typeof e.className},uo=function(e){return"LI"===e.tagName},ho=function(e){return"OL"===e.tagName},po=function(e){return"INPUT"===e.tagName},go=function(e){return"HTML"===e.tagName},fo=function(e){return"svg"===e.tagName},mo=function(e){return"BODY"===e.tagName},Bo=function(e){return"CANVAS"===e.tagName},wo=function(e){return"VIDEO"===e.tagName},Co=function(e){return"IMG"===e.tagName},vo=function(e){return"IFRAME"===e.tagName},bo=function(e){return"STYLE"===e.tagName},yo=function(e){return"SCRIPT"===e.tagName},Uo=function(e){return"TEXTAREA"===e.tagName},Qo=function(e){return"SELECT"===e.tagName},Eo=function(e){return"SLOT"===e.tagName},Fo=function(e){return e.tagName.indexOf("-")>0},So=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},e.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},e.prototype.pop=function(e){var A=this;e.forEach((function(e){return A.counters[e].pop()}))},e.prototype.parse=function(e){var A=this,t=e.counterIncrement,n=e.counterReset,r=!0;null!==t&&t.forEach((function(e){var t=A.counters[e.counter];t&&0!==e.increment&&(r=!1,t.length||t.push(1),t[Math.max(0,t.length-1)]+=e.increment)}));var s=[];return r&&n.forEach((function(e){var t=A.counters[e.counter];s.push(e.counter),t||(t=A.counters[e.counter]=[]),t.push(e.reset)})),s},e}(),Io={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},To={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},ko={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Ro={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},xo=function(e,A,t,n,r,s){return e<A||e>t?Jo(e,r,s.length>0):n.integers.reduce((function(A,t,r){for(;e>=t;)e-=t,A+=n.values[r];return A}),"")+s},Ho=function(e,A,t,n){var r="";do{t||e--,r=n(e)+r,e/=A}while(e*A>=A);return r},_o=function(e,A,t,n,r){var s=t-A+1;return(e<0?"-":"")+(Ho(Math.abs(e),s,n,(function(e){return l(Math.floor(e%s)+A)}))+r)},Oo=function(e,A,t){void 0===t&&(t=". ");var n=A.length;return Ho(Math.abs(e),n,!1,(function(e){return A[Math.floor(e%n)]}))+t},Do=1,Lo=2,Po=4,No=8,Ko=function(e,A,t,n,r,s){if(e<-9999||e>9999)return Jo(e,4,r.length>0);var i=Math.abs(e),o=r;if(0===i)return A[0]+o;for(var a=0;i>0&&a<=4;a++){var c=i%10;0===c&&rs(s,Do)&&""!==o?o=A[c]+o:c>1||1===c&&0===a||1===c&&1===a&&rs(s,Lo)||1===c&&1===a&&rs(s,Po)&&e>100||1===c&&a>1&&rs(s,No)?o=A[c]+(a>0?t[a-1]:"")+o:1===c&&a>0&&(o=t[a-1]+o),i=Math.floor(i/10)}return(e<0?n:"")+o},Mo="\u5341\u767e\u5343\u842c",Vo="\u62fe\u4f70\u4edf\u842c",jo="\u30de\u30a4\u30ca\u30b9",Go="\ub9c8\uc774\ub108\uc2a4",Jo=function(e,A,t){var n=t?". ":"",r=t?"\u3001":"",s=t?", ":"",i=t?" ":"";switch(A){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=_o(e,48,57,!0,n);return o.length<4?"0"+o:o;case 4:return Oo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",r);case 6:return xo(e,1,3999,Io,3,n).toLowerCase();case 7:return xo(e,1,3999,Io,3,n);case 8:return _o(e,945,969,!1,n);case 9:return _o(e,97,122,!1,n);case 10:return _o(e,65,90,!1,n);case 11:return _o(e,1632,1641,!0,n);case 12:case 49:return xo(e,1,9999,To,3,n);case 35:return xo(e,1,9999,To,3,n).toLowerCase();case 13:return _o(e,2534,2543,!0,n);case 14:case 30:return _o(e,6112,6121,!0,n);case 15:return Oo(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",r);case 16:return Oo(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",r);case 17:case 48:return Ko(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Mo,"\u8ca0",r,Lo|Po|No);case 47:return Ko(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Vo,"\u8ca0",r,Do|Lo|Po|No);case 42:return Ko(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",Mo,"\u8d1f",r,Lo|Po|No);case 41:return Ko(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Vo,"\u8d1f",r,Do|Lo|Po|No);case 26:return Ko(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",jo,r,0);case 25:return Ko(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",jo,r,Do|Lo|Po);case 31:return Ko(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Go,s,Do|Lo|Po);case 33:return Ko(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Go,s,0);case 32:return Ko(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Go,s,Do|Lo|Po);case 18:return _o(e,2406,2415,!0,n);case 20:return xo(e,1,19999,Ro,3,n);case 21:return _o(e,2790,2799,!0,n);case 22:return _o(e,2662,2671,!0,n);case 22:return xo(e,1,10999,ko,3,n);case 23:return Oo(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return Oo(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return _o(e,3302,3311,!0,n);case 28:return Oo(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",r);case 29:return Oo(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",r);case 34:return _o(e,3792,3801,!0,n);case 37:return _o(e,6160,6169,!0,n);case 38:return _o(e,4160,4169,!0,n);case 39:return _o(e,2918,2927,!0,n);case 40:return _o(e,1776,1785,!0,n);case 43:return _o(e,3046,3055,!0,n);case 44:return _o(e,3174,3183,!0,n);case 45:return _o(e,3664,3673,!0,n);case 46:return _o(e,3872,3881,!0,n);default:return _o(e,48,57,!0,n)}},$o="data-html2canvas-ignore",Wo=function(){function e(e,A,t){if(this.context=e,this.options=t,this.scrolledElements=[],this.referenceElement=A,this.counters=new So,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,A){var t=this,s=Yo(e,A);if(!s.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,a=s.contentWindow,c=a.document,l=zo(s).then((function(){return n(t,void 0,void 0,(function(){var e,t;return r(this,(function(n){switch(n.label){case 0:return this.scrolledElements.forEach(ra),a&&(a.scrollTo(A.left,A.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===A.top&&a.scrollX===A.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-A.left,a.scrollY-A.top,0,0))),e=this.options.onclone,"undefined"===typeof(t=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:n.sent(),n.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(c)]:[3,4];case 3:n.sent(),n.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then((function(){return e(c,t)})).then((function(){return s}))]:[2,s]}}))}))}));return c.open(),c.write(ta(document.doctype)+"<html></html>"),na(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),l},e.prototype.createElementClone=function(e){if(vs(e,2),Bo(e))return this.createCanvasClone(e);if(wo(e))return this.createVideoClone(e);if(bo(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return Co(A)&&(Co(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),"lazy"===A.loading&&(A.loading="eager")),Fo(A)?this.createCustomElementClone(A):A},e.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return Aa(e.style,A),A},e.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var t=[].slice.call(A.cssRules,0).reduce((function(e,A){return A&&"string"===typeof A.cssText?e+A.cssText:e}),""),n=e.cloneNode(!1);return n.textContent=t,n}}catch(DA){if(this.context.logger.error("Unable to access cssRules property",DA),"SecurityError"!==DA.name)throw DA}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch(DA){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var n=e.cloneNode(!1);try{n.width=e.width,n.height=e.height;var r=e.getContext("2d"),s=n.getContext("2d");if(s)if(!this.options.allowTaint&&r)s.putImageData(r.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(A=e.getContext("webgl2"))&&void 0!==A?A:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return n}catch(DA){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return n},e.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var t=A.getContext("2d");try{return t&&(t.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||t.getImageData(0,0,A.width,A.height)),A}catch(DA){this.context.logger.info("Unable to clone video as it is tainted",e)}var n=e.ownerDocument.createElement("canvas");return n.width=e.offsetWidth,n.height=e.offsetHeight,n},e.prototype.appendChildNode=function(e,A,t){ao(A)&&(yo(A)||A.hasAttribute($o)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(A))||this.options.copyStyles&&ao(A)&&bo(A)||e.appendChild(this.cloneNode(A,t))},e.prototype.cloneChildNodes=function(e,A,t){for(var n=this,r=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;r;r=r.nextSibling)if(ao(r)&&Eo(r)&&"function"===typeof r.assignedNodes){var s=r.assignedNodes();s.length&&s.forEach((function(e){return n.appendChildNode(A,e,t)}))}else this.appendChildNode(A,r,t)},e.prototype.cloneNode=function(e,A){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&ao(e)&&(co(e)||lo(e))){var n=this.createElementClone(e);n.style.transitionProperty="none";var r=t.getComputedStyle(e),s=t.getComputedStyle(e,":before"),i=t.getComputedStyle(e,":after");this.referenceElement===e&&co(n)&&(this.clonedReferenceElement=n),mo(n)&&la(n);var o=this.counters.parse(new ms(this.context,r)),a=this.resolvePseudoContent(e,n,s,Gs.BEFORE);Fo(e)&&(A=!0),wo(e)||this.cloneChildNodes(e,n,A),a&&n.insertBefore(a,n.firstChild);var c=this.resolvePseudoContent(e,n,i,Gs.AFTER);return c&&n.appendChild(c),this.counters.pop(o),(r&&(this.options.copyStyles||lo(e))&&!vo(e)||A)&&Aa(r,n),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([n,e.scrollLeft,e.scrollTop]),(Uo(e)||Qo(e))&&(Uo(n)||Qo(n))&&(n.value=e.value),n}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,A,t,n){var r=this;if(t){var s=t.content,i=A.ownerDocument;if(i&&s&&"none"!==s&&"-moz-alt-content"!==s&&"none"!==t.display){this.counters.parse(new ms(this.context,t));var o=new fs(this.context,t),a=i.createElement("html2canvaspseudoelement");Aa(t,a),o.content.forEach((function(A){if(0===A.type)a.appendChild(i.createTextNode(A.value));else if(22===A.type){var t=i.createElement("img");t.src=A.value,t.style.opacity="1",a.appendChild(t)}else if(18===A.type){if("attr"===A.name){var n=A.values.filter(Rt);n.length&&a.appendChild(i.createTextNode(e.getAttribute(n[0].value)||""))}else if("counter"===A.name){var s=A.values.filter(Ot),c=s[0],l=s[1];if(c&&Rt(c)){var u=r.counters.getCounterValue(c.value),d=l&&Rt(l)?Ur.parse(r.context,l.value):3;a.appendChild(i.createTextNode(Jo(u,d,!1)))}}else if("counters"===A.name){var h=A.values.filter(Ot),p=(c=h[0],h[1]);if(l=h[2],c&&Rt(c)){var g=r.counters.getCounterValues(c.value),f=l&&Rt(l)?Ur.parse(r.context,l.value):3,m=p&&0===p.type?p.value:"",B=g.map((function(e){return Jo(e,f,!1)})).join(m);a.appendChild(i.createTextNode(B))}}}else if(20===A.type)switch(A.value){case"open-quote":a.appendChild(i.createTextNode(ls(o.quotes,r.quoteDepth++,!0)));break;case"close-quote":a.appendChild(i.createTextNode(ls(o.quotes,--r.quoteDepth,!1)));break;default:a.appendChild(i.createTextNode(A.value))}})),a.className=oa+" "+aa;var c=n===Gs.BEFORE?" "+oa:" "+aa;return lo(A)?A.className.baseValue+=c:A.className+=c,a}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Gs||(Gs={}));var Xo,Yo=function(e,A){var t=e.createElement("iframe");return t.className="html2canvas-container",t.style.visibility="hidden",t.style.position="fixed",t.style.left="-10000px",t.style.top="0px",t.style.border="0",t.width=A.width.toString(),t.height=A.height.toString(),t.scrolling="no",t.setAttribute($o,"true"),e.body.appendChild(t),t},qo=function(e){return new Promise((function(A){e.complete?A():e.src?(e.onload=A,e.onerror=A):A()}))},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(qo))},zo=function(e){return new Promise((function(A,t){var n=e.contentWindow;if(!n)return t("No window assigned for iframe");var r=n.document;n.onload=e.onload=function(){n.onload=e.onload=null;var t=setInterval((function(){r.body.childNodes.length>0&&"complete"===r.readyState&&(clearInterval(t),A(e))}),50)}}))},ea=["all","d","content"],Aa=function(e,A){for(var t=e.length-1;t>=0;t--){var n=e.item(t);-1===ea.indexOf(n)&&A.style.setProperty(n,e.getPropertyValue(n))}return A},ta=function(e){var A="";return e&&(A+="<!DOCTYPE ",e.name&&(A+=e.name),e.internalSubset&&(A+=e.internalSubset),e.publicId&&(A+='"'+e.publicId+'"'),e.systemId&&(A+='"'+e.systemId+'"'),A+=">"),A},na=function(e,A,t){e&&e.defaultView&&(A!==e.defaultView.pageXOffset||t!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(A,t)},ra=function(e){var A=e[0],t=e[1],n=e[2];A.scrollLeft=t,A.scrollTop=n},sa=":before",ia=":after",oa="___html2canvas___pseudoelement_before",aa="___html2canvas___pseudoelement_after",ca='{\n    content: "" !important;\n    display: none !important;\n}',la=function(e){ua(e,"."+oa+sa+ca+"\n         ."+aa+ia+ca)},ua=function(e,A){var t=e.ownerDocument;if(t){var n=t.createElement("style");n.textContent=A,e.appendChild(n)}},da=function(){function e(){}return e.getOrigin=function(A){var t=e._link;return t?(t.href=A,t.href=t.href,t.protocol+t.hostname+t.port):"about:blank"},e.isSameOrigin=function(A){return e.getOrigin(A)===e._origin},e.setContext=function(A){e._link=A.document.createElement("a"),e._origin=e.getOrigin(A.location.href)},e._origin="about:blank",e}(),ha=function(){function e(e,A){this.context=e,this._options=A,this._cache={}}return e.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)?A:Ca(e)||ma(e)?((this._cache[e]=this.loadImage(e)).catch((function(){})),A):A},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return n(this,void 0,void 0,(function(){var A,t,n,s,i=this;return r(this,(function(r){switch(r.label){case 0:return A=da.isSameOrigin(e),t=!Ba(e)&&!0===this._options.useCORS&&Ui.SUPPORT_CORS_IMAGES&&!A,n=!Ba(e)&&!A&&!Ca(e)&&"string"===typeof this._options.proxy&&Ui.SUPPORT_CORS_XHR&&!t,A||!1!==this._options.allowTaint||Ba(e)||Ca(e)||n||t?(s=e,n?[4,this.proxy(s)]:[3,2]):[2];case 1:s=r.sent(),r.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise((function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,(wa(s)||t)&&(n.crossOrigin="anonymous"),n.src=s,!0===n.complete&&setTimeout((function(){return e(n)}),500),i._options.imageTimeout>0&&setTimeout((function(){return A("Timed out ("+i._options.imageTimeout+"ms) loading image")}),i._options.imageTimeout)}))];case 3:return[2,r.sent()]}}))}))},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var A=this,t=this._options.proxy;if(!t)throw new Error("No proxy defined");var n=e.substring(0,256);return new Promise((function(r,s){var i=Ui.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)r(o.response);else{var e=new FileReader;e.addEventListener("load",(function(){return r(e.result)}),!1),e.addEventListener("error",(function(e){return s(e)}),!1),e.readAsDataURL(o.response)}else s("Failed to proxy resource "+n+" with status code "+o.status)},o.onerror=s;var a=t.indexOf("?")>-1?"&":"?";if(o.open("GET",""+t+a+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),A._options.imageTimeout){var c=A._options.imageTimeout;o.timeout=c,o.ontimeout=function(){return s("Timed out ("+c+"ms) proxying "+n)}}o.send()}))},e}(),pa=/^data:image\/svg\+xml/i,ga=/^data:image\/.*;base64,/i,fa=/^data:image\/.*/i,ma=function(e){return Ui.SUPPORT_SVG_DRAWING||!va(e)},Ba=function(e){return fa.test(e)},wa=function(e){return ga.test(e)},Ca=function(e){return"blob"===e.substr(0,4)},va=function(e){return"svg"===e.substr(-3).toLowerCase()||pa.test(e)},ba=function(){function e(e,A){this.type=0,this.x=e,this.y=A}return e.prototype.add=function(A,t){return new e(this.x+A,this.y+t)},e}(),ya=function(e,A,t){return new ba(e.x+(A.x-e.x)*t,e.y+(A.y-e.y)*t)},Ua=function(){function e(e,A,t,n){this.type=1,this.start=e,this.startControl=A,this.endControl=t,this.end=n}return e.prototype.subdivide=function(A,t){var n=ya(this.start,this.startControl,A),r=ya(this.startControl,this.endControl,A),s=ya(this.endControl,this.end,A),i=ya(n,r,A),o=ya(r,s,A),a=ya(i,o,A);return t?new e(this.start,n,i,a):new e(a,o,s,this.end)},e.prototype.add=function(A,t){return new e(this.start.add(A,t),this.startControl.add(A,t),this.endControl.add(A,t),this.end.add(A,t))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),Qa=function(e){return 1===e.type},Ea=function(){function e(e){var A=e.styles,t=e.bounds,n=Gt(A.borderTopLeftRadius,t.width,t.height),r=n[0],s=n[1],i=Gt(A.borderTopRightRadius,t.width,t.height),o=i[0],a=i[1],c=Gt(A.borderBottomRightRadius,t.width,t.height),l=c[0],u=c[1],d=Gt(A.borderBottomLeftRadius,t.width,t.height),h=d[0],p=d[1],g=[];g.push((r+o)/t.width),g.push((h+l)/t.width),g.push((s+p)/t.height),g.push((a+u)/t.height);var f=Math.max.apply(Math,g);f>1&&(r/=f,s/=f,o/=f,a/=f,l/=f,u/=f,h/=f,p/=f);var m=t.width-o,B=t.height-u,w=t.width-l,C=t.height-p,v=A.borderTopWidth,b=A.borderRightWidth,y=A.borderBottomWidth,U=A.borderLeftWidth,Q=Jt(A.paddingTop,e.bounds.width),E=Jt(A.paddingRight,e.bounds.width),F=Jt(A.paddingBottom,e.bounds.width),S=Jt(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=r>0||s>0?Fa(t.left+U/3,t.top+v/3,r-U/3,s-v/3,Xo.TOP_LEFT):new ba(t.left+U/3,t.top+v/3),this.topRightBorderDoubleOuterBox=r>0||s>0?Fa(t.left+m,t.top+v/3,o-b/3,a-v/3,Xo.TOP_RIGHT):new ba(t.left+t.width-b/3,t.top+v/3),this.bottomRightBorderDoubleOuterBox=l>0||u>0?Fa(t.left+w,t.top+B,l-b/3,u-y/3,Xo.BOTTOM_RIGHT):new ba(t.left+t.width-b/3,t.top+t.height-y/3),this.bottomLeftBorderDoubleOuterBox=h>0||p>0?Fa(t.left+U/3,t.top+C,h-U/3,p-y/3,Xo.BOTTOM_LEFT):new ba(t.left+U/3,t.top+t.height-y/3),this.topLeftBorderDoubleInnerBox=r>0||s>0?Fa(t.left+2*U/3,t.top+2*v/3,r-2*U/3,s-2*v/3,Xo.TOP_LEFT):new ba(t.left+2*U/3,t.top+2*v/3),this.topRightBorderDoubleInnerBox=r>0||s>0?Fa(t.left+m,t.top+2*v/3,o-2*b/3,a-2*v/3,Xo.TOP_RIGHT):new ba(t.left+t.width-2*b/3,t.top+2*v/3),this.bottomRightBorderDoubleInnerBox=l>0||u>0?Fa(t.left+w,t.top+B,l-2*b/3,u-2*y/3,Xo.BOTTOM_RIGHT):new ba(t.left+t.width-2*b/3,t.top+t.height-2*y/3),this.bottomLeftBorderDoubleInnerBox=h>0||p>0?Fa(t.left+2*U/3,t.top+C,h-2*U/3,p-2*y/3,Xo.BOTTOM_LEFT):new ba(t.left+2*U/3,t.top+t.height-2*y/3),this.topLeftBorderStroke=r>0||s>0?Fa(t.left+U/2,t.top+v/2,r-U/2,s-v/2,Xo.TOP_LEFT):new ba(t.left+U/2,t.top+v/2),this.topRightBorderStroke=r>0||s>0?Fa(t.left+m,t.top+v/2,o-b/2,a-v/2,Xo.TOP_RIGHT):new ba(t.left+t.width-b/2,t.top+v/2),this.bottomRightBorderStroke=l>0||u>0?Fa(t.left+w,t.top+B,l-b/2,u-y/2,Xo.BOTTOM_RIGHT):new ba(t.left+t.width-b/2,t.top+t.height-y/2),this.bottomLeftBorderStroke=h>0||p>0?Fa(t.left+U/2,t.top+C,h-U/2,p-y/2,Xo.BOTTOM_LEFT):new ba(t.left+U/2,t.top+t.height-y/2),this.topLeftBorderBox=r>0||s>0?Fa(t.left,t.top,r,s,Xo.TOP_LEFT):new ba(t.left,t.top),this.topRightBorderBox=o>0||a>0?Fa(t.left+m,t.top,o,a,Xo.TOP_RIGHT):new ba(t.left+t.width,t.top),this.bottomRightBorderBox=l>0||u>0?Fa(t.left+w,t.top+B,l,u,Xo.BOTTOM_RIGHT):new ba(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=h>0||p>0?Fa(t.left,t.top+C,h,p,Xo.BOTTOM_LEFT):new ba(t.left,t.top+t.height),this.topLeftPaddingBox=r>0||s>0?Fa(t.left+U,t.top+v,Math.max(0,r-U),Math.max(0,s-v),Xo.TOP_LEFT):new ba(t.left+U,t.top+v),this.topRightPaddingBox=o>0||a>0?Fa(t.left+Math.min(m,t.width-b),t.top+v,m>t.width+b?0:Math.max(0,o-b),Math.max(0,a-v),Xo.TOP_RIGHT):new ba(t.left+t.width-b,t.top+v),this.bottomRightPaddingBox=l>0||u>0?Fa(t.left+Math.min(w,t.width-U),t.top+Math.min(B,t.height-y),Math.max(0,l-b),Math.max(0,u-y),Xo.BOTTOM_RIGHT):new ba(t.left+t.width-b,t.top+t.height-y),this.bottomLeftPaddingBox=h>0||p>0?Fa(t.left+U,t.top+Math.min(C,t.height-y),Math.max(0,h-U),Math.max(0,p-y),Xo.BOTTOM_LEFT):new ba(t.left+U,t.top+t.height-y),this.topLeftContentBox=r>0||s>0?Fa(t.left+U+S,t.top+v+Q,Math.max(0,r-(U+S)),Math.max(0,s-(v+Q)),Xo.TOP_LEFT):new ba(t.left+U+S,t.top+v+Q),this.topRightContentBox=o>0||a>0?Fa(t.left+Math.min(m,t.width+U+S),t.top+v+Q,m>t.width+U+S?0:o-U+S,a-(v+Q),Xo.TOP_RIGHT):new ba(t.left+t.width-(b+E),t.top+v+Q),this.bottomRightContentBox=l>0||u>0?Fa(t.left+Math.min(w,t.width-(U+S)),t.top+Math.min(B,t.height+v+Q),Math.max(0,l-(b+E)),u-(y+F),Xo.BOTTOM_RIGHT):new ba(t.left+t.width-(b+E),t.top+t.height-(y+F)),this.bottomLeftContentBox=h>0||p>0?Fa(t.left+U+S,t.top+C,Math.max(0,h-(U+S)),p-(y+F),Xo.BOTTOM_LEFT):new ba(t.left+U+S,t.top+t.height-(y+F))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Xo||(Xo={}));var Fa=function(e,A,t,n,r){var s=(Math.sqrt(2)-1)/3*4,i=t*s,o=n*s,a=e+t,c=A+n;switch(r){case Xo.TOP_LEFT:return new Ua(new ba(e,c),new ba(e,c-o),new ba(a-i,A),new ba(a,A));case Xo.TOP_RIGHT:return new Ua(new ba(e,A),new ba(e+i,A),new ba(a,c-o),new ba(a,c));case Xo.BOTTOM_RIGHT:return new Ua(new ba(a,A),new ba(a,A+o),new ba(e+i,c),new ba(e,c));case Xo.BOTTOM_LEFT:default:return new Ua(new ba(a,c),new ba(a-i,c),new ba(e,A+o),new ba(e,A))}},Sa=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Ia=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},Ta=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},ka=function(){function e(e,A,t){this.offsetX=e,this.offsetY=A,this.matrix=t,this.type=0,this.target=6}return e}(),Ra=function(){function e(e,A){this.path=e,this.target=A,this.type=1}return e}(),xa=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Ha=function(e){return 0===e.type},_a=function(e){return 1===e.type},Oa=function(e){return 2===e.type},Da=function(e,A){return e.length===A.length&&e.some((function(e,t){return e===A[t]}))},La=function(e,A,t,n,r){return e.map((function(e,s){switch(s){case 0:return e.add(A,t);case 1:return e.add(A+n,t);case 2:return e.add(A+n,t+r);case 3:return e.add(A,t+r)}return e}))},Pa=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Na=function(){function e(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new Ea(this.container),this.container.styles.opacity<1&&this.effects.push(new xa(this.container.styles.opacity)),null!==this.container.styles.transform){var t=this.container.bounds.left+this.container.styles.transformOrigin[0].number,n=this.container.bounds.top+this.container.styles.transformOrigin[1].number,r=this.container.styles.transform;this.effects.push(new ka(t,n,r))}if(0!==this.container.styles.overflowX){var s=Sa(this.curves),i=Ta(this.curves);Da(s,i)?this.effects.push(new Ra(s,6)):(this.effects.push(new Ra(s,2)),this.effects.push(new Ra(i,4)))}}return e.prototype.getEffects=function(e){for(var A=-1===[2,3].indexOf(this.container.styles.position),t=this.parent,n=this.effects.slice(0);t;){var r=t.effects.filter((function(e){return!_a(e)}));if(A||0!==t.container.styles.position||!t.parent){if(n.unshift.apply(n,r),A=-1===[2,3].indexOf(t.container.styles.position),0!==t.container.styles.overflowX){var s=Sa(t.curves),i=Ta(t.curves);Da(s,i)||n.unshift(new Ra(i,6))}}else n.unshift.apply(n,r);t=t.parent}return n.filter((function(A){return rs(A.target,e)}))},e}(),Ka=function(e,A,t,n){e.container.elements.forEach((function(r){var s=rs(r.flags,4),i=rs(r.flags,2),o=new Na(r,e);rs(r.styles.display,2048)&&n.push(o);var a=rs(r.flags,8)?[]:n;if(s||i){var c=s||r.styles.isPositioned()?t:A,l=new Pa(o);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var u=r.styles.zIndex.order;if(u<0){var d=0;c.negativeZIndex.some((function(e,A){return u>e.element.container.styles.zIndex.order?(d=A,!1):d>0})),c.negativeZIndex.splice(d,0,l)}else if(u>0){var h=0;c.positiveZIndex.some((function(e,A){return u>=e.element.container.styles.zIndex.order?(h=A+1,!1):h>0})),c.positiveZIndex.splice(h,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);Ka(o,l,s?l:t,a)}else r.styles.isInlineLevel()?A.inlineLevel.push(o):A.nonInlineLevel.push(o),Ka(o,A,t,a);rs(r.flags,8)&&Ma(r,a)}))},Ma=function(e,A){for(var t=e instanceof Mi?e.start:1,n=e instanceof Mi&&e.reversed,r=0;r<A.length;r++){var s=A[r];s.container instanceof Ki&&"number"===typeof s.container.value&&0!==s.container.value&&(t=s.container.value),s.listValue=Jo(t,s.container.styles.listStyleType,!0),t+=n?-1:1}},Va=function(e){var A=new Na(e,null),t=new Pa(A),n=[];return Ka(A,t,t,n),Ma(A.container,n),t},ja=function(e,A){switch(A){case 0:return Xa(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Ga=function(e,A){switch(A){case 0:return Xa(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Xa(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Xa(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Xa(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Ja=function(e,A){switch(A){case 0:return Xa(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Xa(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Xa(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Xa(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},$a=function(e,A){switch(A){case 0:return Wa(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Wa(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Wa(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Wa(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Wa=function(e,A){var t=[];return Qa(e)?t.push(e.subdivide(.5,!1)):t.push(e),Qa(A)?t.push(A.subdivide(.5,!0)):t.push(A),t},Xa=function(e,A,t,n){var r=[];return Qa(e)?r.push(e.subdivide(.5,!1)):r.push(e),Qa(t)?r.push(t.subdivide(.5,!0)):r.push(t),Qa(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),Qa(A)?r.push(A.subdivide(.5,!1).reverse()):r.push(A),r},Ya=function(e){var A=e.bounds,t=e.styles;return A.add(t.borderLeftWidth,t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth),-(t.borderTopWidth+t.borderBottomWidth))},qa=function(e){var A=e.styles,t=e.bounds,n=Jt(A.paddingLeft,t.width),r=Jt(A.paddingRight,t.width),s=Jt(A.paddingTop,t.width),i=Jt(A.paddingBottom,t.width);return t.add(n+A.borderLeftWidth,s+A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth+n+r),-(A.borderTopWidth+A.borderBottomWidth+s+i))},Za=function(e,A){return 0===e?A.bounds:2===e?qa(A):Ya(A)},za=function(e,A){return 0===e?A.bounds:2===e?qa(A):Ya(A)},ec=function(e,A,t){var n=Za(rc(e.styles.backgroundOrigin,A),e),r=za(rc(e.styles.backgroundClip,A),e),s=nc(rc(e.styles.backgroundSize,A),t,n),i=s[0],o=s[1],a=Gt(rc(e.styles.backgroundPosition,A),n.width-i,n.height-o);return[sc(rc(e.styles.backgroundRepeat,A),a,s,n,r),Math.round(n.left+a[0]),Math.round(n.top+a[1]),i,o]},Ac=function(e){return Rt(e)&&e.value===On.AUTO},tc=function(e){return"number"===typeof e},nc=function(e,A,t){var n=A[0],r=A[1],s=A[2],i=e[0],o=e[1];if(!i)return[0,0];if(Nt(i)&&o&&Nt(o))return[Jt(i,t.width),Jt(o,t.height)];var a=tc(s);if(Rt(i)&&(i.value===On.CONTAIN||i.value===On.COVER))return tc(s)?t.width/t.height<s!==(i.value===On.COVER)?[t.width,t.width/s]:[t.height*s,t.height]:[t.width,t.height];var c=tc(n),l=tc(r),u=c||l;if(Ac(i)&&(!o||Ac(o)))return c&&l?[n,r]:a||u?u&&a?[c?n:r*s,l?r:n/s]:[c?n:t.width,l?r:t.height]:[t.width,t.height];if(a){var d=0,h=0;return Nt(i)?d=Jt(i,t.width):Nt(o)&&(h=Jt(o,t.height)),Ac(i)?d=h*s:o&&!Ac(o)||(h=d/s),[d,h]}var p=null,g=null;if(Nt(i)?p=Jt(i,t.width):o&&Nt(o)&&(g=Jt(o,t.height)),null===p||o&&!Ac(o)||(g=c&&l?p/n*r:t.height),null!==g&&Ac(i)&&(p=c&&l?g/r*n:t.width),null!==p&&null!==g)return[p,g];throw new Error("Unable to calculate background-size for element")},rc=function(e,A){var t=e[A];return"undefined"===typeof t?e[0]:t},sc=function(e,A,t,n,r){var s=A[0],i=A[1],o=t[0],a=t[1];switch(e){case 2:return[new ba(Math.round(n.left),Math.round(n.top+i)),new ba(Math.round(n.left+n.width),Math.round(n.top+i)),new ba(Math.round(n.left+n.width),Math.round(a+n.top+i)),new ba(Math.round(n.left),Math.round(a+n.top+i))];case 3:return[new ba(Math.round(n.left+s),Math.round(n.top)),new ba(Math.round(n.left+s+o),Math.round(n.top)),new ba(Math.round(n.left+s+o),Math.round(n.height+n.top)),new ba(Math.round(n.left+s),Math.round(n.height+n.top))];case 1:return[new ba(Math.round(n.left+s),Math.round(n.top+i)),new ba(Math.round(n.left+s+o),Math.round(n.top+i)),new ba(Math.round(n.left+s+o),Math.round(n.top+i+a)),new ba(Math.round(n.left+s),Math.round(n.top+i+a))];default:return[new ba(Math.round(r.left),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.top)),new ba(Math.round(r.left+r.width),Math.round(r.height+r.top)),new ba(Math.round(r.left),Math.round(r.height+r.top))]}},ic="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oc="Hidden Text",ac=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,A){var t=this._document.createElement("div"),n=this._document.createElement("img"),r=this._document.createElement("span"),s=this._document.body;t.style.visibility="hidden",t.style.fontFamily=e,t.style.fontSize=A,t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",s.appendChild(t),n.src=ic,n.width=1,n.height=1,n.style.margin="0",n.style.padding="0",n.style.verticalAlign="baseline",r.style.fontFamily=e,r.style.fontSize=A,r.style.margin="0",r.style.padding="0",r.appendChild(this._document.createTextNode(oc)),t.appendChild(r),t.appendChild(n);var i=n.offsetTop-r.offsetTop+2;t.removeChild(r),t.appendChild(this._document.createTextNode(oc)),t.style.lineHeight="normal",n.style.verticalAlign="super";var o=n.offsetTop-t.offsetTop+2;return s.removeChild(t),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,A){var t=e+" "+A;return"undefined"===typeof this._data[t]&&(this._data[t]=this.parseMetrics(e,A)),this._data[t]},e}(),cc=function(){function e(e,A){this.context=e,this.options=A}return e}(),lc=1e4,uc=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n._activeEffects=[],n.canvas=t.canvas?t.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),t.canvas||(n.canvas.width=Math.floor(t.width*t.scale),n.canvas.height=Math.floor(t.height*t.scale),n.canvas.style.width=t.width+"px",n.canvas.style.height=t.height+"px"),n.fontMetrics=new ac(document),n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-t.x,-t.y),n.ctx.textBaseline="bottom",n._activeEffects=[],n.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),n}return A(t,e),t.prototype.applyEffects=function(e){for(var A=this;this._activeEffects.length;)this.popEffect();e.forEach((function(e){return A.applyEffect(e)}))},t.prototype.applyEffect=function(e){this.ctx.save(),Oa(e)&&(this.ctx.globalAlpha=e.opacity),Ha(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),_a(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},t.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},t.prototype.renderStack=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(A){switch(A.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:A.sent(),A.label=2;case 2:return[2]}}))}))},t.prototype.renderNode=function(e){return n(this,void 0,void 0,(function(){return r(this,(function(A){switch(A.label){case 0:return rs(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return A.sent(),[4,this.renderNodeContent(e)];case 2:A.sent(),A.label=3;case 3:return[2]}}))}))},t.prototype.renderTextWithLetterSpacing=function(e,A,t){var n=this;0===A?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+t):Ii(e.text).reduce((function(A,r){return n.ctx.fillText(r,A,e.bounds.top+t),A+n.ctx.measureText(r).width}),e.bounds.left)},t.prototype.createFontStyle=function(e){var A=e.fontVariant.filter((function(e){return"normal"===e||"small-caps"===e})).join(""),t=fc(e.fontFamily).join(", "),n=Tt(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,A,e.fontWeight,n,t].join(" "),t,n]},t.prototype.renderTextNode=function(e,A){return n(this,void 0,void 0,(function(){var t,n,s,i,o,a,c,l,u=this;return r(this,(function(r){return t=this.createFontStyle(A),n=t[0],s=t[1],i=t[2],this.ctx.font=n,this.ctx.direction=1===A.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,i),a=o.baseline,c=o.middle,l=A.paintOrder,e.textBounds.forEach((function(e){l.forEach((function(t){switch(t){case 0:u.ctx.fillStyle=nn(A.color),u.renderTextWithLetterSpacing(e,A.letterSpacing,a);var n=A.textShadow;n.length&&e.text.trim().length&&(n.slice(0).reverse().forEach((function(t){u.ctx.shadowColor=nn(t.color),u.ctx.shadowOffsetX=t.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=t.offsetY.number*u.options.scale,u.ctx.shadowBlur=t.blur.number,u.renderTextWithLetterSpacing(e,A.letterSpacing,a)})),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),A.textDecorationLine.length&&(u.ctx.fillStyle=nn(A.textDecorationColor||A.color),A.textDecorationLine.forEach((function(A){switch(A){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+a),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}})));break;case 1:A.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=nn(A.webkitTextStrokeColor),u.ctx.lineWidth=A.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+a)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}}))})),[2]}))}))},t.prototype.renderReplacedElement=function(e,A,t){if(t&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var n=qa(e),r=Ta(A);this.path(r),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(t,0,0,e.intrinsicWidth,e.intrinsicHeight,n.left,n.top,n.width,n.height),this.ctx.restore()}},t.prototype.renderNodeContent=function(e){return n(this,void 0,void 0,(function(){var A,n,s,o,a,c,l,u,d,h,p,g,f,m,B,w,C,v;return r(this,(function(r){switch(r.label){case 0:this.applyEffects(e.getEffects(4)),A=e.container,n=e.curves,s=A.styles,o=0,a=A.textNodes,r.label=1;case 1:return o<a.length?(c=a[o],[4,this.renderTextNode(c,s)]):[3,4];case 2:r.sent(),r.label=3;case 3:return o++,[3,1];case 4:if(!(A instanceof Li))return[3,8];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.context.cache.match(A.src)];case 6:return B=r.sent(),this.renderReplacedElement(A,n,B),[3,8];case 7:return r.sent(),this.context.logger.error("Error loading image "+A.src),[3,8];case 8:if(A instanceof Pi&&this.renderReplacedElement(A,n,A.canvas),!(A instanceof Ni))return[3,12];r.label=9;case 9:return r.trys.push([9,11,,12]),[4,this.context.cache.match(A.svg)];case 10:return B=r.sent(),this.renderReplacedElement(A,n,B),[3,12];case 11:return r.sent(),this.context.logger.error("Error loading svg "+A.svg.substring(0,255)),[3,12];case 12:return A instanceof eo&&A.tree?[4,new t(this.context,{scale:this.options.scale,backgroundColor:A.backgroundColor,x:0,y:0,width:A.width,height:A.height}).render(A.tree)]:[3,14];case 13:l=r.sent(),A.width&&A.height&&this.ctx.drawImage(l,0,0,A.width,A.height,A.bounds.left,A.bounds.top,A.bounds.width,A.bounds.height),r.label=14;case 14:if(A instanceof qi&&(u=Math.min(A.bounds.width,A.bounds.height),A.type===$i?A.checked&&(this.ctx.save(),this.path([new ba(A.bounds.left+.39363*u,A.bounds.top+.79*u),new ba(A.bounds.left+.16*u,A.bounds.top+.5549*u),new ba(A.bounds.left+.27347*u,A.bounds.top+.44071*u),new ba(A.bounds.left+.39694*u,A.bounds.top+.5649*u),new ba(A.bounds.left+.72983*u,A.bounds.top+.23*u),new ba(A.bounds.left+.84*u,A.bounds.top+.34085*u),new ba(A.bounds.left+.39363*u,A.bounds.top+.79*u)]),this.ctx.fillStyle=nn(Yi),this.ctx.fill(),this.ctx.restore()):A.type===Wi&&A.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(A.bounds.left+u/2,A.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=nn(Yi),this.ctx.fill(),this.ctx.restore())),dc(A)&&A.value.length){switch(d=this.createFontStyle(s),C=d[0],h=d[1],p=this.fontMetrics.getMetrics(C,h).baseline,this.ctx.font=C,this.ctx.fillStyle=nn(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=pc(A.styles.textAlign),v=qa(A),g=0,A.styles.textAlign){case 1:g+=v.width/2;break;case 2:g+=v.width}f=v.add(g,0,0,-v.height/2+1),this.ctx.save(),this.path([new ba(v.left,v.top),new ba(v.left+v.width,v.top),new ba(v.left+v.width,v.top+v.height),new ba(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Qi(A.value,f),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!rs(A.styles.display,2048))return[3,20];if(null===A.styles.listStyleImage)return[3,19];if(0!==(m=A.styles.listStyleImage).type)return[3,18];B=void 0,w=m.url,r.label=15;case 15:return r.trys.push([15,17,,18]),[4,this.context.cache.match(w)];case 16:return B=r.sent(),this.ctx.drawImage(B,A.bounds.left-(B.width+10),A.bounds.top),[3,18];case 17:return r.sent(),this.context.logger.error("Error loading list-style-image "+w),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==A.styles.listStyleType&&(C=this.createFontStyle(s)[0],this.ctx.font=C,this.ctx.fillStyle=nn(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new i(A.bounds.left,A.bounds.top+Jt(A.styles.paddingTop,A.bounds.width),A.bounds.width,vr(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Qi(e.listValue,v),s.letterSpacing,vr(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),r.label=20;case 20:return[2]}}))}))},t.prototype.renderStackContent=function(e){return n(this,void 0,void 0,(function(){var A,t,n,s,i,o,a,c,l,u,d,h,p,g,f;return r(this,(function(r){switch(r.label){case 0:return rs(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:r.sent(),A=0,t=e.negativeZIndex,r.label=2;case 2:return A<t.length?(f=t[A],[4,this.renderStack(f)]):[3,5];case 3:r.sent(),r.label=4;case 4:return A++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:r.sent(),n=0,s=e.nonInlineLevel,r.label=7;case 7:return n<s.length?(f=s[n],[4,this.renderNode(f)]):[3,10];case 8:r.sent(),r.label=9;case 9:return n++,[3,7];case 10:i=0,o=e.nonPositionedFloats,r.label=11;case 11:return i<o.length?(f=o[i],[4,this.renderStack(f)]):[3,14];case 12:r.sent(),r.label=13;case 13:return i++,[3,11];case 14:a=0,c=e.nonPositionedInlineLevel,r.label=15;case 15:return a<c.length?(f=c[a],[4,this.renderStack(f)]):[3,18];case 16:r.sent(),r.label=17;case 17:return a++,[3,15];case 18:l=0,u=e.inlineLevel,r.label=19;case 19:return l<u.length?(f=u[l],[4,this.renderNode(f)]):[3,22];case 20:r.sent(),r.label=21;case 21:return l++,[3,19];case 22:d=0,h=e.zeroOrAutoZIndexOrTransformedOrOpacity,r.label=23;case 23:return d<h.length?(f=h[d],[4,this.renderStack(f)]):[3,26];case 24:r.sent(),r.label=25;case 25:return d++,[3,23];case 26:p=0,g=e.positiveZIndex,r.label=27;case 27:return p<g.length?(f=g[p],[4,this.renderStack(f)]):[3,30];case 28:r.sent(),r.label=29;case 29:return p++,[3,27];case 30:return[2]}}))}))},t.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},t.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},t.prototype.formatPath=function(e){var A=this;e.forEach((function(e,t){var n=Qa(e)?e.start:e;0===t?A.ctx.moveTo(n.x,n.y):A.ctx.lineTo(n.x,n.y),Qa(e)&&A.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}))},t.prototype.renderRepeat=function(e,A,t,n){this.path(e),this.ctx.fillStyle=A,this.ctx.translate(t,n),this.ctx.fill(),this.ctx.translate(-t,-n)},t.prototype.resizeImage=function(e,A,t){var n;if(e.width===A&&e.height===t)return e;var r=(null!==(n=this.canvas.ownerDocument)&&void 0!==n?n:document).createElement("canvas");return r.width=Math.max(1,A),r.height=Math.max(1,t),r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,A,t),r},t.prototype.renderBackgroundImage=function(e){return n(this,void 0,void 0,(function(){var A,t,n,s,i,o;return r(this,(function(a){switch(a.label){case 0:A=e.styles.backgroundImage.length-1,t=function(t){var s,i,o,a,c,l,u,d,h,p,g,f,m,B,w,C,v,b,y,U,Q,E,F,S,I,T,k,R,x,H,_;return r(this,(function(r){switch(r.label){case 0:if(0!==t.type)return[3,5];s=void 0,i=t.url,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.context.cache.match(i)];case 2:return s=r.sent(),[3,4];case 3:return r.sent(),n.context.logger.error("Error loading background-image "+i),[3,4];case 4:return s&&(o=ec(e,A,[s.width,s.height,s.width/s.height]),C=o[0],E=o[1],F=o[2],y=o[3],U=o[4],B=n.ctx.createPattern(n.resizeImage(s,y,U),"repeat"),n.renderRepeat(C,B,E,F)),[3,6];case 5:Rn(t)?(a=ec(e,A,[null,null,null]),C=a[0],E=a[1],F=a[2],y=a[3],U=a[4],c=Bn(t.angle,y,U),l=c[0],u=c[1],d=c[2],h=c[3],p=c[4],(g=document.createElement("canvas")).width=y,g.height=U,f=g.getContext("2d"),m=f.createLinearGradient(u,h,d,p),fn(t.stops,l).forEach((function(e){return m.addColorStop(e.stop,nn(e.color))})),f.fillStyle=m,f.fillRect(0,0,y,U),y>0&&U>0&&(B=n.ctx.createPattern(g,"repeat"),n.renderRepeat(C,B,E,F))):xn(t)&&(w=ec(e,A,[null,null,null]),C=w[0],v=w[1],b=w[2],y=w[3],U=w[4],Q=0===t.position.length?[Vt]:t.position,E=Jt(Q[0],y),F=Jt(Q[Q.length-1],U),S=vn(t,E,F,y,U),I=S[0],T=S[1],I>0&&T>0&&(k=n.ctx.createRadialGradient(v+E,b+F,0,v+E,b+F,I),fn(t.stops,2*I).forEach((function(e){return k.addColorStop(e.stop,nn(e.color))})),n.path(C),n.ctx.fillStyle=k,I!==T?(R=e.bounds.left+.5*e.bounds.width,x=e.bounds.top+.5*e.bounds.height,_=1/(H=T/I),n.ctx.save(),n.ctx.translate(R,x),n.ctx.transform(1,0,0,H,0,0),n.ctx.translate(-R,-x),n.ctx.fillRect(v,_*(b-x)+x,y,U*_),n.ctx.restore()):n.ctx.fill())),r.label=6;case 6:return A--,[2]}}))},n=this,s=0,i=e.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return s<i.length?(o=i[s],[5,t(o)]):[3,4];case 2:a.sent(),a.label=3;case 3:return s++,[3,1];case 4:return[2]}}))}))},t.prototype.renderSolidBorder=function(e,A,t){return n(this,void 0,void 0,(function(){return r(this,(function(n){return this.path(ja(t,A)),this.ctx.fillStyle=nn(e),this.ctx.fill(),[2]}))}))},t.prototype.renderDoubleBorder=function(e,A,t,s){return n(this,void 0,void 0,(function(){var n,i;return r(this,(function(r){switch(r.label){case 0:return A<3?[4,this.renderSolidBorder(e,t,s)]:[3,2];case 1:return r.sent(),[2];case 2:return n=Ga(s,t),this.path(n),this.ctx.fillStyle=nn(e),this.ctx.fill(),i=Ja(s,t),this.path(i),this.ctx.fill(),[2]}}))}))},t.prototype.renderNodeBackgroundAndBorders=function(e){return n(this,void 0,void 0,(function(){var A,t,n,s,i,o,a,c,l=this;return r(this,(function(r){switch(r.label){case 0:return this.applyEffects(e.getEffects(2)),A=e.container.styles,t=!tn(A.backgroundColor)||A.backgroundImage.length,n=[{style:A.borderTopStyle,color:A.borderTopColor,width:A.borderTopWidth},{style:A.borderRightStyle,color:A.borderRightColor,width:A.borderRightWidth},{style:A.borderBottomStyle,color:A.borderBottomColor,width:A.borderBottomWidth},{style:A.borderLeftStyle,color:A.borderLeftColor,width:A.borderLeftWidth}],s=hc(rc(A.backgroundClip,0),e.curves),t||A.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),tn(A.backgroundColor)||(this.ctx.fillStyle=nn(A.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:r.sent(),this.ctx.restore(),A.boxShadow.slice(0).reverse().forEach((function(A){l.ctx.save();var t=Sa(e.curves),n=A.inset?0:lc,r=La(t,-n+(A.inset?1:-1)*A.spread.number,(A.inset?1:-1)*A.spread.number,A.spread.number*(A.inset?-2:2),A.spread.number*(A.inset?-2:2));A.inset?(l.path(t),l.ctx.clip(),l.mask(r)):(l.mask(t),l.ctx.clip(),l.path(r)),l.ctx.shadowOffsetX=A.offsetX.number+n,l.ctx.shadowOffsetY=A.offsetY.number,l.ctx.shadowColor=nn(A.color),l.ctx.shadowBlur=A.blur.number,l.ctx.fillStyle=A.inset?nn(A.color):"rgba(0,0,0,1)",l.ctx.fill(),l.ctx.restore()})),r.label=2;case 2:i=0,o=0,a=n,r.label=3;case 3:return o<a.length?0!==(c=a[o]).style&&!tn(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return r.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,i,e.curves,3)];case 6:return r.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,i,e.curves)];case 8:return r.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,i,e.curves)];case 10:r.sent(),r.label=11;case 11:i++,r.label=12;case 12:return o++,[3,3];case 13:return[2]}}))}))},t.prototype.renderDashedDottedBorder=function(e,A,t,s,i){return n(this,void 0,void 0,(function(){var n,o,a,c,l,u,d,h,p,g,f,m,B,w,C,v;return r(this,(function(r){return this.ctx.save(),n=$a(s,t),o=ja(s,t),2===i&&(this.path(o),this.ctx.clip()),Qa(o[0])?(a=o[0].start.x,c=o[0].start.y):(a=o[0].x,c=o[0].y),Qa(o[1])?(l=o[1].end.x,u=o[1].end.y):(l=o[1].x,u=o[1].y),d=0===t||2===t?Math.abs(a-l):Math.abs(c-u),this.ctx.beginPath(),3===i?this.formatPath(n):this.formatPath(o.slice(0,2)),h=A<3?3*A:2*A,p=A<3?2*A:A,3===i&&(h=A,p=A),g=!0,d<=2*h?g=!1:d<=2*h+p?(h*=f=d/(2*h+p),p*=f):(m=Math.floor((d+p)/(h+p)),B=(d-m*h)/(m-1),p=(w=(d-(m+1)*h)/m)<=0||Math.abs(p-B)<Math.abs(p-w)?B:w),g&&(3===i?this.ctx.setLineDash([0,h+p]):this.ctx.setLineDash([h,p])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=A):this.ctx.lineWidth=2*A+1.1,this.ctx.strokeStyle=nn(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(Qa(o[0])&&(C=o[3],v=o[0],this.ctx.beginPath(),this.formatPath([new ba(C.end.x,C.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke()),Qa(o[1])&&(C=o[1],v=o[2],this.ctx.beginPath(),this.formatPath([new ba(C.end.x,C.end.y),new ba(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},t.prototype.render=function(e){return n(this,void 0,void 0,(function(){var A;return r(this,(function(t){switch(t.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),A=Va(e),[4,this.renderStack(A)];case 1:return t.sent(),this.applyEffects([]),[2,this.canvas]}}))}))},t}(cc),dc=function(e){return e instanceof zi||e instanceof Zi||e instanceof qi&&e.type!==Wi&&e.type!==$i},hc=function(e,A){switch(e){case 0:return Sa(A);case 2:return Ia(A);default:return Ta(A)}},pc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},gc=["-apple-system","system-ui"],fc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter((function(e){return-1===gc.indexOf(e)})):e},mc=function(e){function t(A,t){var n=e.call(this,A,t)||this;return n.canvas=t.canvas?t.canvas:document.createElement("canvas"),n.ctx=n.canvas.getContext("2d"),n.options=t,n.canvas.width=Math.floor(t.width*t.scale),n.canvas.height=Math.floor(t.height*t.scale),n.canvas.style.width=t.width+"px",n.canvas.style.height=t.height+"px",n.ctx.scale(n.options.scale,n.options.scale),n.ctx.translate(-t.x,-t.y),n.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),n}return A(t,e),t.prototype.render=function(e){return n(this,void 0,void 0,(function(){var A,t;return r(this,(function(n){switch(n.label){case 0:return A=bi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,Bc(A)];case 1:return t=n.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=nn(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(t,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},t}(cc),Bc=function(e){return new Promise((function(A,t){var n=new Image;n.onload=function(){A(n)},n.onerror=t,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))}))},wc=function(){function e(e){var A=e.id,t=e.enabled;this.id=A,this.enabled=t,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,s([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,s([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),Cc=function(){function e(A,t){var n;this.windowBounds=t,this.instanceName="#"+e.instanceCount++,this.logger=new wc({id:this.instanceName,enabled:A.logging}),this.cache=null!==(n=A.cache)&&void 0!==n?n:new ha(this,A)}return e.instanceCount=1,e}(),vc=function(e,A){return void 0===A&&(A={}),bc(e,A)};"undefined"!==typeof window&&da.setContext(window);var bc=function(e,A){return n(void 0,void 0,void 0,(function(){var n,s,c,l,u,d,h,p,g,f,m,B,w,C,v,b,y,U,Q,E,F,S,I,T,k,R,x,H,_,O,D,L,P,N,K,M,V,j;return r(this,(function(r){switch(r.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(n=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=n.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(S=A.allowTaint)&&void 0!==S&&S,imageTimeout:null!==(I=A.imageTimeout)&&void 0!==I?I:15e3,proxy:A.proxy,useCORS:null!==(T=A.useCORS)&&void 0!==T&&T},l=t({logging:null===(k=A.logging)||void 0===k||k,cache:A.cache},c),u={windowWidth:null!==(R=A.windowWidth)&&void 0!==R?R:s.innerWidth,windowHeight:null!==(x=A.windowHeight)&&void 0!==x?x:s.innerHeight,scrollX:null!==(H=A.scrollX)&&void 0!==H?H:s.pageXOffset,scrollY:null!==(_=A.scrollY)&&void 0!==_?_:s.pageYOffset},d=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),h=new Cc(l,d),p=null!==(O=A.foreignObjectRendering)&&void 0!==O&&O,g={allowTaint:null!==(D=A.allowTaint)&&void 0!==D&&D,onclone:A.onclone,ignoreElements:A.ignoreElements,inlineImages:p,copyStyles:p},h.logger.debug("Starting document clone with size "+d.width+"x"+d.height+" scrolled to "+-d.left+","+-d.top),f=new Wo(h,e,g),(m=f.clonedReferenceElement)?[4,f.toIFrame(n,d)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return B=r.sent(),w=mo(m)||go(m)?a(m.ownerDocument):o(h,m),C=w.width,v=w.height,b=w.left,y=w.top,U=yc(h,m,A.backgroundColor),Q={canvas:A.canvas,backgroundColor:U,scale:null!==(P=null!==(L=A.scale)&&void 0!==L?L:s.devicePixelRatio)&&void 0!==P?P:1,x:(null!==(N=A.x)&&void 0!==N?N:0)+b,y:(null!==(K=A.y)&&void 0!==K?K:0)+y,width:null!==(M=A.width)&&void 0!==M?M:Math.ceil(C),height:null!==(V=A.height)&&void 0!==V?V:Math.ceil(v)},p?(h.logger.debug("Document cloned, using foreign object rendering"),[4,new mc(h,Q).render(m)]):[3,3];case 2:return E=r.sent(),[3,5];case 3:return h.logger.debug("Document cloned, element located at "+b+","+y+" with size "+C+"x"+v+" using computed rendering"),h.logger.debug("Starting DOM parsing"),F=ro(h,m),U===F.styles.backgroundColor&&(F.styles.backgroundColor=dn.TRANSPARENT),h.logger.debug("Starting renderer for element at "+Q.x+","+Q.y+" with size "+Q.width+"x"+Q.height),[4,new uc(h,Q).render(F)];case 4:E=r.sent(),r.label=5;case 5:return(null===(j=A.removeContainer)||void 0===j||j)&&(Wo.destroy(B)||h.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),h.logger.debug("Finished rendering"),[2,E]}}))}))},yc=function(e,A,t){var n=A.ownerDocument,r=n.documentElement?un(e,getComputedStyle(n.documentElement).backgroundColor):dn.TRANSPARENT,s=n.body?un(e,getComputedStyle(n.body).backgroundColor):dn.TRANSPARENT,i="string"===typeof t?un(e,t):null===t?dn.TRANSPARENT:4294967295;return A===n.documentElement?tn(r)?tn(s)?i:s:r:i};return vc}()},5314:(e,A,t)=>{"use strict";function n(e){return"function"===typeof e}t.d(A,{T:()=>n})},6171:(e,A,t)=>{"use strict";t.d(A,{m:()=>s});var n=t(3629),r=t(7531);function s(e){r.f.setTimeout((function(){var A=n.$.onUnhandledError;if(!A)throw e;A(e)}))}},6321:e=>{var A=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var A="candidate:%s %d %s %d %s %d typ %s";return A+=null!=e.raddr?" raddr %s rport %d":"%v%v",A+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(A+=" generation %d"),A+=null!=e["network-id"]?" network-id %d":"%v",A+=null!=e["network-cost"]?" network-cost %d":"%v"}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var A="ssrc:%d";return null!=e.attribute&&(A+=" %s",null!=e.value&&(A+=":%s")),A}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var A="mediaclk:";return A+=null!=e.id?"id=%s %s":"%v%s",A+=null!=e.mediaClockValue?"=%s":"",A+=null!=e.rateNumerator?" rate=%s":"",A+=null!=e.rateDenominator?"/%s":""}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(A).forEach((function(e){A[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},6605:(e,A,t)=>{var n=t(6321),r=/%[sdv%]/g,s=function(e){var A=1,t=arguments,n=t.length;return e.replace(r,(function(e){if(A>=n)return e;var r=t[A];switch(A+=1,e){case"%%":return"%";case"%s":return String(r);case"%d":return Number(r);case"%v":return""}}))},i=function(e,A,t){var n=[e+"="+(A.format instanceof Function?A.format(A.push?t:t[A.name]):A.format)];if(A.names)for(var r=0;r<A.names.length;r+=1){var i=A.names[r];A.name?n.push(t[A.name][i]):n.push(t[A.names[r]])}else n.push(t[A.name]);return s.apply(null,n)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];e.exports=function(e,A){A=A||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var t=A.outerOrder||o,r=A.innerOrder||a,s=[];return t.forEach((function(A){n[A].forEach((function(t){t.name in e&&null!=e[t.name]?s.push(i(A,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach((function(e){s.push(i(A,t,e))}))}))})),e.media.forEach((function(e){s.push(i("m",n.m[0],e)),r.forEach((function(A){n[A].forEach((function(t){t.name in e&&null!=e[t.name]?s.push(i(A,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach((function(e){s.push(i(A,t,e))}))}))}))})),s.join("\r\n")+"\r\n"}},6726:(e,A,t)=>{"use strict";t.d(A,{X:()=>n});var n=function(e){return e&&"number"===typeof e.length&&"function"!==typeof e}},6794:(e,A,t)=>{"use strict";t.d(A,{Kn:()=>a,yU:()=>o,Uv:()=>c});var n=t(6326),r=t(5314),s=(0,t(8344).L)((function(e){return function(A){e(this),this.message=A?A.length+" errors occurred during unsubscription:\n"+A.map((function(e,A){return A+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=A}})),i=t(7535),o=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var e,A,t,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var c=(0,n.Ju)(a),u=c.next();!u.done;u=c.next()){u.value.remove(this)}}catch(m){e={error:m}}finally{try{u&&!u.done&&(A=c.return)&&A.call(c)}finally{if(e)throw e.error}}else a.remove(this);var d=this.initialTeardown;if((0,r.T)(d))try{d()}catch(B){o=B instanceof s?B.errors:[B]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var p=(0,n.Ju)(h),g=p.next();!g.done;g=p.next()){var f=g.value;try{l(f)}catch(w){o=null!==o&&void 0!==o?o:[],w instanceof s?o=(0,n.fX)((0,n.fX)([],(0,n.zs)(o)),(0,n.zs)(w.errors)):o.push(w)}}}catch(C){t={error:C}}finally{try{g&&!g.done&&(i=p.return)&&i.call(p)}finally{if(t)throw t.error}}}if(o)throw new s(o)}},e.prototype.add=function(A){var t;if(A&&A!==this)if(this.closed)l(A);else{if(A instanceof e){if(A.closed||A._hasParent(this))return;A._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(A)}},e.prototype._hasParent=function(e){var A=this._parentage;return A===e||Array.isArray(A)&&A.includes(e)},e.prototype._addParent=function(e){var A=this._parentage;this._parentage=Array.isArray(A)?(A.push(e),A):A?[A,e]:e},e.prototype._removeParent=function(e){var A=this._parentage;A===e?this._parentage=null:Array.isArray(A)&&(0,i.o)(A,e)},e.prototype.remove=function(A){var t=this._finalizers;t&&(0,i.o)(t,A),A instanceof e&&A._removeParent(this)},e.EMPTY=function(){var A=new e;return A.closed=!0,A}(),e}(),a=o.EMPTY;function c(e){return e instanceof o||e&&"closed"in e&&(0,r.T)(e.remove)&&(0,r.T)(e.add)&&(0,r.T)(e.unsubscribe)}function l(e){(0,r.T)(e)?e():e.unsubscribe()}},7241:(e,A,t)=>{"use strict";t.d(A,{C:()=>s,U:()=>i});var n=t(6326),r=t(5314);function s(e){return(0,n.AQ)(this,arguments,(function(){var A,t,r;return(0,n.YH)(this,(function(s){switch(s.label){case 0:A=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,(0,n.N3)(A.read())];case 3:return t=s.sent(),r=t.value,t.done?[4,(0,n.N3)(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,(0,n.N3)(r)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return A.releaseLock(),[7];case 10:return[2]}}))}))}function i(e){return(0,r.T)(null===e||void 0===e?void 0:e.getReader)}},7495:(e,A,t)=>{"use strict";t.d(A,{c7:()=>ye,kb:()=>Z,Dv:()=>de,Gc:()=>z,R3:()=>be,s9:()=>le,X:()=>ve});var n=t(579),r=t(5043);const s=e=>"string"===typeof e,i=()=>{let e,A;const t=new Promise(((t,n)=>{e=t,A=n}));return t.resolve=e,t.reject=A,t},o=e=>null==e?"":""+e,a=/###/g,c=e=>e&&e.indexOf("###")>-1?e.replace(a,"."):e,l=e=>!e||s(e),u=(e,A,t)=>{const n=s(A)?A.split("."):A;let r=0;for(;r<n.length-1;){if(l(e))return{};const A=c(n[r]);!e[A]&&t&&(e[A]=new t),e=Object.prototype.hasOwnProperty.call(e,A)?e[A]:{},++r}return l(e)?{}:{obj:e,k:c(n[r])}},d=(e,A,t)=>{const{obj:n,k:r}=u(e,A,Object);if(void 0!==n||1===A.length)return void(n[r]=t);let s=A[A.length-1],i=A.slice(0,A.length-1),o=u(e,i,Object);for(;void 0===o.obj&&i.length;)s=`${i[i.length-1]}.${s}`,i=i.slice(0,i.length-1),o=u(e,i,Object),o&&o.obj&&"undefined"!==typeof o.obj[`${o.k}.${s}`]&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=t},h=(e,A)=>{const{obj:t,k:n}=u(e,A);if(t)return t[n]},p=(e,A,t)=>{for(const n in A)"__proto__"!==n&&"constructor"!==n&&(n in e?s(e[n])||e[n]instanceof String||s(A[n])||A[n]instanceof String?t&&(e[n]=A[n]):p(e[n],A[n],t):e[n]=A[n]);return e},g=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var f={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const m=e=>s(e)?e.replace(/[&<>"'\/]/g,(e=>f[e])):e;const B=[" ",",","?","!",";"],w=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const A=this.regExpMap.get(e);if(void 0!==A)return A;const t=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,t),this.regExpQueue.push(e),t}}(20),C=function(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[A])return e[A];const n=A.split(t);let r=e;for(let s=0;s<n.length;){if(!r||"object"!==typeof r)return;let e,A="";for(let i=s;i<n.length;++i)if(i!==s&&(A+=t),A+=n[i],e=r[A],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&i<n.length-1)continue;s+=i-s+1;break}r=e}return r},v=e=>e&&e.replace("_","-"),b={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,A){console&&console[e]&&console[e].apply(console,A)}};class y{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,A)}init(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=A.prefix||"i18next:",this.logger=e||b,this.options=A,this.debug=A.debug}log(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return this.forward(A,"log","",!0)}warn(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return this.forward(A,"warn","",!0)}error(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return this.forward(A,"error","")}deprecate(){for(var e=arguments.length,A=new Array(e),t=0;t<e;t++)A[t]=arguments[t];return this.forward(A,"warn","WARNING DEPRECATED: ",!0)}forward(e,A,t,n){return n&&!this.debug?null:(s(e[0])&&(e[0]=`${t}${this.prefix} ${e[0]}`),this.logger[A](e))}create(e){return new y(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new y(this.logger,e)}}var U=new y;class Q{constructor(){this.observers={}}on(e,A){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const t=this.observers[e].get(A)||0;this.observers[e].set(A,t+1)})),this}off(e,A){this.observers[e]&&(A?this.observers[e].delete(A):delete this.observers[e])}emit(e){for(var A=arguments.length,t=new Array(A>1?A-1:0),n=1;n<A;n++)t[n-1]=arguments[n];if(this.observers[e]){Array.from(this.observers[e].entries()).forEach((e=>{let[A,n]=e;for(let r=0;r<n;r++)A(...t)}))}if(this.observers["*"]){Array.from(this.observers["*"].entries()).forEach((A=>{let[n,r]=A;for(let s=0;s<r;s++)n.apply(n,[e,...t])}))}}}class E extends Q{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=A,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const A=this.options.ns.indexOf(e);A>-1&&this.options.ns.splice(A,1)}getResource(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==n.keySeparator?n.keySeparator:this.options.keySeparator,i=void 0!==n.ignoreJSONStructure?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,A],t&&(Array.isArray(t)?o.push(...t):s(t)&&r?o.push(...t.split(r)):o.push(t)));const a=h(this.data,o);return!a&&!A&&!t&&e.indexOf(".")>-1&&(e=o[0],A=o[1],t=o.slice(2).join(".")),!a&&i&&s(t)?C(this.data&&this.data[e]&&this.data[e][A],t,r):a}addResource(e,A,t,n){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let i=[e,A];t&&(i=i.concat(s?t.split(s):t)),e.indexOf(".")>-1&&(i=e.split("."),n=A,A=i[1]),this.addNamespaces(A),d(this.data,i,n),r.silent||this.emit("added",e,A,t,n)}addResources(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in t)(s(t[r])||Array.isArray(t[r]))&&this.addResource(e,A,r,t[r],{silent:!0});n.silent||this.emit("added",e,A,t)}addResourceBundle(e,A,t,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},i=[e,A];e.indexOf(".")>-1&&(i=e.split("."),n=t,t=A,A=i[1]),this.addNamespaces(A);let o=h(this.data,i)||{};s.skipCopy||(t=JSON.parse(JSON.stringify(t))),n?p(o,t,r):o={...o,...t},d(this.data,i,o),s.silent||this.emit("added",e,A,t)}removeResourceBundle(e,A){this.hasResourceBundle(e,A)&&delete this.data[e][A],this.removeNamespaces(A),this.emit("removed",e,A)}hasResourceBundle(e,A){return void 0!==this.getResource(e,A)}getResourceBundle(e,A){return A||(A=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,A)}:this.getResource(e,A)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const A=this.getDataByLanguage(e);return!!(A&&Object.keys(A)||[]).find((e=>A[e]&&Object.keys(A[e]).length>0))}toJSON(){return this.data}}var F={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,A,t,n,r){return e.forEach((e=>{this.processors[e]&&(A=this.processors[e].process(A,t,n,r))})),A}};const S={};class I extends Q{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),((e,A,t)=>{e.forEach((e=>{A[e]&&(t[e]=A[e])}))})(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=A,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=U.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(void 0===e||null===e)return!1;const t=this.resolve(e,A);return t&&void 0!==t.res}extractFromKey(e,A){let t=void 0!==A.nsSeparator?A.nsSeparator:this.options.nsSeparator;void 0===t&&(t=":");const n=void 0!==A.keySeparator?A.keySeparator:this.options.keySeparator;let r=A.ns||this.options.defaultNS||[];const i=t&&e.indexOf(t)>-1,o=!this.options.userDefinedKeySeparator&&!A.keySeparator&&!this.options.userDefinedNsSeparator&&!A.nsSeparator&&!((e,A,t)=>{A=A||"",t=t||"";const n=B.filter((e=>A.indexOf(e)<0&&t.indexOf(e)<0));if(0===n.length)return!0;const r=w.getRegExp(`(${n.map((e=>"?"===e?"\\?":e)).join("|")})`);let s=!r.test(e);if(!s){const A=e.indexOf(t);A>0&&!r.test(e.substring(0,A))&&(s=!0)}return s})(e,t,n);if(i&&!o){const A=e.match(this.interpolator.nestingRegexp);if(A&&A.length>0)return{key:e,namespaces:s(r)?[r]:r};const i=e.split(t);(t!==n||t===n&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(n)}return{key:e,namespaces:s(r)?[r]:r}}translate(e,A,t){if("object"!==typeof A&&this.options.overloadTranslationOptionHandler&&(A=this.options.overloadTranslationOptionHandler(arguments)),"object"===typeof A&&(A={...A}),A||(A={}),void 0===e||null===e)return"";Array.isArray(e)||(e=[String(e)]);const n=void 0!==A.returnDetails?A.returnDetails:this.options.returnDetails,r=void 0!==A.keySeparator?A.keySeparator:this.options.keySeparator,{key:i,namespaces:o}=this.extractFromKey(e[e.length-1],A),a=o[o.length-1],c=A.lng||this.language,l=A.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(l){const e=A.nsSeparator||this.options.nsSeparator;return n?{res:`${a}${e}${i}`,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:a,usedParams:this.getUsedParamsDetails(A)}:`${a}${e}${i}`}return n?{res:i,usedKey:i,exactUsedKey:i,usedLng:c,usedNS:a,usedParams:this.getUsedParamsDetails(A)}:i}const u=this.resolve(e,A);let d=u&&u.res;const h=u&&u.usedKey||i,p=u&&u.exactUsedKey||i,g=Object.prototype.toString.apply(d),f=void 0!==A.joinArrays?A.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject,B=!s(d)&&"boolean"!==typeof d&&"number"!==typeof d;if(!(m&&d&&B&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0)||s(f)&&Array.isArray(d))if(m&&s(f)&&Array.isArray(d))d=d.join(f),d&&(d=this.extendTranslation(d,e,A,t));else{let n=!1,o=!1;const l=void 0!==A.count&&!s(A.count),h=I.hasDefaultValue(A),p=l?this.pluralResolver.getSuffix(c,A.count,A):"",g=A.ordinal&&l?this.pluralResolver.getSuffix(c,A.count,{ordinal:!1}):"",f=l&&!A.ordinal&&0===A.count&&this.pluralResolver.shouldUseIntlApi(),m=f&&A[`defaultValue${this.options.pluralSeparator}zero`]||A[`defaultValue${p}`]||A[`defaultValue${g}`]||A.defaultValue;!this.isValidLookup(d)&&h&&(n=!0,d=m),this.isValidLookup(d)||(o=!0,d=i);const B=(A.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&o?void 0:d,w=h&&m!==d&&this.options.updateMissing;if(o||n||w){if(this.logger.log(w?"updateKey":"missingKey",c,a,i,w?m:d),r){const e=this.resolve(i,{...A,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const t=this.languageUtils.getFallbackCodes(this.options.fallbackLng,A.lng||this.language);if("fallback"===this.options.saveMissingTo&&t&&t[0])for(let A=0;A<t.length;A++)e.push(t[A]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(A.lng||this.language):e.push(A.lng||this.language);const n=(e,t,n)=>{const r=h&&n!==d?n:B;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,t,r,w,A):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,t,r,w,A),this.emit("missingKey",e,a,t,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?e.forEach((e=>{const t=this.pluralResolver.getSuffixes(e,A);f&&A[`defaultValue${this.options.pluralSeparator}zero`]&&t.indexOf(`${this.options.pluralSeparator}zero`)<0&&t.push(`${this.options.pluralSeparator}zero`),t.forEach((t=>{n([e],i+t,A[`defaultValue${t}`]||m)}))})):n(e,i,m))}d=this.extendTranslation(d,e,A,u,t),o&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${a}:${i}`),(o||n)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${i}`:i,n?d:void 0):this.options.parseMissingKeyHandler(d))}else{if(!A.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...A,ns:o}):`key '${i} (${this.language})' returned an object instead of string.`;return n?(u.res=e,u.usedParams=this.getUsedParamsDetails(A),u):e}if(r){const e=Array.isArray(d),t=e?[]:{},n=e?p:h;for(const s in d)if(Object.prototype.hasOwnProperty.call(d,s)){const e=`${n}${r}${s}`;t[s]=this.translate(e,{...A,joinArrays:!1,ns:o}),t[s]===e&&(t[s]=d[s])}d=t}}return n?(u.res=d,u.usedParams=this.getUsedParamsDetails(A),u):d}extendTranslation(e,A,t,n,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...t},t.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!t.skipInterpolation){t.interpolation&&this.interpolator.init({...t,interpolation:{...this.options.interpolation,...t.interpolation}});const o=s(e)&&(t&&t.interpolation&&void 0!==t.interpolation.skipOnVariables?t.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(o){const A=e.match(this.interpolator.nestingRegexp);a=A&&A.length}let c=t.replace&&!s(t.replace)?t.replace:t;if(this.options.interpolation.defaultVariables&&(c={...this.options.interpolation.defaultVariables,...c}),e=this.interpolator.interpolate(e,c,t.lng||this.language||n.usedLng,t),o){const A=e.match(this.interpolator.nestingRegexp);a<(A&&A.length)&&(t.nest=!1)}!t.lng&&"v1"!==this.options.compatibilityAPI&&n&&n.res&&(t.lng=this.language||n.usedLng),!1!==t.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];return r&&r[0]===n[0]&&!t.context?(i.logger.warn(`It seems you are nesting recursively key: ${n[0]} in key: ${A[0]}`),null):i.translate(...n,A)}),t)),t.interpolation&&this.interpolator.reset()}const o=t.postProcess||this.options.postProcess,a=s(o)?[o]:o;return void 0!==e&&null!==e&&a&&a.length&&!1!==t.applyPostProcessor&&(e=F.handle(a,e,A,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(t)},...t}:t,this)),e}resolve(e){let A,t,n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s(e)&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(A))return;const a=this.extractFromKey(e,o),c=a.key;t=c;let l=a.namespaces;this.options.fallbackNS&&(l=l.concat(this.options.fallbackNS));const u=void 0!==o.count&&!s(o.count),d=u&&!o.ordinal&&0===o.count&&this.pluralResolver.shouldUseIntlApi(),h=void 0!==o.context&&(s(o.context)||"number"===typeof o.context)&&""!==o.context,p=o.lngs?o.lngs:this.languageUtils.toResolveHierarchy(o.lng||this.language,o.fallbackLng);l.forEach((e=>{this.isValidLookup(A)||(i=e,!S[`${p[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(S[`${p[0]}-${e}`]=!0,this.logger.warn(`key "${t}" for languages "${p.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((t=>{if(this.isValidLookup(A))return;r=t;const s=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(s,c,t,e,o);else{let e;u&&(e=this.pluralResolver.getSuffix(t,o.count,o));const A=`${this.options.pluralSeparator}zero`,n=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(s.push(c+e),o.ordinal&&0===e.indexOf(n)&&s.push(c+e.replace(n,this.options.pluralSeparator)),d&&s.push(c+A)),h){const t=`${c}${this.options.contextSeparator}${o.context}`;s.push(t),u&&(s.push(t+e),o.ordinal&&0===e.indexOf(n)&&s.push(t+e.replace(n,this.options.pluralSeparator)),d&&s.push(t+A))}}let i;for(;i=s.pop();)this.isValidLookup(A)||(n=i,A=this.getResource(t,e,i,o))})))}))})),{res:A,usedKey:t,exactUsedKey:n,usedLng:r,usedNS:i}}isValidLookup(e){return void 0!==e&&!(!this.options.returnNull&&null===e)&&!(!this.options.returnEmptyString&&""===e)}getResource(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,A,t,n):this.resourceStore.getResource(e,A,t,n)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const A=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],t=e.replace&&!s(e.replace);let n=t?e.replace:e;if(t&&"undefined"!==typeof e.count&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!t){n={...n};for(const e of A)delete n[e]}return n}static hasDefaultValue(e){const A="defaultValue";for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&A===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}const T=e=>e.charAt(0).toUpperCase()+e.slice(1);class k{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=U.create("languageUtils")}getScriptPartFromCode(e){if(!(e=v(e))||e.indexOf("-")<0)return null;const A=e.split("-");return 2===A.length?null:(A.pop(),"x"===A[A.length-1].toLowerCase()?null:this.formatLanguageCode(A.join("-")))}getLanguagePartFromCode(e){if(!(e=v(e))||e.indexOf("-")<0)return e;const A=e.split("-");return this.formatLanguageCode(A[0])}formatLanguageCode(e){if(s(e)&&e.indexOf("-")>-1){if("undefined"!==typeof Intl&&"undefined"!==typeof Intl.getCanonicalLocales)try{let A=Intl.getCanonicalLocales(e)[0];if(A&&this.options.lowerCaseLng&&(A=A.toLowerCase()),A)return A}catch(A){}const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=T(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=T(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let A;return e.forEach((e=>{if(A)return;const t=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(t)||(A=t)})),!A&&this.options.supportedLngs&&e.forEach((e=>{if(A)return;const t=this.getLanguagePartFromCode(e);if(this.isSupportedCode(t))return A=t;A=this.options.supportedLngs.find((e=>e===t?e:e.indexOf("-")<0&&t.indexOf("-")<0?void 0:e.indexOf("-")>0&&t.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===t||0===e.indexOf(t)&&t.length>1?e:void 0))})),A||(A=this.getFallbackCodes(this.options.fallbackLng)[0]),A}getFallbackCodes(e,A){if(!e)return[];if("function"===typeof e&&(e=e(A)),s(e)&&(e=[e]),Array.isArray(e))return e;if(!A)return e.default||[];let t=e[A];return t||(t=e[this.getScriptPartFromCode(A)]),t||(t=e[this.formatLanguageCode(A)]),t||(t=e[this.getLanguagePartFromCode(A)]),t||(t=e.default),t||[]}toResolveHierarchy(e,A){const t=this.getFallbackCodes(A||this.options.fallbackLng||[],e),n=[],r=e=>{e&&(this.isSupportedCode(e)?n.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return s(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):s(e)&&r(this.formatLanguageCode(e)),t.forEach((e=>{n.indexOf(e)<0&&r(this.formatLanguageCode(e))})),n}}let R=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],x={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const H=["v1","v2","v3"],_=["v4"],O={zero:0,one:1,two:2,few:3,many:4,other:5};class D{constructor(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=A,this.logger=U.create("pluralResolver"),this.options.compatibilityJSON&&!_.includes(this.options.compatibilityJSON)||"undefined"!==typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return R.forEach((A=>{A.lngs.forEach((t=>{e[t]={numbers:A.nr,plurals:x[A.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,A){this.rules[e]=A}clearCache(){this.pluralRulesCache={}}getRule(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi()){const n=v("dev"===e?"en":e),r=A.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:r});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let i;try{i=new Intl.PluralRules(n,{type:r})}catch(t){if(!e.match(/-|_/))return;const n=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(n,A)}return this.pluralRulesCache[s]=i,i}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=this.getRule(e,A);return this.shouldUseIntlApi()?t&&t.resolvedOptions().pluralCategories.length>1:t&&t.numbers.length>1}getPluralFormsOfKey(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,t).map((e=>`${A}${e}`))}getSuffixes(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const t=this.getRule(e,A);return t?this.shouldUseIntlApi()?t.resolvedOptions().pluralCategories.sort(((e,A)=>O[e]-O[A])).map((e=>`${this.options.prepend}${A.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):t.numbers.map((t=>this.getSuffix(e,t,A))):[]}getSuffix(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${n.select(A)}`:this.getSuffixRetroCompatible(n,A):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,A){const t=e.noAbs?e.plurals(A):e.plurals(Math.abs(A));let n=e.numbers[t];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===n?n="plural":1===n&&(n=""));const r=()=>this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString();return"v1"===this.options.compatibilityJSON?1===n?"":"number"===typeof n?`_plural_${n.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&t.toString()?this.options.prepend+t.toString():t.toString()}shouldUseIntlApi(){return!H.includes(this.options.compatibilityJSON)}}const L=function(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,A,t)=>{const n=h(e,t);return void 0!==n?n:h(A,t)})(e,A,t);return!i&&r&&s(t)&&(i=C(e,t,n),void 0===i&&(i=C(A,t,n))),i},P=e=>e.replace(/\$/g,"$$$$");class N{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=U.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:A,escapeValue:t,useRawValueToEscape:n,prefix:r,prefixEscaped:s,suffix:i,suffixEscaped:o,formatSeparator:a,unescapeSuffix:c,unescapePrefix:l,nestingPrefix:u,nestingPrefixEscaped:d,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:f,maxReplaces:B,alwaysFormat:w}=e.interpolation;this.escape=void 0!==A?A:m,this.escapeValue=void 0===t||t,this.useRawValueToEscape=void 0!==n&&n,this.prefix=r?g(r):s||"{{",this.suffix=i?g(i):o||"}}",this.formatSeparator=a||",",this.unescapePrefix=c?"":l||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=u?g(u):d||g("$t("),this.nestingSuffix=h?g(h):p||g(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=B||1e3,this.alwaysFormat=void 0!==w&&w,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,A)=>e&&e.source===A?(e.lastIndex=0,e):new RegExp(A,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,A,t,n){let r,i,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const r=L(A,c,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,t,{...n,...A,interpolationkey:e}):r}const r=e.split(this.formatSeparator),s=r.shift().trim(),i=r.join(this.formatSeparator).trim();return this.format(L(A,c,s,this.options.keySeparator,this.options.ignoreJSONStructure),i,t,{...n,...A,interpolationkey:s})};this.resetRegExp();const u=n&&n.missingInterpolationHandler||this.options.missingInterpolationHandler,d=n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>P(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?P(this.escape(e)):P(e)}].forEach((A=>{for(a=0;r=A.regex.exec(e);){const t=r[1].trim();if(i=l(t),void 0===i)if("function"===typeof u){const A=u(e,r,n);i=s(A)?A:""}else if(n&&Object.prototype.hasOwnProperty.call(n,t))i="";else{if(d){i=r[0];continue}this.logger.warn(`missed to pass in variable ${t} for interpolating ${e}`),i=""}else s(i)||this.useRawValueToEscape||(i=o(i));const c=A.safeValue(i);if(e=e.replace(r[0],c),d?(A.regex.lastIndex+=i.length,A.regex.lastIndex-=r[0].length):A.regex.lastIndex=0,a++,a>=this.maxReplaces)break}})),e}nest(e,A){let t,n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=(e,A)=>{const t=this.nestingOptionsSeparator;if(e.indexOf(t)<0)return e;const n=e.split(new RegExp(`${t}[ ]*{`));let s=`{${n[1]}`;e=n[0],s=this.interpolate(s,r);const i=s.match(/'/g),o=s.match(/"/g);(i&&i.length%2===0&&!o||o.length%2!==0)&&(s=s.replace(/'/g,'"'));try{r=JSON.parse(s),A&&(r={...A,...r})}catch(a){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,a),`${e}${t}${s}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;t=this.nestingRegexp.exec(e);){let c=[];r={...i},r=r.replace&&!s(r.replace)?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==t[0].indexOf(this.formatSeparator)&&!/{.*}/.test(t[1])){const e=t[1].split(this.formatSeparator).map((e=>e.trim()));t[1]=e.shift(),c=e,l=!0}if(n=A(a.call(this,t[1].trim(),r),r),n&&t[0]===e&&!s(n))return n;s(n)||(n=o(n)),n||(this.logger.warn(`missed to resolve ${t[1]} for nesting ${e}`),n=""),l&&(n=c.reduce(((e,A)=>this.format(e,A,i.lng,{...i,interpolationkey:t[1].trim()})),n.trim())),e=e.replace(t[0],n),this.regexp.lastIndex=0}return e}}const K=e=>{const A={};return(t,n,r)=>{let s=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(s={...s,[r.interpolationkey]:void 0});const i=n+JSON.stringify(s);let o=A[i];return o||(o=e(v(n),r),A[i]=o),o(t)}};class M{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=U.create("formatter"),this.options=e,this.formats={number:K(((e,A)=>{const t=new Intl.NumberFormat(e,{...A});return e=>t.format(e)})),currency:K(((e,A)=>{const t=new Intl.NumberFormat(e,{...A,style:"currency"});return e=>t.format(e)})),datetime:K(((e,A)=>{const t=new Intl.DateTimeFormat(e,{...A});return e=>t.format(e)})),relativetime:K(((e,A)=>{const t=new Intl.RelativeTimeFormat(e,{...A});return e=>t.format(e,A.range||"day")})),list:K(((e,A)=>{const t=new Intl.ListFormat(e,{...A});return e=>t.format(e)}))},this.init(e)}init(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};this.formatSeparator=A.interpolation.formatSeparator||","}add(e,A){this.formats[e.toLowerCase().trim()]=A}addCached(e,A){this.formats[e.toLowerCase().trim()]=K(A)}format(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=A.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find((e=>e.indexOf(")")>-1))){const e=r.findIndex((e=>e.indexOf(")")>-1));r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce(((e,A)=>{const{formatName:r,formatOptions:s}=(e=>{let A=e.toLowerCase().trim();const t={};if(e.indexOf("(")>-1){const n=e.split("(");A=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);"currency"===A&&r.indexOf(":")<0?t.currency||(t.currency=r.trim()):"relativetime"===A&&r.indexOf(":")<0?t.range||(t.range=r.trim()):r.split(";").forEach((e=>{if(e){const[A,...n]=e.split(":"),r=n.join(":").trim().replace(/^'+|'+$/g,""),s=A.trim();t[s]||(t[s]=r),"false"===r&&(t[s]=!1),"true"===r&&(t[s]=!0),isNaN(r)||(t[s]=parseInt(r,10))}}))}return{formatName:A,formatOptions:t}})(A);if(this.formats[r]){let A=e;try{const i=n&&n.formatParams&&n.formatParams[n.interpolationkey]||{},o=i.locale||i.lng||n.locale||n.lng||t;A=this.formats[r](e,o,{...s,...n,...i})}catch(i){this.logger.warn(i)}return A}return this.logger.warn(`there was no format function for ${r}`),e}),e)}}class V extends Q{constructor(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=A,this.services=t,this.languageUtils=t.languageUtils,this.options=n,this.logger=U.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(t,n.backend,n)}queueLoad(e,A,t,n){const r={},s={},i={},o={};return e.forEach((e=>{let n=!0;A.forEach((A=>{const i=`${e}|${A}`;!t.reload&&this.store.hasResourceBundle(e,A)?this.state[i]=2:this.state[i]<0||(1===this.state[i]?void 0===s[i]&&(s[i]=!0):(this.state[i]=1,n=!1,void 0===s[i]&&(s[i]=!0),void 0===r[i]&&(r[i]=!0),void 0===o[A]&&(o[A]=!0)))})),n||(i[e]=!0)})),(Object.keys(r).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(r),pending:Object.keys(s),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(o)}}loaded(e,A,t){const n=e.split("|"),r=n[0],s=n[1];A&&this.emit("failedLoading",r,s,A),!A&&t&&this.store.addResourceBundle(r,s,t,void 0,void 0,{skipCopy:!0}),this.state[e]=A?-1:2,A&&t&&(this.state[e]=0);const i={};this.queue.forEach((t=>{((e,A,t)=>{const{obj:n,k:r}=u(e,A,Object);n[r]=n[r]||[],n[r].push(t)})(t.loaded,[r],s),((e,A)=>{void 0!==e.pending[A]&&(delete e.pending[A],e.pendingCount--)})(t,e),A&&t.errors.push(A),0!==t.pendingCount||t.done||(Object.keys(t.loaded).forEach((e=>{i[e]||(i[e]={});const A=t.loaded[e];A.length&&A.forEach((A=>{void 0===i[e][A]&&(i[e][A]=!0)}))})),t.done=!0,t.errors.length?t.callback(t.errors):t.callback())})),this.emit("loaded",i),this.queue=this.queue.filter((e=>!e.done))}read(e,A,t){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:A,fcName:t,tried:n,wait:r,callback:s});this.readingCalls++;const i=(i,o)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}i&&o&&n<this.maxRetries?setTimeout((()=>{this.read.call(this,e,A,t,n+1,2*r,s)}),r):s(i,o)},o=this.backend[t].bind(this.backend);if(2!==o.length)return o(e,A,i);try{const t=o(e,A);t&&"function"===typeof t.then?t.then((e=>i(null,e))).catch(i):i(null,t)}catch(a){i(a)}}prepareLoading(e,A){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();s(e)&&(e=this.languageUtils.toResolveHierarchy(e)),s(A)&&(A=[A]);const r=this.queueLoad(e,A,t,n);if(!r.toLoad.length)return r.pending.length||n(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,A,t){this.prepareLoading(e,A,{},t)}reload(e,A,t){this.prepareLoading(e,A,{reload:!0},t)}loadOne(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const t=e.split("|"),n=t[0],r=t[1];this.read(n,r,"read",void 0,void 0,((t,s)=>{t&&this.logger.warn(`${A}loading namespace ${r} for language ${n} failed`,t),!t&&s&&this.logger.log(`${A}loaded namespace ${r} for language ${n}`,s),this.loaded(e,t,s)}))}saveMissing(e,A,t,n,r){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(A))this.logger.warn(`did not save key "${t}" as the namespace "${A}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(void 0!==t&&null!==t&&""!==t){if(this.backend&&this.backend.create){const a={...s,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,A,t,n,a):c(e,A,t,n),r&&"function"===typeof r.then?r.then((e=>i(null,e))).catch(i):i(null,r)}catch(o){i(o)}else c(e,A,t,n,i,a)}e&&e[0]&&this.store.addResource(e[0],A,t,n)}}}const j=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let A={};if("object"===typeof e[1]&&(A=e[1]),s(e[1])&&(A.defaultValue=e[1]),s(e[2])&&(A.tDescription=e[2]),"object"===typeof e[2]||"object"===typeof e[3]){const t=e[3]||e[2];Object.keys(t).forEach((e=>{A[e]=t[e]}))}return A},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),G=e=>(s(e.ns)&&(e.ns=[e.ns]),s(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),s(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),J=()=>{};class $ extends Q{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1?arguments[1]:void 0;var t;if(super(),this.options=G(e),this.services={},this.logger=U,this.modules={external:[]},t=this,Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach((e=>{"function"===typeof t[e]&&(t[e]=t[e].bind(t))})),A&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,A),this;setTimeout((()=>{this.init(e,A)}),0)}}init(){var e=this;let A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"===typeof A&&(t=A,A={}),!A.defaultNS&&!1!==A.defaultNS&&A.ns&&(s(A.ns)?A.defaultNS=A.ns:A.ns.indexOf("translation")<0&&(A.defaultNS=A.ns[0]));const n=j();this.options={...n,...this.options,...G(A)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...n.interpolation,...this.options.interpolation}),void 0!==A.keySeparator&&(this.options.userDefinedKeySeparator=A.keySeparator),void 0!==A.nsSeparator&&(this.options.userDefinedNsSeparator=A.nsSeparator);const r=e=>e?"function"===typeof e?new e:e:null;if(!this.options.isClone){let A;this.modules.logger?U.init(r(this.modules.logger),this.options):U.init(null,this.options),this.modules.formatter?A=this.modules.formatter:"undefined"!==typeof Intl&&(A=M);const t=new k(this.options);this.store=new E(this.options.resources,this.options);const s=this.services;s.logger=U,s.resourceStore=this.store,s.languageUtils=t,s.pluralResolver=new D(t,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!A||this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format||(s.formatter=r(A),s.formatter.init(s,this.options),this.options.interpolation.format=s.formatter.format.bind(s.formatter)),s.interpolator=new N(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new V(r(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(A){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.emit(A,...n)})),this.modules.languageDetector&&(s.languageDetector=r(this.modules.languageDetector),s.languageDetector.init&&s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=r(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new I(this.services,this.options),this.translator.on("*",(function(A){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.emit(A,...n)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,t||(t=J),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((A=>{this[A]=function(){return e.store[A](...arguments)}}));["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((A=>{this[A]=function(){return e.store[A](...arguments),e}}));const o=i(),a=()=>{const e=(e,A)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(A),t(e,A)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?a():setTimeout(a,0),o}loadResources(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;const t=s(e)?e:this.language;if("function"===typeof e&&(A=e),!this.options.resources||this.options.partialBundledLanguages){if(t&&"cimode"===t.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return A();const e=[],n=A=>{if(!A)return;if("cimode"===A)return;this.services.languageUtils.toResolveHierarchy(A).forEach((A=>{"cimode"!==A&&e.indexOf(A)<0&&e.push(A)}))};if(t)n(t);else{this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>n(e)))}this.options.preload&&this.options.preload.forEach((e=>n(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),A(e)}))}else A(null)}reloadResources(e,A,t){const n=i();return"function"===typeof e&&(t=e,e=void 0),"function"===typeof A&&(t=A,A=void 0),e||(e=this.languages),A||(A=this.options.ns),t||(t=J),this.services.backendConnector.reload(e,A,(e=>{n.resolve(),t(e)})),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&F.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let A=0;A<this.languages.length;A++){const e=this.languages[A];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,A){var t=this;this.isLanguageChangingTo=e;const n=i();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},o=(e,s)=>{s?(r(s),this.translator.changeLanguage(s),this.isLanguageChangingTo=void 0,this.emit("languageChanged",s),this.logger.log("languageChanged",s)):this.isLanguageChangingTo=void 0,n.resolve((function(){return t.t(...arguments)})),A&&A(e,(function(){return t.t(...arguments)}))},a=A=>{e||A||!this.services.languageDetector||(A=[]);const t=s(A)?A:this.services.languageUtils.getBestMatchFromCodes(A);t&&(this.language||r(t),this.translator.language||this.translator.changeLanguage(t),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(t)),this.loadResources(t,(e=>{o(e,t)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e):a(this.services.languageDetector.detect()),n}getFixedT(e,A,t){var n=this;const r=function(e,A){let s;if("object"!==typeof A){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];s=n.options.overloadTranslationOptionHandler([e,A].concat(o))}else s={...A};s.lng=s.lng||r.lng,s.lngs=s.lngs||r.lngs,s.ns=s.ns||r.ns,""!==s.keyPrefix&&(s.keyPrefix=s.keyPrefix||t||r.keyPrefix);const c=n.options.keySeparator||".";let l;return l=s.keyPrefix&&Array.isArray(e)?e.map((e=>`${s.keyPrefix}${c}${e}`)):s.keyPrefix?`${s.keyPrefix}${c}${e}`:e,n.t(l,s)};return s(e)?r.lng=e:r.lngs=e,r.ns=A,r.keyPrefix=t,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const t=A.lng||this.resolvedLanguage||this.languages[0],n=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===t.toLowerCase())return!0;const s=(e,A)=>{const t=this.services.backendConnector.state[`${e}|${A}`];return-1===t||0===t||2===t};if(A.precheck){const e=A.precheck(this,s);if(void 0!==e)return e}return!!this.hasResourceBundle(t,e)||(!(this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages))||!(!s(t,e)||n&&!s(r,e)))}loadNamespaces(e,A){const t=i();return this.options.ns?(s(e)&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{t.resolve(),A&&A(e)})),t):(A&&A(),Promise.resolve())}loadLanguages(e,A){const t=i();s(e)&&(e=[e]);const n=this.options.preload||[],r=e.filter((e=>n.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return r.length?(this.options.preload=n.concat(r),this.loadResources((e=>{t.resolve(),A&&A(e)})),t):(A&&A(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const A=this.services&&this.services.languageUtils||new k(j());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(A.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new $(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:J;const t=e.forkResourceStore;t&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},r=new $(n);void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e));return["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},t&&(r.store=new E(this.store.data,n),r.services.resourceStore=r.store),r.translator=new I(r.services,n),r.translator.on("*",(function(e){for(var A=arguments.length,t=new Array(A>1?A-1:0),n=1;n<A;n++)t[n-1]=arguments[n];r.emit(e,...t)})),r.init(n,A),r.translator.options=n,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const W=$.createInstance();W.createInstance=$.createInstance;W.createInstance,W.dir,W.init,W.loadResources,W.reloadResources,W.use,W.changeLanguage,W.getFixedT,W.t,W.exists,W.setDefaultNamespace,W.hasLoadedNamespace,W.loadNamespaces,W.loadLanguages;var X=t(542),Y=t(5012);const q=(0,r.createContext)(void 0),Z=e=>{const{call:A,children:t}=e;return(0,n.jsx)(q.Provider,{value:A,children:t})},z=()=>(0,r.useContext)(q),ee="stream-video",Ae={debug:!1,currentLanguage:"en",fallbackLanguage:!1},te=(ne={},re=ee,Object.entries(ne).reduce(((e,A)=>{let[t,n]=A;return e[t]={[re]:n},e}),{}));var ne,re;const se=e=>e;class ie{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.t=se,this.init=async()=>{try{this.t=await this.i18nInstance.init()}catch(e){console.error(`Failed to initialize translations: ${JSON.stringify(e)}`)}return this},this.changeLanguage=async(e,A)=>{if(!this._checkIsInitialized())return;const t="undefined"!==typeof window&&window.navigator?window.navigator.language:void 0;await this.i18nInstance.changeLanguage(e||t),A?.(this.currentLanguage)},this.registerTranslationsForLanguage=e=>{let{lng:A,translations:t}=e;this._checkIsInitialized()&&this.i18nInstance.addResourceBundle(A,ee,t,!0,!0)},this._checkIsInitialized=()=>(this.i18nInstance.isInitialized||console.warn("I18n instance is not initialized. Call yourStreamI18nInstance.init()."),this.i18nInstance.isInitialized);const{debug:A=Ae.debug,currentLanguage:t=Ae.currentLanguage,fallbackLanguage:n=Ae.fallbackLanguage,translationsOverrides:r}=e;this.i18nInstance=W.createInstance({debug:A,defaultNS:ee,fallbackLng:n,interpolation:{escapeValue:!1},keySeparator:!1,lng:t,nsSeparator:!1,parseMissingKeyHandler:e=>e,resources:te}),r&&this.i18nInstance.on("initialized",(()=>{Object.entries(r).forEach((e=>{let[A,t]=e;this.registerTranslationsForLanguage({lng:A,translations:t})}))}))}get currentLanguage(){return this._checkIsInitialized(),this.i18nInstance.language}get isInitialized(){return this.i18nInstance.isInitialized}}const oe=(0,r.createContext)({t:se}),ae=e=>{let{children:A,...t}=e;const{i18n:r,t:s}=ce(t);return(0,n.jsx)(oe.Provider,{value:{t:s,i18n:r},children:A})},ce=e=>{let{i18nInstance:A,language:t,fallbackLanguage:n,translationsOverrides:s}=e;const[i]=(0,r.useState)((()=>A||new ie({currentLanguage:t,fallbackLanguage:n,translationsOverrides:s}))),[o,a]=(0,r.useState)((()=>se));return(0,r.useEffect)((()=>{const{isInitialized:e}=i;e?t&&i?.currentLanguage!==t&&i.changeLanguage(t).catch((e=>{console.log("Error while changing language",e)})):i.init().then((e=>a((()=>e.i18nInstance.t))))}),[i,A,t,s]),{i18n:i,t:o}},le=()=>(0,r.useContext)(oe),ue=(0,r.createContext)(void 0),de=e=>{let{children:A,client:t,i18nInstance:r,language:s,translationsOverrides:i}=e;return(0,n.jsx)(ue.Provider,{value:t,children:(0,n.jsx)(ae,{i18nInstance:r,language:s,translationsOverrides:i,children:A})})},he=(e,A)=>{const[t,n]=(0,r.useState)((()=>{try{return X.mg.getCurrentValue(e)}catch(t){if("undefined"===typeof A)throw t;return A}}));return(0,r.useEffect)((()=>X.mg.createSubscription(e,n,(e=>{console.log("An error occurred while reading an observable",e),A&&n(A)}))),[A,e]),t},pe=Object.freeze([]),ge=()=>{const e=z();if(!e){const e='You are using useCallState() outside a Call context. Please wrap your component in <StreamCall /> and provide a "call" instance.';return console.warn(e),new X.iP}return e.state},fe=()=>{const{recording$:e}=ge();return he(e)},me=()=>{const{ownCapabilities$:e}=ge();return he(e)};function Be(e,A){const t=A??e;return{status:e,optimisticStatus:t,isEnabled:"enabled"===e,isMute:"enabled"!==e,optimisticIsMute:"enabled"!==t,isTogglePending:t!==e}}function we(e){const A=(0,r.useMemo)((()=>(0,Y.of)(pe)),[]),[t,n]=(0,r.useState)(A),s=he(t,pe);return{getDevices:()=>(t===A&&n(e.listDevices()),s)}}var Ce=Object.freeze({__proto__:null,useAnonymousParticipantCount:()=>{const{anonymousParticipantCount$:e}=ge();return he(e)},useCallBlockedUserIds:()=>{const{blockedUserIds$:e}=ge();return he(e)},useCallCallingState:()=>{const{callingState$:e}=ge();return he(e)},useCallClosedCaptions:()=>{const{closedCaptions$:e}=ge();return he(e)},useCallCreatedAt:()=>{const{createdAt$:e}=ge();return he(e)},useCallCreatedBy:()=>{const{createdBy$:e}=ge();return he(e)},useCallCustomData:()=>{const{custom$:e}=ge();return he(e)},useCallEgress:()=>{const{egress$:e}=ge();return he(e)},useCallEndedAt:()=>{const{endedAt$:e}=ge();return he(e)},useCallEndedBy:()=>{const{endedBy$:e}=ge();return he(e)},useCallIngress:()=>{const{ingress$:e}=ge();return he(e)},useCallMembers:()=>{const{members$:e}=ge();return he(e)},useCallSession:()=>{const{session$:e}=ge();return he(e)},useCallSettings:()=>{const{settings$:e}=ge();return he(e)},useCallStartedAt:()=>{const{startedAt$:e}=ge();return he(e)},useCallStartsAt:()=>{const{startsAt$:e}=ge();return he(e)},useCallState:ge,useCallStatsReport:()=>{const{callStatsReport$:e}=ge();return he(e)},useCallThumbnail:()=>{const{thumbnails$:e}=ge();return he(e)},useCallUpdatedAt:()=>{const{updatedAt$:e}=ge();return he(e)},useCameraState:()=>{const e=z(),{camera:A}=e,{state:t}=A,n=he(t.direction$),r=he(t.mediaStream$),s=he(t.selectedDevice$),{getDevices:i}=we(A),o=he(t.hasBrowserPermission$),a=he(t.isPromptingPermission$);return{camera:A,direction:n,mediaStream:r,get devices(){return i()},hasBrowserPermission:o,isPromptingPermission:a,selectedDevice:s,...Be(he(t.status$),he(t.optimisticStatus$))}},useDominantSpeaker:()=>{const{dominantSpeaker$:e}=ge();return he(e)},useHasOngoingScreenShare:()=>{const{hasOngoingScreenShare$:e}=ge();return he(e)},useHasPermissions:function(){const e=me();for(var A=arguments.length,t=new Array(A),n=0;n<A;n++)t[n]=arguments[n];return t.every((A=>e?.includes(A)))},useIncomingVideoSettings:()=>{const e=z();return he(e.dynascaleManager.incomingVideoSettings$)},useIsCallCaptioningInProgress:()=>{const{captioning$:e}=ge();return he(e)},useIsCallHLSBroadcastingInProgress:()=>{const{egress$:e}=ge(),A=he(e);return!!A&&A.broadcasting},useIsCallLive:()=>{const{backstage$:e}=ge();return!he(e)},useIsCallRecordingInProgress:fe,useIsCallTranscribingInProgress:()=>{const{transcribing$:e}=ge();return he(e)},useLocalParticipant:()=>{const{localParticipant$:e}=ge();return he(e)},useMicrophoneState:()=>{const e=z(),{microphone:A}=e,{state:t}=A,n=he(t.mediaStream$),r=he(t.selectedDevice$),{getDevices:s}=we(A),i=he(t.hasBrowserPermission$),o=he(t.isPromptingPermission$),a=he(t.speakingWhileMuted$);return{microphone:A,mediaStream:n,get devices(){return s()},selectedDevice:r,hasBrowserPermission:i,isPromptingPermission:o,isSpeakingWhileMuted:a,...Be(he(t.status$),he(t.optimisticStatus$))}},useOwnCapabilities:me,useParticipantCount:()=>{const{participantCount$:e}=ge();return he(e)},useParticipants:function(){let{sortBy:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{participants$:A}=ge(),t=he(A);return(0,r.useMemo)((()=>e?[...t].sort(e):t),[t,e])},useRemoteParticipants:()=>{const{remoteParticipants$:e}=ge();return he(e)},useScreenShareState:()=>{const e=z(),{screenShare:A}=e;return{screenShare:A,mediaStream:he(A.state.mediaStream$),...Be(he(A.state.status$),he(A.state.optimisticStatus$))}},useSpeakerState:()=>{if("undefined"!==typeof navigator&&"reactnative"===navigator.product?.toLowerCase())throw new Error("This feature is not supported in React Native. Please visit https://getstream.io/video/docs/reactnative/core/camera-and-microphone/#speaker-management for more details");const e=z(),{speaker:A}=e,{getDevices:t}=we(A),n=he(A.state.selectedDevice$);return{speaker:A,get devices(){return t()},selectedDevice:n,isDeviceSelectionSupported:A.state.isDeviceSelectionSupported}}});const ve=()=>{const e=z(),A=fe(),[t,n]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n((e=>!e&&e))}),[A]);return{toggleCallRecording:(0,r.useCallback)((async()=>{try{n(!0),A?await(e?.stopRecording()):await(e?.startRecording())}catch(t){throw console.error("Failed start recording",t),t}}),[e,A]),isAwaitingResponse:t,isCallRecordingInProgress:A}},be=()=>Ce,ye=e=>{let{canRequestOnly:A,hasPermissionsOnly:t,requiredGrants:r,requireAll:s=!0,children:i}=e;const o=z(),{useCallSettings:a,useOwnCapabilities:c}=be(),l=c(),u=a(),d=r[s?"every":"some"]((e=>l?.includes(e)));if(t)return d?(0,n.jsx)(n.Fragment,{children:i}):null;const h=r.some((e=>o?.permissionsContext.canRequest(e,u)));return A?h?(0,n.jsx)(n.Fragment,{children:i}):null:d||h?(0,n.jsx)(n.Fragment,{children:i}):null}},7531:(e,A,t)=>{"use strict";t.d(A,{f:()=>r});var n=t(6326),r={setTimeout:function(e,A){for(var t=[],s=2;s<arguments.length;s++)t[s-2]=arguments[s];var i=r.delegate;return(null===i||void 0===i?void 0:i.setTimeout)?i.setTimeout.apply(i,(0,n.fX)([e,A],(0,n.zs)(t))):setTimeout.apply(void 0,(0,n.fX)([e,A],(0,n.zs)(t)))},clearTimeout:function(e){var A=r.delegate;return((null===A||void 0===A?void 0:A.clearTimeout)||clearTimeout)(e)},delegate:void 0}},7535:(e,A,t)=>{"use strict";function n(e,A){if(e){var t=e.indexOf(A);0<=t&&e.splice(t,1)}}t.d(A,{o:()=>n})},8344:(e,A,t)=>{"use strict";function n(e){var A=e((function(e){Error.call(e),e.stack=(new Error).stack}));return A.prototype=Object.create(Error.prototype),A.prototype.constructor=A,A}t.d(A,{L:()=>n})},8660:(e,A,t)=>{"use strict";t.d(A,{l:()=>s});var n=t(2631),r=t(5314);function s(e){return(0,r.T)(e[n.s])}},8744:(e,A,t)=>{"use strict";t.d(A,{x:()=>s});var n=t(2324),r=t(5314);function s(e){return(0,r.T)(null===e||void 0===e?void 0:e[n.l])}},8824:e=>{"use strict";const A={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};A.localCName=A.generateIdentifier(),A.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},A.splitSections=function(e){return e.split("\nm=").map(((e,A)=>(A>0?"m="+e:e).trim()+"\r\n"))},A.getDescription=function(e){const t=A.splitSections(e);return t&&t[0]},A.getMediaSections=function(e){const t=A.splitSections(e);return t.shift(),t},A.matchPrefix=function(e,t){return A.splitLines(e).filter((e=>0===e.indexOf(t)))},A.parseCandidate=function(e){let A;A=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const t={foundation:A[0],component:{1:"rtp",2:"rtcp"}[A[1]]||A[1],protocol:A[2].toLowerCase(),priority:parseInt(A[3],10),ip:A[4],address:A[4],port:parseInt(A[5],10),type:A[7]};for(let n=8;n<A.length;n+=2)switch(A[n]){case"raddr":t.relatedAddress=A[n+1];break;case"rport":t.relatedPort=parseInt(A[n+1],10);break;case"tcptype":t.tcpType=A[n+1];break;case"ufrag":t.ufrag=A[n+1],t.usernameFragment=A[n+1];break;default:void 0===t[A[n]]&&(t[A[n]]=A[n+1])}return t},A.writeCandidate=function(e){const A=[];A.push(e.foundation);const t=e.component;"rtp"===t?A.push(1):"rtcp"===t?A.push(2):A.push(t),A.push(e.protocol.toUpperCase()),A.push(e.priority),A.push(e.address||e.ip),A.push(e.port);const n=e.type;return A.push("typ"),A.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(A.push("raddr"),A.push(e.relatedAddress),A.push("rport"),A.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(A.push("tcptype"),A.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(A.push("ufrag"),A.push(e.usernameFragment||e.ufrag)),"candidate:"+A.join(" ")},A.parseIceOptions=function(e){return e.substring(14).split(" ")},A.parseRtpMap=function(e){let A=e.substring(9).split(" ");const t={payloadType:parseInt(A.shift(),10)};return A=A[0].split("/"),t.name=A[0],t.clockRate=parseInt(A[1],10),t.channels=3===A.length?parseInt(A[2],10):1,t.numChannels=t.channels,t},A.writeRtpMap=function(e){let A=e.payloadType;void 0!==e.preferredPayloadType&&(A=e.preferredPayloadType);const t=e.channels||e.numChannels||1;return"a=rtpmap:"+A+" "+e.name+"/"+e.clockRate+(1!==t?"/"+t:"")+"\r\n"},A.parseExtmap=function(e){const A=e.substring(9).split(" ");return{id:parseInt(A[0],10),direction:A[0].indexOf("/")>0?A[0].split("/")[1]:"sendrecv",uri:A[1],attributes:A.slice(2).join(" ")}},A.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},A.parseFmtp=function(e){const A={};let t;const n=e.substring(e.indexOf(" ")+1).split(";");for(let r=0;r<n.length;r++)t=n[r].trim().split("="),A[t[0].trim()]=t[1];return A},A.writeFmtp=function(e){let A="",t=e.payloadType;if(void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((A=>{void 0!==e.parameters[A]?n.push(A+"="+e.parameters[A]):n.push(A)})),A+="a=fmtp:"+t+" "+n.join(";")+"\r\n"}return A},A.parseRtcpFb=function(e){const A=e.substring(e.indexOf(" ")+1).split(" ");return{type:A.shift(),parameter:A.join(" ")}},A.writeRtcpFb=function(e){let A="",t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{A+="a=rtcp-fb:"+t+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),A},A.parseSsrcMedia=function(e){const A=e.indexOf(" "),t={ssrc:parseInt(e.substring(7,A),10)},n=e.indexOf(":",A);return n>-1?(t.attribute=e.substring(A+1,n),t.value=e.substring(n+1)):t.attribute=e.substring(A+1),t},A.parseSsrcGroup=function(e){const A=e.substring(13).split(" ");return{semantics:A.shift(),ssrcs:A.map((e=>parseInt(e,10)))}},A.getMid=function(e){const t=A.matchPrefix(e,"a=mid:")[0];if(t)return t.substring(6)},A.parseFingerprint=function(e){const A=e.substring(14).split(" ");return{algorithm:A[0].toLowerCase(),value:A[1].toUpperCase()}},A.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:A.matchPrefix(e+t,"a=fingerprint:").map(A.parseFingerprint)}},A.writeDtlsParameters=function(e,A){let t="a=setup:"+A+"\r\n";return e.fingerprints.forEach((e=>{t+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),t},A.parseCryptoLine=function(e){const A=e.substring(9).split(" ");return{tag:parseInt(A[0],10),cryptoSuite:A[1],keyParams:A[2],sessionParams:A.slice(3)}},A.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"===typeof e.keyParams?A.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},A.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const A=e.substring(7).split("|");return{keyMethod:"inline",keySalt:A[0],lifeTime:A[1],mkiValue:A[2]?A[2].split(":")[0]:void 0,mkiLength:A[2]?A[2].split(":")[1]:void 0}},A.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},A.getCryptoParameters=function(e,t){return A.matchPrefix(e+t,"a=crypto:").map(A.parseCryptoLine)},A.getIceParameters=function(e,t){const n=A.matchPrefix(e+t,"a=ice-ufrag:")[0],r=A.matchPrefix(e+t,"a=ice-pwd:")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},A.writeIceParameters=function(e){let A="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(A+="a=ice-lite\r\n"),A},A.parseRtpParameters=function(e){const t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=A.splitLines(e)[0].split(" ");t.profile=n[2];for(let s=3;s<n.length;s++){const r=n[s],i=A.matchPrefix(e,"a=rtpmap:"+r+" ")[0];if(i){const n=A.parseRtpMap(i),s=A.matchPrefix(e,"a=fmtp:"+r+" ");switch(n.parameters=s.length?A.parseFmtp(s[0]):{},n.rtcpFeedback=A.matchPrefix(e,"a=rtcp-fb:"+r+" ").map(A.parseRtcpFb),t.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(n.name.toUpperCase())}}}A.matchPrefix(e,"a=extmap:").forEach((e=>{t.headerExtensions.push(A.parseExtmap(e))}));const r=A.matchPrefix(e,"a=rtcp-fb:* ").map(A.parseRtcpFb);return t.codecs.forEach((e=>{r.forEach((A=>{e.rtcpFeedback.find((e=>e.type===A.type&&e.parameter===A.parameter))||e.rtcpFeedback.push(A)}))})),t},A.writeRtpDescription=function(e,t){let n="";n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" "+(t.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=t.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach((e=>{n+=A.writeRtpMap(e),n+=A.writeFmtp(e),n+=A.writeRtcpFb(e)}));let r=0;return t.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+="a=maxptime:"+r+"\r\n"),t.headerExtensions&&t.headerExtensions.forEach((e=>{n+=A.writeExtmap(e)})),n},A.parseRtpEncodingParameters=function(e){const t=[],n=A.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf("RED"),s=-1!==n.fecMechanisms.indexOf("ULPFEC"),i=A.matchPrefix(e,"a=ssrc:").map((e=>A.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),o=i.length>0&&i[0].ssrc;let a;const c=A.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));c.length>0&&c[0].length>1&&c[0][0]===o&&(a=c[0][1]),n.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let A={ssrc:o,codecPayloadType:parseInt(e.parameters.apt,10)};o&&a&&(A.rtx={ssrc:a}),t.push(A),r&&(A=JSON.parse(JSON.stringify(A)),A.fec={ssrc:o,mechanism:s?"red+ulpfec":"red"},t.push(A))}})),0===t.length&&o&&t.push({ssrc:o});let l=A.matchPrefix(e,"b=");return l.length&&(l=0===l[0].indexOf("b=TIAS:")?parseInt(l[0].substring(7),10):0===l[0].indexOf("b=AS:")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,t.forEach((e=>{e.maxBitrate=l}))),t},A.parseRtcpParameters=function(e){const t={},n=A.matchPrefix(e,"a=ssrc:").map((e=>A.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];n&&(t.cname=n.value,t.ssrc=n.ssrc);const r=A.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=r.length>0,t.compound=0===r.length;const s=A.matchPrefix(e,"a=rtcp-mux");return t.mux=s.length>0,t},A.writeRtcpParameters=function(e){let A="";return e.reducedSize&&(A+="a=rtcp-rsize\r\n"),e.mux&&(A+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(A+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),A},A.parseMsid=function(e){let t;const n=A.matchPrefix(e,"a=msid:");if(1===n.length)return t=n[0].substring(7).split(" "),{stream:t[0],track:t[1]};const r=A.matchPrefix(e,"a=ssrc:").map((e=>A.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return r.length>0?(t=r[0].value.split(" "),{stream:t[0],track:t[1]}):void 0},A.parseSctpDescription=function(e){const t=A.parseMLine(e),n=A.matchPrefix(e,"a=max-message-size:");let r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);const s=A.matchPrefix(e,"a=sctp-port:");if(s.length>0)return{port:parseInt(s[0].substring(12),10),protocol:t.fmt,maxMessageSize:r};const i=A.matchPrefix(e,"a=sctpmap:");if(i.length>0){const e=i[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},A.writeSctpDescription=function(e,A){let t=[];return t="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+A.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+A.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+A.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+A.port+" "+A.protocol+" 65535\r\n"],void 0!==A.maxMessageSize&&t.push("a=max-message-size:"+A.maxMessageSize+"\r\n"),t.join("")},A.generateSessionId=function(){return Math.random().toString().substr(2,22)},A.writeSessionBoilerplate=function(e,t,n){let r;const s=void 0!==t?t:2;r=e||A.generateSessionId();return"v=0\r\no="+(n||"thisisadapterortc")+" "+r+" "+s+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},A.getDirection=function(e,t){const n=A.splitLines(e);for(let A=0;A<n.length;A++)switch(n[A]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[A].substring(2)}return t?A.getDirection(t):"sendrecv"},A.getKind=function(e){return A.splitLines(e)[0].split(" ")[0].substring(2)},A.isRejected=function(e){return"0"===e.split(" ",2)[1]},A.parseMLine=function(e){const t=A.splitLines(e)[0].substring(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},A.parseOLine=function(e){const t=A.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},A.isValidSDP=function(e){if("string"!==typeof e||0===e.length)return!1;const t=A.splitLines(e);for(let A=0;A<t.length;A++)if(t[A].length<2||"="!==t[A].charAt(1))return!1;return!0},e.exports=A},8847:(e,A,t)=>{"use strict";t.d(A,{_:()=>r});var n=t(6326);function r(e,A,t,n,r){return new s(e,A,t,n,r)}var s=function(e){function A(A,t,n,r,s,i){var o=e.call(this,A)||this;return o.onFinalize=s,o.shouldUnsubscribe=i,o._next=t?function(e){try{t(e)}catch(n){A.error(n)}}:e.prototype._next,o._error=r?function(e){try{r(e)}catch(e){A.error(e)}finally{this.unsubscribe()}}:e.prototype._error,o._complete=n?function(){try{n()}catch(e){A.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,o}return(0,n.C6)(A,e),A.prototype.unsubscribe=function(){var A;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t=this.closed;e.prototype.unsubscribe.call(this),!t&&(null===(A=this.onFinalize)||void 0===A||A.call(this))}},A}(t(4459).vU)},8869:(e,A,t)=>{"use strict";t.d(A,{H:()=>v});var n=t(3661),r=t(1054),s=t(4619),i=t(8847);function o(e,A){return void 0===A&&(A=0),(0,s.N)((function(t,n){t.subscribe((0,i._)(n,(function(t){return(0,r.N)(n,e,(function(){return n.next(t)}),A)}),(function(){return(0,r.N)(n,e,(function(){return n.complete()}),A)}),(function(t){return(0,r.N)(n,e,(function(){return n.error(t)}),A)})))}))}function a(e,A){return void 0===A&&(A=0),(0,s.N)((function(t,n){n.add(e.schedule((function(){return t.subscribe(n)}),A))}))}var c=t(8989);var l=t(2324),u=t(5314);function d(e,A){if(!e)throw new Error("Iterable cannot be null");return new c.c((function(t){(0,r.N)(t,A,(function(){var n=e[Symbol.asyncIterator]();(0,r.N)(t,A,(function(){n.next().then((function(e){e.done?t.complete():t.next(e.value)}))}),0,!0)}))}))}var h=t(8660),p=t(869),g=t(6726),f=t(8744),m=t(4166),B=t(294),w=t(7241);function C(e,A){if(null!=e){if((0,h.l)(e))return function(e,A){return(0,n.Tg)(e).pipe(a(A),o(A))}(e,A);if((0,g.X)(e))return function(e,A){return new c.c((function(t){var n=0;return A.schedule((function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())}))}))}(e,A);if((0,p.y)(e))return function(e,A){return(0,n.Tg)(e).pipe(a(A),o(A))}(e,A);if((0,m.T)(e))return d(e,A);if((0,f.x)(e))return function(e,A){return new c.c((function(t){var n;return(0,r.N)(t,A,(function(){n=e[l.l](),(0,r.N)(t,A,(function(){var e,A,r;try{A=(e=n.next()).value,r=e.done}catch(s){return void t.error(s)}r?t.complete():t.next(A)}),0,!0)})),function(){return(0,u.T)(null===n||void 0===n?void 0:n.return)&&n.return()}}))}(e,A);if((0,w.U)(e))return function(e,A){return d((0,w.C)(e),A)}(e,A)}throw(0,B.L)(e)}function v(e,A){return A?C(e,A):(0,n.Tg)(e)}},8877:(e,A,t)=>{var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,A,t){var r=e.name&&e.names;e.push&&!A[e.push]?A[e.push]=[]:r&&!A[e.name]&&(A[e.name]={});var s=e.push?{}:r?A[e.name]:A;!function(e,A,t,r){if(r&&!t)A[r]=n(e[1]);else for(var s=0;s<t.length;s+=1)null!=e[s+1]&&(A[t[s]]=n(e[s+1]))}(t.match(e.reg),s,e.names,e.name),e.push&&A[e.push].push(s)},s=t(6321),i=RegExp.prototype.test.bind(/^([a-z])=(.*)/);A.parse=function(e){var A={},t=[],n=A;return e.split(/(\r\n|\r|\n)/).filter(i).forEach((function(e){var A=e[0],i=e.slice(2);"m"===A&&(t.push({rtp:[],fmtp:[]}),n=t[t.length-1]);for(var o=0;o<(s[A]||[]).length;o+=1){var a=s[A][o];if(a.reg.test(i))return r(a,n,i)}})),A.media=t,A};var o=function(e,A){var t=A.split(/=(.+)/,2);return 2===t.length?e[t[0]]=n(t[1]):1===t.length&&A.length>1&&(e[t[0]]=void 0),e};A.parseParams=function(e){return e.split(/;\s?/).reduce(o,{})},A.parseFmtpConfig=A.parseParams,A.parsePayloads=function(e){return e.toString().split(" ").map(Number)},A.parseRemoteCandidates=function(e){for(var A=[],t=e.split(" ").map(n),r=0;r<t.length;r+=3)A.push({component:t[r],ip:t[r+1],port:t[r+2]});return A},A.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(o,{})}))},A.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var A,t=!1;return"~"!==e[0]?A=n(e):(A=n(e.substring(1,e.length)),t=!0),{scid:A,paused:t}}))}))}},8879:(e,A,t)=>{"use strict";t.d(A,{Y:()=>s,l:()=>i});var n=t(3629),r=null;function s(e){if(n.$.useDeprecatedSynchronousErrorHandling){var A=!r;if(A&&(r={errorThrown:!1,error:null}),e(),A){var t=r,s=t.errorThrown,i=t.error;if(r=null,s)throw i}}else e()}function i(e){n.$.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=e)}},8989:(e,A,t)=>{"use strict";t.d(A,{c:()=>u});var n=t(4459),r=t(6794),s=t(2631),i=t(2184);function o(e){return 0===e.length?i.D:1===e.length?e[0]:function(A){return e.reduce((function(e,A){return A(e)}),A)}}var a=t(3629),c=t(5314),l=t(8879),u=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(A){var t=new e;return t.source=this,t.operator=A,t},e.prototype.subscribe=function(e,A,t){var s,i=this,o=(s=e)&&s instanceof n.vU||function(e){return e&&(0,c.T)(e.next)&&(0,c.T)(e.error)&&(0,c.T)(e.complete)}(s)&&(0,r.Uv)(s)?e:new n.Ms(e,A,t);return(0,l.Y)((function(){var e=i,A=e.operator,t=e.source;o.add(A?A.call(o,t):t?i._subscribe(o):i._trySubscribe(o))})),o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(A){e.error(A)}},e.prototype.forEach=function(e,A){var t=this;return new(A=d(A))((function(A,r){var s=new n.Ms({next:function(A){try{e(A)}catch(t){r(t),s.unsubscribe()}},error:r,complete:A});t.subscribe(s)}))},e.prototype._subscribe=function(e){var A;return null===(A=this.source)||void 0===A?void 0:A.subscribe(e)},e.prototype[s.s]=function(){return this},e.prototype.pipe=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];return o(e)(this)},e.prototype.toPromise=function(e){var A=this;return new(e=d(e))((function(e,t){var n;A.subscribe((function(e){return n=e}),(function(e){return t(e)}),(function(){return e(n)}))}))},e.create=function(A){return new e(A)},e}();function d(e){var A;return null!==(A=null!==e&&void 0!==e?e:a.$.Promise)&&void 0!==A?A:Promise}},9640:(e,A,t)=>{var n=t(8877),r=t(6605);t(6321),A.qg=n.parse,n.parseParams,n.parseFmtpConfig,n.parsePayloads,n.parseRemoteCandidates,n.parseImageAttributes,n.parseSimulcastStreamList}}]);
//# sourceMappingURL=716.48b43877.chunk.js.map