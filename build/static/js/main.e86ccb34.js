/*! For license information please see main.e86ccb34.js.LICENSE.txt */
(()=>{var e={579:(e,t,n)=>{"use strict";e.exports=n(1153)},1153:(e,t,n)=>{"use strict";var r=n(5043),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,i={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,r)&&!c.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:l,ref:u,props:i,_owner:a.current}}t.Fragment=i,t.jsx=l,t.jsxs=l},2285:e=>{var t,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:o}catch(e){t=o}try{n="function"===typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var a,c=[],l=!1,u=-1;function d(){l&&a&&(l=!1,a.length?c=a.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=s(d);l=!0;for(var t=c.length;t;){for(a=c,c=[];++u<t;)a&&a[u].run();u=-1,t=c.length}a=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{return n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new f(e,t)),1!==c.length||l||s(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},2330:(e,t,n)=>{"use strict";var r=n(5043);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},i=r.useState,s=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function l(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(r){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=i({inst:{value:n,getSnapshot:t}}),o=r[0].inst,u=r[1];return a((function(){o.value=n,o.getSnapshot=t,l(o)&&u({inst:o})}),[e,n,t]),s((function(){return l(o)&&u({inst:o}),e((function(){l(o)&&u({inst:o})}))}),[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:u},2730:(e,t,n)=>{"use strict";var r=n(5043),o=n(8853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,C=Symbol.for("react.element"),x=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),I=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var M=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=M&&e[M]||e["@@iterator"])?e:null}var L,D=Object.assign;function q(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function F(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var o=l.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var c="\n"+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function B(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case x:return"Portal";case T:return"Profiler";case S:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function $(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function V(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=$(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=$(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,$(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&V(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:$(n)}}function ie(e,t){var n=$(t.value),r=$(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ce(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,ke=null,Se=null;function Te(e){if(e=bo(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function Ie(e){ke?Se?Se.push(e):Se=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Se;if(Se=ke=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ae(e,t){return e(t)}function _e(){}var Ne=!1;function Pe(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ae(e,t,n)}finally{Ne=!1,(null!==ke||null!==Se)&&(_e(),Ee())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Oe=!1;if(u)try{var Me={};Object.defineProperty(Me,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Me,Me),window.removeEventListener("test",Me,Me)}catch(ue){Oe=!1}function je(e,t,n,r,o,i,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Le=!1,De=null,qe=!1,Ue=null,Fe={onError:function(e){Le=!0,De=e}};function Be(e,t,n,r,o,i,s,a,c){Le=!1,De=null,je.apply(Fe,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function $e(e){if(He(e)!==e)throw Error(i(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return $e(o),e;if(s===r)return $e(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,c=o.child;c;){if(c===n){a=!0,n=o,r=s;break}if(c===r){a=!0,r=o,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=o;break}if(c===r){a=!0,r=s,n=o;break}c=c.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Qe=o.unstable_scheduleCallback,Ve=o.unstable_cancelCallback,Ge=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Je=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ct,xt,kt,St,Tt,It=!1,Et=[],At=null,_t=null,Nt=null,Pt=new Map,Rt=new Map,Ot=[],Mt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=bo(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Dt(e){var t=wo(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Tt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bo(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ut(e,t,n){qt(e)&&n.delete(t)}function Ft(){It=!1,null!==At&&qt(At)&&(At=null),null!==_t&&qt(_t)&&(_t=null),null!==Nt&&qt(Nt)&&(Nt=null),Pt.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,Ft)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==_t&&Bt(_t,e),null!==Nt&&Bt(Nt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Dt(n),null===n.blockedOn&&Ot.shift()}var zt=b.ReactCurrentBatchConfig,$t=!0;function Kt(e,t,n,r){var o=wt,i=zt.transition;zt.transition=null;try{wt=1,Qt(e,t,n,r)}finally{wt=o,zt.transition=i}}function Wt(e,t,n,r){var o=wt,i=zt.transition;zt.transition=null;try{wt=4,Qt(e,t,n,r)}finally{wt=o,zt.transition=i}}function Qt(e,t,n,r){if($t){var o=Gt(e,t,n,r);if(null===o)$r(e,t,r,Vt,n),jt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return At=Lt(At,e,t,n,r,o),!0;case"dragenter":return _t=Lt(_t,e,t,n,r,o),!0;case"mouseover":return Nt=Lt(Nt,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Pt.set(i,Lt(Pt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Lt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(jt(e,r),4&t&&-1<Mt.indexOf(e)){for(;null!==o;){var i=bo(o);if(null!==i&&Ct(i),null===(i=Gt(e,t,n,r))&&$r(e,t,r,Vt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else $r(e,t,r,null,n)}}var Vt=null;function Gt(e,t,n,r){if(Vt=null,null!==(e=wo(e=Ce(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Vt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,o="value"in Jt?Jt.value:Jt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Zt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=on(ln),dn=D({},ln,{view:0,detail:0}),hn=on(dn),fn=D({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(sn=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=sn=0,cn=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=on(fn),mn=on(D({},fn,{dataTransfer:0})),gn=on(D({},dn,{relatedTarget:0})),yn=on(D({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=D({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(vn),bn=on(D({},ln,{data:0})),Cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Tn(){return Sn}var In=D({},dn,{key:function(e){if(e.key){var t=Cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=on(In),An=on(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=on(D({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Nn=on(D({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Pn),On=[9,13,27,32],Mn=u&&"CompositionEvent"in window,jn=null;u&&"documentMode"in document&&(jn=document.documentMode);var Ln=u&&"TextEvent"in window&&!jn,Dn=u&&(!Mn||jn&&8<jn&&11>=jn),qn=String.fromCharCode(32),Un=!1;function Fn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ie(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Qn=null;function Vn(e){qr(e,0)}function Gn(e){if(Q(Co(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Qn)){var t=[];Kn(t,Qn,e,Ce(e)),Pe(Vn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Qn)}function ir(e,t){if("click"===e)return Gn(t)}function sr(e,t){if("input"===e||"change"===e)return Gn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=V();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=V((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=ur(n,i);var s=ur(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==V(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Cr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionend:Cr("Transition","TransitionEnd")},kr={},Sr={};function Tr(e){if(kr[e])return kr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return kr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Ir=Tr("animationend"),Er=Tr("animationiteration"),Ar=Tr("animationstart"),_r=Tr("transitionend"),Nr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Nr.set(e,t),c(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Mr=Pr[Or];Rr(Mr.toLowerCase(),"on"+(Mr[0].toUpperCase()+Mr.slice(1)))}Rr(Ir,"onAnimationEnd"),Rr(Er,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(_r,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,c,l){if(Be.apply(this,arguments),Le){if(!Le)throw Error(i(198));var u=De;Le=!1,De=null,qe||(qe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function qr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==i&&o.isPropagationStopped())break e;Dr(o,a,l),i=c}else for(s=0;s<r.length;s++){if(c=(a=r[s]).instance,l=a.currentTarget,a=a.listener,c!==i&&o.isPropagationStopped())break e;Dr(o,a,l),i=c}}}if(qe)throw e=Ue,qe=!1,Ue=null,e}function Ur(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Fr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Fr(t,!1,e),Fr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Fr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Yt(t)){case 1:var o=Kt;break;case 4:o=Wt;break;default:o=Qt}n=o.bind(null,t,n,e),o=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function $r(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===o||8===c.nodeType&&c.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=wo(a)))return;if(5===(c=s.tag)||6===c){r=i=s;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=i,o=Ce(n),s=[];e:{var a=Nr.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=En;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=_n;break;case Ir:case Er:case Ar:c=yn;break;case _r:c=Nn;break;case"scroll":c=hn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=An}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Re(p,h))&&u.push(Kr(p,m,f)))),d)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,o),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!wo(l)&&!l[mo])&&(c||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?wo(l):null)&&(l!==(d=He(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=An,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==c?a:Co(c),f=null==l?a:Co(l),(a=new u(m,p+"leave",c,n,o)).target=d,a.relatedTarget=f,m=null,wo(o)===r&&((u=new u(h,p+"enter",l,n,o)).target=f,u.relatedTarget=d,m=u),d=m,c&&l)e:{for(h=l,p=0,f=u=c;f;f=Qr(f))p++;for(f=0,m=h;m;m=Qr(m))f++;for(;0<p-f;)u=Qr(u),p--;for(;0<f-p;)h=Qr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Qr(u),h=Qr(h)}u=null}else u=null;null!==c&&Vr(s,a,c,u,!1),null!==l&&null!==d&&Vr(s,d,l,u,!0)}if("select"===(c=(a=r?Co(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Yn;else if($n(a))if(Jn)g=sr;else{g=or;var y=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?Kn(s,g,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Co(r):window,e){case"focusin":($n(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(s,n,o)}var v;if(Mn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Fn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(v=en()):(Xt="value"in(Jt=o)?Jt.value:Jt.textContent,Hn=!0)),0<(y=Wr(r,w)).length&&(w=new bn(w,e,null,n,o),s.push({event:w,listeners:y}),v?w.data=v:null!==(v=Bn(n))&&(w.data=v))),(v=Ln?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,qn);case"textInput":return(e=t.data)===qn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Mn&&Fn(e,t)?(e=en(),Zt=Xt=Jt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new bn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=v))}qr(s,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(Kr(e,i,o)),null!=(i=Re(e,t))&&r.push(Kr(e,i,o))),e=e.return}return r}function Qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Vr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,o?null!=(c=Re(n,i))&&s.unshift(Kr(n,c,a)):o||null!=(c=Re(n,i))&&s.push(Kr(n,c,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Gr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(i(425))}function Zr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function co(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);Ht(t)}function lo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function uo(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ho=Math.random().toString(36).slice(2),fo="__reactFiber$"+ho,po="__reactProps$"+ho,mo="__reactContainer$"+ho,go="__reactEvents$"+ho,yo="__reactListeners$"+ho,vo="__reactHandles$"+ho;function wo(e){var t=e[fo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[fo]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=uo(e);null!==e;){if(n=e[fo])return n;e=uo(e)}return t}n=(e=n).parentNode}return null}function bo(e){return!(e=e[fo]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Co(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[po]||null}var ko=[],So=-1;function To(e){return{current:e}}function Io(e){0>So||(e.current=ko[So],ko[So]=null,So--)}function Eo(e,t){So++,ko[So]=e.current,e.current=t}var Ao={},_o=To(Ao),No=To(!1),Po=Ao;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Ao;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Oo(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mo(){Io(No),Io(_o)}function jo(e,t,n){if(_o.current!==Ao)throw Error(i(168));Eo(_o,t),Eo(No,n)}function Lo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,z(e)||"Unknown",o));return D({},n,r)}function Do(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ao,Po=_o.current,Eo(_o,e),Eo(No,No.current),!0}function qo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Lo(e,t,Po),r.__reactInternalMemoizedMergedChildContext=e,Io(No),Io(_o),Eo(_o,e)):Io(No),Eo(No,n)}var Uo=null,Fo=!1,Bo=!1;function Ho(e){null===Uo?Uo=[e]:Uo.push(e)}function zo(){if(!Bo&&null!==Uo){Bo=!0;var e=0,t=wt;try{var n=Uo;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Uo=null,Fo=!1}catch(o){throw null!==Uo&&(Uo=Uo.slice(e+1)),Qe(Ze,zo),o}finally{wt=t,Bo=!1}}return null}var $o=[],Ko=0,Wo=null,Qo=0,Vo=[],Go=0,Yo=null,Jo=1,Xo="";function Zo(e,t){$o[Ko++]=Qo,$o[Ko++]=Wo,Wo=e,Qo=t}function ei(e,t,n){Vo[Go++]=Jo,Vo[Go++]=Xo,Vo[Go++]=Yo,Yo=e;var r=Jo;e=Xo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Jo=1<<32-st(t)+o|n<<o|r,Xo=i+e}else Jo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Zo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=$o[--Ko],$o[Ko]=null,Qo=$o[--Ko],$o[Ko]=null;for(;e===Yo;)Yo=Vo[--Go],Vo[Go]=null,Xo=Vo[--Go],Vo[Go]=null,Jo=Vo[--Go],Vo[Go]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ci(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=lo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Jo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function li(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ui(e){if(ii){var t=oi;if(t){var n=t;if(!ci(e,t)){if(li(e))throw Error(i(418));t=lo(n.nextSibling);var r=ri;t&&ci(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(li(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function hi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(li(e))throw fi(),Error(i(418));for(;t;)ai(e,t),t=lo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=lo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?lo(e.stateNode.nextSibling):null;return!0}function fi(){for(var e=oi;e;)e=lo(e.nextSibling)}function pi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=b.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function wi(e){return(0,e._init)(e._payload)}function bi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Dl(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function l(e,t,n,r){var i=n.type;return i===k?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&wi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=Ml(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ql(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=jl(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case C:return(n=Ml(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case x:return(t=ql(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||j(t))return(t=jl(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function f(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case C:return n.key===o?l(e,t,n,r):null;case x:return n.key===o?u(e,t,n,r):null;case R:return f(e,t,(o=n._init)(n._payload),r)}if(te(n)||j(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function p(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case C:return l(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return p(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||j(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,a,c){for(var l=null,u=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(o,d,a[m],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,m),null===u?l=y:u.sibling=y,u=y,d=g}if(m===a.length)return n(o,d),ii&&Zo(o,m),l;if(null===d){for(;m<a.length;m++)null!==(d=h(o,a[m],c))&&(i=s(d,i,m),null===u?l=d:u.sibling=d,u=d);return ii&&Zo(o,m),l}for(d=r(o,d);m<a.length;m++)null!==(g=p(d,o,m,a[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Zo(o,m),l}function g(o,a,c,l){var u=j(c);if("function"!==typeof u)throw Error(i(150));if(null==(c=u.call(c)))throw Error(i(151));for(var d=u=null,m=a,g=a=0,y=null,v=c.next();null!==m&&!v.done;g++,v=c.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=f(o,m,v.value,l);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(o,m),a=s(w,a,g),null===d?u=w:d.sibling=w,d=w,m=y}if(v.done)return n(o,m),ii&&Zo(o,g),u;if(null===m){for(;!v.done;g++,v=c.next())null!==(v=h(o,v.value,l))&&(a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return ii&&Zo(o,g),u}for(m=r(o,m);!v.done;g++,v=c.next())null!==(v=p(m,o,g,v.value,l))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Zo(o,g),u}return function e(r,i,s,c){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case C:e:{for(var l=s.key,u=i;null!==u;){if(u.key===l){if((l=s.type)===k){if(7===u.tag){n(r,u.sibling),(i=o(u,s.props.children)).return=r,r=i;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&wi(l)===u.type){n(r,u.sibling),(i=o(u,s.props)).ref=yi(r,u,s),i.return=r,r=i;break e}n(r,u);break}t(r,u),u=u.sibling}s.type===k?((i=jl(s.props.children,r.mode,c,s.key)).return=r,r=i):((c=Ml(s.type,s.key,s.props,null,r.mode,c)).ref=yi(r,i,s),c.return=r,r=c)}return a(r);case x:e:{for(u=s.key;null!==i;){if(i.key===u){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=ql(s,r.mode,c)).return=r,r=i}return a(r);case R:return e(r,i,(u=s._init)(s._payload),c)}if(te(s))return m(r,i,s,c);if(j(s))return g(r,i,s,c);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Dl(s,r.mode,c)).return=r,r=i),a(r)):n(r,i)}}var Ci=bi(!0),xi=bi(!1),ki=To(null),Si=null,Ti=null,Ii=null;function Ei(){Ii=Ti=Si=null}function Ai(e){var t=ki.current;Io(ki),e._currentValue=t}function _i(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ni(e,t){Si=e,Ii=Ti=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wa=!0),e.firstContext=null)}function Pi(e){var t=e._currentValue;if(Ii!==e)if(e={context:e,memoizedValue:t,next:null},null===Ti){if(null===Si)throw Error(i(308));Ti=e,Si.dependencies={lanes:0,firstContext:e}}else Ti=Ti.next=e;return t}var Ri=null;function Oi(e){null===Ri?Ri=[e]:Ri.push(e)}function Mi(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Oi(t)):(n.next=o.next,o.next=n),t.interleaved=n,ji(e,r)}function ji(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Li=!1;function Di(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qi(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ui(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Fi(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ac)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,ji(e,n)}return null===(o=r.interleaved)?(t.next=t,Oi(r)):(t.next=o.next,o.next=t),r.interleaved=t,ji(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Hi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function zi(e,t,n,r){var o=e.updateQueue;Li=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?i=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==i){var d=o.baseState;for(s=0,u=l=c=null,a=i;;){var h=a.lane,f=a.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:Li=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(h=o.effects)?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,s|=h;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(h=a).next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}if(null===u&&(c=d),o.baseState=c,o.firstBaseUpdate=l,o.lastBaseUpdate=u,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Lc|=s,e.lanes=s,e.memoizedState=d}}function $i(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var Ki={},Wi=To(Ki),Qi=To(Ki),Vi=To(Ki);function Gi(e){if(e===Ki)throw Error(i(174));return e}function Yi(e,t){switch(Eo(Vi,t),Eo(Qi,e),Eo(Wi,Ki),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Io(Wi),Eo(Wi,t)}function Ji(){Io(Wi),Io(Qi),Io(Vi)}function Xi(e){Gi(Vi.current);var t=Gi(Wi.current),n=ce(t,e.type);t!==n&&(Eo(Qi,e),Eo(Wi,n))}function Zi(e){Qi.current===e&&(Io(Wi),Io(Qi))}var es=To(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=b.ReactCurrentDispatcher,is=b.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,ds=!1,hs=0,fs=0;function ps(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Zs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,hs=0,25<=s)throw Error(i(301));s+=1,ls=cs=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Xs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(i(300));return e}function ys(){var e=0!==hs;return hs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function ws(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(i(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function bs(e,t){return"function"===typeof t?t(e):t}function Cs(e){var t=ws(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=cs,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var c=a=null,l=null,u=s;do{var d=u.lane;if((ss&d)===d)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=h,a=r):l=l.next=h,as.lanes|=d,Lc|=d}u=u.next}while(null!==u&&u!==s);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(wa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Lc|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=ws(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(wa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function ks(){}function Ss(e,t){var n=as,r=ws(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,wa=!0),r=r.queue,Ls(Es.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(n.flags|=2048,Ps(9,Is.bind(null,n,r,o,t),void 0,null),null===_c)throw Error(i(349));0!==(30&ss)||Ts(n,t,o)}return o}function Ts(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Is(e,t,n,r){t.value=n,t.getSnapshot=r,As(t)&&_s(e)}function Es(e,t,n){return n((function(){As(t)&&_s(e)}))}function As(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function _s(e){var t=ji(e,1);null!==t&&nl(t,e,1,-1)}function Ns(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bs,lastRenderedState:e},t.queue=e,e=e.dispatch=Vs.bind(null,as,e),[t.memoizedState,e]}function Ps(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return ws().memoizedState}function Os(e,t,n,r){var o=vs();as.flags|=e,o.memoizedState=Ps(1|t,n,void 0,void 0===r?null:r)}function Ms(e,t,n,r){var o=ws();r=void 0===r?null:r;var i=void 0;if(null!==cs){var s=cs.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ps(t,n,i,r))}as.flags|=e,o.memoizedState=Ps(1|t,n,i,r)}function js(e,t){return Os(8390656,8,e,t)}function Ls(e,t){return Ms(2048,8,e,t)}function Ds(e,t){return Ms(4,2,e,t)}function qs(e,t){return Ms(4,4,e,t)}function Us(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Fs(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ms(4,4,Us.bind(null,t,e),n)}function Bs(){}function Hs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zs(e,t){var n=ws();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $s(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,wa=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Lc|=n,e.baseState=!0),t)}function Ks(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{wt=n,is.transition=r}}function Ws(){return ws().memoizedState}function Qs(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e))Ys(t,n);else if(null!==(n=Mi(e,t,n,r))){nl(n,e,r,el()),Js(n,t,r)}}function Vs(e,t,n){var r=tl(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var c=t.interleaved;return null===c?(o.next=o,Oi(t)):(o.next=c.next,c.next=o),void(t.interleaved=o)}}catch(l){}null!==(n=Mi(e,t,o,r))&&(nl(n,e,r,o=el()),Js(n,t,r))}}function Gs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=us=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Js(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Pi,useCallback:ps,useContext:ps,useEffect:ps,useImperativeHandle:ps,useInsertionEffect:ps,useLayoutEffect:ps,useMemo:ps,useReducer:ps,useRef:ps,useState:ps,useDebugValue:ps,useDeferredValue:ps,useTransition:ps,useMutableSource:ps,useSyncExternalStore:ps,useId:ps,unstable_isNewReconciler:!1},Zs={readContext:Pi,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Pi,useEffect:js,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Os(4194308,4,Us.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Os(4194308,4,e,t)},useInsertionEffect:function(e,t){return Os(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Qs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Ns,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Ns(!1),t=e[0];return e=Ks.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=vs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_c)throw Error(i(349));0!==(30&ss)||Ts(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,js(Es.bind(null,r,s,e),[e]),r.flags|=2048,Ps(9,Is.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=_c.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Jo&~(1<<32-st(Jo)-1)).toString(32)+n),0<(n=hs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Pi,useCallback:Hs,useContext:Pi,useEffect:Ls,useImperativeHandle:Fs,useInsertionEffect:Ds,useLayoutEffect:qs,useMemo:zs,useReducer:Cs,useRef:Rs,useState:function(){return Cs(bs)},useDebugValue:Bs,useDeferredValue:function(e){return $s(ws(),cs.memoizedState,e)},useTransition:function(){return[Cs(bs)[0],ws().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ws,unstable_isNewReconciler:!1},ta={readContext:Pi,useCallback:Hs,useContext:Pi,useEffect:Ls,useImperativeHandle:Fs,useInsertionEffect:Ds,useLayoutEffect:qs,useMemo:zs,useReducer:xs,useRef:Rs,useState:function(){return xs(bs)},useDebugValue:Bs,useDeferredValue:function(e){var t=ws();return null===cs?t.memoizedState=e:$s(t,cs.memoizedState,e)},useTransition:function(){return[xs(bs)[0],ws().memoizedState]},useMutableSource:ks,useSyncExternalStore:Ss,useId:Ws,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Ui(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nl(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),o=tl(e),i=Ui(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Fi(e,i,o))&&(nl(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),o=Ui(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=Fi(e,o,r))&&(nl(t,e,r,n),Bi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(o,i))}function sa(e,t,n){var r=!1,o=Ao,i=t.contextType;return"object"===typeof i&&null!==i?i=Pi(i):(o=Oo(t)?Po:_o.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):Ao),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ca(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Di(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Pi(i):(i=Oo(t)?Po:_o.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),zi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ua(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ha="function"===typeof WeakMap?WeakMap:Map;function fa(e,t,n){(n=Ui(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){$c||($c=!0,Kc=r),da(0,t)},n}function pa(e,t,n){(n=Ui(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ha;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Tl.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ui(-1,1)).tag=2,Fi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var va=b.ReactCurrentOwner,wa=!1;function ba(e,t,n,r){t.child=null===e?xi(t,null,n,r):Ci(t,e.child,n,r)}function Ca(e,t,n,r,o){n=n.render;var i=t.ref;return Ni(t,o),r=gs(e,t,n,r,i,o),n=ys(),null===e||wa?(ii&&n&&ti(t),t.flags|=1,ba(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$a(e,t,o))}function xa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Rl(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ml(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,ka(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(s,r)&&e.ref===t.ref)return $a(e,t,o)}return t.flags|=1,(e=Ol(i,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(cr(i,r)&&e.ref===t.ref){if(wa=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,$a(e,t,o);0!==(131072&e.flags)&&(wa=!0)}}return Ia(e,t,n,r,o)}function Sa(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Eo(Oc,Rc),Rc|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Eo(Oc,Rc),Rc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,Eo(Oc,Rc),Rc|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,Eo(Oc,Rc),Rc|=r;return ba(e,t,o,n),t.child}function Ta(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ia(e,t,n,r,o){var i=Oo(n)?Po:_o.current;return i=Ro(t,i),Ni(t,o),n=gs(e,t,n,r,i,o),r=ys(),null===e||wa?(ii&&r&&ti(t),t.flags|=1,ba(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,$a(e,t,o))}function Ea(e,t,n,r,o){if(Oo(n)){var i=!0;Do(t)}else i=!1;if(Ni(t,o),null===t.stateNode)za(e,t),sa(t,n,r),ca(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=Pi(l):l=Ro(t,l=Oo(n)?Po:_o.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||c!==l)&&aa(t,s,r,l),Li=!1;var h=t.memoizedState;s.state=h,zi(t,r,s,o),c=t.memoizedState,a!==r||h!==c||No.current||Li?("function"===typeof u&&(ra(t,n,u,r),c=t.memoizedState),(a=Li||ia(t,n,a,r,h,c,l))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=l,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,qi(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:na(t.type,a),s.props=l,d=t.pendingProps,h=s.context,"object"===typeof(c=n.contextType)&&null!==c?c=Pi(c):c=Ro(t,c=Oo(n)?Po:_o.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||h!==c)&&aa(t,s,r,c),Li=!1,h=t.memoizedState,s.state=h,zi(t,r,s,o);var p=t.memoizedState;a!==d||h!==p||No.current||Li?("function"===typeof f&&(ra(t,n,f,r),p=t.memoizedState),(l=Li||ia(t,n,l,r,h,p,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,p,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,i,o)}function Aa(e,t,n,r,o,i){Ta(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&qo(t,n,!1),$a(e,t,i);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=Ci(t,e.child,null,i),t.child=Ci(t,null,a,i)):ba(e,t,a,i),t.memoizedState=r.state,o&&qo(t,n,!0),t.child}function _a(e){var t=e.stateNode;t.pendingContext?jo(0,t.pendingContext,t.pendingContext!==t.context):t.context&&jo(0,t.context,!1),Yi(e,t.containerInfo)}function Na(e,t,n,r,o){return pi(),mi(o),t.flags|=256,ba(e,t,n,r),t.child}var Pa,Ra,Oa,Ma,ja={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Da(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Eo(es,1&s),null===e)return ui(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=o.children,e=o.fallback,a?(o=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Ll(c,o,0,null),e=jl(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=La(n),t.memoizedState=ja,e):qa(t,c));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Ua(e,t,a,r=ua(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Ll({mode:"visible",children:r.children},o,0,null),(s=jl(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&Ci(t,e.child,null,a),t.child.memoizedState=La(a),t.memoizedState=ja,s);if(0===(1&t.mode))return Ua(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var c=r.dgst;return r=c,Ua(e,t,a,r=ua(s=Error(i(419)),r,void 0))}if(c=0!==(a&e.childLanes),wa||c){if(null!==(r=_c)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,ji(e,o),nl(r,e,o,-1))}return ml(),Ua(e,t,a,r=ua(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=El.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=lo(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Vo[Go++]=Jo,Vo[Go++]=Xo,Vo[Go++]=Yo,Jo=e.id,Xo=e.overflow,Yo=t),t=qa(t,r.children),t.flags|=4096,t)}(e,t,c,o,r,s,n);if(a){a=o.fallback,c=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:o.children};return 0===(1&c)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=l,t.deletions=null):(o=Ol(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Ol(r,a):(a=jl(a,c,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,c=null===(c=e.child.memoizedState)?La(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=ja,o}return e=(a=e.child).sibling,o=Ol(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function qa(e,t){return(t=Ll({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ua(e,t,n,r){return null!==r&&mi(r),Ci(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Fa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),_i(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Ha(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Fa(e,n,t);else if(19===e.tag)Fa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Eo(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function za(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function $a(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Lc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Oo(t.type)&&Mo(),Wa(t),null;case 3:return r=t.stateNode,Ji(),Io(No),Io(_o),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(sl(si),si=null))),Ra(e,t),Wa(t),null;case 5:Zi(t);var o=Gi(Vi.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wa(t),null}if(e=Gi(Wi.current),hi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[fo]=t,r[po]=s,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(o=0;o<jr.length;o++)Ur(jr[o],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,s),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ur("invalid",r);break;case"textarea":oe(r,s),Ur("invalid",r)}for(var c in ve(n,s),o=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,l,e),o=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Zr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[fo]=t,e[po]=r,Pa(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),o=r;break;case"iframe":case"object":case"embed":Ur("load",e),o=r;break;case"video":case"audio":for(o=0;o<jr.length;o++)Ur(jr[o],e);o=r;break;case"source":Ur("error",e),o=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),o=r;break;case"details":Ur("toggle",e),o=r;break;case"input":Y(e,r),o=G(e,r),Ur("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=D({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Ur("invalid",e)}for(s in ve(n,o),l=o)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===s?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Ur("scroll",e):null!=u&&w(e,s,u,c))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+$(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)Ma(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Gi(Vi.current),Gi(Wi.current),hi(t)){if(r=t.stateNode,n=t.memoizedProps,r[fo]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fo]=t,t.stateNode=r}return Wa(t),null;case 13:if(Io(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))fi(),pi(),t.flags|=98560,s=!1;else if(s=hi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[fo]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),s=!1}else null!==si&&(sl(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Mc&&(Mc=3):ml())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Ji(),Ra(e,t),null===e&&Hr(t.stateNode.containerInfo),Wa(t),null;case 10:return Ai(t.type._context),Wa(t),null;case 19:if(Io(es),null===(s=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(c=s.rendering))if(r)Ka(s,!1);else{if(0!==Mc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Ka(s,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Eo(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Hc&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!ii)return Wa(t),null}else 2*Je()-s.renderingStartTime>Hc&&1073741824!==n&&(t.flags|=128,r=!0,Ka(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=s.last)?n.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=es.current,Eo(es,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rc)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Va(e,t){switch(ni(t),t.tag){case 1:return Oo(t.type)&&Mo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ji(),Io(No),Io(_o),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zi(t),null;case 13:if(Io(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Io(es),null;case 4:return Ji(),null;case 10:return Ai(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Pa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Oa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Gi(Wi.current);var i,s=null;switch(n){case"input":o=G(e,o),r=G(e,r),s=[];break;case"select":o=D({},o,{value:void 0}),r=D({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ve(n,r),n=null,o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&null!=o[u])if("style"===u){var c=o[u];for(i in c)c.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=o?o[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(i in c)!c.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&c[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(s||(s=[]),s.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ur("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Ma=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ga=!1,Ya=!1,Ja="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Sl(e,t,r)}else n.current=null}function ec(e,t,n){try{n()}catch(r){Sl(e,t,r)}}var tc=!1;function nc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&ec(t,n,i)}o=o.next}while(o!==r)}}function rc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function oc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ic(e){var t=e.alternate;null!==t&&(e.alternate=null,ic(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fo],delete t[po],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cc(e,t,n),e=e.sibling;null!==e;)cc(e,t,n),e=e.sibling}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}var uc=null,dc=!1;function hc(e,t,n){for(n=n.child;null!==n;)fc(e,t,n),n=n.sibling}function fc(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Za(n,t);case 6:var r=uc,o=dc;uc=null,hc(e,t,n),dc=o,null!==(uc=r)&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):uc.removeChild(n.stateNode));break;case 18:null!==uc&&(dc?(e=uc,n=n.stateNode,8===e.nodeType?co(e.parentNode,n):1===e.nodeType&&co(e,n),Ht(e)):co(uc,n.stateNode));break;case 4:r=uc,o=dc,uc=n.stateNode.containerInfo,dc=!0,hc(e,t,n),uc=r,dc=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&ec(n,t,s),o=o.next}while(o!==r)}hc(e,t,n);break;case 1:if(!Ya&&(Za(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Sl(n,t,a)}hc(e,t,n);break;case 21:hc(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,hc(e,t,n),Ya=r):hc(e,t,n);break;default:hc(e,t,n)}}function pc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ja),t.forEach((function(t){var r=Al.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function mc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,dc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===uc)throw Error(i(160));fc(s,a,o),uc=null,dc=!1;var l=o.alternate;null!==l&&(l.return=null),o.return=null}catch(u){Sl(o,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(mc(t,e),yc(e),4&r){try{nc(3,e,e.return),rc(3,e)}catch(g){Sl(e,e.return,g)}try{nc(5,e,e.return)}catch(g){Sl(e,e.return,g)}}break;case 1:mc(t,e),yc(e),512&r&&null!==n&&Za(n,n.return);break;case 5:if(mc(t,e),yc(e),512&r&&null!==n&&Za(n,n.return),32&e.flags){var o=e.stateNode;try{he(o,"")}catch(g){Sl(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&J(o,s),we(c,a);var u=we(c,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];"style"===d?ge(o,h):"dangerouslySetInnerHTML"===d?de(o,h):"children"===d?he(o,h):w(o,d,h,u)}switch(c){case"input":X(o,s);break;case"textarea":ie(o,s);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var p=s.value;null!=p?ne(o,!!s.multiple,p,!1):f!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[po]=s}catch(g){Sl(e,e.return,g)}}break;case 6:if(mc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Sl(e,e.return,g)}}break;case 3:if(mc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){Sl(e,e.return,g)}break;case 4:default:mc(t,e),yc(e);break;case 13:mc(t,e),yc(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bc=Je())),4&r&&pc(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||d,mc(t,e),Ya=u):mc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(h=Xa=d;null!==Xa;){switch(p=(f=Xa).child,f.tag){case 0:case 11:case 14:case 15:nc(4,f,f.return);break;case 1:Za(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Sl(r,n,g)}}break;case 5:Za(f,f.return);break;case 22:if(null!==f.memoizedState){Cc(h);continue}}null!==p?(p.return=f,Xa=p):Cc(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{o=h.stateNode,u?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=h.stateNode,a=void 0!==(l=h.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Sl(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Sl(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:mc(t,e),yc(e),4&r&&pc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sc(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(he(o,""),r.flags&=-33),lc(e,ac(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(i(161))}}catch(a){Sl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vc(e,t,n){Xa=e,wc(e,t,n)}function wc(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var o=Xa,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ga;if(!s){var a=o.alternate,c=null!==a&&null!==a.memoizedState||Ya;a=Ga;var l=Ya;if(Ga=s,(Ya=c)&&!l)for(Xa=o;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?xc(o):null!==c?(c.return=s,Xa=c):xc(o);for(;null!==i;)Xa=i,wc(i,t,n),i=i.sibling;Xa=o,Ga=a,Ya=l}bc(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xa=i):bc(e)}}function bc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rc(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&$i(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$i(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Ht(h)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&oc(t)}catch(f){Sl(t,t.return,f)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function Cc(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function xc(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rc(4,t)}catch(c){Sl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(c){Sl(t,o,c)}}var i=t.return;try{oc(t)}catch(c){Sl(t,i,c)}break;case 5:var s=t.return;try{oc(t)}catch(c){Sl(t,s,c)}}}catch(c){Sl(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var kc,Sc=Math.ceil,Tc=b.ReactCurrentDispatcher,Ic=b.ReactCurrentOwner,Ec=b.ReactCurrentBatchConfig,Ac=0,_c=null,Nc=null,Pc=0,Rc=0,Oc=To(0),Mc=0,jc=null,Lc=0,Dc=0,qc=0,Uc=null,Fc=null,Bc=0,Hc=1/0,zc=null,$c=!1,Kc=null,Wc=null,Qc=!1,Vc=null,Gc=0,Yc=0,Jc=null,Xc=-1,Zc=0;function el(){return 0!==(6&Ac)?Je():-1!==Xc?Xc:Xc=Je()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Ac)&&0!==Pc?Pc&-Pc:null!==gi.transition?(0===Zc&&(Zc=mt()),Zc):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nl(e,t,n,r){if(50<Yc)throw Yc=0,Jc=null,Error(i(185));yt(e,n,r),0!==(2&Ac)&&e===_c||(e===_c&&(0===(2&Ac)&&(Dc|=n),4===Mc&&al(e,Pc)),rl(e,r),1===n&&0===Ac&&0===(1&t.mode)&&(Hc=Je()+500,Fo&&zo()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,c=o[s];-1===c?0!==(a&n)&&0===(a&r)||(o[s]=ft(a,t)):c<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ht(e,e===_c?Pc:0);if(0===r)null!==n&&Ve(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ve(n),1===t)0===e.tag?function(e){Fo=!0,Ho(e)}(cl.bind(null,e)):Ho(cl.bind(null,e)),so((function(){0===(6&Ac)&&zo()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_l(n,ol.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ol(e,t){if(Xc=-1,Zc=0,0!==(6&Ac))throw Error(i(327));var n=e.callbackNode;if(xl()&&e.callbackNode!==n)return null;var r=ht(e,e===_c?Pc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var o=Ac;Ac|=2;var s=pl();for(_c===e&&Pc===t||(zc=null,Hc=Je()+500,hl(e,t));;)try{vl();break}catch(c){fl(e,c)}Ei(),Tc.current=s,Ac=o,null!==Nc?t=0:(_c=null,Pc=0,t=Mc)}if(0!==t){if(2===t&&(0!==(o=pt(e))&&(r=o,t=il(e,o))),1===t)throw n=jc,hl(e,0),al(e,r),rl(e,Je()),n;if(6===t)al(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gl(e,r))&&(0!==(s=pt(e))&&(r=s,t=il(e,s))),1===t))throw n=jc,hl(e,0),al(e,r),rl(e,Je()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:Cl(e,Fc,zc);break;case 3:if(al(e,r),(130023424&r)===r&&10<(t=Bc+500-Je())){if(0!==ht(e,0))break;if(((o=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(Cl.bind(null,e,Fc,zc),t);break}Cl(e,Fc,zc);break;case 4:if(al(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sc(r/1960))-r)){e.timeoutHandle=ro(Cl.bind(null,e,Fc,zc),r);break}Cl(e,Fc,zc);break;default:throw Error(i(329))}}}return rl(e,Je()),e.callbackNode===n?ol.bind(null,e):null}function il(e,t){var n=Uc;return e.current.memoizedState.isDehydrated&&(hl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Fc,Fc=n,null!==t&&sl(t)),e}function sl(e){null===Fc?Fc=e:Fc.push.apply(Fc,e)}function al(e,t){for(t&=~qc,t&=~Dc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function cl(e){if(0!==(6&Ac))throw Error(i(327));xl();var t=ht(e,0);if(0===(1&t))return rl(e,Je()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=il(e,r))}if(1===n)throw n=jc,hl(e,0),al(e,t),rl(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e,Fc,zc),rl(e,Je()),null}function ll(e,t){var n=Ac;Ac|=1;try{return e(t)}finally{0===(Ac=n)&&(Hc=Je()+500,Fo&&zo())}}function ul(e){null!==Vc&&0===Vc.tag&&0===(6&Ac)&&xl();var t=Ac;Ac|=1;var n=Ec.transition,r=wt;try{if(Ec.transition=null,wt=1,e)return e()}finally{wt=r,Ec.transition=n,0===(6&(Ac=t))&&zo()}}function dl(){Rc=Oc.current,Io(Oc)}function hl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Nc)for(n=Nc.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Mo();break;case 3:Ji(),Io(No),Io(_o),rs();break;case 5:Zi(r);break;case 4:Ji();break;case 13:case 19:Io(es);break;case 10:Ai(r.type._context);break;case 22:case 23:dl()}n=n.return}if(_c=e,Nc=e=Ol(e.current,null),Pc=Rc=t,Mc=0,jc=null,qc=Dc=Lc=0,Fc=Uc=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Ri=null}return e}function fl(e,t){for(;;){var n=Nc;try{if(Ei(),os.current=Xs,us){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}us=!1}if(ss=0,ls=cs=as=null,ds=!1,hs=0,Ic.current=null,null===n||null===n.return){Mc=1,jc=t,Nc=null;break}e:{var s=e,a=n.return,c=n,l=t;if(t=Pc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,d=c,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ga(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ma(s,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ma(s,u,t),ml();break e}l=Error(i(426))}else if(ii&&1&c.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,c,0,t),mi(la(l,c));break e}}s=l=la(l,c),4!==Mc&&(Mc=2),null===Uc?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,fa(0,l,t));break e;case 1:c=l;var v=s.type,w=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wc||!Wc.has(w)))){s.flags|=65536,t&=-t,s.lanes|=t,Hi(s,pa(s,c,t));break e}}s=s.return}while(null!==s)}bl(n)}catch(b){t=b,Nc===n&&null!==n&&(Nc=n=n.return);continue}break}}function pl(){var e=Tc.current;return Tc.current=Xs,null===e?Xs:e}function ml(){0!==Mc&&3!==Mc&&2!==Mc||(Mc=4),null===_c||0===(268435455&Lc)&&0===(268435455&Dc)||al(_c,Pc)}function gl(e,t){var n=Ac;Ac|=2;var r=pl();for(_c===e&&Pc===t||(zc=null,hl(e,t));;)try{yl();break}catch(o){fl(e,o)}if(Ei(),Ac=n,Tc.current=r,null!==Nc)throw Error(i(261));return _c=null,Pc=0,Mc}function yl(){for(;null!==Nc;)wl(Nc)}function vl(){for(;null!==Nc&&!Ge();)wl(Nc)}function wl(e){var t=kc(e.alternate,e,Rc);e.memoizedProps=e.pendingProps,null===t?bl(e):Nc=t,Ic.current=null}function bl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Rc)))return void(Nc=n)}else{if(null!==(n=Va(n,t)))return n.flags&=32767,void(Nc=n);if(null===e)return Mc=6,void(Nc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nc=t);Nc=t=e}while(null!==t);0===Mc&&(Mc=5)}function Cl(e,t,n){var r=wt,o=Ec.transition;try{Ec.transition=null,wt=1,function(e,t,n,r){do{xl()}while(null!==Vc);if(0!==(6&Ac))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===_c&&(Nc=_c=null,Pc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,_l(tt,(function(){return xl(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Ec.transition,Ec.transition=null;var a=wt;wt=1;var c=Ac;Ac|=4,Ic.current=null,function(e,t){if(eo=$t,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(C){n=null;break e}var a=0,c=-1,l=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==o&&3!==h.nodeType||(c=a+o),h!==s||0!==r&&3!==h.nodeType||(l=a+r),3===h.nodeType&&(a+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===o&&(c=a),f===s&&++d===r&&(l=a),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},$t=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(i(163))}}catch(C){Sl(t,t.return,C)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tc,tc=!1}(e,n),gc(n,e),pr(to),$t=!!eo,to=eo=null,e.current=n,vc(n,e,o),Ye(),Ac=c,wt=a,Ec.transition=s}else e.current=n;if(Qc&&(Qc=!1,Vc=e,Gc=o),s=e.pendingLanes,0===s&&(Wc=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if($c)throw $c=!1,e=Kc,Kc=null,e;0!==(1&Gc)&&0!==e.tag&&xl(),s=e.pendingLanes,0!==(1&s)?e===Jc?Yc++:(Yc=0,Jc=e):Yc=0,zo()}(e,t,n,r)}finally{Ec.transition=o,wt=r}return null}function xl(){if(null!==Vc){var e=bt(Gc),t=Ec.transition,n=wt;try{if(Ec.transition=null,wt=16>e?16:e,null===Vc)var r=!1;else{if(e=Vc,Vc=null,Gc=0,0!==(6&Ac))throw Error(i(331));var o=Ac;for(Ac|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xa=u;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nc(8,d,s)}var h=d.child;if(null!==h)h.return=d,Xa=h;else for(;null!==Xa;){var f=(d=Xa).sibling,p=d.return;if(ic(d),d===u){Xa=null;break}if(null!==f){f.return=p,Xa=f;break}Xa=p}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nc(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var w=e.current;for(Xa=w;null!==Xa;){var b=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Xa=b;else e:for(a=w;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:rc(9,c)}}catch(x){Sl(c,c.return,x)}if(c===a){Xa=null;break e}var C=c.sibling;if(null!==C){C.return=c.return,Xa=C;break e}Xa=c.return}}if(Ac=o,zo(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{wt=n,Ec.transition=t}}return!1}function kl(e,t,n){e=Fi(e,t=fa(0,t=la(n,t),1),1),t=el(),null!==e&&(yt(e,1,t),rl(e,t))}function Sl(e,t,n){if(3===e.tag)kl(e,e,n);else for(;null!==t;){if(3===t.tag){kl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Fi(t,e=pa(t,e=la(n,e),1),1),e=el(),null!==t&&(yt(t,1,e),rl(t,e));break}}t=t.return}}function Tl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,_c===e&&(Pc&n)===n&&(4===Mc||3===Mc&&(130023424&Pc)===Pc&&500>Je()-Bc?hl(e,0):qc|=n),rl(e,t)}function Il(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=el();null!==(e=ji(e,t))&&(yt(e,t,n),rl(e,n))}function El(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Il(e,n)}function Al(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),Il(e,n)}function _l(e,t){return Qe(e,t)}function Nl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pl(e,t,n,r){return new Nl(e,t,n,r)}function Rl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ml(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Rl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return jl(n.children,o,s,t);case S:a=8,o|=8;break;case T:return(e=Pl(12,n,t,2|o)).elementType=T,e.lanes=s,e;case _:return(e=Pl(13,n,t,o)).elementType=_,e.lanes=s,e;case N:return(e=Pl(19,n,t,o)).elementType=N,e.lanes=s,e;case O:return Ll(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:a=10;break e;case E:a=9;break e;case A:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Pl(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function jl(e,t,n,r){return(e=Pl(7,e,r,t)).lanes=n,e}function Ll(e,t,n,r){return(e=Pl(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Dl(e,t,n){return(e=Pl(6,e,null,t)).lanes=n,e}function ql(e,t,n){return(t=Pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Fl(e,t,n,r,o,i,s,a,c){return e=new Ul(e,t,n,a,c),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Pl(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Di(i),e}function Bl(e){if(!e)return Ao;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Oo(n))return Lo(e,n,t)}return t}function Hl(e,t,n,r,o,i,s,a,c){return(e=Fl(n,r,!0,e,0,i,0,a,c)).context=Bl(null),n=e.current,(i=Ui(r=el(),o=tl(n))).callback=void 0!==t&&null!==t?t:null,Fi(n,i,o),e.current.lanes=o,yt(e,o,r),rl(e,r),e}function zl(e,t,n,r){var o=t.current,i=el(),s=tl(o);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ui(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Fi(o,t,s))&&(nl(e,o,s,i),Bi(e,o,s)),s}function $l(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}kc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||No.current)wa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wa=!1,function(e,t,n){switch(t.tag){case 3:_a(t),pi();break;case 5:Xi(t);break;case 1:Oo(t.type)&&Do(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;Eo(ki,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Eo(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Da(e,t,n):(Eo(es,1&es.current),null!==(e=$a(e,t,n))?e.sibling:null);Eo(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),Eo(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Sa(e,t,n)}return $a(e,t,n)}(e,t,n);wa=0!==(131072&e.flags)}else wa=!1,ii&&0!==(1048576&t.flags)&&ei(t,Qo,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;za(e,t),e=t.pendingProps;var o=Ro(t,_o.current);Ni(t,n),o=gs(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oo(r)?(s=!0,Do(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Di(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,ca(t,r,e,n),t=Aa(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),ba(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(za(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Rl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(r),e=na(r,e),o){case 0:t=Ia(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=Ca(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,Ia(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ea(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(_a(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,qi(e,t),zi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Na(e,t,r,n,o=la(Error(i(423)),t));break e}if(r!==o){t=Na(e,t,r,n,o=la(Error(i(424)),t));break e}for(oi=lo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===o){t=$a(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ui(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Ta(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&ui(t),null;case 13:return Da(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ci(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,Ca(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,Eo(ki,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!No.current){t=$a(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Ui(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),_i(s.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),_i(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}ba(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ni(t,n),r=r(o=Pi(o)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),xa(e,t,r,o=na(r.type,o),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),za(e,t),t.tag=1,Oo(r)?(e=!0,Do(t)):e=!1,Ni(t,n),sa(t,r,o),ca(t,r,o,n),Aa(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return Sa(e,t,n)}throw Error(i(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Vl(e){this._internalRoot=e}function Gl(e){this._internalRoot=e}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=$l(s);a.call(e)}}zl(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=$l(s);i.call(e)}}var s=Hl(t,r,e,0,null,!1,0,"",Xl);return e._reactRootContainer=s,e[mo]=s.current,Hr(8===e.nodeType?e.parentNode:e),ul(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=$l(c);a.call(e)}}var c=Fl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[mo]=c.current,Hr(8===e.nodeType?e.parentNode:e),ul((function(){zl(t,c,n,r)})),c}(n,t,e,o,r);return $l(s)}Gl.prototype.render=Vl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));zl(e,t,null,null)},Gl.prototype.unmount=Vl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){zl(null,e,null,null)})),t[mo]=null}},Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Dt(e)}},Ct=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rl(t,Je()),0===(6&Ac)&&(Hc=Je()+500,zo()))}break;case 13:ul((function(){var t=ji(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),Wl(e,1)}},xt=function(e){if(13===e.tag){var t=ji(e,134217728);if(null!==t)nl(t,e,134217728,el());Wl(e,134217728)}},kt=function(e){if(13===e.tag){var t=tl(e),n=ji(e,t);if(null!==n)nl(n,e,t,el());Wl(e,t)}},St=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));Q(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=ll,_e=ul;var eu={usingClientEntryPoint:!1,Events:[bo,Co,xo,Ie,Ee,ll]},tu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{ot=ru.inject(nu),it=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yl(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yl(e))throw Error(i(299));var n=!1,r="",o=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=Fl(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Vl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(i(200));return Zl(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yl(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hl(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,Hr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Gl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(i(200));return Zl(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(i(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Zl(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var C=Array.isArray,x=Object.prototype.hasOwnProperty,k={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,o)&&!S.hasOwnProperty(o)&&(i[o]=t[o]);var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(o in c=e.defaultProps)void 0===i[o]&&(i[o]=c[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:k.current}}function I(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return s=s(c=e),e=""===i?"."+A(c,0):i,C(s)?(o="",null!=e&&(o=e.replace(E,"$&/")+"/"),_(s,t,o,"",(function(e){return e}))):null!=s&&(I(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(c=0,i=""===i?".":i+":",C(e))for(var l=0;l<e.length;l++){var u=i+A(a=e[l],l);c+=_(a,t,o,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=_(a=a.value,t,o,u=i+A(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function N(e,t,n){if(null==e)return e;var r=[],o=0;return _(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},M={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:k};function j(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!I(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=w,t.StrictMode=i,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M,t.act=j,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)x.call(t,l)&&!S.hasOwnProperty(l)&&(o[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)o.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];o.children=c}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=I,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=j,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4445:(e,t)=>{"use strict";t.byteLength=function(e){var t=a(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,i=a(e),s=i[0],c=i[1],l=new o(function(e,t,n){return 3*(t+n)/4-n}(0,s,c)),u=0,d=c>0?s-4:s;for(n=0;n<d;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[u++]=255&t);1===c&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,o=r%3,i=[],s=16383,a=0,l=r-o;a<l;a+=s)i.push(c(e,a,a+s>l?l:a+s));1===o?(t=e[r-1],i.push(n[t>>2]+n[t<<4&63]+"==")):2===o&&(t=(e[r-2]<<8)+e[r-1],i.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return i.join("")};for(var n=[],r=[],o="undefined"!==typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)n[s]=i[s],r[i.charCodeAt(s)]=s;function a(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var o,i,s=[],a=t;a<r;a+=3)o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),s.push(n[(i=o)>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5e3:(e,t,n)=>{"use strict";n.d(t,{B1:()=>T,C0:()=>f,Dz:()=>v,Jx:()=>c,LI:()=>s,PG:()=>m,RI:()=>a,Sg:()=>p,T9:()=>i,TV:()=>y,WJ:()=>b,_3:()=>h,bV:()=>k,jk:()=>o,lP:()=>x,nI:()=>S,qE:()=>d,r_:()=>r,sq:()=>g,w7:()=>w});const r=["top","right","bottom","left"],o=Math.min,i=Math.max,s=Math.round,a=Math.floor,c=e=>({x:e,y:e}),l={left:"right",right:"left",bottom:"top",top:"bottom"},u={start:"end",end:"start"};function d(e,t,n){return i(e,o(t,n))}function h(e,t){return"function"===typeof e?e(t):e}function f(e){return e.split("-")[0]}function p(e){return e.split("-")[1]}function m(e){return"x"===e?"y":"x"}function g(e){return"y"===e?"height":"width"}function y(e){return["top","bottom"].includes(f(e))?"y":"x"}function v(e){return m(y(e))}function w(e,t,n){void 0===n&&(n=!1);const r=p(e),o=v(e),i=g(o);let s="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return t.reference[i]>t.floating[i]&&(s=k(s)),[s,k(s)]}function b(e){const t=k(e);return[C(e),t,C(t)]}function C(e){return e.replace(/start|end/g,(e=>u[e]))}function x(e,t,n,r){const o=p(e);let i=function(e,t,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?o:r:t?r:o;case"left":case"right":return t?i:s;default:return[]}}(f(e),"start"===n,r);return o&&(i=i.map((e=>e+"-"+o)),t&&(i=i.concat(i.map(C)))),i}function k(e){return e.replace(/left|right|bottom|top/g,(e=>l[e]))}function S(e){return"number"!==typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function T(e){const{x:t,y:n,width:r,height:o}=e;return{width:r,height:o,top:n,left:t,right:t+r,bottom:n+o,x:t,y:n}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5702:(e,t,n)=>{"use strict";function r(){return"undefined"!==typeof window}function o(e){return a(e)?(e.nodeName||"").toLowerCase():"#document"}function i(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function s(e){var t;return null==(t=(a(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function a(e){return!!r()&&(e instanceof Node||e instanceof i(e).Node)}function c(e){return!!r()&&(e instanceof Element||e instanceof i(e).Element)}function l(e){return!!r()&&(e instanceof HTMLElement||e instanceof i(e).HTMLElement)}function u(e){return!(!r()||"undefined"===typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof i(e).ShadowRoot)}function d(e){const{overflow:t,overflowX:n,overflowY:r,display:o}=v(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(o)}function h(e){return["table","td","th"].includes(o(e))}function f(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(n){return!1}}))}function p(e){const t=g(),n=c(e)?v(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!n[e]&&"none"!==n[e]))||!!n.containerType&&"normal"!==n.containerType||!t&&!!n.backdropFilter&&"none"!==n.backdropFilter||!t&&!!n.filter&&"none"!==n.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(n.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(n.contain||"").includes(e)))}function m(e){let t=b(e);for(;l(t)&&!y(t);){if(p(t))return t;if(f(t))return null;t=b(t)}return null}function g(){return!("undefined"===typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function y(e){return["html","body","#document"].includes(o(e))}function v(e){return i(e).getComputedStyle(e)}function w(e){return c(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function b(e){if("html"===o(e))return e;const t=e.assignedSlot||e.parentNode||u(e)&&e.host||s(e);return u(t)?t.host:t}function C(e){const t=b(e);return y(t)?e.ownerDocument?e.ownerDocument.body:e.body:l(t)&&d(t)?t:C(t)}function x(e,t,n){var r;void 0===t&&(t=[]),void 0===n&&(n=!0);const o=C(e),s=o===(null==(r=e.ownerDocument)?void 0:r.body),a=i(o);if(s){const e=k(a);return t.concat(a,a.visualViewport||[],d(o)?o:[],e&&n?x(e):[])}return t.concat(o,x(o,[],n))}function k(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}n.d(t,{$4:()=>b,CP:()=>w,L9:()=>v,Lv:()=>h,Ng:()=>u,Tc:()=>g,Tf:()=>f,ZU:()=>d,_m:()=>k,ep:()=>s,eu:()=>y,gJ:()=>m,mq:()=>o,sQ:()=>p,sb:()=>l,v9:()=>x,vq:()=>c,zk:()=>i})},5885:(e,t,n)=>{"use strict";n.d(t,{UE:()=>P,ll:()=>T,rD:()=>O,UU:()=>A,jD:()=>N,ER:()=>R,cY:()=>I,BN:()=>E,Ej:()=>_});var r=n(5e3);function o(e,t,n){let{reference:o,floating:i}=e;const s=(0,r.TV)(t),a=(0,r.Dz)(t),c=(0,r.sq)(a),l=(0,r.C0)(t),u="y"===s,d=o.x+o.width/2-i.width/2,h=o.y+o.height/2-i.height/2,f=o[c]/2-i[c]/2;let p;switch(l){case"top":p={x:d,y:o.y-i.height};break;case"bottom":p={x:d,y:o.y+o.height};break;case"right":p={x:o.x+o.width,y:h};break;case"left":p={x:o.x-i.width,y:h};break;default:p={x:o.x,y:o.y}}switch((0,r.Sg)(t)){case"start":p[a]-=f*(n&&u?-1:1);break;case"end":p[a]+=f*(n&&u?-1:1)}return p}async function i(e,t){var n;void 0===t&&(t={});const{x:o,y:i,platform:s,rects:a,elements:c,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:f=!1,padding:p=0}=(0,r._3)(t,e),m=(0,r.nI)(p),g=c[f?"floating"===h?"reference":"floating":h],y=(0,r.B1)(await s.getClippingRect({element:null==(n=await(null==s.isElement?void 0:s.isElement(g)))||n?g:g.contextElement||await(null==s.getDocumentElement?void 0:s.getDocumentElement(c.floating)),boundary:u,rootBoundary:d,strategy:l})),v="floating"===h?{x:o,y:i,width:a.floating.width,height:a.floating.height}:a.reference,w=await(null==s.getOffsetParent?void 0:s.getOffsetParent(c.floating)),b=await(null==s.isElement?void 0:s.isElement(w))&&await(null==s.getScale?void 0:s.getScale(w))||{x:1,y:1},C=(0,r.B1)(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:v,offsetParent:w,strategy:l}):v);return{top:(y.top-C.top+m.top)/b.y,bottom:(C.bottom-y.bottom+m.bottom)/b.y,left:(y.left-C.left+m.left)/b.x,right:(C.right-y.right+m.right)/b.x}}function s(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function a(e){return r.r_.some((t=>e[t]>=0))}var c=n(5702);function l(e){const t=(0,c.L9)(e);let n=parseFloat(t.width)||0,o=parseFloat(t.height)||0;const i=(0,c.sb)(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:o,l=(0,r.LI)(n)!==s||(0,r.LI)(o)!==a;return l&&(n=s,o=a),{width:n,height:o,$:l}}function u(e){return(0,c.vq)(e)?e:e.contextElement}function d(e){const t=u(e);if(!(0,c.sb)(t))return(0,r.Jx)(1);const n=t.getBoundingClientRect(),{width:o,height:i,$:s}=l(t);let a=(s?(0,r.LI)(n.width):n.width)/o,d=(s?(0,r.LI)(n.height):n.height)/i;return a&&Number.isFinite(a)||(a=1),d&&Number.isFinite(d)||(d=1),{x:a,y:d}}const h=(0,r.Jx)(0);function f(e){const t=(0,c.zk)(e);return(0,c.Tc)()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:h}function p(e,t,n,o){void 0===t&&(t=!1),void 0===n&&(n=!1);const i=e.getBoundingClientRect(),s=u(e);let a=(0,r.Jx)(1);t&&(o?(0,c.vq)(o)&&(a=d(o)):a=d(e));const l=function(e,t,n){return void 0===t&&(t=!1),!(!n||t&&n!==(0,c.zk)(e))&&t}(s,n,o)?f(s):(0,r.Jx)(0);let h=(i.left+l.x)/a.x,p=(i.top+l.y)/a.y,m=i.width/a.x,g=i.height/a.y;if(s){const e=(0,c.zk)(s),t=o&&(0,c.vq)(o)?(0,c.zk)(o):o;let n=e,r=(0,c._m)(n);for(;r&&o&&t!==n;){const e=d(r),t=r.getBoundingClientRect(),o=(0,c.L9)(r),i=t.left+(r.clientLeft+parseFloat(o.paddingLeft))*e.x,s=t.top+(r.clientTop+parseFloat(o.paddingTop))*e.y;h*=e.x,p*=e.y,m*=e.x,g*=e.y,h+=i,p+=s,n=(0,c.zk)(r),r=(0,c._m)(n)}}return(0,r.B1)({width:m,height:g,x:h,y:p})}function m(e,t){const n=(0,c.CP)(e).scrollLeft;return t?t.left+n:p((0,c.ep)(e)).left+n}function g(e,t,n){void 0===n&&(n=!1);const r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-(n?0:m(e,r)),y:r.top+t.scrollTop}}function y(e,t,n){let o;if("viewport"===t)o=function(e,t){const n=(0,c.zk)(e),r=(0,c.ep)(e),o=n.visualViewport;let i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;const e=(0,c.Tc)();(!e||e&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a,y:l}}(e,n);else if("document"===t)o=function(e){const t=(0,c.ep)(e),n=(0,c.CP)(e),o=e.ownerDocument.body,i=(0,r.T9)(t.scrollWidth,t.clientWidth,o.scrollWidth,o.clientWidth),s=(0,r.T9)(t.scrollHeight,t.clientHeight,o.scrollHeight,o.clientHeight);let a=-n.scrollLeft+m(e);const l=-n.scrollTop;return"rtl"===(0,c.L9)(o).direction&&(a+=(0,r.T9)(t.clientWidth,o.clientWidth)-i),{width:i,height:s,x:a,y:l}}((0,c.ep)(e));else if((0,c.vq)(t))o=function(e,t){const n=p(e,!0,"fixed"===t),o=n.top+e.clientTop,i=n.left+e.clientLeft,s=(0,c.sb)(e)?d(e):(0,r.Jx)(1);return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:i*s.x,y:o*s.y}}(t,n);else{const n=f(e);o={x:t.x-n.x,y:t.y-n.y,width:t.width,height:t.height}}return(0,r.B1)(o)}function v(e,t){const n=(0,c.$4)(e);return!(n===t||!(0,c.vq)(n)||(0,c.eu)(n))&&("fixed"===(0,c.L9)(n).position||v(n,t))}function w(e,t,n){const o=(0,c.sb)(t),i=(0,c.ep)(t),s="fixed"===n,a=p(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const u=(0,r.Jx)(0);if(o||!o&&!s)if(("body"!==(0,c.mq)(t)||(0,c.ZU)(i))&&(l=(0,c.CP)(t)),o){const e=p(t,!0,s,t);u.x=e.x+t.clientLeft,u.y=e.y+t.clientTop}else i&&(u.x=m(i));const d=!i||o||s?(0,r.Jx)(0):g(i,l);return{x:a.left+l.scrollLeft-u.x-d.x,y:a.top+l.scrollTop-u.y-d.y,width:a.width,height:a.height}}function b(e){return"static"===(0,c.L9)(e).position}function C(e,t){if(!(0,c.sb)(e)||"fixed"===(0,c.L9)(e).position)return null;if(t)return t(e);let n=e.offsetParent;return(0,c.ep)(e)===n&&(n=n.ownerDocument.body),n}function x(e,t){const n=(0,c.zk)(e);if((0,c.Tf)(e))return n;if(!(0,c.sb)(e)){let t=(0,c.$4)(e);for(;t&&!(0,c.eu)(t);){if((0,c.vq)(t)&&!b(t))return t;t=(0,c.$4)(t)}return n}let r=C(e,t);for(;r&&(0,c.Lv)(r)&&b(r);)r=C(r,t);return r&&(0,c.eu)(r)&&b(r)&&!(0,c.sQ)(r)?n:r||(0,c.gJ)(e)||n}const k={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:n,offsetParent:o,strategy:i}=e;const s="fixed"===i,a=(0,c.ep)(o),l=!!t&&(0,c.Tf)(t.floating);if(o===a||l&&s)return n;let u={scrollLeft:0,scrollTop:0},h=(0,r.Jx)(1);const f=(0,r.Jx)(0),m=(0,c.sb)(o);if((m||!m&&!s)&&(("body"!==(0,c.mq)(o)||(0,c.ZU)(a))&&(u=(0,c.CP)(o)),(0,c.sb)(o))){const e=p(o);h=d(o),f.x=e.x+o.clientLeft,f.y=e.y+o.clientTop}const y=!a||m||s?(0,r.Jx)(0):g(a,u,!0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+f.x+y.x,y:n.y*h.y-u.scrollTop*h.y+f.y+y.y}},getDocumentElement:c.ep,getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:o,strategy:i}=e;const s=[..."clippingAncestors"===n?(0,c.Tf)(t)?[]:function(e,t){const n=t.get(e);if(n)return n;let r=(0,c.v9)(e,[],!1).filter((e=>(0,c.vq)(e)&&"body"!==(0,c.mq)(e))),o=null;const i="fixed"===(0,c.L9)(e).position;let s=i?(0,c.$4)(e):e;for(;(0,c.vq)(s)&&!(0,c.eu)(s);){const t=(0,c.L9)(s),n=(0,c.sQ)(s);n||"fixed"!==t.position||(o=null),(i?!n&&!o:!n&&"static"===t.position&&o&&["absolute","fixed"].includes(o.position)||(0,c.ZU)(s)&&!n&&v(e,s))?r=r.filter((e=>e!==s)):o=t,s=(0,c.$4)(s)}return t.set(e,r),r}(t,this._c):[].concat(n),o],a=s[0],l=s.reduce(((e,n)=>{const o=y(t,n,i);return e.top=(0,r.T9)(o.top,e.top),e.right=(0,r.jk)(o.right,e.right),e.bottom=(0,r.jk)(o.bottom,e.bottom),e.left=(0,r.T9)(o.left,e.left),e}),y(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}},getOffsetParent:x,getElementRects:async function(e){const t=this.getOffsetParent||x,n=this.getDimensions,r=await n(e.floating);return{reference:w(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:n}=l(e);return{width:t,height:n}},getScale:d,isElement:c.vq,isRTL:function(e){return"rtl"===(0,c.L9)(e).direction}};function S(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function T(e,t,n,o){void 0===o&&(o={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a="function"===typeof ResizeObserver,layoutShift:l="function"===typeof IntersectionObserver,animationFrame:d=!1}=o,h=u(e),f=i||s?[...h?(0,c.v9)(h):[],...(0,c.v9)(t)]:[];f.forEach((e=>{i&&e.addEventListener("scroll",n,{passive:!0}),s&&e.addEventListener("resize",n)}));const m=h&&l?function(e,t){let n,o=null;const i=(0,c.ep)(e);function s(){var e;clearTimeout(n),null==(e=o)||e.disconnect(),o=null}return function a(c,l){void 0===c&&(c=!1),void 0===l&&(l=1),s();const u=e.getBoundingClientRect(),{left:d,top:h,width:f,height:p}=u;if(c||t(),!f||!p)return;const m={rootMargin:-(0,r.RI)(h)+"px "+-(0,r.RI)(i.clientWidth-(d+f))+"px "+-(0,r.RI)(i.clientHeight-(h+p))+"px "+-(0,r.RI)(d)+"px",threshold:(0,r.T9)(0,(0,r.jk)(1,l))||1};let g=!0;function y(t){const r=t[0].intersectionRatio;if(r!==l){if(!g)return a();r?a(!1,r):n=setTimeout((()=>{a(!1,1e-7)}),1e3)}1!==r||S(u,e.getBoundingClientRect())||a(),g=!1}try{o=new IntersectionObserver(y,{...m,root:i.ownerDocument})}catch(v){o=new IntersectionObserver(y,m)}o.observe(e)}(!0),s}(h,n):null;let g,y=-1,v=null;a&&(v=new ResizeObserver((e=>{let[r]=e;r&&r.target===h&&v&&(v.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame((()=>{var e;null==(e=v)||e.observe(t)}))),n()})),h&&!d&&v.observe(h),v.observe(t));let w=d?p(e):null;return d&&function t(){const r=p(e);w&&!S(w,r)&&n();w=r,g=requestAnimationFrame(t)}(),n(),()=>{var e;f.forEach((e=>{i&&e.removeEventListener("scroll",n),s&&e.removeEventListener("resize",n)})),null==m||m(),null==(e=v)||e.disconnect(),v=null,d&&cancelAnimationFrame(g)}}const I=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var n,o;const{x:i,y:s,placement:a,middlewareData:c}=t,l=await async function(e,t){const{placement:n,platform:o,elements:i}=e,s=await(null==o.isRTL?void 0:o.isRTL(i.floating)),a=(0,r.C0)(n),c=(0,r.Sg)(n),l="y"===(0,r.TV)(n),u=["left","top"].includes(a)?-1:1,d=s&&l?-1:1,h=(0,r._3)(t,e);let{mainAxis:f,crossAxis:p,alignmentAxis:m}="number"===typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return c&&"number"===typeof m&&(p="end"===c?-1*m:m),l?{x:p*d,y:f*u}:{x:f*u,y:p*d}}(t,e);return a===(null==(n=c.offset)?void 0:n.placement)&&null!=(o=c.arrow)&&o.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},E=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:o,placement:s}=t,{mainAxis:a=!0,crossAxis:c=!1,limiter:l={fn:e=>{let{x:t,y:n}=e;return{x:t,y:n}}},...u}=(0,r._3)(e,t),d={x:n,y:o},h=await i(t,u),f=(0,r.TV)((0,r.C0)(s)),p=(0,r.PG)(f);let m=d[p],g=d[f];if(a){const e="y"===p?"bottom":"right",t=m+h["y"===p?"top":"left"],n=m-h[e];m=(0,r.qE)(t,m,n)}if(c){const e="y"===f?"bottom":"right",t=g+h["y"===f?"top":"left"],n=g-h[e];g=(0,r.qE)(t,g,n)}const y=l.fn({...t,[p]:m,[f]:g});return{...y,data:{x:y.x-n,y:y.y-o,enabled:{[p]:a,[f]:c}}}}}},A=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var n,o;const{placement:s,middlewareData:a,rects:c,initialPlacement:l,platform:u,elements:d}=t,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:y=!0,...v}=(0,r._3)(e,t);if(null!=(n=a.arrow)&&n.alignmentOffset)return{};const w=(0,r.C0)(s),b=(0,r.TV)(l),C=(0,r.C0)(l)===l,x=await(null==u.isRTL?void 0:u.isRTL(d.floating)),k=p||(C||!y?[(0,r.bV)(l)]:(0,r.WJ)(l)),S="none"!==g;!p&&S&&k.push(...(0,r.lP)(l,y,g,x));const T=[l,...k],I=await i(t,v),E=[];let A=(null==(o=a.flip)?void 0:o.overflows)||[];if(h&&E.push(I[w]),f){const e=(0,r.w7)(s,c,x);E.push(I[e[0]],I[e[1]])}if(A=[...A,{placement:s,overflows:E}],!E.every((e=>e<=0))){var _,N;const e=((null==(_=a.flip)?void 0:_.index)||0)+1,t=T[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let n=null==(N=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:N.placement;if(!n)switch(m){case"bestFit":{var P;const e=null==(P=A.filter((e=>{if(S){const t=(0,r.TV)(e.placement);return t===b||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:P[0];e&&(n=e);break}case"initialPlacement":n=l}if(s!==n)return{reset:{placement:n}}}return{}}}},_=function(e){return void 0===e&&(e={}),{name:"size",options:e,async fn(t){var n,o;const{placement:s,rects:a,platform:c,elements:l}=t,{apply:u=()=>{},...d}=(0,r._3)(e,t),h=await i(t,d),f=(0,r.C0)(s),p=(0,r.Sg)(s),m="y"===(0,r.TV)(s),{width:g,height:y}=a.floating;let v,w;"top"===f||"bottom"===f?(v=f,w=p===(await(null==c.isRTL?void 0:c.isRTL(l.floating))?"start":"end")?"left":"right"):(w=f,v="end"===p?"top":"bottom");const b=y-h.top-h.bottom,C=g-h.left-h.right,x=(0,r.jk)(y-h[v],b),k=(0,r.jk)(g-h[w],C),S=!t.middlewareData.shift;let T=x,I=k;if(null!=(n=t.middlewareData.shift)&&n.enabled.x&&(I=C),null!=(o=t.middlewareData.shift)&&o.enabled.y&&(T=b),S&&!p){const e=(0,r.T9)(h.left,0),t=(0,r.T9)(h.right,0),n=(0,r.T9)(h.top,0),o=(0,r.T9)(h.bottom,0);m?I=g-2*(0!==e||0!==t?e+t:(0,r.T9)(h.left,h.right)):T=y-2*(0!==n||0!==o?n+o:(0,r.T9)(h.top,h.bottom))}await u({...t,availableWidth:I,availableHeight:T});const E=await c.getDimensions(l.floating);return g!==E.width||y!==E.height?{reset:{rects:!0}}:{}}}},N=function(e){return void 0===e&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:o="referenceHidden",...c}=(0,r._3)(e,t);switch(o){case"referenceHidden":{const e=s(await i(t,{...c,elementContext:"reference"}),n.reference);return{data:{referenceHiddenOffsets:e,referenceHidden:a(e)}}}case"escaped":{const e=s(await i(t,{...c,altBoundary:!0}),n.floating);return{data:{escapedOffsets:e,escaped:a(e)}}}default:return{}}}}},P=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:o,placement:i,rects:s,platform:a,elements:c,middlewareData:l}=t,{element:u,padding:d=0}=(0,r._3)(e,t)||{};if(null==u)return{};const h=(0,r.nI)(d),f={x:n,y:o},p=(0,r.Dz)(i),m=(0,r.sq)(p),g=await a.getDimensions(u),y="y"===p,v=y?"top":"left",w=y?"bottom":"right",b=y?"clientHeight":"clientWidth",C=s.reference[m]+s.reference[p]-f[p]-s.floating[m],x=f[p]-s.reference[p],k=await(null==a.getOffsetParent?void 0:a.getOffsetParent(u));let S=k?k[b]:0;S&&await(null==a.isElement?void 0:a.isElement(k))||(S=c.floating[b]||s.floating[m]);const T=C/2-x/2,I=S/2-g[m]/2-1,E=(0,r.jk)(h[v],I),A=(0,r.jk)(h[w],I),_=E,N=S-g[m]-A,P=S/2-g[m]/2+T,R=(0,r.qE)(_,P,N),O=!l.arrow&&null!=(0,r.Sg)(i)&&P!==R&&s.reference[m]/2-(P<_?E:A)-g[m]/2<0,M=O?P<_?P-_:P-N:0;return{[p]:f[p]+M,data:{[p]:R,centerOffset:P-R-M,...O&&{alignmentOffset:M}},reset:O}}}),R=function(e){return void 0===e&&(e={}),{options:e,fn(t){const{x:n,y:o,placement:i,rects:s,middlewareData:a}=t,{offset:c=0,mainAxis:l=!0,crossAxis:u=!0}=(0,r._3)(e,t),d={x:n,y:o},h=(0,r.TV)(i),f=(0,r.PG)(h);let p=d[f],m=d[h];const g=(0,r._3)(c,t),y="number"===typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const e="y"===f?"height":"width",t=s.reference[f]-s.floating[e]+y.mainAxis,n=s.reference[f]+s.reference[e]-y.mainAxis;p<t?p=t:p>n&&(p=n)}if(u){var v,w;const e="y"===f?"width":"height",t=["top","left"].includes((0,r.C0)(i)),n=s.reference[h]-s.floating[e]+(t&&(null==(v=a.offset)?void 0:v[h])||0)+(t?0:y.crossAxis),o=s.reference[h]+s.reference[e]+(t?0:(null==(w=a.offset)?void 0:w[h])||0)-(t?y.crossAxis:0);m<n?m=n:m>o&&(m=o)}return{[f]:p,[h]:m}}}},O=(e,t,n)=>{const r=new Map,i={platform:k,...n},s={...i.platform,_c:r};return(async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,c=s.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(t));let u=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:h}=o(u,r,l),f=r,p={},m=0;for(let g=0;g<c.length;g++){const{name:n,fn:s}=c[g],{x:y,y:v,data:w,reset:b}=await s({x:d,y:h,initialPlacement:r,placement:f,strategy:i,middlewareData:p,rects:u,platform:a,elements:{reference:e,floating:t}});d=null!=y?y:d,h=null!=v?v:h,p={...p,[n]:{...p[n],...w}},b&&m<=50&&(m++,"object"===typeof b&&(b.placement&&(f=b.placement),b.rects&&(u=!0===b.rects?await a.getElementRects({reference:e,floating:t,strategy:i}):b.rects),({x:d,y:h}=o(u,f,l))),g=-1)}return{x:d,y:h,placement:f,strategy:i,middlewareData:p}})(e,t,{...i,platform:s})}},6178:(e,t,n)=>{"use strict";n.d(t,{BN:()=>p,ER:()=>m,Ej:()=>y,UE:()=>w,UU:()=>g,cY:()=>f,jD:()=>v,we:()=>d});var r=n(5885),o=n(5043),i=n(7950),s="undefined"!==typeof document?o.useLayoutEffect:o.useEffect;function a(e,t){if(e===t)return!0;if(typeof e!==typeof t)return!1;if("function"===typeof e&&e.toString()===t.toString())return!0;let n,r,o;if(e&&t&&"object"===typeof e){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;0!==r--;)if(!a(e[r],t[r]))return!1;return!0}if(o=Object.keys(e),n=o.length,n!==Object.keys(t).length)return!1;for(r=n;0!==r--;)if(!{}.hasOwnProperty.call(t,o[r]))return!1;for(r=n;0!==r--;){const n=o[r];if(("_owner"!==n||!e.$$typeof)&&!a(e[n],t[n]))return!1}return!0}return e!==e&&t!==t}function c(e){if("undefined"===typeof window)return 1;return(e.ownerDocument.defaultView||window).devicePixelRatio||1}function l(e,t){const n=c(e);return Math.round(t*n)/n}function u(e){const t=o.useRef(e);return s((()=>{t.current=e})),t}function d(e){void 0===e&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:d=[],platform:h,elements:{reference:f,floating:p}={},transform:m=!0,whileElementsMounted:g,open:y}=e,[v,w]=o.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[b,C]=o.useState(d);a(b,d)||C(d);const[x,k]=o.useState(null),[S,T]=o.useState(null),I=o.useCallback((e=>{e!==N.current&&(N.current=e,k(e))}),[]),E=o.useCallback((e=>{e!==P.current&&(P.current=e,T(e))}),[]),A=f||x,_=p||S,N=o.useRef(null),P=o.useRef(null),R=o.useRef(v),O=null!=g,M=u(g),j=u(h),L=u(y),D=o.useCallback((()=>{if(!N.current||!P.current)return;const e={placement:t,strategy:n,middleware:b};j.current&&(e.platform=j.current),(0,r.rD)(N.current,P.current,e).then((e=>{const t={...e,isPositioned:!1!==L.current};q.current&&!a(R.current,t)&&(R.current=t,i.flushSync((()=>{w(t)})))}))}),[b,t,n,j,L]);s((()=>{!1===y&&R.current.isPositioned&&(R.current.isPositioned=!1,w((e=>({...e,isPositioned:!1}))))}),[y]);const q=o.useRef(!1);s((()=>(q.current=!0,()=>{q.current=!1})),[]),s((()=>{if(A&&(N.current=A),_&&(P.current=_),A&&_){if(M.current)return M.current(A,_,D);D()}}),[A,_,D,M,O]);const U=o.useMemo((()=>({reference:N,floating:P,setReference:I,setFloating:E})),[I,E]),F=o.useMemo((()=>({reference:A,floating:_})),[A,_]),B=o.useMemo((()=>{const e={position:n,left:0,top:0};if(!F.floating)return e;const t=l(F.floating,v.x),r=l(F.floating,v.y);return m?{...e,transform:"translate("+t+"px, "+r+"px)",...c(F.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:t,top:r}}),[n,m,F.floating,v.x,v.y]);return o.useMemo((()=>({...v,update:D,refs:U,elements:F,floatingStyles:B})),[v,D,U,F,B])}const h=e=>({name:"arrow",options:e,fn(t){const{element:n,padding:o}="function"===typeof e?e(t):e;return n&&(i=n,{}.hasOwnProperty.call(i,"current"))?null!=n.current?(0,r.UE)({element:n.current,padding:o}).fn(t):{}:n?(0,r.UE)({element:n,padding:o}).fn(t):{};var i}}),f=(e,t)=>({...(0,r.cY)(e),options:[e,t]}),p=(e,t)=>({...(0,r.BN)(e),options:[e,t]}),m=(e,t)=>({...(0,r.ER)(e),options:[e,t]}),g=(e,t)=>({...(0,r.UU)(e),options:[e,t]}),y=(e,t)=>({...(0,r.Ej)(e),options:[e,t]}),v=(e,t)=>({...(0,r.jD)(e),options:[e,t]}),w=(e,t)=>({...h(e),options:[e,t]})},6326:(e,t,n)=>{"use strict";n.d(t,{AQ:()=>f,C6:()=>o,Cl:()=>i,Ju:()=>l,N3:()=>h,Tt:()=>s,YH:()=>c,fX:()=>d,sH:()=>a,xN:()=>p,zs:()=>u});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};function s(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function a(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(t){i(t)}}function a(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function c(e,t){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"===typeof Iterator?Iterator:Object).prototype);return s.next=a(0),s.throw=a(1),s.return=a(2),"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(c){a=[6,c],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function l(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function d(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function h(e){return this instanceof h?(this.v=e,this):new h(e)}function f(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,l)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof h?Promise.resolve(n.value.v).then(c,l):u(i[0][2],n)}catch(r){u(i[0][3],r)}var n}function c(e){a("next",e)}function l(e){a("throw",e)}function u(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function p(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=l(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}Object.create;"function"===typeof SuppressedError&&SuppressedError},6382:(e,t,n)=>{"use strict";const r=n(4445),o=n(6900),i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.hp=c,t.IS=50;const s=2147483647;function a(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,n)}function l(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|m(e,t);let r=a(n);const o=r.write(e,t);o!==n&&(r=r.slice(0,o));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(G(e,Uint8Array)){const t=new Uint8Array(e);return f(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(G(e,ArrayBuffer)||e&&G(e.buffer,ArrayBuffer))return f(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(G(e,SharedArrayBuffer)||e&&G(e.buffer,SharedArrayBuffer)))return f(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return c.from(r,t,n);const o=function(e){if(c.isBuffer(e)){const t=0|p(e.length),n=a(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||Y(e.length)?a(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(o)return o;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|p(e))}function h(e){const t=e.length<0?0:0|p(e.length),n=a(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function f(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,c.prototype),r}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function m(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||G(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return W(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Q(e).length;default:if(o)return r?-1:W(e).length;t=(""+t).toLowerCase(),o=!0}}function g(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return _(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,o){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),Y(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"===typeof t&&(t=c.from(t,r)),c.isBuffer(t))return 0===t.length?-1:w(e,t,n,r,o);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):w(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function w(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(l(e,i)===l(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(l(e,i+r)!==l(t,r)){n=!1;break}if(n)return i}return-1}function b(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(Y(r))return s;e[n+s]=r}return s}function C(e,t,n,r){return V(W(t,e.length-n),e,n,r)}function x(e,t,n,r){return V(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function k(e,t,n,r){return V(Q(t),e,n,r)}function S(e,t,n,r){return V(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128===(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128===(192&n)&&128===(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128===(192&n)&&128===(192&r)&&128===(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,n){return l(e,t,n)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?a(e):void 0!==t?"string"===typeof n?a(e).fill(t,n):a(e).fill(t):a(e)}(e,t,n)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),G(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=c.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(G(t,Uint8Array))o+t.length>r.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},c.byteLength=m,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)y(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):g.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const n=t.IS;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},i&&(c.prototype[i]=c.prototype.inspect),c.prototype.compare=function(e,t,n,r,o){if(G(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let i=(o>>>=0)-(r>>>=0),s=(n>>>=0)-(t>>>=0);const a=Math.min(i,s),l=this.slice(r,o),u=e.slice(t,n);for(let c=0;c<a;++c)if(l[c]!==u[c]){i=l[c],s=u[c];break}return i<s?-1:s<i?1:0},c.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},c.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},c.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},c.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":case"latin1":case"binary":return x(this,e,t,n);case"base64":return k(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function A(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function _(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function N(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=J[e[i]];return o}function P(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function R(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function O(e,t,n,r,o,i){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function M(e,t,n,r,o){H(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function j(e,t,n,r,o){H(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function L(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,4),o.write(e,t,n,r,23,4),n+4}function q(e,t,n,r,i){return t=+t,n>>>=0,i||L(e,0,n,8),o.write(e,t,n,r,52,8),n+8}c.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,c.prototype),r},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=X((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),c.prototype.readBigUInt64BE=X((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),c.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},c.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||R(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=X((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=X((function(e){z(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||$(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),o.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),o.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){O(this,e,t,n,Math.pow(2,8*n)-1,0)}let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=X((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=X((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);O(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i|0)-s&255;return t+n},c.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||O(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=X((function(e){return M(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=X((function(e){return j(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},c.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},c.prototype.writeDoubleLE=function(e,t,n){return q(this,e,t,!0,n)},c.prototype.writeDoubleBE=function(e,t,n){return q(this,e,t,!1,n)},c.prototype.copy=function(e,t,n,r){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},c.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!c.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{const i=c.isBuffer(e)?e:c.from(e,r),s=i.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=i[o%s]}return this};const U={};function F(e,t,n){U[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function H(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"===typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new U.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){z(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||$(t,e.length-(n+1))}(r,o,i)}function z(e,t){if("number"!==typeof e)throw new U.ERR_INVALID_ARG_TYPE(t,"number",e)}function $(e,t,n){if(Math.floor(e)!==e)throw z(e,n),new U.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new U.ERR_BUFFER_OUT_OF_BOUNDS;throw new U.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"===typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const K=/[^+/0-9A-Za-z-_]/g;function W(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Q(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(K,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function G(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Y(e){return e!==e}const J=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},6900:(e,t)=>{t.read=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?o-1:0,h=n?-1:1,f=e[t+d];for(d+=h,i=f&(1<<-u)-1,f>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=h,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=h,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(f?-1:1);s+=Math.pow(2,r),i-=l}return(f?-1:1)*s*Math.pow(2,i-r)},t.write=function(e,t,n,r,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,h=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,p=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+f]=255&a,f+=p,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[n+f]=255&s,f+=p,s/=256,l-=8);e[n+f-p]|=128*m}},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>i(c,n))l<o&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<o&&0>i(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)o(u);else{if(!(t.startTime<=e))break;o(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function C(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,O(x);else{var t=r(u);null!==t&&M(C,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(I),I=-1),p=!0;var i=f;try{for(b(n),h=r(l);null!==h&&(!(h.expirationTime>n)||e&&!_());){var s=h.callback;if("function"===typeof s){h.callback=null,f=h.priorityLevel;var a=s(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?h.callback=a:h===r(l)&&o(l),b(n)}else o(l);h=r(l)}if(null!==h)var c=!0;else{var d=r(u);null!==d&&M(C,d.startTime-n),c=!1}return c}finally{h=null,f=i,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,S=!1,T=null,I=-1,E=5,A=-1;function _(){return!(t.unstable_now()-A<E)}function N(){if(null!==T){var e=t.unstable_now();A=e;var n=!0;try{n=T(!0,e)}finally{n?k():(S=!1,T=null)}}else S=!1}if("function"===typeof w)k=function(){w(N)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=N,k=function(){R.postMessage(null)}}else k=function(){y(N,0)};function O(e){T=e,S||(S=!0,k())}function M(e,n){I=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(u,e),null===r(l)&&e===r(u)&&(g?(v(I),I=-1):g=!0,M(C,i-s))):(e.sortIndex=a,n(l,e),m||p||(m=!0,O(x))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8387:(e,t,n)=>{"use strict";function r(e){var t,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function o(){for(var e,t,n=0,o="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(o&&(o+=" "),o+=t);return o}n.d(t,{$:()=>o,A:()=>i});const i=o},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},9461:(e,t,n)=>{"use strict";e.exports=n(2330)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,o){if(1&o&&(r=this(r)),8&o)return r;if("object"===typeof r&&r){if(4&o&&r.__esModule)return r;if(16&o&&"function"===typeof r.then)return r}var i=Object.create(null);n.r(i);var s={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>s[e]=()=>r[e]));return s.default=()=>r,n.d(i,s),i}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+"."+{55:"2314d5c7",99:"74dfbc90",716:"48b43877"}[e]+".chunk.js",n.miniCssF=e=>"static/css/"+e+".9cfad27b.chunk.css",n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="doctorapp-leapgen:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{if("undefined"!==typeof document){var e=e=>new Promise(((t,r)=>{var o=n.miniCssF(e),i=n.p+o;if(((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(o,i))return t();((e,t,r,o,i)=>{var s=document.createElement("link");s.rel="stylesheet",s.type="text/css",n.nc&&(s.nonce=n.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)o();else{var r=n&&n.type,a=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+": "+a+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=r,c.request=a,s.parentNode&&s.parentNode.removeChild(s),i(c)}},s.href=t,r?r.parentNode.insertBefore(s,r.nextSibling):document.head.appendChild(s)})(e,i,null,t,r)})),t={792:0};n.f.miniCss=(n,r)=>{t[n]?r.push(t[n]):0!==t[n]&&{716:1}[n]&&r.push(t[n]=e(n).then((()=>{t[n]=0}),(e=>{throw delete t[n],e})))}}})(),(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],c=r[2],l=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(c)c(n)}for(t&&t(r);l<s.length;l++)i=s[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkdoctorapp_leapgen=self.webpackChunkdoctorapp_leapgen||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),n.nc=void 0,(()=>{"use strict";var e={};n.r(e),n.d(e,{Decoder:()=>ku,Encoder:()=>Cu,PacketType:()=>bu,protocol:()=>wu});var t=n(5043),r=n.t(t,2),o=n(4391);var i=n(9461);const s=r.useInsertionEffect,a=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?t.useLayoutEffect:t.useEffect,c=s||a,l=e=>{const n=t.useRef([e,function(){return n[0](...arguments)}]).current;return c((()=>{n[0]=e})),n[1]},u="pushState",d="replaceState",h=["popstate",u,d,"hashchange"],f=e=>{for(const t of h)addEventListener(t,e);return()=>{for(const t of h)removeEventListener(t,e)}},p=(e,t)=>(0,i.useSyncExternalStore)(f,e,t),m=()=>location.search,g=()=>location.pathname,y=function(){let{ssrPath:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(g,e?()=>e:g)},v=function(e){let{replace:t=!1,state:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return history[t?d:u](n,"",e)},w=Symbol.for("wouter_v3");if("undefined"!==typeof history&&"undefined"===typeof window[w]){for(const e of[u,d]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,w,{value:!0})}const b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"/"===e?"":e},C=function(){let e=arguments.length>1?arguments[1]:void 0;return((e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/")(x(b(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"")),x(e))},x=e=>{try{return decodeURI(e)}catch(t){return e}},k={hook:function(){return[y(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),v]},searchHook:function(){let{ssrSearch:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(m,(()=>e))},parser:function(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,o,i,s=[],a="",c=e.split("/");for(c[0]||c.shift();o=c.shift();)"*"===(n=o[0])?(s.push(n),a+="?"===o[1]?"(?:/(.*))?":"/(.*)"):":"===n?(r=o.indexOf("?",1),i=o.indexOf(".",1),s.push(o.substring(1,~r?r:~i?i:o.length)),a+=~r&&!~i?"(?:/([^/]+?))?":"/([^/]+?)",~i&&(a+=(~r?"?":"")+"\\"+o.substring(i))):a+="/"+o;return{keys:s,pattern:new RegExp("^"+a+(t?"(?=$|/)":"/?$"),"i")}},base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:e=>e},S=(0,t.createContext)(k),T=()=>(0,t.useContext)(S),I={},E=(0,t.createContext)(I),A=e=>{const[t,n]=e.hook(e);return[C(e.base,t),l(((t,r)=>n(((e,t)=>"~"===e[0]?e.slice(1):b(t)+e)(t,e.base),r)))]},_=()=>A(T()),N=(e,t,n,r)=>{const{pattern:o,keys:i}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),s=o.exec(n)||[],[a,...c]=s;return void 0!==a?[!0,(()=>{const e=!1!==i?Object.fromEntries(i.map(((e,t)=>[e,c[t]]))):s.groups;let t={...c};return e&&Object.assign(t,e),t})(),...r?[a]:[]]:[!1,null]},P=e=>{let{children:n,...r}=e;const o=T(),i=r.hook?k:o;let s=i;const[a,c]=r.ssrPath?.split("?")??[];c&&(r.ssrSearch=c,r.ssrPath=a),r.hrefs=r.hrefs??r.hook?.hrefs;let l=(0,t.useRef)({}),u=l.current,d=u;for(let t in i){const e="base"===t?i[t]+(r[t]||""):r[t]||i[t];u===d&&e!==d[t]&&(l.current=d={...d}),d[t]=e,e!==i[t]&&(s=d)}return(0,t.createElement)(S.Provider,{value:s,children:n})},R=(e,n)=>{let{children:r,component:o}=e;return o?(0,t.createElement)(o,{params:n}):"function"===typeof r?r(n):r};const O=e=>{let{path:n,nest:r,match:o,...i}=e;const s=T(),[a]=A(s),[c,l,u]=o??N(s.parser,n,a,r),d=(e=>{let n=(0,t.useRef)(I);const r=n.current;return n.current=Object.keys(e).length!==Object.keys(r).length||Object.entries(e).some((e=>{let[t,n]=e;return n!==r[t]}))?e:r})({...(0,t.useContext)(E),...l});if(!c)return null;const h=u?(0,t.createElement)(P,{base:u},R(i,d)):R(i,d);return(0,t.createElement)(E.Provider,{value:d,children:h})},M=(0,t.forwardRef)(((e,n)=>{const r=T(),[o,i]=A(r),{to:s="",href:a=s,onClick:c,asChild:u,children:d,className:h,replace:f,state:p,...m}=e,g=l((t=>{t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||0!==t.button||(c?.(t),t.defaultPrevented||(t.preventDefault(),i(a,e)))})),y=r.hrefs("~"===a[0]?a.slice(1):r.base+a,r);return u&&(0,t.isValidElement)(d)?(0,t.cloneElement)(d,{onClick:g,href:y}):(0,t.createElement)("a",{...m,onClick:g,href:y,className:h?.call?h(o===a):h,children:d,ref:n})})),j=e=>Array.isArray(e)?e.flatMap((e=>j(e&&e.type===t.Fragment?e.props.children:e))):[e],L=e=>{let{children:n,location:r}=e;const o=T(),[i]=A(o);for(const s of j(n)){let e=0;if((0,t.isValidElement)(s)&&(e=N(o.parser,s.props.path,r||i,s.props.nest))[0])return(0,t.cloneElement)(s,{match:e})}return null};var D="undefined"===typeof window||"Deno"in globalThis;function q(){}function U(e){return"number"===typeof e&&e>=0&&e!==1/0}function F(e,t){return Math.max(e+(t||0)-Date.now(),0)}function B(e,t){return"function"===typeof e?e(t):e}function H(e,t){return"function"===typeof e?e(t):e}function z(e,t){const{type:n="all",exact:r,fetchStatus:o,predicate:i,queryKey:s,stale:a}=e;if(s)if(r){if(t.queryHash!==K(s,t.options))return!1}else if(!Q(t.queryKey,s))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof a||t.isStale()===a)&&((!o||o===t.state.fetchStatus)&&!(i&&!i(t)))}function $(e,t){const{exact:n,status:r,predicate:o,mutationKey:i}=e;if(i){if(!t.options.mutationKey)return!1;if(n){if(W(t.options.mutationKey)!==W(i))return!1}else if(!Q(t.options.mutationKey,i))return!1}return(!r||t.state.status===r)&&!(o&&!o(t))}function K(e,t){return(t?.queryKeyHashFn||W)(e)}function W(e){return JSON.stringify(e,((e,t)=>J(t)?Object.keys(t).sort().reduce(((e,n)=>(e[n]=t[n],e)),{}):t))}function Q(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every((n=>Q(e[n],t[n]))))}function V(e,t){if(e===t)return e;const n=Y(e)&&Y(t);if(n||J(e)&&J(t)){const r=n?e:Object.keys(e),o=r.length,i=n?t:Object.keys(t),s=i.length,a=n?[]:{};let c=0;for(let l=0;l<s;l++){const o=n?l:i[l];(!n&&r.includes(o)||n)&&void 0===e[o]&&void 0===t[o]?(a[o]=void 0,c++):(a[o]=V(e[o],t[o]),a[o]===e[o]&&void 0!==e[o]&&c++)}return o===s&&c===o?e:a}return t}function G(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Y(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function J(e){if(!X(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!X(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function X(e){return"[object Object]"===Object.prototype.toString.call(e)}function Z(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?V(e,t):t}function ee(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[...e,t];return n&&r.length>n?r.slice(1):r}function te(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ne=Symbol();function re(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==ne?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var oe=e=>setTimeout(e,0);var ie=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},o=oe;const i=r=>{t?e.push(r):o((()=>{n(r)}))};return{batch:i=>{let s;t++;try{s=i()}finally{t--,t||(()=>{const t=e;e=[],t.length&&o((()=>{r((()=>{t.forEach((e=>{n(e)}))}))}))})()}return s},batchCalls:e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((()=>{e(...n)}))},schedule:i,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{o=e}}}(),se=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},ae=new class extends se{#e;#t;#n;constructor(){super(),this.#n=e=>{if(!D&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e((e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()}))}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach((t=>{t(e)}))}isFocused(){return"boolean"===typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},ce=new class extends se{#r=!0;#t;#n;constructor(){super(),this.#n=e=>{if(!D&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#t||this.setEventListener(this.#n)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#n=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#r!==e&&(this.#r=e,this.listeners.forEach((t=>{t(e)})))}isOnline(){return this.#r}};function le(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch((()=>{})),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}function ue(e){return Math.min(1e3*2**e,3e4)}function de(e){return"online"!==(e??"online")||ce.isOnline()}var he=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function fe(e){return e instanceof he}function pe(e){let t,n=!1,r=0,o=!1;const i=le(),s=()=>ae.isFocused()&&("always"===e.networkMode||ce.isOnline())&&e.canRun(),a=()=>de(e.networkMode)&&e.canRun(),c=n=>{o||(o=!0,e.onSuccess?.(n),t?.(),i.resolve(n))},l=n=>{o||(o=!0,e.onError?.(n),t?.(),i.reject(n))},u=()=>new Promise((n=>{t=e=>{(o||s())&&n(e)},e.onPause?.()})).then((()=>{t=void 0,o||e.onContinue?.()})),d=()=>{if(o)return;let t;const i=0===r?e.initialPromise:void 0;try{t=i??e.fn()}catch(a){t=Promise.reject(a)}Promise.resolve(t).then(c).catch((t=>{if(o)return;const i=e.retry??(D?0:3),a=e.retryDelay??ue,c="function"===typeof a?a(r,t):a,h=!0===i||"number"===typeof i&&r<i||"function"===typeof i&&i(r,t);var f;!n&&h?(r++,e.onFail?.(r,t),(f=c,new Promise((e=>{setTimeout(e,f)}))).then((()=>s()?void 0:u())).then((()=>{n?l(t):d()}))):l(t)}))};return{promise:i,cancel:t=>{o||(l(new he(t)),e.abort?.())},continue:()=>(t?.(),i),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:a,start:()=>(a()?d():u().then(d),i)}}var me=class{#o;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),U(this.gcTime)&&(this.#o=setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(D?1/0:3e5))}clearGcTimeout(){this.#o&&(clearTimeout(this.#o),this.#o=void 0)}},ge=class extends me{#i;#s;#a;#c;#l;#u;#d;constructor(e){super(),this.#d=!1,this.#u=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#c=e.client,this.#a=this.#c.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#i=function(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#i,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#l?.promise}setOptions(e){this.options={...this.#u,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#a.remove(this)}setData(e,t){const n=Z(this.state.data,e,this.options);return this.#h({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#l?.promise;return this.#l?.cancel(e),t?t.then(q).catch(q):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#i)}isActive(){return this.observers.some((e=>!1!==H(e.options.enabled,this)))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===ne||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return!!this.state.isInvalidated||(this.getObserversCount()>0?this.observers.some((e=>e.getCurrentResult().isStale)):void 0===this.state.data)}isStaleByTime(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||void 0===this.state.data||!F(this.state.dataUpdatedAt,e)}onFocus(){const e=this.observers.find((e=>e.shouldFetchOnWindowFocus()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}onOnline(){const e=this.observers.find((e=>e.shouldFetchOnReconnect()));e?.refetch({cancelRefetch:!1}),this.#l?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#a.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter((t=>t!==e)),this.observers.length||(this.#l&&(this.#d?this.#l.cancel({revert:!0}):this.#l.cancelRetry()),this.scheduleGc()),this.#a.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#l)return this.#l.continueRetry(),this.#l.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find((e=>e.options.queryFn));e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#d=!0,n.signal)})},o={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#c,state:this.state,fetchFn:()=>{const e=re(this.options,t),n={client:this.#c,queryKey:this.queryKey,meta:this.meta};return r(n),this.#d=!1,this.options.persister?this.options.persister(e,n,this):e(n)}};r(o),this.options.behavior?.onFetch(o,this),this.#s=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#h({type:"fetch",meta:o.fetchOptions?.meta});const i=e=>{fe(e)&&e.silent||this.#h({type:"error",error:e}),fe(e)||(this.#a.config.onError?.(e,this),this.#a.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#l=pe({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void i(t)}this.#a.config.onSuccess?.(e,this),this.#a.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else i(new Error(`${this.queryHash} data is undefined`))},onError:i,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}),this.#l.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ye(t.data,this.options),fetchMeta:e.meta??null};case"success":return{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const n=e.error;return fe(n)&&n.revert&&this.#s?{...this.#s,fetchStatus:"idle"}:{...t,error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),ie.batch((()=>{this.observers.forEach((e=>{e.onQueryUpdate()})),this.#a.notify({query:this,type:"updated",action:e})}))}};function ye(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:de(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var ve=class extends se{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#f=new Map}#f;build(e,t,n){const r=t.queryKey,o=t.queryHash??K(r,t);let i=this.get(o);return i||(i=new ge({client:e,queryKey:r,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(i)),i}add(e){this.#f.has(e.queryHash)||(this.#f.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#f.get(e.queryHash);t&&(e.destroy(),t===e&&this.#f.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){ie.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return this.#f.get(e)}getAll(){return[...this.#f.values()]}find(e){const t={exact:!0,...e};return this.getAll().find((e=>z(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>z(e,t))):t}notify(e){ie.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){ie.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){ie.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},we=class extends me{#p;#m;#l;constructor(e){super(),this.mutationId=e.mutationId,this.#m=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#m.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter((t=>t!==e)),this.scheduleGc(),this.#m.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#m.remove(this))}continue(){return this.#l?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#h({type:"continue"})};this.#l=pe({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#m.canRun(this)});const n="pending"===this.state.status,r=!this.#l.canStart();try{if(n)t();else{this.#h({type:"pending",variables:e,isPaused:r}),await(this.#m.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:r})}const o=await this.#l.start();return await(this.#m.config.onSuccess?.(o,e,this.state.context,this)),await(this.options.onSuccess?.(o,e,this.state.context)),await(this.#m.config.onSettled?.(o,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(o,null,e,this.state.context)),this.#h({type:"success",data:o}),o}catch(o){try{throw await(this.#m.config.onError?.(o,e,this.state.context,this)),await(this.options.onError?.(o,e,this.state.context)),await(this.#m.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,o,e,this.state.context)),o}finally{this.#h({type:"error",error:o})}}finally{this.#m.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),ie.batch((()=>{this.#p.forEach((t=>{t.onMutationUpdate(e)})),this.#m.notify({mutation:this,type:"updated",action:e})}))}};var be=class extends se{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#v=0}#g;#y;#v;build(e,t,n){const r=new we({mutationCache:this,mutationId:++this.#v,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#g.add(e);const t=Ce(e);if("string"===typeof t){const n=this.#y.get(t);n?n.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=Ce(e);if("string"===typeof t){const n=this.#y.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=Ce(e);if("string"===typeof t){const n=this.#y.get(t),r=n?.find((e=>"pending"===e.state.status));return!r||r===e}return!0}runNext(e){const t=Ce(e);if("string"===typeof t){const n=this.#y.get(t)?.find((t=>t!==e&&t.state.isPaused));return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){ie.batch((()=>{this.#g.forEach((e=>{this.notify({type:"removed",mutation:e})})),this.#g.clear(),this.#y.clear()}))}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find((e=>$(t,e)))}findAll(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().filter((t=>$(e,t)))}notify(e){ie.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){const e=this.getAll().filter((e=>e.state.isPaused));return ie.batch((()=>Promise.all(e.map((e=>e.continue().catch(q))))))}};function Ce(e){return e.options.scope?.id}function xe(e){return{onFetch:(t,n)=>{const r=t.options,o=t.fetchOptions?.meta?.fetchMore?.direction,i=t.state.data?.pages||[],s=t.state.data?.pageParams||[];let a={pages:[],pageParams:[]},c=0;const l=async()=>{let n=!1;const l=re(t.options,t.fetchOptions),u=async(e,r,o)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const i={client:t.client,queryKey:t.queryKey,pageParam:r,direction:o?"backward":"forward",meta:t.options.meta};var s;s=i,Object.defineProperty(s,"signal",{enumerable:!0,get:()=>(t.signal.aborted?n=!0:t.signal.addEventListener("abort",(()=>{n=!0})),t.signal)});const a=await l(i),{maxPages:c}=t.options,u=o?te:ee;return{pages:u(e.pages,a,c),pageParams:u(e.pageParams,r,c)}};if(o&&i.length){const e="backward"===o,t={pages:i,pageParams:s},n=(e?Se:ke)(r,t);a=await u(t,n,e)}else{const t=e??i.length;do{const e=0===c?s[0]??r.initialPageParam:ke(r,a);if(c>0&&null==e)break;a=await u(a,e),c++}while(c<t)}return a};t.options.persister?t.fetchFn=()=>t.options.persister?.(l,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=l}}}function ke(e,t){let{pages:n,pageParams:r}=t;const o=n.length-1;return n.length>0?e.getNextPageParam(n[o],n,r[o],r):void 0}function Se(e,t){let{pages:n,pageParams:r}=t;return n.length>0?e.getPreviousPageParam?.(n[0],n,r[0],r):void 0}async function Te(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Ie(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await Te(r),r}const Ee=new class{#w;#m;#u;#b;#C;#x;#k;#S;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.#w=e.queryCache||new ve,this.#m=e.mutationCache||new be,this.#u=e.defaultOptions||{},this.#b=new Map,this.#C=new Map,this.#x=0}mount(){this.#x++,1===this.#x&&(this.#k=ae.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#w.onFocus())})),this.#S=ce.subscribe((async e=>{e&&(await this.resumePausedMutations(),this.#w.onOnline())})))}unmount(){this.#x--,0===this.#x&&(this.#k?.(),this.#k=void 0,this.#S?.(),this.#S=void 0)}isFetching(e){return this.#w.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#m.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#w.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(B(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#w.findAll(e).map((e=>{let{queryKey:t,state:n}=e;return[t,n.data]}))}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),o=this.#w.get(r.queryHash),i=o?.state.data,s=function(e,t){return"function"===typeof e?e(t):e}(t,i);if(void 0!==s)return this.#w.build(this,r).setData(s,{...n,manual:!0})}setQueriesData(e,t,n){return ie.batch((()=>this.#w.findAll(e).map((e=>{let{queryKey:r}=e;return[r,this.setQueryData(r,t,n)]}))))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#w.get(t.queryHash)?.state}removeQueries(e){const t=this.#w;ie.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const n=this.#w;return ie.batch((()=>(n.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries({type:"active",...e},t))))}cancelQueries(e){const t={revert:!0,...arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},n=ie.batch((()=>this.#w.findAll(e).map((e=>e.cancel(t)))));return Promise.all(n).then(q).catch(q)}invalidateQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ie.batch((()=>(this.#w.findAll(e).forEach((e=>{e.invalidate()})),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t))))}refetchQueries(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...t,cancelRefetch:t.cancelRefetch??!0},r=ie.batch((()=>this.#w.findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(q)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(r).then(q)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#w.build(this,t);return n.isStaleByTime(B(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(q).catch(q)}fetchInfiniteQuery(e){return e.behavior=xe(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(q).catch(q)}ensureInfiniteQueryData(e){return e.behavior=xe(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return ce.isOnline()?this.#m.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#w}getMutationCache(){return this.#m}getDefaultOptions(){return this.#u}setDefaultOptions(e){this.#u=e}setQueryDefaults(e,t){this.#b.set(W(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#b.values()],n={};return t.forEach((t=>{Q(e,t.queryKey)&&Object.assign(n,t.defaultOptions)})),n}setMutationDefaults(e,t){this.#C.set(W(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#C.values()],n={};return t.forEach((t=>{Q(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)})),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#u.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=K(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===ne&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#u.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#w.clear(),this.#m.clear()}}({defaultOptions:{queries:{queryFn:(e=>{let{on401:t}=e;return async e=>{let{queryKey:n}=e;const r=await fetch(n[0],{credentials:"include"});return"returnNull"===t&&401===r.status?null:(await Te(r),await r.json())}})({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});var Ae=n(579),_e=t.createContext(void 0),Ne=e=>{const n=t.useContext(_e);if(e)return e;if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},Pe=e=>{let{client:n,children:r}=e;return t.useEffect((()=>(n.mount(),()=>{n.unmount()})),[n]),(0,Ae.jsx)(_e.Provider,{value:n,children:r})};const Re="ADD_TOAST",Oe="UPDATE_TOAST",Me="DISMISS_TOAST",je="REMOVE_TOAST";let Le=0;const De=new Map,qe=e=>{if(De.has(e))return;const t=setTimeout((()=>{De.delete(e),He({type:je,toastId:e})}),1e6);De.set(e,t)},Ue=(e,t)=>{switch(t.type){case Re:return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case Oe:return{...e,toasts:e.toasts.map((e=>e.id===t.toast.id?{...e,...t.toast}:e))};case Me:{const{toastId:n}=t;return n?qe(n):e.toasts.forEach((e=>{qe(e.id)})),{...e,toasts:e.toasts.map((e=>e.id===n||void 0===n?{...e,open:!1}:e))}}case je:return void 0===t.toastId?{...e,toasts:[]}:{...e,toasts:e.toasts.filter((e=>e.id!==t.toastId))}}},Fe=[];let Be={toasts:[]};function He(e){Be=Ue(Be,e),Fe.forEach((e=>{e(Be)}))}function ze(e){let{...t}=e;const n=(Le=(Le+1)%Number.MAX_SAFE_INTEGER,Le.toString()),r=()=>He({type:Me,toastId:n});return He({type:Re,toast:{...t,id:n,open:!0,onOpenChange:e=>{e||r()}}}),{id:n,dismiss:r,update:e=>He({type:Oe,toast:{...e,id:n}})}}function $e(){const[e,n]=(0,t.useState)(Be);return(0,t.useEffect)((()=>(Fe.push(n),()=>{const e=Fe.indexOf(n);e>-1&&Fe.splice(e,1)})),[e]),{...e,toast:ze,dismiss:e=>He({type:Me,toastId:e})}}var Ke=n(7950);function We(e,t){let{checkForDefaultPrevented:n=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}function Qe(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function Ve(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{let n=!1;const r=t.map((t=>{const r=Qe(t,e);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let e=0;e<r.length;e++){const n=r[e];"function"==typeof n?n():Qe(t[e],null)}}}}function Ge(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.useCallback(Ve(...n),n)}function Ye(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];const o=()=>{const n=r.map((e=>t.createContext(e)));return function(r){const o=r?.[e]||n;return t.useMemo((()=>({[`__scope${e}`]:{...r,[e]:o}})),[r,o])}};return o.scopeName=e,[function(n,o){const i=t.createContext(o),s=r.length;r=[...r,o];const a=n=>{const{scope:r,children:o,...a}=n,c=r?.[e]?.[s]||i,l=t.useMemo((()=>a),Object.values(a));return(0,Ae.jsx)(c.Provider,{value:l,children:o})};return a.displayName=n+"Provider",[a,function(r,a){const c=a?.[e]?.[s]||i,l=t.useContext(c);if(l)return l;if(void 0!==o)return o;throw new Error(`\`${r}\` must be used within \`${n}\``)}]},Je(o,...n)]}function Je(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];const o=n[0];if(1===n.length)return o;const i=()=>{const e=n.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(n){const r=e.reduce(((e,t)=>{let{useScope:r,scopeName:o}=t;return{...e,...r(n)[`__scope${o}`]}}),{});return t.useMemo((()=>({[`__scope${o.scopeName}`]:r})),[r])}};return i.scopeName=o.scopeName,i}function Xe(e){const n=et(e),r=t.forwardRef(((e,r)=>{const{children:o,...i}=e,s=t.Children.toArray(o),a=s.find(nt);if(a){const e=a.props.children,o=s.map((n=>n===a?t.Children.count(e)>1?t.Children.only(null):t.isValidElement(e)?e.props.children:null:n));return(0,Ae.jsx)(n,{...i,ref:r,children:t.isValidElement(e)?t.cloneElement(e,void 0,o):null})}return(0,Ae.jsx)(n,{...i,ref:r,children:o})}));return r.displayName=`${e}.Slot`,r}var Ze=Xe("Slot");function et(e){const n=t.forwardRef(((e,n)=>{const{children:r,...o}=e;if(t.isValidElement(r)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(r),i=function(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=function(){i(...arguments),o(...arguments)}:o&&(n[r]=o):"style"===r?n[r]={...o,...i}:"className"===r&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}(o,r.props);return r.type!==t.Fragment&&(i.ref=n?Ve(n,e):e),t.cloneElement(r,i)}return t.Children.count(r)>1?t.Children.only(null):null}));return n.displayName=`${e}.SlotClone`,n}var tt=Symbol("radix.slottable");function nt(e){return t.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===tt}function rt(e){const n=e+"CollectionProvider",[r,o]=Ye(n),[i,s]=r(n,{collectionRef:{current:null},itemMap:new Map}),a=e=>{const{scope:n,children:r}=e,o=t.useRef(null),s=t.useRef(new Map).current;return(0,Ae.jsx)(i,{scope:n,itemMap:s,collectionRef:o,children:r})};a.displayName=n;const c=e+"CollectionSlot",l=Xe(c),u=t.forwardRef(((e,t)=>{const{scope:n,children:r}=e,o=Ge(t,s(c,n).collectionRef);return(0,Ae.jsx)(l,{ref:o,children:r})}));u.displayName=c;const d=e+"CollectionItemSlot",h="data-radix-collection-item",f=Xe(d),p=t.forwardRef(((e,n)=>{const{scope:r,children:o,...i}=e,a=t.useRef(null),c=Ge(n,a),l=s(d,r);return t.useEffect((()=>(l.itemMap.set(a,{ref:a,...i}),()=>{l.itemMap.delete(a)}))),(0,Ae.jsx)(f,{[h]:"",ref:c,children:o})}));return p.displayName=d,[{Provider:a,Slot:u,ItemSlot:p},function(n){const r=s(e+"CollectionConsumer",n);return t.useCallback((()=>{const e=r.collectionRef.current;if(!e)return[];const t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(r.itemMap.values()).sort(((e,n)=>t.indexOf(e.ref.current)-t.indexOf(n.ref.current)))}),[r.collectionRef,r.itemMap])},o]}var ot=new WeakMap;Map;function it(e,t){if("at"in Array.prototype)return Array.prototype.at.call(e,t);const n=function(e,t){const n=e.length,r=st(t),o=r>=0?r:n+r;return o<0||o>=n?-1:o}(e,t);return-1===n?void 0:e[n]}function st(e){return e!==e||0===e?0:Math.trunc(e)}var at=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce(((e,n)=>{const r=Xe(`Primitive.${n}`),o=t.forwardRef(((e,t)=>{const{asChild:o,...i}=e,s=o?r:n;return"undefined"!==typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,Ae.jsx)(s,{...i,ref:t})}));return o.displayName=`Primitive.${n}`,{...e,[n]:o}}),{});function ct(e,t){e&&Ke.flushSync((()=>e.dispatchEvent(t)))}function lt(e){const n=t.useRef(e);return t.useEffect((()=>{n.current=e})),t.useMemo((()=>function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current?.(...t)}),[])}var ut,dt="dismissableLayer.update",ht="dismissableLayer.pointerDownOutside",ft="dismissableLayer.focusOutside",pt=t.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),mt=t.forwardRef(((e,n)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:c,...l}=e,u=t.useContext(pt),[d,h]=t.useState(null),f=d?.ownerDocument??globalThis?.document,[,p]=t.useState({}),m=Ge(n,(e=>h(e))),g=Array.from(u.layers),[y]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(y),w=d?g.indexOf(d):-1,b=u.layersWithOutsidePointerEventsDisabled.size>0,C=w>=v,x=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=lt(e),o=t.useRef(!1),i=t.useRef((()=>{}));return t.useEffect((()=>{const e=e=>{if(e.target&&!o.current){let t=function(){vt(ht,r,o,{discrete:!0})};const o={originalEvent:e};"touch"===e.pointerType?(n.removeEventListener("click",i.current),i.current=t,n.addEventListener("click",i.current,{once:!0})):t()}else n.removeEventListener("click",i.current);o.current=!1},t=window.setTimeout((()=>{n.addEventListener("pointerdown",e)}),0);return()=>{window.clearTimeout(t),n.removeEventListener("pointerdown",e),n.removeEventListener("click",i.current)}}),[n,r]),{onPointerDownCapture:()=>o.current=!0}}((e=>{const t=e.target,n=[...u.branches].some((e=>e.contains(t)));C&&!n&&(i?.(e),a?.(e),e.defaultPrevented||c?.())}),f),k=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=lt(e),o=t.useRef(!1);return t.useEffect((()=>{const e=e=>{if(e.target&&!o.current){vt(ft,r,{originalEvent:e},{discrete:!1})}};return n.addEventListener("focusin",e),()=>n.removeEventListener("focusin",e)}),[n,r]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}((e=>{const t=e.target;[...u.branches].some((e=>e.contains(t)))||(s?.(e),a?.(e),e.defaultPrevented||c?.())}),f);return function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:globalThis?.document;const r=lt(e);t.useEffect((()=>{const e=e=>{"Escape"===e.key&&r(e)};return n.addEventListener("keydown",e,{capture:!0}),()=>n.removeEventListener("keydown",e,{capture:!0})}),[r,n])}((e=>{w===u.layers.size-1&&(o?.(e),!e.defaultPrevented&&c&&(e.preventDefault(),c()))}),f),t.useEffect((()=>{if(d)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(ut=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yt(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(f.body.style.pointerEvents=ut)}}),[d,f,r,u]),t.useEffect((()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yt())}),[d,u]),t.useEffect((()=>{const e=()=>p({});return document.addEventListener(dt,e),()=>document.removeEventListener(dt,e)}),[]),(0,Ae.jsx)(at.div,{...l,ref:m,style:{pointerEvents:b?C?"auto":"none":void 0,...e.style},onFocusCapture:We(e.onFocusCapture,k.onFocusCapture),onBlurCapture:We(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:We(e.onPointerDownCapture,x.onPointerDownCapture)})}));mt.displayName="DismissableLayer";var gt=t.forwardRef(((e,n)=>{const r=t.useContext(pt),o=t.useRef(null),i=Ge(n,o);return t.useEffect((()=>{const e=o.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}}),[r.branches]),(0,Ae.jsx)(at.div,{...e,ref:i})}));function yt(){const e=new CustomEvent(dt);document.dispatchEvent(e)}function vt(e,t,n,r){let{discrete:o}=r;const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?ct(i,s):i.dispatchEvent(s)}gt.displayName="DismissableLayerBranch";var wt=mt,bt=gt,Ct=globalThis?.document?t.useLayoutEffect:()=>{},xt=t.forwardRef(((e,n)=>{const{container:r,...o}=e,[i,s]=t.useState(!1);Ct((()=>s(!0)),[]);const a=r||i&&globalThis?.document?.body;return a?Ke.createPortal((0,Ae.jsx)(at.div,{...o,ref:n}),a):null}));xt.displayName="Portal";var kt=e=>{const{present:n,children:r}=e,o=function(e){const[n,r]=t.useState(),o=t.useRef(null),i=t.useRef(e),s=t.useRef("none"),a=e?"mounted":"unmounted",[c,l]=function(e,n){return t.useReducer(((e,t)=>n[e][t]??e),e)}(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return t.useEffect((()=>{const e=St(o.current);s.current="mounted"===c?e:"none"}),[c]),Ct((()=>{const t=o.current,n=i.current;if(n!==e){const r=s.current,o=St(t);if(e)l("MOUNT");else if("none"===o||"none"===t?.display)l("UNMOUNT");else{l(n&&r!==o?"ANIMATION_OUT":"UNMOUNT")}i.current=e}}),[e,l]),Ct((()=>{if(n){let e;const t=n.ownerDocument.defaultView??window,r=r=>{const s=St(o.current).includes(r.animationName);if(r.target===n&&s&&(l("ANIMATION_END"),!i.current)){const r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout((()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)}))}},a=e=>{e.target===n&&(s.current=St(o.current))};return n.addEventListener("animationstart",a),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",a),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}l("ANIMATION_END")}),[n,l]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:t.useCallback((e=>{o.current=e?getComputedStyle(e):null,r(e)}),[])}}(n),i="function"===typeof r?r({present:o.isPresent}):t.Children.only(r),s=Ge(o.ref,function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(i));return"function"===typeof r||o.isPresent?t.cloneElement(i,{ref:s}):null};function St(e){return e?.animationName||"none"}kt.displayName="Presence";var Tt=r[" useInsertionEffect ".trim().toString()]||Ct;function It(e){let{prop:n,defaultProp:r,onChange:o=()=>{},caller:i}=e;const[s,a,c]=function(e){let{defaultProp:n,onChange:r}=e;const[o,i]=t.useState(n),s=t.useRef(o),a=t.useRef(r);return Tt((()=>{a.current=r}),[r]),t.useEffect((()=>{s.current!==o&&(a.current?.(o),s.current=o)}),[o,s]),[o,i,a]}({defaultProp:r,onChange:o}),l=void 0!==n,u=l?n:s;{const e=t.useRef(void 0!==n);t.useEffect((()=>{const t=e.current;if(t!==l){const e=t?"controlled":"uncontrolled",n=l?"controlled":"uncontrolled";console.warn(`${i} is changing from ${e} to ${n}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}e.current=l}),[l,i])}const d=t.useCallback((e=>{if(l){const t=function(e){return"function"===typeof e}(e)?e(n):e;t!==n&&c.current?.(t)}else a(e)}),[l,n,a,c]);return[u,d]}Symbol("RADIX:SYNC_STATE");var Et=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),At=t.forwardRef(((e,t)=>(0,Ae.jsx)(at.span,{...e,ref:t,style:{...Et,...e.style}})));At.displayName="VisuallyHidden";var _t="ToastProvider",[Nt,Pt,Rt]=rt("Toast"),[Ot,Mt]=Ye("Toast",[Rt]),[jt,Lt]=Ot(_t),Dt=e=>{const{__scopeToast:n,label:r="Notification",duration:o=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[c,l]=t.useState(null),[u,d]=t.useState(0),h=t.useRef(!1),f=t.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${_t}\`. Expected non-empty \`string\`.`),(0,Ae.jsx)(Nt.Provider,{scope:n,children:(0,Ae.jsx)(jt,{scope:n,label:r,duration:o,swipeDirection:i,swipeThreshold:s,toastCount:u,viewport:c,onViewportChange:l,onToastAdd:t.useCallback((()=>d((e=>e+1))),[]),onToastRemove:t.useCallback((()=>d((e=>e-1))),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:f,children:a})})};Dt.displayName=_t;var qt="ToastViewport",Ut=["F8"],Ft="toast.viewportPause",Bt="toast.viewportResume",Ht=t.forwardRef(((e,n)=>{const{__scopeToast:r,hotkey:o=Ut,label:i="Notifications ({hotkey})",...s}=e,a=Lt(qt,r),c=Pt(r),l=t.useRef(null),u=t.useRef(null),d=t.useRef(null),h=t.useRef(null),f=Ge(n,h,a.onViewportChange),p=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;t.useEffect((()=>{const e=e=>{0!==o.length&&o.every((t=>e[t]||e.code===t))&&h.current?.focus()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)}),[o]),t.useEffect((()=>{const e=l.current,t=h.current;if(m&&e&&t){const n=()=>{if(!a.isClosePausedRef.current){const e=new CustomEvent(Ft);t.dispatchEvent(e),a.isClosePausedRef.current=!0}},r=()=>{if(a.isClosePausedRef.current){const e=new CustomEvent(Bt);t.dispatchEvent(e),a.isClosePausedRef.current=!1}},o=t=>{!e.contains(t.relatedTarget)&&r()},i=()=>{e.contains(document.activeElement)||r()};return e.addEventListener("focusin",n),e.addEventListener("focusout",o),e.addEventListener("pointermove",n),e.addEventListener("pointerleave",i),window.addEventListener("blur",n),window.addEventListener("focus",r),()=>{e.removeEventListener("focusin",n),e.removeEventListener("focusout",o),e.removeEventListener("pointermove",n),e.removeEventListener("pointerleave",i),window.removeEventListener("blur",n),window.removeEventListener("focus",r)}}}),[m,a.isClosePausedRef]);const g=t.useCallback((e=>{let{tabbingDirection:t}=e;const n=c().map((e=>{const n=e.ref.current,r=[n,...cn(n)];return"forwards"===t?r:r.reverse()}));return("forwards"===t?n.reverse():n).flat()}),[c]);return t.useEffect((()=>{const e=h.current;if(e){const t=t=>{const n=t.altKey||t.ctrlKey||t.metaKey;if("Tab"===t.key&&!n){const n=document.activeElement,r=t.shiftKey;if(t.target===e&&r)return void u.current?.focus();const o=g({tabbingDirection:r?"backwards":"forwards"}),i=o.findIndex((e=>e===n));ln(o.slice(i+1))?t.preventDefault():r?u.current?.focus():d.current?.focus()}};return e.addEventListener("keydown",t),()=>e.removeEventListener("keydown",t)}}),[c,g]),(0,Ae.jsxs)(bt,{ref:l,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&(0,Ae.jsx)($t,{ref:u,onFocusFromOutsideViewport:()=>{ln(g({tabbingDirection:"forwards"}))}}),(0,Ae.jsx)(Nt.Slot,{scope:r,children:(0,Ae.jsx)(at.ol,{tabIndex:-1,...s,ref:f})}),m&&(0,Ae.jsx)($t,{ref:d,onFocusFromOutsideViewport:()=>{ln(g({tabbingDirection:"backwards"}))}})]})}));Ht.displayName=qt;var zt="ToastFocusProxy",$t=t.forwardRef(((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...o}=e,i=Lt(zt,n);return(0,Ae.jsx)(At,{"aria-hidden":!0,tabIndex:0,...o,ref:t,style:{position:"fixed"},onFocus:e=>{const t=e.relatedTarget;!i.viewport?.contains(t)&&r()}})}));$t.displayName=zt;var Kt="Toast",Wt=t.forwardRef(((e,t)=>{const{forceMount:n,open:r,defaultOpen:o,onOpenChange:i,...s}=e,[a,c]=It({prop:r,defaultProp:o??!0,onChange:i,caller:Kt});return(0,Ae.jsx)(kt,{present:n||a,children:(0,Ae.jsx)(Gt,{open:a,...s,ref:t,onClose:()=>c(!1),onPause:lt(e.onPause),onResume:lt(e.onResume),onSwipeStart:We(e.onSwipeStart,(e=>{e.currentTarget.setAttribute("data-swipe","start")})),onSwipeMove:We(e.onSwipeMove,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","move"),e.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${n}px`)})),onSwipeCancel:We(e.onSwipeCancel,(e=>{e.currentTarget.setAttribute("data-swipe","cancel"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")})),onSwipeEnd:We(e.onSwipeEnd,(e=>{const{x:t,y:n}=e.detail.delta;e.currentTarget.setAttribute("data-swipe","end"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),e.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),e.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${t}px`),e.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${n}px`),c(!1)}))})})}));Wt.displayName=Kt;var[Qt,Vt]=Ot(Kt,{onClose(){}}),Gt=t.forwardRef(((e,n)=>{const{__scopeToast:r,type:o="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:c,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:f,onSwipeEnd:p,...m}=e,g=Lt(Kt,r),[y,v]=t.useState(null),w=Ge(n,(e=>v(e))),b=t.useRef(null),C=t.useRef(null),x=i||g.duration,k=t.useRef(0),S=t.useRef(x),T=t.useRef(0),{onToastAdd:I,onToastRemove:E}=g,A=lt((()=>{const e=y?.contains(document.activeElement);e&&g.viewport?.focus(),a()})),_=t.useCallback((e=>{e&&e!==1/0&&(window.clearTimeout(T.current),k.current=(new Date).getTime(),T.current=window.setTimeout(A,e))}),[A]);t.useEffect((()=>{const e=g.viewport;if(e){const t=()=>{_(S.current),u?.()},n=()=>{const e=(new Date).getTime()-k.current;S.current=S.current-e,window.clearTimeout(T.current),l?.()};return e.addEventListener(Ft,n),e.addEventListener(Bt,t),()=>{e.removeEventListener(Ft,n),e.removeEventListener(Bt,t)}}}),[g.viewport,x,l,u,_]),t.useEffect((()=>{s&&!g.isClosePausedRef.current&&_(x)}),[s,x,g.isClosePausedRef,_]),t.useEffect((()=>(I(),()=>E())),[I,E]);const N=t.useMemo((()=>y?on(y):null),[y]);return g.viewport?(0,Ae.jsxs)(Ae.Fragment,{children:[N&&(0,Ae.jsx)(Yt,{__scopeToast:r,role:"status","aria-live":"foreground"===o?"assertive":"polite","aria-atomic":!0,children:N}),(0,Ae.jsx)(Qt,{scope:r,onClose:A,children:Ke.createPortal((0,Ae.jsx)(Nt.ItemSlot,{scope:r,children:(0,Ae.jsx)(wt,{asChild:!0,onEscapeKeyDown:We(c,(()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1})),children:(0,Ae.jsx)(at.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:We(e.onKeyDown,(e=>{"Escape"===e.key&&(c?.(e.nativeEvent),e.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))})),onPointerDown:We(e.onPointerDown,(e=>{0===e.button&&(b.current={x:e.clientX,y:e.clientY})})),onPointerMove:We(e.onPointerMove,(e=>{if(!b.current)return;const t=e.clientX-b.current.x,n=e.clientY-b.current.y,r=Boolean(C.current),o=["left","right"].includes(g.swipeDirection),i=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,s=o?i(0,t):0,a=o?0:i(0,n),c="touch"===e.pointerType?10:2,l={x:s,y:a},u={originalEvent:e,delta:l};r?(C.current=l,sn("toast.swipeMove",h,u,{discrete:!1})):an(l,g.swipeDirection,c)?(C.current=l,sn("toast.swipeStart",d,u,{discrete:!1}),e.target.setPointerCapture(e.pointerId)):(Math.abs(t)>c||Math.abs(n)>c)&&(b.current=null)})),onPointerUp:We(e.onPointerUp,(e=>{const t=C.current,n=e.target;if(n.hasPointerCapture(e.pointerId)&&n.releasePointerCapture(e.pointerId),C.current=null,b.current=null,t){const n=e.currentTarget,r={originalEvent:e,delta:t};an(t,g.swipeDirection,g.swipeThreshold)?sn("toast.swipeEnd",p,r,{discrete:!0}):sn("toast.swipeCancel",f,r,{discrete:!0}),n.addEventListener("click",(e=>e.preventDefault()),{once:!0})}}))})})}),g.viewport)})]}):null})),Yt=e=>{const{__scopeToast:n,children:r,...o}=e,i=Lt(Kt,n),[s,a]=t.useState(!1),[c,l]=t.useState(!1);return function(){const e=lt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:()=>{});Ct((()=>{let t=0,n=0;return t=window.requestAnimationFrame((()=>n=window.requestAnimationFrame(e))),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(n)}}),[e])}((()=>a(!0))),t.useEffect((()=>{const e=window.setTimeout((()=>l(!0)),1e3);return()=>window.clearTimeout(e)}),[]),c?null:(0,Ae.jsx)(xt,{asChild:!0,children:(0,Ae.jsx)(At,{...o,children:s&&(0,Ae.jsxs)(Ae.Fragment,{children:[i.label," ",r]})})})},Jt=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,Ae.jsx)(at.div,{...r,ref:t})}));Jt.displayName="ToastTitle";var Xt=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e;return(0,Ae.jsx)(at.div,{...r,ref:t})}));Xt.displayName="ToastDescription";var Zt="ToastAction",en=t.forwardRef(((e,t)=>{const{altText:n,...r}=e;return n.trim()?(0,Ae.jsx)(rn,{altText:n,asChild:!0,children:(0,Ae.jsx)(nn,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Zt}\`. Expected non-empty \`string\`.`),null)}));en.displayName=Zt;var tn="ToastClose",nn=t.forwardRef(((e,t)=>{const{__scopeToast:n,...r}=e,o=Vt(tn,n);return(0,Ae.jsx)(rn,{asChild:!0,children:(0,Ae.jsx)(at.button,{type:"button",...r,ref:t,onClick:We(e.onClick,o.onClose)})})}));nn.displayName=tn;var rn=t.forwardRef(((e,t)=>{const{__scopeToast:n,altText:r,...o}=e;return(0,Ae.jsx)(at.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...o,ref:t})}));function on(e){const t=[];return Array.from(e.childNodes).forEach((e=>{if(e.nodeType===e.TEXT_NODE&&e.textContent&&t.push(e.textContent),function(e){return e.nodeType===e.ELEMENT_NODE}(e)){const n=e.ariaHidden||e.hidden||"none"===e.style.display,r=""===e.dataset.radixToastAnnounceExclude;if(!n)if(r){const n=e.dataset.radixToastAnnounceAlt;n&&t.push(n)}else t.push(...on(e))}})),t}function sn(e,t,n,r){let{discrete:o}=r;const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),o?ct(i,s):i.dispatchEvent(s)}var an=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=Math.abs(e.x),o=Math.abs(e.y),i=r>o;return"left"===t||"right"===t?i&&r>n:!i&&o>n};function cn(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ln(e){const t=document.activeElement;return e.some((e=>e===t||(e.focus(),document.activeElement!==t)))}var un=Dt,dn=Ht,hn=Wt,fn=Jt,pn=Xt,mn=nn;const gn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(((e,t,n)=>Boolean(e)&&n.indexOf(e)===t)).join(" ")};var yn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const vn=(0,t.forwardRef)(((e,n)=>{let{color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:c,iconNode:l,...u}=e;return(0,t.createElement)("svg",{ref:n,...yn,width:o,height:o,stroke:r,strokeWidth:s?24*Number(i)/Number(o):i,className:gn("lucide",a),...u},[...l.map((e=>{let[n,r]=e;return(0,t.createElement)(n,r)})),...Array.isArray(c)?c:[c]])})),wn=(e,n)=>{const r=(0,t.forwardRef)(((r,o)=>{let{className:i,...s}=r;return(0,t.createElement)(vn,{ref:o,iconNode:n,className:gn(`lucide-${a=e,a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,i),...s});var a}));return r.displayName=`${e}`,r},bn=wn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var Cn=n(8387);const xn=e=>{const t=In(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:e=>{const n=e.split("-");return""===n[0]&&1!==n.length&&n.shift(),kn(n,t)||Tn(e)},getConflictingClassGroupIds:(e,t)=>{const o=n[e]||[];return t&&r[e]?[...o,...r[e]]:o}}},kn=(e,t)=>{if(0===e.length)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),o=r?kn(e.slice(1),r):void 0;if(o)return o;if(0===t.validators.length)return;const i=e.join("-");return t.validators.find((e=>{let{validator:t}=e;return t(i)}))?.classGroupId},Sn=/^\[(.+)\]$/,Tn=e=>{if(Sn.test(e)){const t=Sn.exec(e)[1],n=t?.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},In=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Nn(Object.entries(e.classGroups),n).forEach((e=>{let[n,o]=e;En(o,r,n,t)})),r},En=(e,t,n,r)=>{e.forEach((e=>{if("string"!==typeof e){if("function"===typeof e)return _n(e)?void En(e(r),t,n,r):void t.validators.push({validator:e,classGroupId:n});Object.entries(e).forEach((e=>{let[o,i]=e;En(i,An(t,o),n,r)}))}else{(""===e?t:An(t,e)).classGroupId=n}}))},An=(e,t)=>{let n=e;return t.split("-").forEach((e=>{n.nextPart.has(e)||n.nextPart.set(e,{nextPart:new Map,validators:[]}),n=n.nextPart.get(e)})),n},_n=e=>e.isThemeGetter,Nn=(e,t)=>t?e.map((e=>{let[n,r]=e;const o=r.map((e=>"string"===typeof e?t+e:"object"===typeof e?Object.fromEntries(Object.entries(e).map((e=>{let[n,r]=e;return[t+n,r]}))):e));return[n,o]})):e,Pn=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const o=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(e){let t=n.get(e);return void 0!==t?t:void 0!==(t=r.get(e))?(o(e,t),t):void 0},set(e,t){n.has(e)?n.set(e,t):o(e,t)}}},Rn=e=>{const{separator:t,experimentalParseClassName:n}=e,r=1===t.length,o=t[0],i=t.length,s=e=>{const n=[];let s,a=0,c=0;for(let d=0;d<e.length;d++){let l=e[d];if(0===a){if(l===o&&(r||e.slice(d,d+i)===t)){n.push(e.slice(c,d)),c=d+i;continue}if("/"===l){s=d;continue}}"["===l?a++:"]"===l&&a--}const l=0===n.length?e:e.substring(c),u=l.startsWith("!");return{modifiers:n,hasImportantModifier:u,baseClassName:u?l.substring(1):l,maybePostfixModifierPosition:s&&s>c?s-c:void 0}};return n?e=>n({className:e,parseClassName:s}):s},On=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach((e=>{"["===e[0]?(t.push(...n.sort(),e),n=[]):n.push(e)})),t.push(...n.sort()),t},Mn=/\s+/;function jn(){let e,t,n=0,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Ln(e))&&(r&&(r+=" "),r+=t);return r}const Ln=e=>{if("string"===typeof e)return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Ln(e[r]))&&(n&&(n+=" "),n+=t);return n};function Dn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];let o,i,s,a=function(t){const r=n.reduce(((e,t)=>t(e)),e());return o=(e=>({cache:Pn(e.cacheSize),parseClassName:Rn(e),...xn(e)}))(r),i=o.cache.get,s=o.cache.set,a=c,c(t)};function c(e){const t=i(e);if(t)return t;const n=((e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:o}=t,i=[],s=e.trim().split(Mn);let a="";for(let c=s.length-1;c>=0;c-=1){const e=s[c],{modifiers:t,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:d}=n(e);let h=Boolean(d),f=r(h?u.substring(0,d):u);if(!f){if(!h){a=e+(a.length>0?" "+a:a);continue}if(f=r(u),!f){a=e+(a.length>0?" "+a:a);continue}h=!1}const p=On(t).join(":"),m=l?p+"!":p,g=m+f;if(i.includes(g))continue;i.push(g);const y=o(f,h);for(let n=0;n<y.length;++n){const e=y[n];i.push(m+e)}a=e+(a.length>0?" "+a:a)}return a})(e,o);return s(e,n),n}return function(){return a(jn.apply(null,arguments))}}const qn=e=>{const t=t=>t[e]||[];return t.isThemeGetter=!0,t},Un=/^\[(?:([a-z-]+):)?(.+)\]$/i,Fn=/^\d+\/\d+$/,Bn=new Set(["px","full","screen"]),Hn=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,zn=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,$n=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Kn=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Wn=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qn=e=>Gn(e)||Bn.has(e)||Fn.test(e),Vn=e=>cr(e,"length",lr),Gn=e=>Boolean(e)&&!Number.isNaN(Number(e)),Yn=e=>cr(e,"number",Gn),Jn=e=>Boolean(e)&&Number.isInteger(Number(e)),Xn=e=>e.endsWith("%")&&Gn(e.slice(0,-1)),Zn=e=>Un.test(e),er=e=>Hn.test(e),tr=new Set(["length","size","percentage"]),nr=e=>cr(e,tr,ur),rr=e=>cr(e,"position",ur),or=new Set(["image","url"]),ir=e=>cr(e,or,hr),sr=e=>cr(e,"",dr),ar=()=>!0,cr=(e,t,n)=>{const r=Un.exec(e);return!!r&&(r[1]?"string"===typeof t?r[1]===t:t.has(r[1]):n(r[2]))},lr=e=>zn.test(e)&&!$n.test(e),ur=()=>!1,dr=e=>Kn.test(e),hr=e=>Wn.test(e),fr=(Symbol.toStringTag,()=>{const e=qn("colors"),t=qn("spacing"),n=qn("blur"),r=qn("brightness"),o=qn("borderColor"),i=qn("borderRadius"),s=qn("borderSpacing"),a=qn("borderWidth"),c=qn("contrast"),l=qn("grayscale"),u=qn("hueRotate"),d=qn("invert"),h=qn("gap"),f=qn("gradientColorStops"),p=qn("gradientColorStopPositions"),m=qn("inset"),g=qn("margin"),y=qn("opacity"),v=qn("padding"),w=qn("saturate"),b=qn("scale"),C=qn("sepia"),x=qn("skew"),k=qn("space"),S=qn("translate"),T=()=>["auto",Zn,t],I=()=>[Zn,t],E=()=>["",Qn,Vn],A=()=>["auto",Gn,Zn],_=()=>["","0",Zn],N=()=>[Gn,Zn];return{cacheSize:500,separator:":",theme:{colors:[ar],spacing:[Qn,Vn],blur:["none","",er,Zn],brightness:N(),borderColor:[e],borderRadius:["none","","full",er,Zn],borderSpacing:I(),borderWidth:E(),contrast:N(),grayscale:_(),hueRotate:N(),invert:_(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[Xn,Vn],inset:T(),margin:T(),opacity:N(),padding:I(),saturate:N(),scale:N(),sepia:_(),skew:N(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",Zn]}],container:["container"],columns:[{columns:[er]}],"break-after":[{"break-after":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-before":[{"break-before":["auto","avoid","all","avoid-page","page","left","right","column"]}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",Zn]}],overflow:[{overflow:["auto","hidden","clip","visible","scroll"]}],"overflow-x":[{"overflow-x":["auto","hidden","clip","visible","scroll"]}],"overflow-y":[{"overflow-y":["auto","hidden","clip","visible","scroll"]}],overscroll:[{overscroll:["auto","contain","none"]}],"overscroll-x":[{"overscroll-x":["auto","contain","none"]}],"overscroll-y":[{"overscroll-y":["auto","contain","none"]}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[m]}],"inset-x":[{"inset-x":[m]}],"inset-y":[{"inset-y":[m]}],start:[{start:[m]}],end:[{end:[m]}],top:[{top:[m]}],right:[{right:[m]}],bottom:[{bottom:[m]}],left:[{left:[m]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Jn,Zn]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Zn]}],grow:[{grow:_()}],shrink:[{shrink:_()}],order:[{order:["first","last","none",Jn,Zn]}],"grid-cols":[{"grid-cols":[ar]}],"col-start-end":[{col:["auto",{span:["full",Jn,Zn]},Zn]}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":[ar]}],"row-start-end":[{row:["auto",{span:[Jn,Zn]},Zn]}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Zn]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Zn]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal","start","end","center","between","around","evenly","stretch"]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal","start","end","center","between","around","evenly","stretch","baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":["start","end","center","between","around","evenly","stretch","baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[g]}],mx:[{mx:[g]}],my:[{my:[g]}],ms:[{ms:[g]}],me:[{me:[g]}],mt:[{mt:[g]}],mr:[{mr:[g]}],mb:[{mb:[g]}],ml:[{ml:[g]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Zn,t]}],"min-w":[{"min-w":[Zn,t,"min","max","fit"]}],"max-w":[{"max-w":[Zn,t,"none","full","min","max","fit","prose",{screen:[er]},er]}],h:[{h:[Zn,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Zn,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Zn,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Zn,t,"auto","min","max","fit"]}],"font-size":[{text:["base",er,Vn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Yn]}],"font-family":[{font:[ar]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Zn]}],"line-clamp":[{"line-clamp":["none",Gn,Yn]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qn,Zn]}],"list-image":[{"list-image":["none",Zn]}],"list-style-type":[{list:["none","disc","decimal",Zn]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:["solid","dashed","dotted","double","none","wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qn,Vn]}],"underline-offset":[{"underline-offset":["auto",Qn,Zn]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Zn]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Zn]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top",rr]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",nr]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},ir]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[p]}],"gradient-via-pos":[{via:[p]}],"gradient-to-pos":[{to:[p]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:["solid","dashed","dotted","double","none","hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:["solid","dashed","dotted","double","none"]}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-s":[{"border-s":[o]}],"border-color-e":[{"border-e":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["","solid","dashed","dotted","double","none"]}],"outline-offset":[{"outline-offset":[Qn,Zn]}],"outline-w":[{outline:[Qn,Vn]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:E()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[Qn,Vn]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",er,sr]}],"shadow-color":[{shadow:[ar]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",er,Zn]}],grayscale:[{grayscale:[l]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[w]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[l]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Zn]}],duration:[{duration:N()}],ease:[{ease:["linear","in","out","in-out",Zn]}],delay:[{delay:N()}],animate:[{animate:["none","spin","ping","pulse","bounce",Zn]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[b]}],"scale-x":[{"scale-x":[b]}],"scale-y":[{"scale-y":[b]}],rotate:[{rotate:[Jn,Zn]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[x]}],"skew-y":[{"skew-y":[x]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Zn]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Zn]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Zn]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qn,Vn,Yn]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}),pr=Dn(fr);function mr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return pr((0,Cn.$)(t))}const gr=un,yr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(dn,{ref:t,className:mr("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...r})}));yr.displayName=dn.displayName;const vr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(hn,{ref:t,className:mr("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",n),...r})}));vr.displayName=hn.displayName;const wr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(mn,{ref:t,className:mr("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...r,children:(0,Ae.jsx)(bn,{className:"h-4 w-4"})})}));wr.displayName=mn.displayName;const br=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(fn,{ref:t,className:mr("text-sm font-semibold [&+div]:text-xs",n),...r})}));br.displayName=fn.displayName;const Cr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(pn,{ref:t,className:mr("text-sm opacity-90",n),...r})}));function xr(){const{toasts:e}=$e();return(0,Ae.jsxs)(gr,{children:[e.map((function(e){let{id:t,title:n,description:r,action:o,...i}=e;return(0,Ae.jsxs)(vr,{...i,children:[(0,Ae.jsxs)("div",{className:"grid gap-1",children:[n&&(0,Ae.jsx)(br,{children:n}),r&&(0,Ae.jsx)(Cr,{children:r})]}),o,(0,Ae.jsx)(wr,{})]},t)})),(0,Ae.jsx)(yr,{})]})}Cr.displayName=pn.displayName;const kr=wn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),Sr=wn("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),Tr=wn("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),Ir=wn("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]),Er=wn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ar=wn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),_r=wn("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Nr=wn("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),Pr=()=>{const[e]=_(),t=t=>"/"===t&&"/"===e||!("/"===t||!e.startsWith(t));return(0,Ae.jsxs)("div",{className:"w-64 bg-neutral-800 text-white h-screen flex flex-col shadow-lg flex-shrink-0",children:[(0,Ae.jsxs)("div",{className:"p-4 border-b border-neutral-700 flex items-center",children:[(0,Ae.jsx)(kr,{className:"w-8 h-8 mr-2"}),(0,Ae.jsx)("h1",{className:"text-xl font-semibold",children:"Seismic Connect"})]}),(0,Ae.jsxs)("nav",{className:"flex-1 overflow-y-auto py-4",children:[(0,Ae.jsx)("div",{className:"px-4 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Main"}),(0,Ae.jsx)(M,{href:"/",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(Sr,{className:"w-5 h-5 mr-3"}),"Dashboard"]})}),(0,Ae.jsx)(M,{href:"/appointments",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/appointments")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(Tr,{className:"w-5 h-5 mr-3"}),"Appointments"]})}),(0,Ae.jsx)(M,{href:"/video-call",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/video-call")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(Ir,{className:"w-5 h-5 mr-3"}),"Video Call"]})}),(0,Ae.jsx)(M,{href:"/patients",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/patients")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(Er,{className:"w-5 h-5 mr-3"}),"Patients"]})}),(0,Ae.jsx)("div",{className:"px-4 mt-6 mb-3 text-neutral-400 text-xs font-semibold uppercase tracking-wider",children:"Administration"}),(0,Ae.jsx)(M,{href:"/reports",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/reports")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(Ar,{className:"w-5 h-5 mr-3"}),"Reports"]})}),(0,Ae.jsx)(M,{href:"/settings",children:(0,Ae.jsxs)("div",{className:"flex items-center px-4 py-3 cursor-pointer "+(t("/settings")?"text-white bg-blue-600":"text-neutral-300 hover:bg-neutral-700"),children:[(0,Ae.jsx)(_r,{className:"w-5 h-5 mr-3"}),"Settings"]})})]}),(0,Ae.jsx)("div",{className:"p-4 border-t border-neutral-700",children:(0,Ae.jsxs)("button",{className:"flex items-center justify-center w-full px-4 py-2 text-sm font-medium text-white bg-neutral-700 rounded hover:bg-neutral-600",children:[(0,Ae.jsx)(Nr,{className:"w-4 h-4 mr-2"}),"Logout"]})})]})},Rr=wn("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Or=wn("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);var Mr=class extends se{constructor(e,t){super(),this.options=t,this.#c=e,this.#T=null,this.#I=le(),this.options.experimental_prefetchInRender||this.#I.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#c;#E=void 0;#A=void 0;#_=void 0;#N;#P;#I;#T;#R;#O;#M;#j;#L;#D;#q=(()=>new Set)();bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#E.addObserver(this),jr(this.#E,this.options)?this.#U():this.updateResult(),this.#F())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Lr(this.#E,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Lr(this.#E,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#B(),this.#H(),this.#E.removeObserver(this)}setOptions(e){const t=this.options,n=this.#E;if(this.options=this.#c.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!==typeof this.options.enabled&&"function"!==typeof this.options.enabled&&"boolean"!==typeof H(this.options.enabled,this.#E))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#z(),this.#E.setOptions(this.options),t._defaulted&&!G(this.options,t)&&this.#c.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#E,observer:this});const r=this.hasListeners();r&&Dr(this.#E,n,this.options,t)&&this.#U(),this.updateResult(),!r||this.#E===n&&H(this.options.enabled,this.#E)===H(t.enabled,this.#E)&&B(this.options.staleTime,this.#E)===B(t.staleTime,this.#E)||this.#$();const o=this.#K();!r||this.#E===n&&H(this.options.enabled,this.#E)===H(t.enabled,this.#E)&&o===this.#D||this.#W(o)}getOptimisticResult(e){const t=this.#c.getQueryCache().build(this.#c,e),n=this.createResult(t,e);return function(e,t){if(!G(e.getCurrentResult(),t))return!0;return!1}(this,n)&&(this.#_=n,this.#P=this.options,this.#N=this.#E.state),n}getCurrentResult(){return this.#_}trackResult(e,t){const n={};return Object.keys(e).forEach((r=>{Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})})),n}trackProp(e){this.#q.add(e)}getCurrentQuery(){return this.#E}refetch(){let{...e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.fetch({...e})}fetchOptimistic(e){const t=this.#c.defaultQueryOptions(e),n=this.#c.getQueryCache().build(this.#c,t);return n.fetch().then((()=>this.createResult(n,t)))}fetch(e){return this.#U({...e,cancelRefetch:e.cancelRefetch??!0}).then((()=>(this.updateResult(),this.#_)))}#U(e){this.#z();let t=this.#E.fetch(this.options,e);return e?.throwOnError||(t=t.catch(q)),t}#$(){this.#B();const e=B(this.options.staleTime,this.#E);if(D||this.#_.isStale||!U(e))return;const t=F(this.#_.dataUpdatedAt,e)+1;this.#j=setTimeout((()=>{this.#_.isStale||this.updateResult()}),t)}#K(){return("function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.#E):this.options.refetchInterval)??!1}#W(e){this.#H(),this.#D=e,!D&&!1!==H(this.options.enabled,this.#E)&&U(this.#D)&&0!==this.#D&&(this.#L=setInterval((()=>{(this.options.refetchIntervalInBackground||ae.isFocused())&&this.#U()}),this.#D))}#F(){this.#$(),this.#W(this.#K())}#B(){this.#j&&(clearTimeout(this.#j),this.#j=void 0)}#H(){this.#L&&(clearInterval(this.#L),this.#L=void 0)}createResult(e,t){const n=this.#E,r=this.options,o=this.#_,i=this.#N,s=this.#P,a=e!==n?e.state:this.#A,{state:c}=e;let l,u={...c},d=!1;if(t._optimisticResults){const o=this.hasListeners(),i=!o&&jr(e,t),s=o&&Dr(e,n,t,r);(i||s)&&(u={...u,...ye(c.data,e.options)}),"isRestoring"===t._optimisticResults&&(u.fetchStatus="idle")}let{error:h,errorUpdatedAt:f,status:p}=u;l=u.data;let m=!1;if(void 0!==t.placeholderData&&void 0===l&&"pending"===p){let e;o?.isPlaceholderData&&t.placeholderData===s?.placeholderData?(e=o.data,m=!0):e="function"===typeof t.placeholderData?t.placeholderData(this.#M?.state.data,this.#M):t.placeholderData,void 0!==e&&(p="success",l=Z(o?.data,e,t),d=!0)}if(t.select&&void 0!==l&&!m)if(o&&l===i?.data&&t.select===this.#R)l=this.#O;else try{this.#R=t.select,l=t.select(l),l=Z(o?.data,l,t),this.#O=l,this.#T=null}catch(x){this.#T=x}this.#T&&(h=this.#T,l=this.#O,f=Date.now(),p="error");const g="fetching"===u.fetchStatus,y="pending"===p,v="error"===p,w=y&&g,b=void 0!==l,C={status:p,fetchStatus:u.fetchStatus,isPending:y,isSuccess:"success"===p,isError:v,isInitialLoading:w,isLoading:w,data:l,dataUpdatedAt:u.dataUpdatedAt,error:h,errorUpdatedAt:f,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>a.dataUpdateCount||u.errorUpdateCount>a.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:v&&!b,isPaused:"paused"===u.fetchStatus,isPlaceholderData:d,isRefetchError:v&&b,isStale:qr(e,t),refetch:this.refetch,promise:this.#I};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},r=()=>{const e=this.#I=C.promise=le();t(e)},o=this.#I;switch(o.status){case"pending":e.queryHash===n.queryHash&&t(o);break;case"fulfilled":"error"!==C.status&&C.data===o.value||r();break;case"rejected":"error"===C.status&&C.error===o.reason||r()}}return C}updateResult(){const e=this.#_,t=this.createResult(this.#E,this.options);if(this.#N=this.#E.state,this.#P=this.options,void 0!==this.#N.data&&(this.#M=this.#E),G(t,e))return;this.#_=t;this.#Q({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,n="function"===typeof t?t():t;if("all"===n||!n&&!this.#q.size)return!0;const r=new Set(n??this.#q);return this.options.throwOnError&&r.add("error"),Object.keys(this.#_).some((t=>{const n=t;return this.#_[n]!==e[n]&&r.has(n)}))})()})}#z(){const e=this.#c.getQueryCache().build(this.#c,this.options);if(e===this.#E)return;const t=this.#E;this.#E=e,this.#A=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#F()}#Q(e){ie.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(this.#_)})),this.#c.getQueryCache().notify({query:this.#E,type:"observerResultsUpdated"})}))}};function jr(e,t){return function(e,t){return!1!==H(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&Lr(e,t,t.refetchOnMount)}function Lr(e,t,n){if(!1!==H(t.enabled,e)){const r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&qr(e,t)}return!1}function Dr(e,t,n,r){return(e!==t||!1===H(r.enabled,e))&&(!n.suspense||"error"!==e.state.status)&&qr(e,n)}function qr(e,t){return!1!==H(t.enabled,e)&&e.isStaleByTime(B(t.staleTime,e))}function Ur(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fr=t.createContext(Ur());function Br(e,t){return"function"===typeof e?e(...t):!!e}function Hr(){}var zr=t.createContext(!1),$r=(zr.Provider,(e,t,n)=>t.fetchOptimistic(e).catch((()=>{n.clearReset()})));function Kr(e,n,r){const o=Ne(r),i=t.useContext(zr),s=t.useContext(Fr),a=o.defaultQueryOptions(e);o.getDefaultOptions().queries?._experimental_beforeQuery?.(a),a._optimisticResults=i?"isRestoring":"optimistic",(e=>{const t=e.staleTime;e.suspense&&(e.staleTime="function"===typeof t?function(){return Math.max(t(...arguments),1e3)}:Math.max(t??1e3,1e3),"number"===typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3)))})(a),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(a,s),(e=>{t.useEffect((()=>{e.clearReset()}),[e])})(s);const c=!o.getQueryCache().get(a.queryHash),[l]=t.useState((()=>new n(o,a))),u=l.getOptimisticResult(a),d=!i&&!1!==e.subscribed;if(t.useSyncExternalStore(t.useCallback((e=>{const t=d?l.subscribe(ie.batchCalls(e)):Hr;return l.updateResult(),t}),[l,d]),(()=>l.getCurrentResult()),(()=>l.getCurrentResult())),t.useEffect((()=>{l.setOptions(a)}),[a,l]),((e,t)=>e?.suspense&&t.isPending)(a,u))throw $r(a,l,s);if((e=>{let{result:t,errorResetBoundary:n,throwOnError:r,query:o,suspense:i}=e;return t.isError&&!n.isReset()&&!t.isFetching&&o&&(i&&void 0===t.data||Br(r,[t.error,o]))})({result:u,errorResetBoundary:s,throwOnError:a.throwOnError,query:o.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw u.error;if(o.getDefaultOptions().queries?._experimental_afterQuery?.(a,u),a.experimental_prefetchInRender&&!D&&((e,t)=>e.isLoading&&e.isFetching&&!t)(u,i)){const e=c?$r(a,l,s):o.getQueryCache().get(a.queryHash)?.promise;e?.catch(Hr).finally((()=>{l.updateResult()}))}return a.notifyOnChangeProps?u:l.trackResult(u)}function Wr(e,t){return Kr(e,Mr,t)}const Qr=()=>{var e;const{data:t,isLoading:n}=Wr({queryKey:["/api/users/1"],staleTime:3e5}),r=new URLSearchParams(window.location.search).get("role");return(0,Ae.jsx)("header",{className:"bg-white border-b border-neutral-200 shadow-sm",children:(0,Ae.jsxs)("div",{className:"px-6 py-3 flex items-center justify-between",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("h1",{className:"text-xl font-semibold text-neutral-800",children:"Healthcare Dashboard"}),"patient"!==r&&(0,Ae.jsxs)("div",{className:"hidden md:flex items-center ml-6 space-x-4",children:[(0,Ae.jsx)("div",{className:"text-sm text-primary-500 font-medium cursor-pointer",onClick:()=>window.location.href="/",children:"Overview"}),(0,Ae.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/appointments",children:"Appointments"}),(0,Ae.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/patients",children:"Patients"}),(0,Ae.jsx)("div",{className:"text-sm text-neutral-500 hover:text-neutral-800 cursor-pointer",onClick:()=>window.location.href="/reports",children:"Reports"})]})]}),(0,Ae.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ae.jsxs)("div",{className:"relative",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"Search",className:"pl-10 pr-4 py-2 border border-neutral-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-primary-500 w-64 text-sm"}),(0,Ae.jsx)(Rr,{className:"w-5 h-5 text-neutral-400 absolute left-3 top-2.5"})]}),(0,Ae.jsx)("button",{className:"p-2 text-neutral-500 hover:text-neutral-700 hover:bg-neutral-100 rounded-full",children:(0,Ae.jsx)(Or,{className:"w-5 h-5"})}),n?(0,Ae.jsx)("div",{className:"h-8 w-8 rounded-full bg-neutral-200 animate-pulse"}):(0,Ae.jsxs)("div",{className:"flex items-center",children:[null!==t&&void 0!==t&&t.profileImage?(0,Ae.jsx)("img",{src:t.profileImage,alt:"User avatar",className:"w-8 h-8 rounded-full object-cover"}):(0,Ae.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary-500 flex items-center justify-center text-white font-medium text-sm",children:(null===t||void 0===t||null===(e=t.fullName)||void 0===e?void 0:e.charAt(0))||"U"}),(0,Ae.jsxs)("div",{className:"ml-2",children:[(0,Ae.jsx)("p",{className:"text-sm font-medium text-neutral-800",children:(null===t||void 0===t?void 0:t.fullName)||"Loading..."}),(0,Ae.jsx)("p",{className:"text-xs text-neutral-500",children:(null===t||void 0===t?void 0:t.specialty)||(null===t||void 0===t?void 0:t.role)||"Staff"})]})]})]})]})})},Vr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("div",{ref:t,className:mr("rounded-lg border bg-card text-card-foreground shadow-sm",n),...r})}));Vr.displayName="Card";const Gr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("div",{ref:t,className:mr("flex flex-col space-y-1.5 p-6",n),...r})}));Gr.displayName="CardHeader";const Yr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("h3",{ref:t,className:mr("text-2xl font-semibold leading-none tracking-tight",n),...r})}));Yr.displayName="CardTitle";t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("p",{ref:t,className:mr("text-sm text-muted-foreground",n),...r})})).displayName="CardDescription";const Jr=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("div",{ref:t,className:mr("p-6 pt-0",n),...r})}));Jr.displayName="CardContent";t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("div",{ref:t,className:mr("flex items-center p-6 pt-0",n),...r})})).displayName="CardFooter";const Xr=e=>{let{variant:t="default",size:n="default",className:r}=e;return mr("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground shadow hover:bg-primary/90":"default"===t,"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90":"destructive"===t,"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground":"outline"===t,"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80":"secondary"===t,"bg-ghost text-ghost-foreground hover:bg-ghost/80":"ghost"===t,"bg-link text-link-foreground hover:bg-link/80":"link"===t},{"h-9 px-4 py-2":"default"===n,"h-7 rounded-md px-3":"sm"===n,"h-10 rounded-md px-8":"lg"===n,"h-9 w-9":"icon"===n},r)},Zr=t.forwardRef(((e,t)=>{let{className:n,variant:r,size:o,asChild:i=!1,...s}=e;const a=i?Ze:"button";return(0,Ae.jsx)(a,{className:mr(Xr({variant:r,size:o,className:n})),ref:t,...s})}));Zr.displayName="Button";const eo=()=>{const{data:e}=Wr({queryKey:["/api/users/1"]}),t=((null===e||void 0===e?void 0:e.fullName)||"Doctor").split(" ")[0];return(0,Ae.jsxs)(Vr,{className:"mb-6 overflow-hidden",children:[(0,Ae.jsxs)("div",{className:"bg-blue-600 text-white p-6",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-semibold",children:"Welcome to Seismic Connect"}),(0,Ae.jsxs)("p",{className:"text-blue-100 mt-2",children:["Hello, ",t,"! Manage your telehealth practice with our integrated platform."]})]}),(0,Ae.jsx)(Jr,{className:"p-6",children:(0,Ae.jsxs)("div",{className:"prose max-w-none",children:[(0,Ae.jsx)("p",{className:"text-neutral-700 text-lg",children:"Seismic Connect helps medical professionals like you deliver quality care through telehealth. Our platform streamlines appointment management, video consultations, and patient documentation in one place."}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-6",children:[(0,Ae.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Ae.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Ae.jsx)(Ir,{className:"h-6 w-6 text-blue-600"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Video Consultations"}),(0,Ae.jsx)("p",{className:"text-sm text-neutral-600",children:"Connect with patients virtually through secure, HIPAA-compliant video calls."})]})]}),(0,Ae.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Ae.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Ae.jsx)(Tr,{className:"h-6 w-6 text-blue-600"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Appointment Management"}),(0,Ae.jsx)("p",{className:"text-sm text-neutral-600",children:"Schedule and track patient appointments with an intuitive calendar interface."})]})]}),(0,Ae.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Ae.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Ae.jsx)(Ar,{className:"h-6 w-6 text-blue-600"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Clinical Documentation"}),(0,Ae.jsx)("p",{className:"text-sm text-neutral-600",children:"Maintain comprehensive patient notes and clinical documentation."})]})]}),(0,Ae.jsxs)("div",{className:"border rounded-lg p-4 flex items-start",children:[(0,Ae.jsx)("div",{className:"mr-4 bg-blue-100 p-2 rounded-full",children:(0,Ae.jsx)(Er,{className:"h-6 w-6 text-blue-600"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium text-neutral-800 mb-1",children:"Patient Management"}),(0,Ae.jsx)("p",{className:"text-sm text-neutral-600",children:"Search and manage your patient database with integrated EMR features."})]})]})]}),(0,Ae.jsxs)("div",{className:"mt-6 flex flex-wrap gap-4",children:[(0,Ae.jsx)(M,{href:"/appointments",children:(0,Ae.jsxs)(Zr,{className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[(0,Ae.jsx)(Tr,{className:"h-4 w-4"}),"View Appointments"]})}),(0,Ae.jsx)(M,{href:"/video-call",children:(0,Ae.jsxs)(Zr,{variant:"outline",className:"flex items-center gap-2 text-blue-600 border-blue-600 hover:bg-blue-50",children:[(0,Ae.jsx)(Ir,{className:"h-4 w-4"}),"Start Video Call"]})})]})]})})]})};var to="Progress",no=100,[ro,oo]=Ye(to),[io,so]=ro(to),ao=t.forwardRef(((e,t)=>{const{__scopeProgress:n,value:r=null,max:o,getValueLabel:i=uo,...s}=e;!o&&0!==o||po(o)||console.error(`Invalid prop \`max\` of value \`${`${o}`}\` supplied to \`${"Progress"}\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`);const a=po(o)?o:no;null===r||mo(r,a)||console.error(function(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:\n  - a positive number\n  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)\n  - \`null\` or \`undefined\` if the progress is indeterminate.\n\nDefaulting to \`null\`.`}(`${r}`,"Progress"));const c=mo(r,a)?r:null,l=fo(c)?i(c,a):void 0;return(0,Ae.jsx)(io,{scope:n,value:c,max:a,children:(0,Ae.jsx)(at.div,{"aria-valuemax":a,"aria-valuemin":0,"aria-valuenow":fo(c)?c:void 0,"aria-valuetext":l,role:"progressbar","data-state":ho(c,a),"data-value":c??void 0,"data-max":a,...s,ref:t})})}));ao.displayName=to;var co="ProgressIndicator",lo=t.forwardRef(((e,t)=>{const{__scopeProgress:n,...r}=e,o=so(co,n);return(0,Ae.jsx)(at.div,{"data-state":ho(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:t})}));function uo(e,t){return`${Math.round(e/t*100)}%`}function ho(e,t){return null==e?"indeterminate":e===t?"complete":"loading"}function fo(e){return"number"===typeof e}function po(e){return fo(e)&&!isNaN(e)&&e>0}function mo(e,t){return fo(e)&&!isNaN(e)&&e<=t&&e>=0}lo.displayName=co;var go=ao,yo=lo;const vo=t.forwardRef(((e,t)=>{let{className:n,value:r,...o}=e;return(0,Ae.jsx)(go,{ref:t,className:mr("relative h-4 w-full overflow-hidden rounded-full bg-secondary",n),...o,children:(0,Ae.jsx)(yo,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}));function wo(e){return wo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wo(e)}function bo(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Co(e){bo(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===wo(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function xo(e){if(bo(1,arguments),!function(e){return bo(1,arguments),e instanceof Date||"object"===wo(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Co(e);return!isNaN(Number(t))}function ko(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function So(e,t){return bo(2,arguments),function(e,t){bo(2,arguments);var n=Co(e).getTime(),r=ko(t);return new Date(n+r)}(e,-ko(t))}vo.displayName=go.displayName;function To(e){bo(1,arguments);var t=Co(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function Io(e){bo(1,arguments);var t=Co(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=To(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var s=To(i);return t.getTime()>=o.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function Eo(e){bo(1,arguments);var t=Co(e),n=To(t).getTime()-function(e){bo(1,arguments);var t=Io(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),To(n)}(t).getTime();return Math.round(n/6048e5)+1}var Ao={};function _o(){return Ao}function No(e,t){var n,r,o,i,s,a,c,l;bo(1,arguments);var u=_o(),d=ko(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Co(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function Po(e,t){var n,r,o,i,s,a,c,l;bo(1,arguments);var u=Co(e),d=u.getUTCFullYear(),h=_o(),f=ko(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:h.firstWeekContainsDate)&&void 0!==r?r:null===(c=h.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=No(p,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var y=No(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function Ro(e,t){bo(1,arguments);var n=Co(e),r=No(n,t).getTime()-function(e,t){var n,r,o,i,s,a,c,l;bo(1,arguments);var u=_o(),d=ko(null!==(n=null!==(r=null!==(o=null!==(i=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==i?i:null===t||void 0===t||null===(s=t.locale)||void 0===s||null===(a=s.options)||void 0===a?void 0:a.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(l=c.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==n?n:1),h=Po(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),No(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Oo(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}const Mo={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Oo("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Oo(n+1,2)},d:function(e,t){return Oo(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Oo(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Oo(e.getUTCHours(),t.length)},m:function(e,t){return Oo(e.getUTCMinutes(),t.length)},s:function(e,t){return Oo(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Oo(Math.floor(r*Math.pow(10,n-3)),t.length)}};var jo="midnight",Lo="noon",Do="morning",qo="afternoon",Uo="evening",Fo="night",Bo={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return Mo.y(e,t)},Y:function(e,t,n,r){var o=Po(e,r),i=o>0?o:1-o;return"YY"===t?Oo(i%100,2):"Yo"===t?n.ordinalNumber(i,{unit:"year"}):Oo(i,t.length)},R:function(e,t){return Oo(Io(e),t.length)},u:function(e,t){return Oo(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Oo(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Oo(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Mo.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Oo(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var o=Ro(e,r);return"wo"===t?n.ordinalNumber(o,{unit:"week"}):Oo(o,t.length)},I:function(e,t,n){var r=Eo(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Oo(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Mo.d(e,t)},D:function(e,t,n){var r=function(e){bo(1,arguments);var t=Co(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Oo(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(i);case"ee":return Oo(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var o=e.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(i);case"cc":return Oo(i,t.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),o=0===r?7:r;switch(t){case"i":return String(o);case"ii":return Oo(o,t.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,o=e.getUTCHours();switch(r=12===o?Lo:0===o?jo:o/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,o=e.getUTCHours();switch(r=o>=17?Uo:o>=12?qo:o>=4?Do:Fo,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Mo.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Mo.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Oo(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Oo(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Mo.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Mo.s(e,t)},S:function(e,t){return Mo.S(e,t)},X:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();if(0===o)return"Z";switch(t){case"X":return zo(o);case"XXXX":case"XX":return $o(o);default:return $o(o,":")}},x:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return zo(o);case"xxxx":case"xx":return $o(o);default:return $o(o,":")}},O:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Ho(o,":");default:return"GMT"+$o(o,":")}},z:function(e,t,n,r){var o=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Ho(o,":");default:return"GMT"+$o(o,":")}},t:function(e,t,n,r){var o=r._originalDate||e;return Oo(Math.floor(o.getTime()/1e3),t.length)},T:function(e,t,n,r){return Oo((r._originalDate||e).getTime(),t.length)}};function Ho(e,t){var n=e>0?"-":"+",r=Math.abs(e),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var s=t||"";return n+String(o)+s+Oo(i,2)}function zo(e,t){return e%60===0?(e>0?"-":"+")+Oo(Math.abs(e)/60,2):$o(e,t)}function $o(e,t){var n=t||"",r=e>0?"-":"+",o=Math.abs(e);return r+Oo(Math.floor(o/60),2)+n+Oo(o%60,2)}const Ko=Bo;var Wo=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Qo=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Vo={p:Qo,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return Wo(e,t);switch(o){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",Wo(o,t)).replace("{{time}}",Qo(i,t))}};const Go=Vo;var Yo=["D","DD"],Jo=["YY","YYYY"];function Xo(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Zo={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const ei=function(e,t,n){var r,o=Zo[e];return r="string"===typeof o?o:1===t?o.one:o.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ti(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const ni={date:ti({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:ti({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:ti({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var ri={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const oi=function(e,t,n,r){return ri[e]};function ii(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var o=e.defaultFormattingWidth||e.defaultWidth,i=null!==n&&void 0!==n&&n.width?String(n.width):o;r=e.formattingValues[i]||e.formattingValues[o]}else{var s=e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[a]||e.values[s]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const si={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:ii({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:ii({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:ii({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:ii({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:ii({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function ai(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],i=t.match(o);if(!i)return null;var s,a=i[0],c=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(c)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(c,(function(e){return e.test(a)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(c,(function(e){return e.test(a)}));return s=e.valueCallback?e.valueCallback(l):l,{value:s=n.valueCallback?n.valueCallback(s):s,rest:t.slice(a.length)}}}var ci,li={ordinalNumber:(ci={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(ci.matchPattern);if(!n)return null;var r=n[0],o=e.match(ci.parsePattern);if(!o)return null;var i=ci.valueCallback?ci.valueCallback(o[0]):o[0];return{value:i=t.valueCallback?t.valueCallback(i):i,rest:e.slice(r.length)}}),era:ai({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ai({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:ai({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ai({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ai({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const ui={code:"en-US",formatDistance:ei,formatLong:ni,formatRelative:oi,localize:si,match:li,options:{weekStartsOn:0,firstWeekContainsDate:1}};var di=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hi=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fi=/^'([^]*?)'?$/,pi=/''/g,mi=/[a-zA-Z]/;function gi(e,t,n){var r,o,i,s,a,c,l,u,d,h,f,p,m,g,y,v,w,b;bo(2,arguments);var C=String(t),x=_o(),k=null!==(r=null!==(o=null===n||void 0===n?void 0:n.locale)&&void 0!==o?o:x.locale)&&void 0!==r?r:ui,S=ko(null!==(i=null!==(s=null!==(a=null!==(c=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==c?c:null===n||void 0===n||null===(l=n.locale)||void 0===l||null===(u=l.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==a?a:x.firstWeekContainsDate)&&void 0!==s?s:null===(d=x.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==i?i:1);if(!(S>=1&&S<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var T=ko(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:x.weekStartsOn)&&void 0!==p?p:null===(w=x.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==f?f:0);if(!(T>=0&&T<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!k.localize)throw new RangeError("locale must contain localize property");if(!k.formatLong)throw new RangeError("locale must contain formatLong property");var I=Co(e);if(!xo(I))throw new RangeError("Invalid time value");var E=function(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}(I),A=So(I,E),_={firstWeekContainsDate:S,weekStartsOn:T,locale:k,_originalDate:I};return C.match(hi).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,Go[t])(e,k.formatLong):e})).join("").match(di).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(e){var t=e.match(fi);if(!t)return e;return t[1].replace(pi,"'")}(r);var i,s=Ko[o];if(s)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(i=r,-1===Jo.indexOf(i))||Xo(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==Yo.indexOf(e)}(r)||Xo(r,t,String(e)),s(A,r,k.localize,_);if(o.match(mi))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}const yi=e=>{let{date:t=gi(new Date,"yyyy-MM-dd")}=e;const n=gi(new Date(t),"MMMM d, yyyy"),{data:r,isLoading:o}=Wr({queryKey:[`/api/stats/appointments/${t}`]});if(o)return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsx)(Yr,{className:"text-lg",children:"Today's Appointments"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsxs)("div",{className:"animate-pulse space-y-4",children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{className:"space-y-2",children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Ae.jsxs)("div",{className:"space-y-2",children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})]})})]});const i=(null===r||void 0===r?void 0:r.totalAppointments)||0,s=(null===r||void 0===r?void 0:r.inPersonAppointments)||0,a=(null===r||void 0===r?void 0:r.virtualAppointments)||0,c=i>0?s/i*100:0,l=i>0?a/i*100:0;return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ae.jsx)(Yr,{className:"text-lg",children:"Today's Appointments"}),(0,Ae.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:n})]})}),(0,Ae.jsxs)(Jr,{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"Total"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:i})]}),(0,Ae.jsx)(vo,{value:100,className:"h-2 mb-4"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"In-Person"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:s})]}),(0,Ae.jsx)(vo,{value:c,className:"h-2 mb-2 bg-neutral-200"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"Virtual"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:a})]}),(0,Ae.jsx)(vo,{value:l,className:"h-2 mb-2 bg-neutral-200"})]})]})]})]})},vi=e=>{var t,n,r,o;let{date:i=gi(new Date,"yyyy-MM-dd")}=e;const{data:s,isLoading:a}=Wr({queryKey:[`/api/stats/appointments/${i}`]});if(a)return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsx)(Yr,{className:"text-lg",children:"Appointment Status"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsx)("div",{className:"animate-pulse",children:(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-1/2 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full mb-3"})]})]})})})]});const c=(null===s||void 0===s?void 0:s.totalAppointments)||0,l=(null===s||void 0===s||null===(t=s.statusBreakdown)||void 0===t?void 0:t.completed)||0,u=(null===s||void 0===s||null===(n=s.statusBreakdown)||void 0===n?void 0:n.inProgress)||0,d=(null===s||void 0===s||null===(r=s.statusBreakdown)||void 0===r?void 0:r.waiting)||0,h=(null===s||void 0===s||null===(o=s.statusBreakdown)||void 0===o?void 0:o.noShow)||0,f=c>0?l/c*100:0,p=c>0?u/c*100:0,m=c>0?d/c*100:0,g=c>0?h/c*100:0;return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ae.jsx)(Yr,{className:"text-lg",children:"Appointment Status"}),(0,Ae.jsx)("span",{className:"text-sm font-medium text-neutral-500",children:"Real-time"})]})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"Completed"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:l})]}),(0,Ae.jsx)(vo,{value:f,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"In Progress"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:u})]}),(0,Ae.jsx)(vo,{value:p,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"Waiting"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:d})]}),(0,Ae.jsx)(vo,{value:m,className:"h-2 mb-3 bg-neutral-200"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:"No-Show"}),(0,Ae.jsx)("span",{className:"text-neutral-800 font-semibold",children:h})]}),(0,Ae.jsx)(vo,{value:g,className:"h-2 mb-3 bg-neutral-200"})]})]})})]})},wi=wn("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),bi=e=>{let{date:t=gi(new Date,"yyyy-MM-dd")}=e;const{data:n,isLoading:r}=Wr({queryKey:[`/api/stats/appointments/${t}`]}),{data:o,isLoading:i}=Wr({queryKey:["/api/users"]});if(r||i)return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsx)(Yr,{className:"text-lg",children:"Provider Workload"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsx)("div",{className:"animate-pulse",children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"h-4 bg-neutral-200 rounded w-3/4 mb-1"}),(0,Ae.jsx)("div",{className:"h-2 bg-neutral-200 rounded w-full"})]})]})})})]});const s=(null===n||void 0===n?void 0:n.providerWorkload)||[],a=Math.max(...s.map((e=>e.patientCount)),0),c=e=>{const t=null===o||void 0===o?void 0:o.find((t=>t.id===e));return(null===t||void 0===t?void 0:t.fullName)||`Provider #${e}`};return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{className:"pb-2",children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,Ae.jsx)(Yr,{className:"text-lg",children:"Provider Workload"}),(0,Ae.jsxs)(Zr,{variant:"ghost",size:"sm",className:"text-primary-500",children:["View All",(0,Ae.jsx)(wi,{className:"ml-1 w-4 h-4"})]})]})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[s.map((e=>(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,Ae.jsx)("span",{className:"text-neutral-600 text-sm",children:c(e.providerId)}),(0,Ae.jsxs)("span",{className:"text-neutral-800 font-semibold",children:[e.patientCount," patients"]})]}),(0,Ae.jsx)(vo,{value:a>0?e.patientCount/a*100:0,className:"h-2 bg-neutral-200"})]},e.providerId))),0===s.length&&(0,Ae.jsx)("div",{className:"text-center text-sm text-neutral-500 py-4",children:"No provider workload data available for this date."})]})})]})};const Ci=function(){return(0,t.useEffect)((()=>{document.title="Dashboard - Seismic Connect"}),[]),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsx)(eo,{}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,Ae.jsx)(yi,{}),(0,Ae.jsx)(vi,{}),(0,Ae.jsx)(bi,{})]})]})};function xi(e,t){let[n,r]=t;return Math.min(r,Math.max(n,e))}var ki=t.createContext(void 0);var Si=0;function Ti(){t.useEffect((()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ii()),document.body.insertAdjacentElement("beforeend",e[1]??Ii()),Si++,()=>{1===Si&&document.querySelectorAll("[data-radix-focus-guard]").forEach((e=>e.remove())),Si--}}),[])}function Ii(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ei="focusScope.autoFocusOnMount",Ai="focusScope.autoFocusOnUnmount",_i={bubbles:!1,cancelable:!0},Ni=t.forwardRef(((e,n)=>{const{loop:r=!1,trapped:o=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[c,l]=t.useState(null),u=lt(i),d=lt(s),h=t.useRef(null),f=Ge(n,(e=>l(e))),p=t.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;t.useEffect((()=>{if(o){let e=function(e){if(p.paused||!c)return;const t=e.target;c.contains(t)?h.current=t:Mi(h.current,{select:!0})},t=function(e){if(p.paused||!c)return;const t=e.relatedTarget;null!==t&&(c.contains(t)||Mi(h.current,{select:!0}))},n=function(e){if(document.activeElement===document.body)for(const t of e)t.removedNodes.length>0&&Mi(c)};document.addEventListener("focusin",e),document.addEventListener("focusout",t);const r=new MutationObserver(n);return c&&r.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}}),[o,c,p.paused]),t.useEffect((()=>{if(c){ji.add(p);const t=document.activeElement;if(!c.contains(t)){const n=new CustomEvent(Ei,_i);c.addEventListener(Ei,u),c.dispatchEvent(n),n.defaultPrevented||(!function(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=document.activeElement;for(const r of e)if(Mi(r,{select:t}),document.activeElement!==n)return}((e=Pi(c),e.filter((e=>"A"!==e.tagName))),{select:!0}),document.activeElement===t&&Mi(c))}return()=>{c.removeEventListener(Ei,u),setTimeout((()=>{const e=new CustomEvent(Ai,_i);c.addEventListener(Ai,d),c.dispatchEvent(e),e.defaultPrevented||Mi(t??document.body,{select:!0}),c.removeEventListener(Ai,d),ji.remove(p)}),0)}}var e}),[c,u,d,p]);const m=t.useCallback((e=>{if(!r&&!o)return;if(p.paused)return;const t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,n=document.activeElement;if(t&&n){const t=e.currentTarget,[o,i]=function(e){const t=Pi(e),n=Ri(t,e),r=Ri(t.reverse(),e);return[n,r]}(t);o&&i?e.shiftKey||n!==i?e.shiftKey&&n===o&&(e.preventDefault(),r&&Mi(i,{select:!0})):(e.preventDefault(),r&&Mi(o,{select:!0})):n===t&&e.preventDefault()}}),[r,o,p.paused]);return(0,Ae.jsx)(at.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})}));function Pi(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{const t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ri(e,t){for(const n of e)if(!Oi(n,{upTo:t}))return n}function Oi(e,t){let{upTo:n}=t;if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if(void 0!==n&&e===n)return!1;if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}function Mi(e){let{select:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&function(e){return e instanceof HTMLInputElement&&"select"in e}(e)&&t&&e.select()}}Ni.displayName="FocusScope";var ji=function(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=Li(e,t),e.unshift(t)},remove(t){e=Li(e,t),e[0]?.resume()}}}();function Li(e,t){const n=[...e],r=n.indexOf(t);return-1!==r&&n.splice(r,1),n}var Di=r[" useId ".trim().toString()]||(()=>{}),qi=0;function Ui(e){const[n,r]=t.useState(Di());return Ct((()=>{e||r((e=>e??String(qi++)))}),[e]),e||(n?`radix-${n}`:"")}var Fi=n(6178),Bi=n(5885),Hi=t.forwardRef(((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return(0,Ae.jsx)(at.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:(0,Ae.jsx)("polygon",{points:"0,0 30,0 15,10"})})}));Hi.displayName="Arrow";var zi=Hi;var $i="Popper",[Ki,Wi]=Ye($i),[Qi,Vi]=Ki($i),Gi=e=>{const{__scopePopper:n,children:r}=e,[o,i]=t.useState(null);return(0,Ae.jsx)(Qi,{scope:n,anchor:o,onAnchorChange:i,children:r})};Gi.displayName=$i;var Yi="PopperAnchor",Ji=t.forwardRef(((e,n)=>{const{__scopePopper:r,virtualRef:o,...i}=e,s=Vi(Yi,r),a=t.useRef(null),c=Ge(n,a);return t.useEffect((()=>{s.onAnchorChange(o?.current||a.current)})),o?null:(0,Ae.jsx)(at.div,{...i,ref:c})}));Ji.displayName=Yi;var Xi="PopperContent",[Zi,es]=Ki(Xi),ts=t.forwardRef(((e,n)=>{const{__scopePopper:r,side:o="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:c=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:f=!1,updatePositionStrategy:p="optimized",onPlaced:m,...g}=e,y=Vi(Xi,r),[v,w]=t.useState(null),b=Ge(n,(e=>w(e))),[C,x]=t.useState(null),k=function(e){const[n,r]=t.useState(void 0);return Ct((()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const n=t[0];let o,i;if("borderBoxSize"in n){const e=n.borderBoxSize,t=Array.isArray(e)?e[0]:e;o=t.inlineSize,i=t.blockSize}else o=e.offsetWidth,i=e.offsetHeight;r({width:o,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)}),[e]),n}(C),S=k?.width??0,T=k?.height??0,I=o+("center"!==s?"-"+s:""),E="number"===typeof d?d:{top:0,right:0,bottom:0,left:0,...d},A=Array.isArray(u)?u:[u],_=A.length>0,N={padding:E,boundary:A.filter(is),altBoundary:_},{refs:P,floatingStyles:R,placement:O,isPositioned:M,middlewareData:j}=(0,Fi.we)({strategy:"fixed",placement:I,whileElementsMounted:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,Bi.ll)(...t,{animationFrame:"always"===p})},elements:{reference:y.anchor},middleware:[(0,Fi.cY)({mainAxis:i+T,alignmentAxis:a}),l&&(0,Fi.BN)({mainAxis:!0,crossAxis:!1,limiter:"partial"===h?(0,Fi.ER)():void 0,...N}),l&&(0,Fi.UU)({...N}),(0,Fi.Ej)({...N,apply:e=>{let{elements:t,rects:n,availableWidth:r,availableHeight:o}=e;const{width:i,height:s}=n.reference,a=t.floating.style;a.setProperty("--radix-popper-available-width",`${r}px`),a.setProperty("--radix-popper-available-height",`${o}px`),a.setProperty("--radix-popper-anchor-width",`${i}px`),a.setProperty("--radix-popper-anchor-height",`${s}px`)}}),C&&(0,Fi.UE)({element:C,padding:c}),ss({arrowWidth:S,arrowHeight:T}),f&&(0,Fi.jD)({strategy:"referenceHidden",...N})]}),[L,D]=as(O),q=lt(m);Ct((()=>{M&&q?.()}),[M,q]);const U=j.arrow?.x,F=j.arrow?.y,B=0!==j.arrow?.centerOffset,[H,z]=t.useState();return Ct((()=>{v&&z(window.getComputedStyle(v).zIndex)}),[v]),(0,Ae.jsx)("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...R,transform:M?R.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:H,"--radix-popper-transform-origin":[j.transformOrigin?.x,j.transformOrigin?.y].join(" "),...j.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,Ae.jsx)(Zi,{scope:r,placedSide:L,onArrowChange:x,arrowX:U,arrowY:F,shouldHideArrow:B,children:(0,Ae.jsx)(at.div,{"data-side":L,"data-align":D,...g,ref:b,style:{...g.style,animation:M?void 0:"none"}})})})}));ts.displayName=Xi;var ns="PopperArrow",rs={top:"bottom",right:"left",bottom:"top",left:"right"},os=t.forwardRef((function(e,t){const{__scopePopper:n,...r}=e,o=es(ns,n),i=rs[o.placedSide];return(0,Ae.jsx)("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:(0,Ae.jsx)(zi,{...r,ref:t,style:{...r.style,display:"block"}})})}));function is(e){return null!==e}os.displayName=ns;var ss=e=>({name:"transformOrigin",options:e,fn(t){const{placement:n,rects:r,middlewareData:o}=t,i=0!==o.arrow?.centerOffset,s=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[c,l]=as(n),u={start:"0%",center:"50%",end:"100%"}[l],d=(o.arrow?.x??0)+s/2,h=(o.arrow?.y??0)+a/2;let f="",p="";return"bottom"===c?(f=i?u:`${d}px`,p=-a+"px"):"top"===c?(f=i?u:`${d}px`,p=`${r.floating.height+a}px`):"right"===c?(f=-a+"px",p=i?u:`${h}px`):"left"===c&&(f=`${r.floating.width+a}px`,p=i?u:`${h}px`),{data:{x:f,y:p}}}});function as(e){const[t,n="center"]=e.split("-");return[t,n]}var cs=Gi,ls=Ji,us=ts,ds=os;var hs=function(e){return"undefined"===typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body},fs=new WeakMap,ps=new WeakMap,ms={},gs=0,ys=function(e){return e&&(e.host||ys(e.parentNode))},vs=function(e,t,n,r){var o=function(e,t){return t.map((function(t){if(e.contains(t))return t;var n=ys(t);return n&&e.contains(n)?n:(console.error("aria-hidden",t,"in not contained inside",e,". Doing nothing"),null)})).filter((function(e){return Boolean(e)}))}(t,Array.isArray(e)?e:[e]);ms[n]||(ms[n]=new WeakMap);var i=ms[n],s=[],a=new Set,c=new Set(o),l=function(e){e&&!a.has(e)&&(a.add(e),l(e.parentNode))};o.forEach(l);var u=function(e){e&&!c.has(e)&&Array.prototype.forEach.call(e.children,(function(e){if(a.has(e))u(e);else try{var t=e.getAttribute(r),o=null!==t&&"false"!==t,c=(fs.get(e)||0)+1,l=(i.get(e)||0)+1;fs.set(e,c),i.set(e,l),s.push(e),1===c&&o&&ps.set(e,!0),1===l&&e.setAttribute(n,"true"),o||e.setAttribute(r,"true")}catch(d){console.error("aria-hidden: cannot operate on ",e,d)}}))};return u(t),a.clear(),gs++,function(){s.forEach((function(e){var t=fs.get(e)-1,o=i.get(e)-1;fs.set(e,t),i.set(e,o),t||(ps.has(e)||e.removeAttribute(r),ps.delete(e)),o||e.removeAttribute(n)})),--gs||(fs=new WeakMap,fs=new WeakMap,ps=new WeakMap,ms={})}},ws=function(e,t,n){void 0===n&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=t||hs(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live]"))),vs(r,o,n,"aria-hidden")):function(){return null}},bs=n(6326),Cs="right-scroll-bar-position",xs="width-before-scroll-bar";function ks(e,t){return"function"===typeof e?e(t):e&&(e.current=t),e}var Ss="undefined"!==typeof window?t.useLayoutEffect:t.useEffect,Ts=new WeakMap;function Is(e,n){var r=function(e,n){var r=(0,t.useState)((function(){return{value:e,callback:n,facade:{get current(){return r.value},set current(e){var t=r.value;t!==e&&(r.value=e,r.callback(e,t))}}}}))[0];return r.callback=n,r.facade}(n||null,(function(t){return e.forEach((function(e){return ks(e,t)}))}));return Ss((function(){var t=Ts.get(r);if(t){var n=new Set(t),o=new Set(e),i=r.current;n.forEach((function(e){o.has(e)||ks(e,null)})),o.forEach((function(e){n.has(e)||ks(e,i)}))}Ts.set(r,e)}),[e]),r}function Es(e){return e}function As(e,t){void 0===t&&(t=Es);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(e){var o=t(e,r);return n.push(o),function(){n=n.filter((function(e){return e!==o}))}},assignSyncMedium:function(e){for(r=!0;n.length;){var t=n;n=[],t.forEach(e)}n={push:function(t){return e(t)},filter:function(){return n}}},assignMedium:function(e){r=!0;var t=[];if(n.length){var o=n;n=[],o.forEach(e),t=n}var i=function(){var n=t;t=[],n.forEach(e)},s=function(){return Promise.resolve().then(i)};s(),n={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),n}}}}}var _s=function(e){void 0===e&&(e={});var t=As(null);return t.options=(0,bs.Cl)({async:!0,ssr:!1},e),t}(),Ns=function(){},Ps=t.forwardRef((function(e,n){var r=t.useRef(null),o=t.useState({onScrollCapture:Ns,onWheelCapture:Ns,onTouchMoveCapture:Ns}),i=o[0],s=o[1],a=e.forwardProps,c=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,f=e.sideCar,p=e.noIsolation,m=e.inert,g=e.allowPinchZoom,y=e.as,v=void 0===y?"div":y,w=e.gapMode,b=(0,bs.Tt)(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=f,x=Is([r,n]),k=(0,bs.Cl)((0,bs.Cl)({},b),i);return t.createElement(t.Fragment,null,d&&t.createElement(C,{sideCar:_s,removeScrollBar:u,shards:h,noIsolation:p,inert:m,setCallbacks:s,allowPinchZoom:!!g,lockRef:r,gapMode:w}),a?t.cloneElement(t.Children.only(c),(0,bs.Cl)((0,bs.Cl)({},k),{ref:x})):t.createElement(v,(0,bs.Cl)({},k,{className:l,ref:x}),c))}));Ps.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},Ps.classNames={fullWidth:xs,zeroRight:Cs};var Rs,Os=function(e){var n=e.sideCar,r=(0,bs.Tt)(e,["sideCar"]);if(!n)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=n.read();if(!o)throw new Error("Sidecar medium not found");return t.createElement(o,(0,bs.Cl)({},r))};Os.isSideCarExport=!0;function Ms(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Rs||n.nc;return t&&e.setAttribute("nonce",t),e}var js=function(){var e=0,t=null;return{add:function(n){var r,o;0==e&&(t=Ms())&&(o=n,(r=t).styleSheet?r.styleSheet.cssText=o:r.appendChild(document.createTextNode(o)),function(e){(document.head||document.getElementsByTagName("head")[0]).appendChild(e)}(t)),e++},remove:function(){! --e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Ls=function(){var e=function(){var e=js();return function(n,r){t.useEffect((function(){return e.add(n),function(){e.remove()}}),[n&&r])}}();return function(t){var n=t.styles,r=t.dynamic;return e(n,r),null}},Ds={left:0,top:0,right:0,gap:0},qs=function(e){return parseInt(e||"",10)||0},Us=function(e){if(void 0===e&&(e="margin"),"undefined"===typeof window)return Ds;var t=function(e){var t=window.getComputedStyle(document.body),n=t["padding"===e?"paddingLeft":"marginLeft"],r=t["padding"===e?"paddingTop":"marginTop"],o=t["padding"===e?"paddingRight":"marginRight"];return[qs(n),qs(r),qs(o)]}(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Fs=Ls(),Bs="data-scroll-locked",Hs=function(e,t,n,r){var o=e.left,i=e.top,s=e.right,a=e.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(a,"px ").concat(r,";\n  }\n  body[").concat(Bs,"] {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(o,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(s,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(Cs," {\n    right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(xs," {\n    margin-right: ").concat(a,"px ").concat(r,";\n  }\n  \n  .").concat(Cs," .").concat(Cs," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(xs," .").concat(xs," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body[").concat(Bs,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},zs=function(){var e=parseInt(document.body.getAttribute(Bs)||"0",10);return isFinite(e)?e:0},$s=function(e){var n=e.noRelative,r=e.noImportant,o=e.gapMode,i=void 0===o?"margin":o;t.useEffect((function(){return document.body.setAttribute(Bs,(zs()+1).toString()),function(){var e=zs()-1;e<=0?document.body.removeAttribute(Bs):document.body.setAttribute(Bs,e.toString())}}),[]);var s=t.useMemo((function(){return Us(i)}),[i]);return t.createElement(Fs,{styles:Hs(s,!n,i,r?"":"!important")})},Ks=!1;if("undefined"!==typeof window)try{var Ws=Object.defineProperty({},"passive",{get:function(){return Ks=!0,!0}});window.addEventListener("test",Ws,Ws),window.removeEventListener("test",Ws,Ws)}catch(ek){Ks=!1}var Qs=!!Ks&&{passive:!1},Vs=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return"hidden"!==n[t]&&!(n.overflowY===n.overflowX&&!function(e){return"TEXTAREA"===e.tagName}(e)&&"visible"===n[t])},Gs=function(e,t){var n=t.ownerDocument,r=t;do{if("undefined"!==typeof ShadowRoot&&r instanceof ShadowRoot&&(r=r.host),Ys(e,r)){var o=Js(e,r);if(o[1]>o[2])return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Ys=function(e,t){return"v"===e?function(e){return Vs(e,"overflowY")}(t):function(e){return Vs(e,"overflowX")}(t)},Js=function(e,t){return"v"===e?[(n=t).scrollTop,n.scrollHeight,n.clientHeight]:function(e){return[e.scrollLeft,e.scrollWidth,e.clientWidth]}(t);var n},Xs=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Zs=function(e){return[e.deltaX,e.deltaY]},ea=function(e){return e&&"current"in e?e.current:e},ta=function(e){return"\n  .block-interactivity-".concat(e," {pointer-events: none;}\n  .allow-interactivity-").concat(e," {pointer-events: all;}\n")},na=0,ra=[];function oa(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const ia=(sa=function(e){var n=t.useRef([]),r=t.useRef([0,0]),o=t.useRef(),i=t.useState(na++)[0],s=t.useState(Ls)[0],a=t.useRef(e);t.useEffect((function(){a.current=e}),[e]),t.useEffect((function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var t=(0,bs.fX)([e.lockRef.current],(e.shards||[]).map(ea),!0).filter(Boolean);return t.forEach((function(e){return e.classList.add("allow-interactivity-".concat(i))})),function(){document.body.classList.remove("block-interactivity-".concat(i)),t.forEach((function(e){return e.classList.remove("allow-interactivity-".concat(i))}))}}}),[e.inert,e.lockRef.current,e.shards]);var c=t.useCallback((function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!a.current.allowPinchZoom;var n,i=Xs(e),s=r.current,c="deltaX"in e?e.deltaX:s[0]-i[0],l="deltaY"in e?e.deltaY:s[1]-i[1],u=e.target,d=Math.abs(c)>Math.abs(l)?"h":"v";if("touches"in e&&"h"===d&&"range"===u.type)return!1;var h=Gs(d,u);if(!h)return!0;if(h?n=d:(n="v"===d?"h":"v",h=Gs(d,u)),!h)return!1;if(!o.current&&"changedTouches"in e&&(c||l)&&(o.current=n),!n)return!0;var f=o.current||n;return function(e,t,n,r,o){var i=function(e,t){return"h"===e&&"rtl"===t?-1:1}(e,window.getComputedStyle(t).direction),s=i*r,a=n.target,c=t.contains(a),l=!1,u=s>0,d=0,h=0;do{var f=Js(e,a),p=f[0],m=f[1]-f[2]-i*p;(p||m)&&Ys(e,a)&&(d+=m,h+=p),a=a instanceof ShadowRoot?a.host:a.parentNode}while(!c&&a!==document.body||c&&(t.contains(a)||t===a));return(u&&(o&&Math.abs(d)<1||!o&&s>d)||!u&&(o&&Math.abs(h)<1||!o&&-s>h))&&(l=!0),l}(f,t,e,"h"===f?c:l,!0)}),[]),l=t.useCallback((function(e){var t=e;if(ra.length&&ra[ra.length-1]===s){var r="deltaY"in t?Zs(t):Xs(t),o=n.current.filter((function(e){return e.name===t.type&&(e.target===t.target||t.target===e.shadowParent)&&(n=e.delta,o=r,n[0]===o[0]&&n[1]===o[1]);var n,o}))[0];if(o&&o.should)t.cancelable&&t.preventDefault();else if(!o){var i=(a.current.shards||[]).map(ea).filter(Boolean).filter((function(e){return e.contains(t.target)}));(i.length>0?c(t,i[0]):!a.current.noIsolation)&&t.cancelable&&t.preventDefault()}}}),[]),u=t.useCallback((function(e,t,r,o){var i={name:e,delta:t,target:r,should:o,shadowParent:oa(r)};n.current.push(i),setTimeout((function(){n.current=n.current.filter((function(e){return e!==i}))}),1)}),[]),d=t.useCallback((function(e){r.current=Xs(e),o.current=void 0}),[]),h=t.useCallback((function(t){u(t.type,Zs(t),t.target,c(t,e.lockRef.current))}),[]),f=t.useCallback((function(t){u(t.type,Xs(t),t.target,c(t,e.lockRef.current))}),[]);t.useEffect((function(){return ra.push(s),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Qs),document.addEventListener("touchmove",l,Qs),document.addEventListener("touchstart",d,Qs),function(){ra=ra.filter((function(e){return e!==s})),document.removeEventListener("wheel",l,Qs),document.removeEventListener("touchmove",l,Qs),document.removeEventListener("touchstart",d,Qs)}}),[]);var p=e.removeScrollBar,m=e.inert;return t.createElement(t.Fragment,null,m?t.createElement(s,{styles:ta(i)}):null,p?t.createElement($s,{gapMode:e.gapMode}):null)},_s.useMedium(sa),Os);var sa,aa=t.forwardRef((function(e,n){return t.createElement(Ps,(0,bs.Cl)({},e,{ref:n,sideCar:ia}))}));aa.classNames=Ps.classNames;const ca=aa;var la=[" ","Enter","ArrowUp","ArrowDown"],ua=[" ","Enter"],da="Select",[ha,fa,pa]=rt(da),[ma,ga]=Ye(da,[pa,Wi]),ya=Wi(),[va,wa]=ma(da),[ba,Ca]=ma(da),xa=e=>{const{__scopeSelect:n,children:r,open:o,defaultOpen:i,onOpenChange:s,value:a,defaultValue:c,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:f,required:p,form:m}=e,g=ya(n),[y,v]=t.useState(null),[w,b]=t.useState(null),[C,x]=t.useState(!1),k=function(e){const n=t.useContext(ki);return e||n||"ltr"}(u),[S,T]=It({prop:o,defaultProp:i??!1,onChange:s,caller:da}),[I,E]=It({prop:a,defaultProp:c,onChange:l,caller:da}),A=t.useRef(null),_=!y||(m||!!y.closest("form")),[N,P]=t.useState(new Set),R=Array.from(N).map((e=>e.props.value)).join(";");return(0,Ae.jsx)(cs,{...g,children:(0,Ae.jsxs)(va,{required:p,scope:n,trigger:y,onTriggerChange:v,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:C,onValueNodeHasChildrenChange:x,contentId:Ui(),value:I,onValueChange:E,open:S,onOpenChange:T,dir:k,triggerPointerDownPosRef:A,disabled:f,children:[(0,Ae.jsx)(ha.Provider,{scope:n,children:(0,Ae.jsx)(ba,{scope:e.__scopeSelect,onNativeOptionAdd:t.useCallback((e=>{P((t=>new Set(t).add(e)))}),[]),onNativeOptionRemove:t.useCallback((e=>{P((t=>{const n=new Set(t);return n.delete(e),n}))}),[]),children:r})}),_?(0,Ae.jsxs)(uc,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:h,value:I,onChange:e=>E(e.target.value),disabled:f,form:m,children:[void 0===I?(0,Ae.jsx)("option",{value:""}):null,Array.from(N)]},R):null]})})};xa.displayName=da;var ka="SelectTrigger",Sa=t.forwardRef(((e,n)=>{const{__scopeSelect:r,disabled:o=!1,...i}=e,s=ya(r),a=wa(ka,r),c=a.disabled||o,l=Ge(n,a.onTriggerChange),u=fa(r),d=t.useRef("touch"),[h,f,p]=hc((e=>{const t=u().filter((e=>!e.disabled)),n=t.find((e=>e.value===a.value)),r=fc(t,e,n);void 0!==r&&a.onValueChange(r.value)})),m=e=>{c||(a.onOpenChange(!0),p()),e&&(a.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return(0,Ae.jsx)(ls,{asChild:!0,...s,children:(0,Ae.jsx)(at.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":dc(a.value)?"":void 0,...i,ref:l,onClick:We(i.onClick,(e=>{e.currentTarget.focus(),"mouse"!==d.current&&m(e)})),onPointerDown:We(i.onPointerDown,(e=>{d.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(m(e),e.preventDefault())})),onKeyDown:We(i.onKeyDown,(e=>{const t=""!==h.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||f(e.key),t&&" "===e.key||la.includes(e.key)&&(m(),e.preventDefault())}))})})}));Sa.displayName=ka;var Ta="SelectValue",Ia=t.forwardRef(((e,t)=>{const{__scopeSelect:n,className:r,style:o,children:i,placeholder:s="",...a}=e,c=wa(Ta,n),{onValueNodeHasChildrenChange:l}=c,u=void 0!==i,d=Ge(t,c.onValueNodeChange);return Ct((()=>{l(u)}),[l,u]),(0,Ae.jsx)(at.span,{...a,ref:d,style:{pointerEvents:"none"},children:dc(c.value)?(0,Ae.jsx)(Ae.Fragment,{children:s}):i})}));Ia.displayName=Ta;var Ea=t.forwardRef(((e,t)=>{const{__scopeSelect:n,children:r,...o}=e;return(0,Ae.jsx)(at.span,{"aria-hidden":!0,...o,ref:t,children:r||"\u25bc"})}));Ea.displayName="SelectIcon";var Aa=e=>(0,Ae.jsx)(xt,{asChild:!0,...e});Aa.displayName="SelectPortal";var _a="SelectContent",Na=t.forwardRef(((e,n)=>{const r=wa(_a,e.__scopeSelect),[o,i]=t.useState();if(Ct((()=>{i(new DocumentFragment)}),[]),!r.open){const t=o;return t?Ke.createPortal((0,Ae.jsx)(Ra,{scope:e.__scopeSelect,children:(0,Ae.jsx)(ha.Slot,{scope:e.__scopeSelect,children:(0,Ae.jsx)("div",{children:e.children})})}),t):null}return(0,Ae.jsx)(ja,{...e,ref:n})}));Na.displayName=_a;var Pa=10,[Ra,Oa]=ma(_a),Ma=Xe("SelectContent.RemoveScroll"),ja=t.forwardRef(((e,n)=>{const{__scopeSelect:r,position:o="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y,...v}=e,w=wa(_a,r),[b,C]=t.useState(null),[x,k]=t.useState(null),S=Ge(n,(e=>C(e))),[T,I]=t.useState(null),[E,A]=t.useState(null),_=fa(r),[N,P]=t.useState(!1),R=t.useRef(!1);t.useEffect((()=>{if(b)return ws(b)}),[b]),Ti();const O=t.useCallback((e=>{const[t,...n]=_().map((e=>e.ref.current)),[r]=n.slice(-1),o=document.activeElement;for(const i of e){if(i===o)return;if(i?.scrollIntoView({block:"nearest"}),i===t&&x&&(x.scrollTop=0),i===r&&x&&(x.scrollTop=x.scrollHeight),i?.focus(),document.activeElement!==o)return}}),[_,x]),M=t.useCallback((()=>O([T,b])),[O,T,b]);t.useEffect((()=>{N&&M()}),[N,M]);const{onOpenChange:j,triggerPointerDownPosRef:L}=w;t.useEffect((()=>{if(b){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(L.current?.y??0))}},n=n=>{e.x<=10&&e.y<=10?n.preventDefault():b.contains(n.target)||j(!1),document.removeEventListener("pointermove",t),L.current=null};return null!==L.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",n,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",n,{capture:!0})}}}),[b,j,L]),t.useEffect((()=>{const e=()=>j(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}}),[j]);const[D,q]=hc((e=>{const t=_().filter((e=>!e.disabled)),n=t.find((e=>e.ref.current===document.activeElement)),r=fc(t,e,n);r&&setTimeout((()=>r.ref.current.focus()))})),U=t.useCallback(((e,t,n)=>{const r=!R.current&&!n;(void 0!==w.value&&w.value===t||r)&&(I(e),r&&(R.current=!0))}),[w.value]),F=t.useCallback((()=>b?.focus()),[b]),B=t.useCallback(((e,t,n)=>{const r=!R.current&&!n;(void 0!==w.value&&w.value===t||r)&&A(e)}),[w.value]),H="popper"===o?Da:La,z=H===Da?{side:c,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:f,collisionPadding:p,sticky:m,hideWhenDetached:g,avoidCollisions:y}:{};return(0,Ae.jsx)(Ra,{scope:r,content:b,viewport:x,onViewportChange:k,itemRefCallback:U,selectedItem:T,onItemLeave:F,itemTextRefCallback:B,focusSelectedItem:M,selectedItemText:E,position:o,isPositioned:N,searchRef:D,children:(0,Ae.jsx)(ca,{as:Ma,allowPinchZoom:!0,children:(0,Ae.jsx)(Ni,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:We(i,(e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()})),children:(0,Ae.jsx)(mt,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:(0,Ae.jsx)(H,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...v,...z,onPlaced:()=>P(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:We(v.onKeyDown,(e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||q(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=_().filter((e=>!e.disabled)).map((e=>e.ref.current));if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const n=e.target,r=t.indexOf(n);t=t.slice(r+1)}setTimeout((()=>O(t))),e.preventDefault()}}))})})})})})}));ja.displayName="SelectContentImpl";var La=t.forwardRef(((e,n)=>{const{__scopeSelect:r,onPlaced:o,...i}=e,s=wa(_a,r),a=Oa(_a,r),[c,l]=t.useState(null),[u,d]=t.useState(null),h=Ge(n,(e=>d(e))),f=fa(r),p=t.useRef(!1),m=t.useRef(!0),{viewport:g,selectedItem:y,selectedItemText:v,focusSelectedItem:w}=a,b=t.useCallback((()=>{if(s.trigger&&s.valueNode&&c&&u&&g&&y&&v){const e=s.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),n=s.valueNode.getBoundingClientRect(),r=v.getBoundingClientRect();if("rtl"!==s.dir){const o=r.left-t.left,i=n.left-o,s=e.left-i,a=e.width+s,l=Math.max(a,t.width),u=window.innerWidth-Pa,d=xi(i,[Pa,Math.max(Pa,u-l)]);c.style.minWidth=a+"px",c.style.left=d+"px"}else{const o=t.right-r.right,i=window.innerWidth-n.right-o,s=window.innerWidth-e.right-i,a=e.width+s,l=Math.max(a,t.width),u=window.innerWidth-Pa,d=xi(i,[Pa,Math.max(Pa,u-l)]);c.style.minWidth=a+"px",c.style.right=d+"px"}const i=f(),a=window.innerHeight-2*Pa,l=g.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),m=parseInt(d.paddingTop,10),w=parseInt(d.borderBottomWidth,10),b=h+m+l+parseInt(d.paddingBottom,10)+w,C=Math.min(5*y.offsetHeight,b),x=window.getComputedStyle(g),k=parseInt(x.paddingTop,10),S=parseInt(x.paddingBottom,10),T=e.top+e.height/2-Pa,I=a-T,E=y.offsetHeight/2,A=h+m+(y.offsetTop+E),_=b-A;if(A<=T){const e=i.length>0&&y===i[i.length-1].ref.current;c.style.bottom="0px";const t=u.clientHeight-g.offsetTop-g.offsetHeight,n=A+Math.max(I,E+(e?S:0)+t+w);c.style.height=n+"px"}else{const e=i.length>0&&y===i[0].ref.current;c.style.top="0px";const t=Math.max(T,h+g.offsetTop+(e?k:0)+E)+_;c.style.height=t+"px",g.scrollTop=A-T+g.offsetTop}c.style.margin=`${Pa}px 0`,c.style.minHeight=C+"px",c.style.maxHeight=a+"px",o?.(),requestAnimationFrame((()=>p.current=!0))}}),[f,s.trigger,s.valueNode,c,u,g,y,v,s.dir,o]);Ct((()=>b()),[b]);const[C,x]=t.useState();Ct((()=>{u&&x(window.getComputedStyle(u).zIndex)}),[u]);const k=t.useCallback((e=>{e&&!0===m.current&&(b(),w?.(),m.current=!1)}),[b,w]);return(0,Ae.jsx)(qa,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:k,children:(0,Ae.jsx)("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:(0,Ae.jsx)(at.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})}));La.displayName="SelectItemAlignedPosition";var Da=t.forwardRef(((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:o=Pa,...i}=e,s=ya(n);return(0,Ae.jsx)(us,{...s,...i,ref:t,align:r,collisionPadding:o,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})}));Da.displayName="SelectPopperPosition";var[qa,Ua]=ma(_a,{}),Fa="SelectViewport",Ba=t.forwardRef(((e,n)=>{const{__scopeSelect:r,nonce:o,...i}=e,s=Oa(Fa,r),a=Ua(Fa,r),c=Ge(n,s.onViewportChange),l=t.useRef(0);return(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),(0,Ae.jsx)(ha.Slot,{scope:r,children:(0,Ae.jsx)(at.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:We(i.onScroll,(e=>{const t=e.currentTarget,{contentWrapper:n,shouldExpandOnScrollRef:r}=a;if(r?.current&&n){const e=Math.abs(l.current-t.scrollTop);if(e>0){const r=window.innerHeight-2*Pa,o=parseFloat(n.style.minHeight),i=parseFloat(n.style.height),s=Math.max(o,i);if(s<r){const o=s+e,i=Math.min(r,o),a=o-i;n.style.height=i+"px","0px"===n.style.bottom&&(t.scrollTop=a>0?a:0,n.style.justifyContent="flex-end")}}}l.current=t.scrollTop}))})})]})}));Ba.displayName=Fa;var Ha="SelectGroup",[za,$a]=ma(Ha),Ka=t.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,o=Ui();return(0,Ae.jsx)(za,{scope:n,id:o,children:(0,Ae.jsx)(at.div,{role:"group","aria-labelledby":o,...r,ref:t})})}));Ka.displayName=Ha;var Wa="SelectLabel",Qa=t.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,o=$a(Wa,n);return(0,Ae.jsx)(at.div,{id:o.id,...r,ref:t})}));Qa.displayName=Wa;var Va="SelectItem",[Ga,Ya]=ma(Va),Ja=t.forwardRef(((e,n)=>{const{__scopeSelect:r,value:o,disabled:i=!1,textValue:s,...a}=e,c=wa(Va,r),l=Oa(Va,r),u=c.value===o,[d,h]=t.useState(s??""),[f,p]=t.useState(!1),m=Ge(n,(e=>l.itemRefCallback?.(e,o,i))),g=Ui(),y=t.useRef("touch"),v=()=>{i||(c.onValueChange(o),c.onOpenChange(!1))};if(""===o)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return(0,Ae.jsx)(Ga,{scope:r,value:o,disabled:i,textId:g,isSelected:u,onItemTextChange:t.useCallback((e=>{h((t=>t||(e?.textContent??"").trim()))}),[]),children:(0,Ae.jsx)(ha.ItemSlot,{scope:r,value:o,disabled:i,textValue:d,children:(0,Ae.jsx)(at.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":u&&f,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:We(a.onFocus,(()=>p(!0))),onBlur:We(a.onBlur,(()=>p(!1))),onClick:We(a.onClick,(()=>{"mouse"!==y.current&&v()})),onPointerUp:We(a.onPointerUp,(()=>{"mouse"===y.current&&v()})),onPointerDown:We(a.onPointerDown,(e=>{y.current=e.pointerType})),onPointerMove:We(a.onPointerMove,(e=>{y.current=e.pointerType,i?l.onItemLeave?.():"mouse"===y.current&&e.currentTarget.focus({preventScroll:!0})})),onPointerLeave:We(a.onPointerLeave,(e=>{e.currentTarget===document.activeElement&&l.onItemLeave?.()})),onKeyDown:We(a.onKeyDown,(e=>{""!==l.searchRef?.current&&" "===e.key||(ua.includes(e.key)&&v()," "===e.key&&e.preventDefault())}))})})})}));Ja.displayName=Va;var Xa="SelectItemText",Za=t.forwardRef(((e,n)=>{const{__scopeSelect:r,className:o,style:i,...s}=e,a=wa(Xa,r),c=Oa(Xa,r),l=Ya(Xa,r),u=Ca(Xa,r),[d,h]=t.useState(null),f=Ge(n,(e=>h(e)),l.onItemTextChange,(e=>c.itemTextRefCallback?.(e,l.value,l.disabled))),p=d?.textContent,m=t.useMemo((()=>(0,Ae.jsx)("option",{value:l.value,disabled:l.disabled,children:p},l.value)),[l.disabled,l.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:y}=u;return Ct((()=>(g(m),()=>y(m))),[g,y,m]),(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(at.span,{id:l.textId,...s,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?Ke.createPortal(s.children,a.valueNode):null]})}));Za.displayName=Xa;var ec="SelectItemIndicator",tc=t.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return Ya(ec,n).isSelected?(0,Ae.jsx)(at.span,{"aria-hidden":!0,...r,ref:t}):null}));tc.displayName=ec;var nc="SelectScrollUpButton",rc=t.forwardRef(((e,n)=>{const r=Oa(nc,e.__scopeSelect),o=Ua(nc,e.__scopeSelect),[i,s]=t.useState(!1),a=Ge(n,o.onScrollButtonChange);return Ct((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollTop>0;s(e)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?(0,Ae.jsx)(sc,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null}));rc.displayName=nc;var oc="SelectScrollDownButton",ic=t.forwardRef(((e,n)=>{const r=Oa(oc,e.__scopeSelect),o=Ua(oc,e.__scopeSelect),[i,s]=t.useState(!1),a=Ge(n,o.onScrollButtonChange);return Ct((()=>{if(r.viewport&&r.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,n=Math.ceil(t.scrollTop)<e;s(n)};const t=r.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}}),[r.viewport,r.isPositioned]),i?(0,Ae.jsx)(sc,{...e,ref:a,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=r;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null}));ic.displayName=oc;var sc=t.forwardRef(((e,n)=>{const{__scopeSelect:r,onAutoScroll:o,...i}=e,s=Oa("SelectScrollButton",r),a=t.useRef(null),c=fa(r),l=t.useCallback((()=>{null!==a.current&&(window.clearInterval(a.current),a.current=null)}),[]);return t.useEffect((()=>()=>l()),[l]),Ct((()=>{const e=c().find((e=>e.ref.current===document.activeElement));e?.ref.current?.scrollIntoView({block:"nearest"})}),[c]),(0,Ae.jsx)(at.div,{"aria-hidden":!0,...i,ref:n,style:{flexShrink:0,...i.style},onPointerDown:We(i.onPointerDown,(()=>{null===a.current&&(a.current=window.setInterval(o,50))})),onPointerMove:We(i.onPointerMove,(()=>{s.onItemLeave?.(),null===a.current&&(a.current=window.setInterval(o,50))})),onPointerLeave:We(i.onPointerLeave,(()=>{l()}))})})),ac=t.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e;return(0,Ae.jsx)(at.div,{"aria-hidden":!0,...r,ref:t})}));ac.displayName="SelectSeparator";var cc="SelectArrow",lc=t.forwardRef(((e,t)=>{const{__scopeSelect:n,...r}=e,o=ya(n),i=wa(cc,n),s=Oa(cc,n);return i.open&&"popper"===s.position?(0,Ae.jsx)(ds,{...o,...r,ref:t}):null}));lc.displayName=cc;var uc=t.forwardRef(((e,n)=>{let{__scopeSelect:r,value:o,...i}=e;const s=t.useRef(null),a=Ge(n,s),c=function(e){const n=t.useRef({value:e,previous:e});return t.useMemo((()=>(n.current.value!==e&&(n.current.previous=n.current.value,n.current.value=e),n.current.previous)),[e])}(o);return t.useEffect((()=>{const e=s.current;if(!e)return;const t=window.HTMLSelectElement.prototype,n=Object.getOwnPropertyDescriptor(t,"value").set;if(c!==o&&n){const t=new Event("change",{bubbles:!0});n.call(e,o),e.dispatchEvent(t)}}),[c,o]),(0,Ae.jsx)(at.select,{...i,style:{...Et,...i.style},ref:a,defaultValue:o})}));function dc(e){return""===e||void 0===e}function hc(e){const n=lt(e),r=t.useRef(""),o=t.useRef(0),i=t.useCallback((e=>{const t=r.current+e;n(t),function e(t){r.current=t,window.clearTimeout(o.current),""!==t&&(o.current=window.setTimeout((()=>e("")),1e3))}(t)}),[n]),s=t.useCallback((()=>{r.current="",window.clearTimeout(o.current)}),[]);return t.useEffect((()=>()=>window.clearTimeout(o.current)),[]),[r,i,s]}function fc(e,t,n){const r=t.length>1&&Array.from(t).every((e=>e===t[0]))?t[0]:t,o=n?e.indexOf(n):-1;let i=(s=e,a=Math.max(o,0),s.map(((e,t)=>s[(a+t)%s.length])));var s,a;1===r.length&&(i=i.filter((e=>e!==n)));const c=i.find((e=>e.textValue.toLowerCase().startsWith(r.toLowerCase())));return c!==n?c:void 0}uc.displayName="SelectBubbleInput";var pc=xa,mc=Sa,gc=Ia,yc=Ea,vc=Aa,wc=Na,bc=Ba,Cc=Ka,xc=rc,kc=ic;const Sc=wn("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Tc=wn("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Ic=pc,Ec=Cc,Ac=gc,_c=t.forwardRef(((e,t)=>{let{className:n,children:r,...o}=e;return(0,Ae.jsxs)(mc,{ref:t,className:mr("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...o,children:[r,(0,Ae.jsx)(yc,{asChild:!0,children:(0,Ae.jsx)(Sc,{className:"h-4 w-4 opacity-50"})})]})}));_c.displayName=mc.displayName;const Nc=t.forwardRef(((e,t)=>{let{className:n,children:r,position:o="popper",...i}=e;return(0,Ae.jsx)(vc,{children:(0,Ae.jsxs)(wc,{ref:t,className:mr("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===o&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:o,...i,children:[(0,Ae.jsx)(xc,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,Ae.jsx)(Tc,{className:"h-4 w-4"})}),(0,Ae.jsx)(bc,{className:mr("p-1","popper"===o&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,Ae.jsx)(kc,{className:"flex h-6 cursor-default items-center justify-center bg-popover",children:(0,Ae.jsx)(Sc,{className:"h-4 w-4"})})]})})}));Nc.displayName=wc.displayName;const Pc=wn("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);function Rc(e,t){bo(2,arguments);var n=Co(e),r=ko(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}const Oc=e=>{let{onAppointmentClick:n}=e;const[r,o]=(0,t.useState)(new Date),[i,s]=(0,t.useState)(null),[,a]=(0,t.useState)("day"),c=gi(r,"yyyy-MM-dd"),l=gi(r,"MMMM d, yyyy"),{data:u,isLoading:d}=Wr({queryKey:["appointments",c,i],queryFn:async()=>{const e=i?`/api/appointments/by-provider/${i}?date=${c}`:`/api/appointments?date=${c}`;return(await Ie("GET",e)).json()}}),{data:h}=Wr({queryKey:["providers"],queryFn:async()=>(await Ie("GET","/api/providers")).json()}),f=e=>u?u.filter((t=>t.time===e)):[];return(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsxs)(Gr,{className:"flex flex-row items-center justify-between",children:[(0,Ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ae.jsx)(Zr,{variant:"outline",onClick:()=>a("day"),size:"sm",children:"Day"}),(0,Ae.jsx)(Zr,{variant:"outline",onClick:()=>a("week"),size:"sm",children:"Week"}),(0,Ae.jsx)(Zr,{variant:"outline",onClick:()=>a("month"),size:"sm",children:"Month"})]}),(0,Ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ae.jsx)(Zr,{variant:"outline",size:"icon",onClick:()=>{o((e=>function(e,t){return bo(2,arguments),Rc(e,-ko(t))}(e,1)))},children:(0,Ae.jsx)(Pc,{className:"h-4 w-4"})}),(0,Ae.jsx)("span",{className:"font-medium",children:l}),(0,Ae.jsx)(Zr,{variant:"outline",size:"icon",onClick:()=>{o((e=>Rc(e,1)))},children:(0,Ae.jsx)(wi,{className:"h-4 w-4"})}),(0,Ae.jsx)(Zr,{variant:"outline",onClick:()=>{o(new Date)},children:"Today"})]}),(0,Ae.jsxs)(Ic,{value:i,onValueChange:s,children:[(0,Ae.jsx)(_c,{className:"w-[200px]",children:(0,Ae.jsx)(Ac,{placeholder:"All Providers"})}),(0,Ae.jsx)(Nc,{children:(0,Ae.jsxs)(Ec,{children:[(0,Ae.jsx)(Ac,{value:"",children:"All Providers"}),null===h||void 0===h?void 0:h.map((e=>(0,Ae.jsx)(Ac,{value:e.id,children:e.fullName},e.id)))]})})]})]}),(0,Ae.jsx)(Jr,{children:d?Array(5).fill(0).map(((e,t)=>(0,Ae.jsxs)("div",{className:"animate-pulse flex space-x-4 mb-4",children:[(0,Ae.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4"}),(0,Ae.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"})]},t))):(0,Ae.jsx)("div",{className:"space-y-4",children:["8:00 AM","9:00 AM","10:00 AM","11:00 AM","12:00 PM","1:00 PM","2:00 PM","3:00 PM","4:00 PM","5:00 PM"].map((e=>(0,Ae.jsxs)("div",{className:"flex",children:[(0,Ae.jsx)("div",{className:"w-24 font-medium",children:e}),(0,Ae.jsxs)("div",{className:"flex-1",children:[f(e).map((e=>{return(0,Ae.jsxs)("div",{className:"p-3 mb-2 rounded-md "+(t=e.method,r=e.status,"waiting"===r?"bg-yellow-50 border-l-4 border-warning-500":"video"===t?"bg-blue-50 border-l-4 border-primary-500":"bg-green-50 border-l-4 border-success-500"),onClick:()=>n&&n(e.id),children:[(0,Ae.jsx)("div",{className:"font-medium",children:e.patientName}),(0,Ae.jsx)("div",{className:"text-sm text-gray-500",children:e.reason})]},e.id);var t,r})),0===f(e).length&&(0,Ae.jsx)("div",{className:"text-sm text-gray-400 italic",children:"No appointments scheduled"})]})]},e)))})})]})},Mc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("textarea",{className:mr("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...r})}));Mc.displayName="Textarea";const jc=e=>"boolean"===typeof e?`${e}`:0===e?"0":e,Lc=Cn.$,Dc=(qc="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",Uc={variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}},e=>{var t;if(null==(null===Uc||void 0===Uc?void 0:Uc.variants))return Lc(qc,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className);const{variants:n,defaultVariants:r}=Uc,o=Object.keys(n).map((t=>{const o=null===e||void 0===e?void 0:e[t],i=null===r||void 0===r?void 0:r[t];if(null===o)return null;const s=jc(o)||jc(i);return n[t][s]})),i=e&&Object.entries(e).reduce(((e,t)=>{let[n,r]=t;return void 0===r||(e[n]=r),e}),{}),s=null===Uc||void 0===Uc||null===(t=Uc.compoundVariants)||void 0===t?void 0:t.reduce(((e,t)=>{let{class:n,className:o,...s}=t;return Object.entries(s).every((e=>{let[t,n]=e;return Array.isArray(n)?n.includes({...r,...i}[t]):{...r,...i}[t]===n}))?[...e,n,o]:e}),[]);return Lc(qc,o,s,null===e||void 0===e?void 0:e.class,null===e||void 0===e?void 0:e.className)});var qc,Uc;function Fc(e){let{className:t,variant:n,...r}=e;return(0,Ae.jsx)("div",{className:mr(Dc({variant:n}),t),...r})}var Bc=class extends se{#c;#_=void 0;#V;#G;constructor(e,t){super(),this.#c=e,this.setOptions(t),this.bindMethods(),this.#Y()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#c.defaultMutationOptions(e),G(this.options,t)||this.#c.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#V,observer:this}),t?.mutationKey&&this.options.mutationKey&&W(t.mutationKey)!==W(this.options.mutationKey)?this.reset():"pending"===this.#V?.state.status&&this.#V.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#V?.removeObserver(this)}onMutationUpdate(e){this.#Y(),this.#Q(e)}getCurrentResult(){return this.#_}reset(){this.#V?.removeObserver(this),this.#V=void 0,this.#Y(),this.#Q()}mutate(e,t){return this.#G=t,this.#V?.removeObserver(this),this.#V=this.#c.getMutationCache().build(this.#c,this.options),this.#V.addObserver(this),this.#V.execute(e)}#Y(){const e=this.#V?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#_={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#Q(e){ie.batch((()=>{if(this.#G&&this.hasListeners()){const t=this.#_.variables,n=this.#_.context;"success"===e?.type?(this.#G.onSuccess?.(e.data,t,n),this.#G.onSettled?.(e.data,null,t,n)):"error"===e?.type&&(this.#G.onError?.(e.error,t,n),this.#G.onSettled?.(void 0,e.error,t,n))}this.listeners.forEach((e=>{e(this.#_)}))}))}};const Hc=wn("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),zc=e=>{var n,r;let{appointmentId:o,onStartVideoCall:i}=e;const[s,a]=(0,t.useState)(""),{toast:c}=$e(),l=Ne(),{data:u,isLoading:d}=Wr({queryKey:["appointment",o],enabled:!!o}),{data:h,isLoading:f}=Wr({queryKey:["patient",null===u||void 0===u?void 0:u.patientId],enabled:!(null===u||void 0===u||!u.patientId)}),{data:p,isLoading:m}=Wr({queryKey:["provider",null===u||void 0===u?void 0:u.providerId],enabled:!(null===u||void 0===u||!u.providerId)}),{data:g,isLoading:y}=Wr({queryKey:["clinicalNotes",o],enabled:!!o}),v=function(e,n){const r=Ne(n),[o]=t.useState((()=>new Bc(r,e)));t.useEffect((()=>{o.setOptions(e)}),[o,e]);const i=t.useSyncExternalStore(t.useCallback((e=>o.subscribe(ie.batchCalls(e))),[o]),(()=>o.getCurrentResult()),(()=>o.getCurrentResult())),s=t.useCallback(((e,t)=>{o.mutate(e,t).catch(Hr)}),[o]);if(i.error&&Br(o.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}({mutationFn:async e=>(await Ie("POST","/api/clinical-notes",e)).json(),onSuccess:()=>{c({title:"Success",description:"Clinical note saved successfully"}),a(""),l.invalidateQueries({queryKey:["clinicalNotes",o]})},onError:()=>{c({title:"Error",description:"Failed to save clinical note",variant:"destructive"})}});return d||f||m||y?(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Appointment Details"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsx)("div",{className:"flex items-center justify-center h-32",children:(0,Ae.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})})]}):u&&h&&p?(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsxs)(Gr,{className:"flex flex-row items-center justify-between",children:[(0,Ae.jsx)(Yr,{children:"Appointment Details"}),(0,Ae.jsxs)("div",{className:"flex gap-2",children:["video"===u.method&&(0,Ae.jsx)(Zr,{onClick:i,children:"Start Video Call"}),(0,Ae.jsx)(Zr,{variant:"outline",children:"Reschedule"}),(0,Ae.jsx)(Zr,{variant:"destructive",children:"Cancel"})]})]}),(0,Ae.jsxs)(Jr,{children:[(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium mb-4",children:"Patient Information"}),(0,Ae.jsxs)("div",{className:"flex items-start",children:[h.profileImage?(0,Ae.jsx)("img",{src:h.profileImage,alt:`${h.firstName} ${h.lastName}`,className:"w-20 h-20 rounded-md object-cover mr-4"}):(0,Ae.jsx)("div",{className:"w-20 h-20 rounded-md bg-neutral-200 flex items-center justify-center mr-4",children:(0,Ae.jsxs)("span",{className:"text-lg font-medium",children:[null===(n=h.firstName)||void 0===n?void 0:n.charAt(0),null===(r=h.lastName)||void 0===r?void 0:r.charAt(0)]})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h4",{className:"font-medium",children:[h.firstName," ",h.lastName]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Patient ID"}),(0,Ae.jsx)("p",{className:"font-medium",children:h.patientId})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Date of Birth"}),(0,Ae.jsx)("p",{className:"font-medium",children:h.dob?gi(new Date(h.dob),"MM/dd/yyyy"):"N/A"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Phone"}),(0,Ae.jsx)("p",{className:"font-medium",children:h.phone||"N/A"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Email"}),(0,Ae.jsx)("p",{className:"font-medium",children:h.email||"N/A"})]})]})]})]}),(0,Ae.jsxs)("div",{className:"mt-4 flex gap-2",children:[(0,Ae.jsxs)(Fc,{variant:h.insuranceVerified?"success":"warning",children:["Insurance ",h.insuranceVerified?"Verified":"Pending"]}),(0,Ae.jsxs)(Fc,{variant:h.formsCompleted?"success":"warning",children:["Forms ",h.formsCompleted?"Completed":"Pending"]})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"font-medium mb-4",children:"Appointment Details"}),(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Appointment ID"}),(0,Ae.jsx)("p",{className:"font-medium",children:u.appointmentId})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Date & Time"}),(0,Ae.jsxs)("p",{className:"font-medium",children:[gi(new Date(u.date),"MMMM d, yyyy")," -"," ",u.time]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Provider"}),(0,Ae.jsxs)("p",{className:"font-medium",children:[p.fullName," (",p.specialty,")"]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Type"}),(0,Ae.jsx)("p",{className:"font-medium",children:u.type})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Status"}),(0,Ae.jsx)(Fc,{variant:"confirmed"===u.status?"success":"warning",children:u.status})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Visit Method"}),(0,Ae.jsx)("div",{className:"flex items-center",children:"video"===u.method?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Ir,{className:"w-4 h-4 mr-1 text-success-500"}),(0,Ae.jsx)("span",{children:"Video Call"})]}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)(Hc,{className:"w-4 h-4 mr-1 text-success-500"}),(0,Ae.jsx)("span",{children:"In-Person"})]})})]})]})]})]}),(0,Ae.jsxs)("div",{className:"mt-6",children:[(0,Ae.jsx)("h3",{className:"font-medium mb-2",children:"Reason for Visit"}),(0,Ae.jsx)("p",{className:"text-gray-700",children:u.reason||"No reason provided"})]})]})]}),(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Clinical Notes"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[null===g||void 0===g?void 0:g.map((e=>(0,Ae.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,Ae.jsx)("div",{className:"flex justify-between items-start mb-2",children:(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{className:"font-medium",children:e.providerName}),(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:gi(new Date(e.createdAt),"MMM d, yyyy h:mm a")})]})}),(0,Ae.jsx)("p",{className:"text-gray-700 whitespace-pre-wrap",children:e.content})]},e.id))),(0,Ae.jsxs)("div",{className:"mt-4",children:[(0,Ae.jsx)(Mc,{placeholder:"Add a new clinical note...",value:s,onChange:e=>a(e.target.value),className:"min-h-[100px]"}),(0,Ae.jsx)(Zr,{onClick:()=>{s.trim()?v.mutate({appointmentId:o,providerId:null===p||void 0===p?void 0:p.id,content:s,createdAt:(new Date).toISOString()}):c({title:"Error",description:"Note cannot be empty",variant:"destructive"})},className:"mt-2",disabled:v.isLoading,children:v.isLoading?"Saving...":"Save Note"})]})]})})]})]}):(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Appointment Details"})}),(0,Ae.jsx)(Jr,{children:(0,Ae.jsxs)("div",{className:"text-center py-8",children:[(0,Ae.jsx)("p",{className:"text-lg font-medium",children:"No appointment selected"}),(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Please select an appointment from the calendar to view details."})]})})]})};const $c=function(){return(0,t.useEffect)((()=>{document.title="Appointments - Seismic Connect"}),[]),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-semibold",children:"Appointments"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,Ae.jsx)("div",{className:"lg:col-span-2",children:(0,Ae.jsx)(Oc,{})}),(0,Ae.jsx)("div",{children:(0,Ae.jsx)(zc,{})})]})]})},Kc=t.forwardRef(((e,t)=>{let{className:n,type:r,...o}=e;return(0,Ae.jsx)("input",{type:r,className:mr("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...o})}));Kc.displayName="Input";const Wc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("div",{className:"relative w-full overflow-auto",children:(0,Ae.jsx)("table",{ref:t,className:mr("w-full caption-bottom text-sm",n),...r})})}));Wc.displayName="Table";const Qc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("thead",{ref:t,className:mr("[&_tr]:border-b",n),...r})}));Qc.displayName="TableHeader";const Vc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("tbody",{ref:t,className:mr("[&_tr:last-child]:border-0",n),...r})}));Vc.displayName="TableBody";const Gc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("tr",{ref:t,className:mr("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...r})}));Gc.displayName="TableRow";const Yc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("td",{ref:t,className:mr("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...r})}));Yc.displayName="TableCell";const Jc=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)("th",{ref:t,className:mr("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...r})}));Jc.displayName="TableHead";const Xc=wn("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Zc=wn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),el=wn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),tl=wn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);var nl=t.forwardRef(((e,t)=>(0,Ae.jsx)(at.label,{...e,ref:t,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}})));nl.displayName="Label";var rl=nl;const ol=t.forwardRef(((e,t)=>{let{className:n,...r}=e;return(0,Ae.jsx)(rl,{ref:t,className:mr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",n),...r})}));ol.displayName=rl.displayName;const il=function(){return(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"Date of Birth"}),(0,Ae.jsx)(Kc,{type:"date"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"Insurance Provider"}),(0,Ae.jsx)(Kc,{placeholder:"Enter insurance provider..."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"Insurance ID"}),(0,Ae.jsx)(Kc,{placeholder:"Enter insurance ID..."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"Phone Number"}),(0,Ae.jsx)(Kc,{placeholder:"Enter phone number..."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"Email"}),(0,Ae.jsx)(Kc,{type:"email",placeholder:"Enter email..."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(ol,{children:"SSN"}),(0,Ae.jsx)(Kc,{placeholder:"Enter SSN..."})]}),(0,Ae.jsxs)("div",{className:"md:col-span-2 lg:col-span-3 flex justify-end gap-2",children:[(0,Ae.jsx)(Zr,{variant:"outline",children:"Reset"}),(0,Ae.jsx)(Zr,{children:"Search"})]})]})};const sl=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(!1),{data:i}=Wr(["/api/patients"]);return(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-semibold",children:"Patients"}),(0,Ae.jsxs)(Zr,{children:[(0,Ae.jsx)(Xc,{className:"w-4 h-4 mr-2"}),"Add Patient"]})]}),(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Patient Search"})}),(0,Ae.jsxs)(Jr,{children:[(0,Ae.jsxs)("div",{className:"flex gap-4",children:[(0,Ae.jsx)("div",{className:"flex-1",children:(0,Ae.jsx)(Kc,{placeholder:"Search patients...",value:e,onChange:e=>n(e.target.value)})}),(0,Ae.jsx)(Zr,{variant:"outline",onClick:()=>o(!r),children:"Advanced Search"})]}),r&&(0,Ae.jsx)(il,{})]})]}),(0,Ae.jsx)(Vr,{children:(0,Ae.jsx)(Jr,{className:"p-0",children:(0,Ae.jsxs)(Wc,{children:[(0,Ae.jsx)(Qc,{children:(0,Ae.jsxs)(Gc,{children:[(0,Ae.jsx)(Jc,{children:"Name"}),(0,Ae.jsx)(Jc,{children:"Contact"}),(0,Ae.jsx)(Jc,{children:"Insurance"}),(0,Ae.jsx)(Jc,{children:"Last Visit"}),(0,Ae.jsx)(Jc,{children:"Status"}),(0,Ae.jsx)(Jc,{children:"Actions"})]})}),(0,Ae.jsx)(Vc,{children:null===i||void 0===i?void 0:i.map((e=>(0,Ae.jsxs)(Gc,{children:[(0,Ae.jsxs)(Yc,{children:[e.firstName," ",e.lastName]}),(0,Ae.jsxs)(Yc,{children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ae.jsx)(Zc,{className:"w-4 h-4"}),e.phone]}),(0,Ae.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[(0,Ae.jsx)(el,{className:"w-4 h-4"}),e.email]})]}),(0,Ae.jsxs)(Yc,{children:[(0,Ae.jsx)("div",{children:e.insuranceProvider}),(0,Ae.jsx)("div",{className:"text-sm text-gray-500",children:e.insuranceId})]}),(0,Ae.jsx)(Yc,{children:(0,Ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ae.jsx)(Tr,{className:"w-4 h-4"}),gi(new Date,"MMM d, yyyy")]})}),(0,Ae.jsx)(Yc,{children:(0,Ae.jsx)(Fc,{variant:e.insuranceVerified?"success":"warning",children:e.insuranceVerified?"Verified":"Pending"})}),(0,Ae.jsx)(Yc,{children:(0,Ae.jsxs)("div",{className:"flex items-center gap-2",children:[(0,Ae.jsx)(Zr,{variant:"ghost",size:"icon",children:(0,Ae.jsx)(Ar,{className:"w-4 h-4"})}),(0,Ae.jsx)(Zr,{variant:"ghost",size:"icon",children:(0,Ae.jsx)(tl,{className:"w-4 h-4"})})]})})]},e.id)))})]})})})]})};const al=function(){return(0,t.useEffect)((()=>{document.title="Reports - Seismic Connect"}),[]),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-semibold",children:"Reports"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Patient Demographics"})}),(0,Ae.jsx)(Jr,{children:"Coming soon..."})]})})]})};const cl=function(){return(0,t.useEffect)((()=>{document.title="Settings - Seismic Connect"}),[]),(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsx)("h1",{className:"text-2xl font-semibold",children:"Settings"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,Ae.jsxs)(Vr,{children:[(0,Ae.jsx)(Gr,{children:(0,Ae.jsx)(Yr,{children:"Account Settings"})}),(0,Ae.jsx)(Jr,{children:"Coming soon..."})]})})]})};const ll=function(){return(0,Ae.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"404"}),(0,Ae.jsx)("p",{className:"text-lg text-gray-600",children:"Page not found"})]})})},ul=Object.create(null);ul.open="0",ul.close="1",ul.ping="2",ul.pong="3",ul.message="4",ul.upgrade="5",ul.noop="6";const dl=Object.create(null);Object.keys(ul).forEach((e=>{dl[ul[e]]=e}));const hl={type:"error",data:"parser error"},fl="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),pl="function"===typeof ArrayBuffer,ml=e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,gl=(e,t,n)=>{let{type:r,data:o}=e;return fl&&o instanceof Blob?t?n(o):yl(o,n):pl&&(o instanceof ArrayBuffer||ml(o))?t?n(o):yl(new Blob([o]),n):n(ul[r]+(o||""))},yl=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function vl(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let wl;const bl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Cl="undefined"===typeof Uint8Array?[]:new Uint8Array(256);for(let n=0;n<64;n++)Cl[bl.charCodeAt(n)]=n;const xl="function"===typeof ArrayBuffer,kl=(e,t)=>{if("string"!==typeof e)return{type:"message",data:Tl(e,t)};const n=e.charAt(0);if("b"===n)return{type:"message",data:Sl(e.substring(1),t)};return dl[n]?e.length>1?{type:dl[n],data:e.substring(1)}:{type:dl[n]}:hl},Sl=(e,t)=>{if(xl){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=Cl[e.charCodeAt(t)],r=Cl[e.charCodeAt(t+1)],o=Cl[e.charCodeAt(t+2)],i=Cl[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&i;return l})(e);return Tl(n,t)}return{base64:!0,data:e}},Tl=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,Il=String.fromCharCode(30);function El(){return new TransformStream({transform(e,t){!function(e,t){fl&&e.data instanceof Blob?e.data.arrayBuffer().then(vl).then(t):pl&&(e.data instanceof ArrayBuffer||ml(e.data))?t(vl(e.data)):gl(e,!1,(e=>{wl||(wl=new TextEncoder),t(wl.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}})}let Al;function _l(e){return e.reduce(((e,t)=>e+t.length),0)}function Nl(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Pl(e){if(e)return function(e){for(var t in Pl.prototype)e[t]=Pl.prototype[t];return e}(e)}Pl.prototype.on=Pl.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Pl.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Pl.prototype.off=Pl.prototype.removeListener=Pl.prototype.removeAllListeners=Pl.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Pl.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Pl.prototype.emitReserved=Pl.prototype.emit,Pl.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Pl.prototype.hasListeners=function(e){return!!this.listeners(e).length};const Rl="function"===typeof Promise&&"function"===typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ol="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Ml(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const jl=Ol.setTimeout,Ll=Ol.clearTimeout;function Dl(e,t){t.useNativeTimers?(e.setTimeoutFn=jl.bind(Ol),e.clearTimeoutFn=Ll.bind(Ol)):(e.setTimeoutFn=Ol.setTimeout.bind(Ol),e.clearTimeoutFn=Ol.clearTimeout.bind(Ol))}function ql(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}class Ul extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Fl extends Pl{constructor(e){super(),this.writable=!1,Dl(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,t,n){return super.emitReserved("error",new Ul(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=kl(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}class Bl extends Fl{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let e=0;this._polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(Il),r=[];for(let o=0;o<n.length;o++){const e=kl(n[o],t);if(r.push(e),"error"===e.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{gl(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(Il))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=ql()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}let Hl=!1;try{Hl="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(ek){}const zl=Hl;function $l(){}class Kl extends Bl{constructor(e){if(super(e),"undefined"!==typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!==typeof location&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}class Wl extends Pl{constructor(e,t,n){super(),this.createRequest=e,Dl(this,n),this._opts=n,this._method=n.method||"GET",this._uri=t,this._data=void 0!==n.data?n.data:null,this._create()}_create(){var e;const t=Ml(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(t);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this._opts.extraHeaders[e])}}catch(r){}if("POST"===this._method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(r){}try{n.setRequestHeader("Accept","*/*")}catch(r){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this._opts.cookieJar)||void 0===e||e.parseCookies(n.getResponseHeader("set-cookie"))),4===n.readyState&&(200===n.status||1223===n.status?this._onLoad():this.setTimeoutFn((()=>{this._onError("number"===typeof n.status?n.status:0)}),0))},n.send(this._data)}catch(r){return void this.setTimeoutFn((()=>{this._onError(r)}),0)}"undefined"!==typeof document&&(this._index=Wl.requestsCount++,Wl.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=$l,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete Wl.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}if(Wl.requestsCount=0,Wl.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Ql);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ol?"pagehide":"unload",Ql,!1)}function Ql(){for(let e in Wl.requests)Wl.requests.hasOwnProperty(e)&&Wl.requests[e].abort()}const Vl=function(){const e=Gl({xdomain:!1});return e&&null!==e.responseType}();function Gl(e){const t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||zl))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Ol[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}const Yl="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class Jl extends Fl{get name(){return"websocket"}doOpen(){const e=this.uri(),t=this.opts.protocols,n=Yl?{}:Ml(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(ek){return this.emitReserved("error",ek)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;gl(n,this.supportsBinary,(e=>{try{this.doWrite(n,e)}catch(t){}r&&Rl((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){"undefined"!==typeof this.ws&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=ql()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}const Xl=Ol.WebSocket||Ol.MozWebSocket;const Zl={websocket:class extends Jl{createSocket(e,t,n){return Yl?new Xl(e,t,n):t?new Xl(e,t):new Xl(e)}doWrite(e,t){this.ws.send(t)}},webtransport:class extends Fl{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(ek){return this.emitReserved("error",ek)}this._transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this._transport.ready.then((()=>{this._transport.createBidirectionalStream().then((e=>{const t=function(e,t){Al||(Al=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(_l(n)<1)break;const e=Nl(n,1);i=128===(128&e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(_l(n)<2)break;const e=Nl(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(_l(n)<8)break;const e=Nl(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(hl);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(_l(n)<o)break;const e=Nl(n,o);a.enqueue(kl(i?e:Al.decode(e),t)),r=0}if(0===o||o>e){a.enqueue(hl);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=El();r.readable.pipeTo(e.writable),this._writer=r.writable.getWriter();const o=()=>{n.read().then((e=>{let{done:t,value:n}=e;t||(this.onPacket(n),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this._writer.write(i).then((()=>this.onOpen()))}))}))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this._writer.write(n).then((()=>{r&&Rl((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this._transport)||void 0===e||e.close()}},polling:class extends Kl{constructor(e){super(e);const t=e&&e.forceBase64;this.supportsBinary=Vl&&!t}request(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new Wl(Gl,this.uri(),e)}}},eu=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,tu=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nu(e){if(e.length>8e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=eu.exec(e||""),i={},s=14;for(;s--;)i[tu[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=/\/{2,9}/g,r=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1);"/"==t.slice(-1)&&r.splice(r.length-1,1);return r}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}const ru="function"===typeof addEventListener&&"function"===typeof removeEventListener,ou=[];ru&&addEventListener("offline",(()=>{ou.forEach((e=>e()))}),!1);class iu extends Pl{constructor(e,t){if(super(),this.binaryType="arraybuffer",this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&"object"===typeof e&&(t=e,e=null),e){const n=nu(e);t.hostname=n.host,t.secure="https"===n.protocol||"wss"===n.protocol,t.port=n.port,n.query&&(t.query=n.query)}else t.host&&(t.hostname=nu(t.host).host);Dl(this,t),this.secure=null!=t.secure?t.secure:"undefined"!==typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!==typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!==typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},t.transports.forEach((e=>{const t=e.prototype.name;this.transports.push(t),this._transportsByName[t]=e})),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"===typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let r=0,o=n.length;r<o;r++){let e=n[r].split("=");t[decodeURIComponent(e[0])]=decodeURIComponent(e[1])}return t}(this.opts.query)),ru&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},ou.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);const e=this.opts.rememberUpgrade&&iu.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";const t=this.createTransport(e);t.open(),this.setTransport(t)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(e=>this._onClose("transport close",e)))}onOpen(){this.readyState="open",iu.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}_onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn((()=>{this._onClose("ping timeout")}),e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"===typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this._maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,Rl((()=>{this._onClose("ping timeout")}),this.setTimeoutFn)),e}write(e,t,n){return this._sendPacket("message",e,t,n),this}send(e,t,n){return this._sendPacket("message",e,t,n),this}_sendPacket(e,t,n,r){if("function"===typeof t&&(r=t,t=void 0),"function"===typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}_onError(e){if(iu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),ru&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const e=ou.indexOf(this._offlineEventListener);-1!==e&&ou.splice(e,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}iu.protocol=4;class su extends iu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),"open"===this.readyState&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let t=this.createTransport(e),n=!1;iu.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;iu.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function c(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const t=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}class au extends su{constructor(e){const t="object"===typeof e?e:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(!t.transports||t.transports&&"string"===typeof t.transports[0])&&(t.transports=(t.transports||["polling","websocket","webtransport"]).map((e=>Zl[e])).filter((e=>!!e))),super(e,t)}}const cu="function"===typeof ArrayBuffer,lu=Object.prototype.toString,uu="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===lu.call(Blob),du="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===lu.call(File);function hu(e){return cu&&(e instanceof ArrayBuffer||(e=>"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||uu&&e instanceof Blob||du&&e instanceof File}function fu(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(fu(e[t]))return!0;return!1}if(hu(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return fu(e.toJSON(),!0);for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&fu(e[n]))return!0;return!1}function pu(e){const t=[],n=e.data,r=e;return r.data=mu(n,t),r.attachments=t.length,{packet:r,buffers:t}}function mu(e,t){if(!e)return e;if(hu(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=mu(e[r],t);return n}if("object"===typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=mu(e[r],t));return n}return e}function gu(e,t){return e.data=yu(e.data,t),delete e.attachments,e}function yu(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=yu(e[n],t);else if("object"===typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=yu(e[n],t));return e}const vu=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],wu=5;var bu;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(bu||(bu={}));class Cu{constructor(e){this.replacer=e}encode(e){return e.type!==bu.EVENT&&e.type!==bu.ACK||!fu(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===bu.EVENT?bu.BINARY_EVENT:bu.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==bu.BINARY_EVENT&&e.type!==bu.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=pu(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function xu(e){return"[object Object]"===Object.prototype.toString.call(e)}class ku extends Pl{constructor(e){super(),this.reviver=e}add(e){let t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===bu.BINARY_EVENT;n||t.type===bu.BINARY_ACK?(t.type=n?bu.EVENT:bu.ACK,this.reconstructor=new Su(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!hu(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===bu[n.type])throw new Error("unknown packet type "+n.type);if(n.type===bu.BINARY_EVENT||n.type===bu.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t;){if(","===e.charAt(t))break;if(t===e.length)break}n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!ku.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}static isPayloadValid(e,t){switch(e){case bu.CONNECT:return xu(t);case bu.DISCONNECT:return void 0===t;case bu.CONNECT_ERROR:return"string"===typeof t||xu(t);case bu.EVENT:case bu.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===vu.indexOf(t[0]));case bu.ACK:case bu.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class Su{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=gu(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function Tu(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const Iu=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Eu extends Pl{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Tu(e,"open",this.onopen.bind(this)),Tu(e,"packet",this.onpacket.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}emit(e){var t,n,r;if(Iu.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];if(i.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(i),this;const a={type:bu.EVENT,data:i,options:{}};if(a.options.compress=!1!==this.flags.compress,"function"===typeof i[i.length-1]){const e=this.ids++,t=i.pop();this._registerAckCallback(e,t),a.id=e}const c=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,l=this.connected&&!(null===(r=this.io.engine)||void 0===r?void 0:r._hasPingExpired());return this.flags.volatile&&!c||(l?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(e,t){var n,r=this;const o=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===o)return void(this.acks[e]=t);const i=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),o),s=function(){r.io.clearTimeoutFn(i);for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.apply(r,n)};s.withError=!0,this.acks[e]=s}emitWithAck(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise(((t,r)=>{const o=(e,n)=>e?r(e):t(n);o.withError=!0,n.push(o),this.emit(e,...n)}))}_addToQueue(e){var t=this;let n;"function"===typeof e[e.length-1]&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(r!==t._queue[0])return;if(null!==e)r.tryCount>t._opts.retries&&(t._queue.shift(),n&&n(e));else if(t._queue.shift(),n){for(var o=arguments.length,i=new Array(o>1?o-1:0),s=1;s<o;s++)i[s-1]=arguments[s];n(null,...i)}return r.pending=!1,t._drainQueue()})),this._queue.push(r),this._drainQueue()}_drainQueue(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:bu.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case bu.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case bu.EVENT:case bu.BINARY_EVENT:this.onevent(e);break;case bu.ACK:case bu.BINARY_ACK:this.onack(e);break;case bu.DISCONNECT:this.ondisconnect();break;case bu.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(){if(!n){n=!0;for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];t.packet({type:bu.ACK,id:e,data:o})}}}onack(e){const t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:bu.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function Au(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Au.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},Au.prototype.reset=function(){this.attempts=0},Au.prototype.setMin=function(e){this.ms=e},Au.prototype.setMax=function(e){this.max=e},Au.prototype.setJitter=function(e){this.jitter=e};class _u extends Pl{constructor(t,n){var r;super(),this.nsps={},this.subs=[],t&&"object"===typeof t&&(n=t,t=void 0),(n=n||{}).path=n.path||"/socket.io",this.opts=n,Dl(this,n),this.reconnection(!1!==n.reconnection),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=n.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new Au({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==n.timeout?2e4:n.timeout),this._readyState="closed",this.uri=t;const o=n.parser||e;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=!1!==n.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new au(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=Tu(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=Tu(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Tu(e,"ping",this.onping.bind(this)),Tu(e,"data",this.ondata.bind(this)),Tu(e,"error",this.onerror.bind(this)),Tu(e,"close",this.onclose.bind(this)),Tu(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}ondecoded(e){Rl((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Eu(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const n of t){if(this.nsps[n].active)return}this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Nu={};function Pu(e,t){"object"===typeof e&&(t=e,e=void 0);const n=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),r=nu(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Nu[o]&&i in Nu[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new _u(r,t):(Nu[o]||(Nu[o]=new _u(r,t)),a=Nu[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}Object.assign(Pu,{Manager:_u,Socket:Eu,io:Pu,connect:Pu});var Ru={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ou=t.createContext&&t.createContext(Ru),Mu=["attr","size","title"];function ju(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Lu(){return Lu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lu.apply(this,arguments)}function Du(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Du(Object(n),!0).forEach((function(t){Uu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Du(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Uu(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fu(e){return e&&e.map(((e,n)=>t.createElement(e.tag,qu({key:n},e.attr),Fu(e.child))))}function Bu(e){return n=>t.createElement(Hu,Lu({attr:qu({},e.attr)},n),Fu(e.child))}function Hu(e){var n=n=>{var r,{attr:o,size:i,title:s}=e,a=ju(e,Mu),c=i||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Lu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,a,{className:r,style:qu(qu({color:e.color||n.color},n.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&t.createElement("title",null,s),e.children)};return void 0!==Ou?t.createElement(Ou.Consumer,null,(e=>n(e))):n(Ru)}function zu(e){return Bu({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function $u(e){return Bu({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M336.2 64H47.8C21.4 64 0 85.4 0 111.8v288.4C0 426.6 21.4 448 47.8 448h288.4c26.4 0 47.8-21.4 47.8-47.8V111.8c0-26.4-21.4-47.8-47.8-47.8zm189.4 37.7L416 177.3v157.4l109.6 75.5c21.2 14.6 50.4-.3 50.4-25.8V127.5c0-25.4-29.1-40.4-50.4-25.8z"},child:[]}]})(e)}const Ku=Pu("https://seismic-backend-04272025-bjbxatgnadguabg9.centralus-01.azurewebsites.net"),Wu=()=>{const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),i=(0,t.useState)(!0)[0],[s,a]=(0,t.useState)(!1),[c,l]=(0,t.useState)(""),[u,d]=(0,t.useState)("upcoming"),[h,f]=(0,t.useState)(""),[p,m]=(0,t.useState)("online"),g=(0,t.useState)(!1)[0],y=[{appointmentId:"demo-appointment-1",patientName:"John Doe",date:"2025-04-30",time:"10:00 AM",reason:"Follow-up consultation"},{appointmentId:"demo-appointment-2",patientName:"Jane Smith",date:"2025-04-30",time:"2:30 PM",reason:"Initial consultation"}],w=y.find((e=>e.appointmentId===h))||null,b=w?{firstName:w.patientName.split(" ")[0],lastName:w.patientName.split(" ")[1]}:null,[C,x]=(0,t.useState)(!1),[k,S]=(0,t.useState)(!1),T=(0,t.useState)(null)[1],I=e=>{const t=new Date(`${e.date}T${e.time}`),n=new Date,r=new Date(t.getTime()-9e5),o=new Date(t.getTime()+36e5);return n<r?(alert("Meeting is not available yet. Please try again at the scheduled time."),S(!0),!1):!(n>o)||(alert("This meeting has expired. Please schedule a new appointment."),S(!0),!1)};(0,t.useEffect)((()=>{const e=new URLSearchParams(window.location.search).get("room");if(e){o(e),d("join");const t=y.find((t=>t.appointmentId===e));t?(T(t),I(t)):x(!0)}}),[]);const E="Guest",A=new URLSearchParams(window.location.search).get("role")||"doctor",_=e=>{const t=y.find((t=>t.appointmentId===e));t?(f(e),o(e),n("Mike"),T(t),I(t)&&(N(e),(e=>{if(!e)return alert("Enter a room ID");Ku.emit("create-room",{roomId:e,appointmentDetails:{}}),e?(Ku.emit("createRoom",{roomId:e,nickname:E,role:A}),Ku.once("roomCreated",(e=>{console.log(""),console.log("Room created:",e.roomId)})),Ku.once("roomExists",(()=>{console.log("Room already exists. Please choose another Room ID.")}))):console.log("Both Room ID and Nickname are required.")})(e))):x(!0)},N=t=>{const n=`${window.location.href.split("?")[0]}?room=${encodeURIComponent(t)}&role=patient&name=${e}`;return l(n),a(!0),n};return(0,Ae.jsx)("div",{className:"bg-gray-50 flex flex-col items-center min-h-screen p-4",children:(0,Ae.jsxs)("div",{className:"rounded-lg border bg-white shadow-sm w-full",children:[(0,Ae.jsxs)("div",{className:"flex flex-col space-y-1.5 p-6",children:[(0,Ae.jsx)("h3",{className:"text-2xl font-semibold leading-none tracking-tight",children:"Seismic Video Call"}),(0,Ae.jsx)("p",{className:"text-sm text-gray-500",children:"Connect with patients through secure video consultations"})]}),(0,Ae.jsx)("div",{className:"p-6 pt-0",children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"inline-flex h-10 items-center justify-center rounded-md bg-gray-100 p-1 text-gray-500 mb-4",children:["doctor"===A&&(0,Ae.jsx)("button",{onClick:()=>d("upcoming"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("upcoming"===u?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Upcoming Calls"}),"patient"===A&&(0,Ae.jsx)("button",{onClick:()=>d("join"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("join"===u?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Join by ID"}),"doctor"===A&&(0,Ae.jsx)("button",{onClick:()=>d("history"),className:"inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium transition-all "+("history"===u?"bg-white text-gray-900 shadow-sm":"hover:text-gray-900"),children:"Call History"})]}),"upcoming"===u&&(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{className:"grid gap-2",children:[(0,Ae.jsx)("label",{htmlFor:"appointment",className:"text-sm font-medium text-gray-700",children:"Select an appointment"}),(0,Ae.jsx)("div",{className:"relative",children:(0,Ae.jsxs)("select",{value:h,onChange:e=>_(e.target.value),className:"flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm placeholder:text-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,Ae.jsx)("option",{value:"",children:"Select an appointment"}),g?(0,Ae.jsx)("option",{value:"loading",disabled:!0,children:"Loading appointments..."}):y.length>0?y.map((e=>(0,Ae.jsxs)("option",{value:e.appointmentId,children:[e.patientName," - ",e.date," ",e.time]},e.appointmentId))):(0,Ae.jsx)("option",{value:"no-appointments",disabled:!0,children:"No upcoming video calls"})]})})]}),h&&(0,Ae.jsxs)("div",{className:"mt-4",children:[(0,Ae.jsx)("label",{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Appointment Type"}),(0,Ae.jsxs)("div",{className:"flex space-x-4",children:[(0,Ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ae.jsx)("input",{type:"radio",id:"online",name:"appointmentType",value:"online",checked:"online"===p,onChange:()=>m("online"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Ae.jsx)("label",{htmlFor:"online",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"Online"})]}),(0,Ae.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ae.jsx)("input",{type:"radio",id:"in-person",name:"appointmentType",value:"in-person",checked:"in-person"===p,onChange:()=>m("in-person"),className:"h-4 w-4 border-gray-300 text-blue-600 focus:ring-blue-500"}),(0,Ae.jsx)("label",{htmlFor:"in-person",className:"text-sm font-medium text-gray-700 cursor-pointer",children:"In-Person"})]})]})]}),h&&w&&b&&(0,Ae.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md mt-4",children:[(0,Ae.jsx)("h3",{className:"font-medium mb-2",children:"Appointment Details"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"text-gray-500",children:"Patient:"}),(0,Ae.jsxs)("span",{className:"ml-2 font-medium",children:[b.firstName," ",b.lastName]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"text-gray-500",children:"Appointment ID:"}),(0,Ae.jsx)("span",{className:"ml-2 font-medium",children:w.appointmentId})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"text-gray-500",children:"Date & Time:"}),(0,Ae.jsxs)("span",{className:"ml-2 font-medium",children:[w.date," at"," ",w.time]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"text-gray-500",children:"Reason:"}),(0,Ae.jsx)("span",{className:"ml-2 font-medium",children:w.reason||"Not specified"})]})]})]}),(0,Ae.jsx)("div",{className:"w-full mb-6",children:(0,Ae.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,Ae.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,Ae.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,Ae.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:[i?"Meeting ID":"Meeting ID (from invite link)",(0,Ae.jsx)("input",{placeholder:"Meeting ID",value:r,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,Ae.jsx)("div",{className:"flex justify-end space-x-2 mt-4",children:(0,Ae.jsxs)("button",{onClick:()=>{r?(t=>{v(`/meeting-room?roomId=${encodeURIComponent(t)}&role=doctor&name=${e}`)})(r):alert("Please select an appointment first")},className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2",children:[(0,Ae.jsx)($u,{className:"mr-2"}),"Start Video Call"]})}),s&&(0,Ae.jsxs)("div",{className:"mt-6 p-4 bg-gray-100 rounded-lg",children:[(0,Ae.jsx)("h3",{className:"font-medium text-gray-800 mb-2",children:"Invite others to join"}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("input",{type:"text",value:c,readOnly:!0,className:"border border-gray-300 rounded-l-lg px-4 py-2 flex-grow"}),(0,Ae.jsxs)("button",{onClick:()=>{navigator.clipboard.writeText(c),alert("Link copied to clipboard!")},className:"bg-blue-500 text-white px-4 py-2 rounded-r-lg hover:bg-blue-600",children:[(0,Ae.jsx)(zu,{className:"inline-block mr-1"})," Copy"]})]}),(0,Ae.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"Share this link with participants to join your meeting"})]})]}),"join"===u&&(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsx)("div",{className:"w-full mb-6",children:(0,Ae.jsxs)("div",{className:"flex flex-row justify-between w-full gap-4",children:[(0,Ae.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Your Name",(0,Ae.jsx)("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>n(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]}),(0,Ae.jsxs)("label",{className:"block text-gray-700 mb-2 flex-1",children:["Meeting ID (from invite link)",(0,Ae.jsx)("input",{placeholder:"Meeting ID",value:r,onChange:e=>o(e.target.value),className:"border border-gray-300 rounded-lg px-4 w-full py-2 mb-4"})]})]})}),(0,Ae.jsx)("div",{className:"flex justify-end",children:(0,Ae.jsx)("button",{onClick:()=>(t=>{v(`/meeting-room?roomId=${encodeURIComponent(t)}&role=patient&name=${e}`)})(r),disabled:!r||!e,className:"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors bg-blue-600 hover:bg-blue-700 text-white h-10 px-4 py-2 disabled:opacity-50 disabled:cursor-not-allowed",children:"Join Call"})})]}),"history"===u&&(0,Ae.jsx)("div",{className:"space-y-4",children:(0,Ae.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Ae.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Call History"}),(0,Ae.jsx)("p",{children:"Your recent video call history will appear here."})]})})]})}),C&&(0,Ae.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:(0,Ae.jsx)("p",{children:"Invalid meeting ID. Please check your meeting link."})}),k&&(0,Ae.jsx)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 text-yellow-700 p-4 mb-4",children:(0,Ae.jsx)("p",{children:"This meeting is not available at this time."})})]})})},Qu={LIBRARY_NAME:"MSAL.JS",SKU:"msal.js.common",CACHE_PREFIX:"msal",DEFAULT_AUTHORITY:"https://login.microsoftonline.com/common/",DEFAULT_AUTHORITY_HOST:"login.microsoftonline.com",DEFAULT_COMMON_TENANT:"common",ADFS:"adfs",DSTS:"dstsv2",AAD_INSTANCE_DISCOVERY_ENDPT:"https://login.microsoftonline.com/common/discovery/instance?api-version=1.1&authorization_endpoint=",CIAM_AUTH_URL:".ciamlogin.com",AAD_TENANT_DOMAIN_SUFFIX:".onmicrosoft.com",RESOURCE_DELIM:"|",NO_ACCOUNT:"NO_ACCOUNT",CLAIMS:"claims",CONSUMER_UTID:"9188040d-6c67-4c5b-b112-36a304b66dad",OPENID_SCOPE:"openid",PROFILE_SCOPE:"profile",OFFLINE_ACCESS_SCOPE:"offline_access",EMAIL_SCOPE:"email",CODE_GRANT_TYPE:"authorization_code",RT_GRANT_TYPE:"refresh_token",S256_CODE_CHALLENGE_METHOD:"S256",URL_FORM_CONTENT_TYPE:"application/x-www-form-urlencoded;charset=utf-8",AUTHORIZATION_PENDING:"authorization_pending",NOT_DEFINED:"not_defined",EMPTY_STRING:"",NOT_APPLICABLE:"N/A",NOT_AVAILABLE:"Not Available",FORWARD_SLASH:"/",IMDS_ENDPOINT:"http://169.254.169.254/metadata/instance/compute/location",IMDS_VERSION:"2020-06-01",IMDS_TIMEOUT:2e3,AZURE_REGION_AUTO_DISCOVER_FLAG:"TryAutoDetect",REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX:"login.microsoft.com",KNOWN_PUBLIC_CLOUDS:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"],SHR_NONCE_VALIDITY:240,INVALID_INSTANCE:"invalid_instance"},Vu=400,Gu=499,Yu=500,Ju=599,Xu=[Qu.OPENID_SCOPE,Qu.PROFILE_SCOPE,Qu.OFFLINE_ACCESS_SCOPE],Zu=[...Xu,Qu.EMAIL_SCOPE],ed="Content-Type",td="Content-Length",nd="Retry-After",rd="X-AnchorMailbox",od="x-ms-request-id",id="x-ms-httpver",sd="active-account-filters",ad="common",cd="organizations",ld="consumers",ud="access_token",dd="xms_cc",hd={LOGIN:"login",SELECT_ACCOUNT:"select_account",CONSENT:"consent",NONE:"none",CREATE:"create",NO_SESSION:"no_session"},fd={PLAIN:"plain",S256:"S256"},pd="code",md="id_token token refresh_token",gd="query",yd="fragment",vd="query",wd="authorization_code",bd="refresh_token",Cd="MSSTS",xd="ADFS",kd="Generic",Sd="-",Td=".",Id={ID_TOKEN:"IdToken",ACCESS_TOKEN:"AccessToken",ACCESS_TOKEN_WITH_AUTH_SCHEME:"AccessToken_With_AuthScheme",REFRESH_TOKEN:"RefreshToken"},Ed="appmetadata",Ad="1",_d="authority-metadata",Nd=86400,Pd="config",Rd="cache",Od="network",Md="hardcoded_values",jd={SCHEMA_VERSION:5,MAX_CUR_HEADER_BYTES:80,MAX_LAST_HEADER_BYTES:330,MAX_CACHED_ERRORS:50,CACHE_KEY:"server-telemetry",CATEGORY_SEPARATOR:"|",VALUE_SEPARATOR:",",OVERFLOW_TRUE:"1",OVERFLOW_FALSE:"0",UNKNOWN_ERROR:"unknown_error"},Ld={BEARER:"Bearer",POP:"pop",SSH:"ssh-cert"},Dd=60,qd=3600,Ud="throttling",Fd="retry-after, h429",Bd="invalid_grant",Hd="client_mismatch",zd=200,$d=400,Kd="1",Wd="3",Qd="4",Vd="2",Gd="4",Yd="5",Jd="0",Xd="1",Zd="2",eh="3",th="4",nh="pop",rh="unexpected_error",oh="post_request_failed",ih={[rh]:"Unexpected error in authentication.",[oh]:"Post request failed from the network, could be a 4xx/5xx or a network unavailability. Please check the exact error code for details."};class sh extends Error{constructor(e,t,n){super(t?`${e}: ${t}`:e),Object.setPrototypeOf(this,sh.prototype),this.errorCode=e||Qu.EMPTY_STRING,this.errorMessage=t||Qu.EMPTY_STRING,this.subError=n||Qu.EMPTY_STRING,this.name="AuthError"}setCorrelationId(e){this.correlationId=e}}function ah(e,t){return new sh(e,t?`${ih[e]} ${t}`:ih[e])}const ch="storage_not_supported",lh="stubbed_public_client_application_called",uh="in_mem_redirect_unavailable",dh={[ch]:"Given storage configuration option was not supported.",[lh]:"Stub instance of Public Client Application was called. If using msal-react, please ensure context is not used without a provider. For more visit: aka.ms/msaljs/browser-errors",[uh]:"Redirect cannot be supported. In-memory storage was selected and storeAuthStateInCookie=false, which would cause the library to be unable to handle the incoming hash. If you would like to use the redirect API, please use session/localStorage or set storeAuthStateInCookie=true."};class hh extends sh{constructor(e,t){super(e,t),this.name="BrowserConfigurationAuthError",Object.setPrototypeOf(this,hh.prototype)}}function fh(e){return new hh(e,dh[e])}const ph={initialize:()=>Promise.reject(fh(lh)),acquireTokenPopup:()=>Promise.reject(fh(lh)),acquireTokenRedirect:()=>Promise.reject(fh(lh)),acquireTokenSilent:()=>Promise.reject(fh(lh)),acquireTokenByCode:()=>Promise.reject(fh(lh)),getAllAccounts:()=>[],getAccount:()=>null,getAccountByHomeId:()=>null,getAccountByUsername:()=>null,getAccountByLocalId:()=>null,handleRedirectPromise:()=>Promise.reject(fh(lh)),loginPopup:()=>Promise.reject(fh(lh)),loginRedirect:()=>Promise.reject(fh(lh)),logout:()=>Promise.reject(fh(lh)),logoutRedirect:()=>Promise.reject(fh(lh)),logoutPopup:()=>Promise.reject(fh(lh)),ssoSilent:()=>Promise.reject(fh(lh)),addEventCallback:()=>null,removeEventCallback:()=>{},addPerformanceCallback:()=>"",removePerformanceCallback:()=>!1,enableAccountStorageEvents:()=>{},disableAccountStorageEvents:()=>{},getTokenCache:()=>{throw fh(lh)},getLogger:()=>{throw fh(lh)},setLogger:()=>{},setActiveAccount:()=>{},getActiveAccount:()=>null,initializeWrapperLibrary:()=>{},setNavigationClient:()=>{},getConfiguration:()=>{throw fh(lh)},hydrateCache:()=>Promise.reject(fh(lh)),clearCache:()=>Promise.reject(fh(lh))},mh="invalid_grant",gh=483,yh=600,vh="msal",wh=30,bh="msal.js.browser",Ch="53ee284d-920a-4b59-9d30-a60315b26836",xh="ppnbnpeolgkicgegkbkbjmhlideopiji",kh="MATS",Sh="Handshake",Th="HandshakeResponse",Ih="GetToken",Eh="Response",Ah="localStorage",_h="sessionStorage",Nh="memoryStorage",Ph="GET",Rh="POST",Oh="signin",Mh="signout",jh="request.origin",Lh="urlHash",Dh="request.params",qh="code.verifier",Uh="interaction.status",Fh="request.native",Bh="msal.account.keys",Hh="msal.token.keys",zh="wrapper.sku",$h="wrapper.version",Kh=861,Wh=862,Qh=863,Vh=865,Gh=866,Yh=61,Jh=961,Xh=962;var Zh;!function(e){e.Redirect="redirect",e.Popup="popup",e.Silent="silent",e.None="none"}(Zh||(Zh={}));const ef="startup",tf="login",nf="logout",rf="acquireToken",of="ssoSilent",sf="handleRedirect",af="none",cf={scopes:Xu},lf="@azure/msal-react",uf="msal.db",df=`${uf}.keys`,hf=0,ff=1,pf=2,mf=3,gf=4,yf=5,vf=[hf,yf,gf];var wf;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Verbose=3]="Verbose",e[e.Trace=4]="Trace"}(wf||(wf={}));class bf{constructor(e,t,n){this.level=wf.Info;const r=e||bf.createDefaultLoggerOptions();this.localCallback=r.loggerCallback||(()=>{}),this.piiLoggingEnabled=r.piiLoggingEnabled||!1,this.level="number"===typeof r.logLevel?r.logLevel:wf.Info,this.correlationId=r.correlationId||Qu.EMPTY_STRING,this.packageName=t||Qu.EMPTY_STRING,this.packageVersion=n||Qu.EMPTY_STRING}static createDefaultLoggerOptions(){return{loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:wf.Info}}clone(e,t,n){return new bf({loggerCallback:this.localCallback,piiLoggingEnabled:this.piiLoggingEnabled,logLevel:this.level,correlationId:n||this.correlationId},e,t)}logMessage(e,t){if(t.logLevel>this.level||!this.piiLoggingEnabled&&t.containsPii)return;const n=`${`[${(new Date).toUTCString()}] : [${t.correlationId||this.correlationId||""}]`} : ${this.packageName}@${this.packageVersion} : ${wf[t.logLevel]} - ${e}`;this.executeCallback(t.logLevel,n,t.containsPii||!1)}executeCallback(e,t,n){this.localCallback&&this.localCallback(e,t,n)}error(e,t){this.logMessage(e,{logLevel:wf.Error,containsPii:!1,correlationId:t||Qu.EMPTY_STRING})}errorPii(e,t){this.logMessage(e,{logLevel:wf.Error,containsPii:!0,correlationId:t||Qu.EMPTY_STRING})}warning(e,t){this.logMessage(e,{logLevel:wf.Warning,containsPii:!1,correlationId:t||Qu.EMPTY_STRING})}warningPii(e,t){this.logMessage(e,{logLevel:wf.Warning,containsPii:!0,correlationId:t||Qu.EMPTY_STRING})}info(e,t){this.logMessage(e,{logLevel:wf.Info,containsPii:!1,correlationId:t||Qu.EMPTY_STRING})}infoPii(e,t){this.logMessage(e,{logLevel:wf.Info,containsPii:!0,correlationId:t||Qu.EMPTY_STRING})}verbose(e,t){this.logMessage(e,{logLevel:wf.Verbose,containsPii:!1,correlationId:t||Qu.EMPTY_STRING})}verbosePii(e,t){this.logMessage(e,{logLevel:wf.Verbose,containsPii:!0,correlationId:t||Qu.EMPTY_STRING})}trace(e,t){this.logMessage(e,{logLevel:wf.Trace,containsPii:!1,correlationId:t||Qu.EMPTY_STRING})}tracePii(e,t){this.logMessage(e,{logLevel:wf.Trace,containsPii:!0,correlationId:t||Qu.EMPTY_STRING})}isPiiLoggingEnabled(){return this.piiLoggingEnabled||!1}}const Cf={instance:ph,inProgress:af,accounts:[],logger:new bf({})},xf=t.createContext(Cf),kf=(xf.Consumer,"msal:initializeStart"),Sf="msal:initializeEnd",Tf="msal:accountAdded",If="msal:accountRemoved",Ef="msal:activeAccountChanged",Af="msal:loginStart",_f="msal:loginSuccess",Nf="msal:loginFailure",Pf="msal:acquireTokenStart",Rf="msal:acquireTokenSuccess",Of="msal:acquireTokenFailure",Mf="msal:acquireTokenFromNetworkStart",jf="msal:ssoSilentStart",Lf="msal:ssoSilentSuccess",Df="msal:ssoSilentFailure",qf="msal:acquireTokenByCodeStart",Uf="msal:acquireTokenByCodeSuccess",Ff="msal:acquireTokenByCodeFailure",Bf="msal:handleRedirectStart",Hf="msal:handleRedirectEnd",zf="msal:popupOpened",$f="msal:logoutStart",Kf="msal:logoutSuccess",Wf="msal:logoutFailure",Qf="msal:logoutEnd",Vf="msal:restoreFromBFCache";class Gf{static getInteractionStatusFromEvent(e,t){switch(e.eventType){case Af:return tf;case jf:return of;case Pf:if(e.interactionType===Zh.Redirect||e.interactionType===Zh.Popup)return rf;break;case Bf:return sf;case $f:return nf;case Lf:case Df:if(t&&t!==of)break;return af;case Qf:if(t&&t!==nf)break;return af;case Hf:if(t&&t!==sf)break;return af;case _f:case Nf:case Rf:case Of:case Vf:if(e.interactionType===Zh.Redirect||e.interactionType===Zh.Popup){if(t&&t!==tf&&t!==rf)break;return af}}return null}}function Yf(e,t){return"function"===typeof e?e(t):e}function Jf(e,t){if(e.length!==t.length)return!1;const n=[...t];return e.every((e=>{const t=n.shift();return!(!e||!t)&&(e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username)}))}const Xf="3.0.12",Zf="UNBLOCK_INPROGRESS",ep="EVENT",tp=(e,t)=>{const{type:n,payload:r}=t;let o=e.inProgress;switch(n){case Zf:e.inProgress===ef&&(o=af,r.logger.info("MsalProvider - handleRedirectPromise resolved, setting inProgress to 'none'"));break;case ep:const t=r.message,i=Gf.getInteractionStatusFromEvent(t,e.inProgress);i&&(r.logger.info(`MsalProvider - ${t.eventType} results in setting inProgress from ${e.inProgress} to ${i}`),o=i);break;default:throw new Error(`Unknown action type: ${n}`)}if(o===ef)return e;const i=r.instance.getAllAccounts();return o===e.inProgress||Jf(i,e.accounts)?o!==e.inProgress?{...e,inProgress:o}:Jf(i,e.accounts)?e:{...e,accounts:i}:{...e,inProgress:o,accounts:i}};function np(e){let{instance:n,children:r}=e;(0,t.useEffect)((()=>{n.initializeWrapperLibrary(lf,Xf)}),[n]);const o=(0,t.useMemo)((()=>n.getLogger().clone("@azure/msal-react",Xf)),[n]),[i,s]=(0,t.useReducer)(tp,void 0,(()=>({inProgress:ef,accounts:[]})));(0,t.useEffect)((()=>{const e=n.addEventCallback((e=>{s({payload:{instance:n,logger:o,message:e},type:ep})}));return o.verbose(`MsalProvider - Registered event callback with id: ${e}`),n.initialize().then((()=>{n.handleRedirectPromise().catch((()=>{})).finally((()=>{s({payload:{instance:n,logger:o},type:Zf})}))})).catch((()=>{})),()=>{e&&(o.verbose(`MsalProvider - Removing event callback ${e}`),n.removeEventCallback(e))}}),[n,o]);const a={instance:n,inProgress:i.inProgress,accounts:i.accounts,logger:o};return t.createElement(xf.Provider,{value:a},r)}const rp=()=>(0,t.useContext)(xf);function op(e){const{accounts:n,inProgress:r}=rp(),o=(0,t.useMemo)((()=>r!==ef&&function(e,t){return t&&(t.username||t.homeAccountId||t.localAccountId)?!!function(e,t){return e.length>0&&(t.homeAccountId||t.localAccountId||t.username)&&e.filter((e=>(!t.username||t.username.toLowerCase()===e.username.toLowerCase())&&(!t.homeAccountId||t.homeAccountId.toLowerCase()===e.homeAccountId.toLowerCase())&&(!t.localAccountId||t.localAccountId.toLowerCase()===e.localAccountId.toLowerCase())))[0]||null}(e,t):e.length>0}(n,e)),[n,r,e]);return o}function ip(e){let{username:n,homeAccountId:r,localAccountId:o,children:i}=e;const s=rp();return op((0,t.useMemo)((()=>({username:n,homeAccountId:r,localAccountId:o})),[n,r,o]))&&s.inProgress!==ef?t.createElement(t.Fragment,null,Yf(i,s)):null}function sp(e){let{username:n,homeAccountId:r,localAccountId:o,children:i}=e;const s=rp();return op((0,t.useMemo)((()=>({username:n,homeAccountId:r,localAccountId:o})),[n,r,o]))||s.inProgress===ef||s.inProgress===sf?null:t.createElement(t.Fragment,null,Yf(i,s))}const ap={auth:{clientId:"529bcde4-d3c1-4896-9277-b7d72ec4f57b",authority:"https://login.microsoftonline.com/b3e3a3db-e3db-4f76-9a7c-5bca46062c8c",redirectUri:"https://victorious-mushroom-08b7e7d0f.4.azurestaticapps.net/"},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:(e,t,n)=>{n||e!==wf.Error||console.error(t)}}}},cp={scopes:["openid","profile","User.Read","Directory.Read.All","Group.Read.All","User.Read.All"]},lp="https://graph.microsoft.com/v1.0/me";const up=()=>{const{instance:e,accounts:n}=rp(),[r,o]=(0,t.useState)(!1),i=(0,t.useState)(null)[1];function s(){e.acquireTokenSilent({...cp,account:n[0]}).then((e=>{(async function(e){const t=new Headers,n=`Bearer ${e}`;return t.append("Authorization",n),fetch(lp,{method:"GET",headers:t}).then((e=>e.json())).catch((e=>console.log(e)))})(e.accessToken).then((e=>{i(e)}))}))}const a=t=>{"popup"===t?e.loginPopup(cp).then((e=>{s()})).catch((e=>{console.log(e)})):"redirect"===t&&e.loginRedirect(cp).catch((e=>{console.log(e)}))};return(0,Ae.jsxs)("div",{className:"relative ml-auto",children:[(0,Ae.jsx)("button",{onClick:()=>o(!r),className:"bg-gray-600 text-white px-4 py-2 rounded-md hover:bg-gray-700",children:"Sign In"}),r&&(0,Ae.jsxs)("div",{className:"absolute left-0 mt-2 w-56 bg-white border border-gray-300 rounded-md shadow-lg z-50",children:[(0,Ae.jsx)("button",{onClick:()=>{a("popup"),o(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Sign in using Popup"}),(0,Ae.jsx)("button",{onClick:()=>{a("redirect"),o(!1)},className:"block w-full text-left px-4 py-2 hover:bg-gray-100",children:"Sign in using Redirect"})]})]})},dp=t.lazy((()=>Promise.all([n.e(716),n.e(99)]).then(n.bind(n,9099))));function hp(){const e=new URLSearchParams(window.location.search).get("role");return(0,Ae.jsxs)("div",{className:"h-screen flex overflow-hidden",children:["patient"!==e&&(0,Ae.jsx)(Pr,{}),(0,Ae.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,Ae.jsx)(Qr,{}),(0,Ae.jsx)("main",{className:"flex-1 overflow-y-auto bg-neutral-50 p-6",children:(0,Ae.jsxs)(L,{children:[(0,Ae.jsx)(O,{path:"/",component:Ci}),(0,Ae.jsx)(O,{path:"/appointments",component:$c}),(0,Ae.jsx)(O,{path:"/video-call",component:Wu}),(0,Ae.jsx)(O,{path:"/patients",component:sl}),(0,Ae.jsx)(O,{path:"/reports",component:al}),(0,Ae.jsx)(O,{path:"/settings",component:cl}),(0,Ae.jsx)(O,{path:"/meeting-room",component:dp}),(0,Ae.jsx)(O,{component:ll})]})})]})]})}const fp=function(){const e=op(),{instance:n,accounts:r}=rp(),[o,i]=(0,t.useState)(!1);return(0,t.useEffect)((()=>{n.acquireTokenSilent({...cp,account:r[0]}).then((e=>{console.log(e.idTokenClaims),e.idTokenClaims.roles&&"SeismicDoctors"in e.idTokenClaims.roles&&i(!0)}))}),[e]),(0,Ae.jsxs)("div",{className:"App",children:[o?(0,Ae.jsx)(ip,{children:"Sign is successful but you dont previlaged role to view this app. Try contacting your admin"}):(0,Ae.jsx)(ip,{children:(0,Ae.jsxs)(Pe,{client:Ee,children:[(0,Ae.jsx)(hp,{}),(0,Ae.jsx)(xr,{})]})}),(0,Ae.jsxs)(sp,{children:[(0,Ae.jsx)("h5",{className:"card-title",children:"Please sign-in to see your profile information."}),(0,Ae.jsx)(up,{})]})]})};var pp=n(2285),mp=n.n(pp),gp=n(6382);const yp="AAD",vp="OIDC",wp="EAR",bp="none",Cp="client_info_decoding_error",xp="client_info_empty_error",kp="token_parsing_error",Sp="null_or_empty_token",Tp="endpoints_resolution_error",Ip="network_error",Ep="openid_config_error",Ap="hash_not_deserialized",_p="invalid_state",Np="state_mismatch",Pp="state_not_found",Rp="nonce_mismatch",Op="auth_time_not_found",Mp="max_age_transpired",jp="multiple_matching_tokens",Lp="multiple_matching_accounts",Dp="multiple_matching_appMetadata",qp="request_cannot_be_made",Up="cannot_remove_empty_scope",Fp="cannot_append_scopeset",Bp="empty_input_scopeset",Hp="device_code_polling_cancelled",zp="device_code_expired",$p="device_code_unknown_error",Kp="no_account_in_silent_request",Wp="invalid_cache_record",Qp="invalid_cache_environment",Vp="no_account_found",Gp="no_crypto_object",Yp="unexpected_credential_type",Jp="invalid_assertion",Xp="invalid_client_credential",Zp="token_refresh_required",em="user_timeout_reached",tm="token_claims_cnf_required_for_signedjwt",nm="authorization_code_missing_from_server_response",rm="binding_key_not_removed",om="end_session_endpoint_not_supported",im="key_id_missing",sm="no_network_connectivity",am="user_canceled",cm="missing_tenant_id_error",lm="method_not_implemented",um="nested_app_auth_bridge_disabled",dm={[Cp]:"The client info could not be parsed/decoded correctly",[xp]:"The client info was empty",[kp]:"Token cannot be parsed",[Sp]:"The token is null or empty",[Tp]:"Endpoints cannot be resolved",[Ip]:"Network request failed",[Ep]:"Could not retrieve endpoints. Check your authority and verify the .well-known/openid-configuration endpoint returns the required endpoints.",[Ap]:"The hash parameters could not be deserialized",[_p]:"State was not the expected format",[Np]:"State mismatch error",[Pp]:"State not found",[Rp]:"Nonce mismatch error",[Op]:"Max Age was requested and the ID token is missing the auth_time variable. auth_time is an optional claim and is not enabled by default - it must be enabled. See https://aka.ms/msaljs/optional-claims for more information.",[Mp]:"Max Age is set to 0, or too much time has elapsed since the last end-user authentication.",[jp]:"The cache contains multiple tokens satisfying the requirements. Call AcquireToken again providing more requirements such as authority or account.",[Lp]:"The cache contains multiple accounts satisfying the given parameters. Please pass more info to obtain the correct account",[Dp]:"The cache contains multiple appMetadata satisfying the given parameters. Please pass more info to obtain the correct appMetadata",[qp]:"Token request cannot be made without authorization code or refresh token.",[Up]:"Cannot remove null or empty scope from ScopeSet",[Fp]:"Cannot append ScopeSet",[Bp]:"Empty input ScopeSet cannot be processed",[Hp]:"Caller has cancelled token endpoint polling during device code flow by setting DeviceCodeRequest.cancel = true.",[zp]:"Device code is expired.",[$p]:"Device code stopped polling for unknown reasons.",[Kp]:"Please pass an account object, silent flow is not supported without account information",[Wp]:"Cache record object was null or undefined.",[Qp]:"Invalid environment when attempting to create cache entry",[Vp]:"No account found in cache for given key.",[Gp]:"No crypto object detected.",[Yp]:"Unexpected credential type.",[Jp]:"Client assertion must meet requirements described in https://tools.ietf.org/html/rfc7515",[Xp]:"Client credential (secret, certificate, or assertion) must not be empty when creating a confidential client. An application should at most have one credential",[Zp]:"Cannot return token from cache because it must be refreshed. This may be due to one of the following reasons: forceRefresh parameter is set to true, claims have been requested, there is no cached access token or it is expired.",[em]:"User defined timeout for device code polling reached",[tm]:"Cannot generate a POP jwt if the token_claims are not populated",[nm]:"Server response does not contain an authorization code to proceed",[rm]:"Could not remove the credential's binding key from storage.",[om]:"The provided authority does not support logout",[im]:"A keyId value is missing from the requested bound token's cache record and is required to match the token to it's stored binding key.",[sm]:"No network connectivity. Check your internet connection.",[am]:"User cancelled the flow.",[cm]:"A tenant id - not common, organizations, or consumers - must be specified when using the client_credentials flow.",[lm]:"This method has not been implemented",[um]:"The nested app auth bridge is disabled"};class hm extends sh{constructor(e,t){super(e,t?`${dm[e]}: ${t}`:dm[e]),this.name="ClientAuthError",Object.setPrototypeOf(this,hm.prototype)}}function fm(e,t){return new hm(e,t)}const pm={createNewGuid:()=>{throw fm(lm)},base64Decode:()=>{throw fm(lm)},base64Encode:()=>{throw fm(lm)},base64UrlEncode:()=>{throw fm(lm)},encodeKid:()=>{throw fm(lm)},async getPublicKeyThumbprint(){throw fm(lm)},async removeTokenBindingKey(){throw fm(lm)},async clearKeystore(){throw fm(lm)},async signJwt(){throw fm(lm)},async hashString(){throw fm(lm)}},mm="@azure/msal-common",gm="15.6.0";function ym(e,t){const n=function(e){if(!e)throw fm(Sp);const t=/^([^\.\s]*)\.([^\.\s]+)\.([^\.\s]*)$/.exec(e);if(!t||t.length<4)throw fm(kp);return t[2]}(e);try{const e=t(n);return JSON.parse(e)}catch(ek){throw fm(kp)}}function vm(e,t){if(0===t||Date.now()-3e5>e+t)throw fm(Mp)}function wm(){return Math.round((new Date).getTime()/1e3)}function bm(e){return e.getTime()/1e3}function Cm(e){return e?new Date(1e3*Number(e)):new Date}function xm(e,t){const n=Number(e)||0;return wm()+t>n}function km(e){return[Am(e),_m(e),Nm(e),Pm(e),Rm(e)].join(Sd).toLowerCase()}function Sm(e,t,n,r,o){return{credentialType:Id.ID_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n,realm:o}}function Tm(e,t,n,r,o,i,s,a,c,l,u,d,h,f,p){const m={homeAccountId:e,credentialType:Id.ACCESS_TOKEN,secret:n,cachedAt:wm().toString(),expiresOn:s.toString(),extendedExpiresOn:a.toString(),environment:t,clientId:r,realm:o,target:i,tokenType:u||Ld.BEARER};if(d&&(m.userAssertionHash=d),l&&(m.refreshOn=l.toString()),f&&(m.requestedClaims=f,m.requestedClaimsHash=p),m.tokenType?.toLowerCase()!==Ld.BEARER.toLowerCase())switch(m.credentialType=Id.ACCESS_TOKEN_WITH_AUTH_SCHEME,m.tokenType){case Ld.POP:const e=ym(n,c);if(!e?.cnf?.kid)throw fm(tm);m.keyId=e.cnf.kid;break;case Ld.SSH:m.keyId=h}return m}function Im(e,t,n,r,o,i,s){const a={credentialType:Id.REFRESH_TOKEN,homeAccountId:e,environment:t,clientId:r,secret:n};return i&&(a.userAssertionHash=i),o&&(a.familyId=o),s&&(a.expiresOn=s.toString()),a}function Em(e){return e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("credentialType")&&e.hasOwnProperty("clientId")&&e.hasOwnProperty("secret")}function Am(e){return[e.homeAccountId,e.environment].join(Sd).toLowerCase()}function _m(e){const t=e.credentialType===Id.REFRESH_TOKEN&&e.familyId||e.clientId;return[e.credentialType,t,e.realm||""].join(Sd).toLowerCase()}function Nm(e){return(e.target||"").toLowerCase()}function Pm(e){return(e.requestedClaimsHash||"").toLowerCase()}function Rm(e){return e.tokenType&&e.tokenType.toLowerCase()!==Ld.BEARER.toLowerCase()?e.tokenType.toLowerCase():""}function Om(){return wm()+Nd}function Mm(e,t,n){e.authorization_endpoint=t.authorization_endpoint,e.token_endpoint=t.token_endpoint,e.end_session_endpoint=t.end_session_endpoint,e.issuer=t.issuer,e.endpointsFromNetwork=n,e.jwks_uri=t.jwks_uri}function jm(e,t,n){e.aliases=t.aliases,e.preferred_cache=t.preferred_cache,e.preferred_network=t.preferred_network,e.aliasesFromNetwork=n}function Lm(e){return e.expiresAt<=wm()}const Dm="redirect_uri_empty",qm="claims_request_parsing_error",Um="authority_uri_insecure",Fm="url_parse_error",Bm="empty_url_error",Hm="empty_input_scopes_error",zm="invalid_prompt_value",$m="invalid_claims",Km="token_request_empty",Wm="logout_request_empty",Qm="invalid_code_challenge_method",Vm="pkce_params_missing",Gm="invalid_cloud_discovery_metadata",Ym="invalid_authority_metadata",Jm="untrusted_authority",Xm="missing_ssh_jwk",Zm="missing_ssh_kid",eg="missing_nonce_authentication_header",tg="invalid_authentication_header",ng="cannot_set_OIDCOptions",rg="cannot_allow_platform_broker",og="authority_mismatch",ig={[Dm]:"A redirect URI is required for all calls, and none has been set.",[qm]:"Could not parse the given claims request object.",[Um]:"Authority URIs must use https.  Please see here for valid authority configuration options: https://docs.microsoft.com/en-us/azure/active-directory/develop/msal-js-initializing-client-applications#configuration-options",[Fm]:"URL could not be parsed into appropriate segments.",[Bm]:"URL was empty or null.",[Hm]:"Scopes cannot be passed as null, undefined or empty array because they are required to obtain an access token.",[zm]:"Please see here for valid configuration options: https://azuread.github.io/microsoft-authentication-library-for-js/ref/modules/_azure_msal_common.html#commonauthorizationurlrequest",[$m]:"Given claims parameter must be a stringified JSON object.",[Km]:"Token request was empty and not found in cache.",[Wm]:"The logout request was null or undefined.",[Qm]:'code_challenge_method passed is invalid. Valid values are "plain" and "S256".',[Vm]:"Both params: code_challenge and code_challenge_method are to be passed if to be sent in the request",[Gm]:"Invalid cloudDiscoveryMetadata provided. Must be a stringified JSON object containing tenant_discovery_endpoint and metadata fields",[Ym]:"Invalid authorityMetadata provided. Must by a stringified JSON object containing authorization_endpoint, token_endpoint, issuer fields.",[Jm]:"The provided authority is not a trusted authority. Please include this authority in the knownAuthorities config parameter.",[Xm]:"Missing sshJwk in SSH certificate request. A stringified JSON Web Key is required when using the SSH authentication scheme.",[Zm]:"Missing sshKid in SSH certificate request. A string that uniquely identifies the public SSH key is required when using the SSH authentication scheme.",[eg]:"Unable to find an authentication header containing server nonce. Either the Authentication-Info or WWW-Authenticate headers must be present in order to obtain a server nonce.",[tg]:"Invalid authentication header provided",[ng]:"Cannot set OIDCOptions parameter. Please change the protocol mode to OIDC or use a non-Microsoft authority.",[rg]:"Cannot set allowPlatformBroker parameter to true when not in AAD protocol mode.",[og]:"Authority mismatch error. Authority provided in login request or PublicClientApplication config does not match the environment of the provided account. Please use a matching account or make an interactive request to login to this authority."};class sg extends sh{constructor(e){super(e,ig[e]),this.name="ClientConfigurationError",Object.setPrototypeOf(this,sg.prototype)}}function ag(e){return new sg(e)}class cg{static isEmptyObj(e){if(e)try{const t=JSON.parse(e);return 0===Object.keys(t).length}catch(t){}return!0}static startsWith(e,t){return 0===e.indexOf(t)}static endsWith(e,t){return e.length>=t.length&&e.lastIndexOf(t)===e.length-t.length}static queryStringToObject(e){const t={},n=e.split("&"),r=e=>decodeURIComponent(e.replace(/\+/g," "));return n.forEach((e=>{if(e.trim()){const[n,o]=e.split(/=(.+)/g,2);n&&o&&(t[r(n)]=r(o))}})),t}static trimArrayEntries(e){return e.map((e=>e.trim()))}static removeEmptyStringsFromArray(e){return e.filter((e=>!!e))}static jsonParseHelper(e){try{return JSON.parse(e)}catch(t){return null}}static matchPattern(e,t){return new RegExp(e.replace(/\\/g,"\\\\").replace(/\*/g,"[^ ]*").replace(/\?/g,"\\?")).test(t)}}class lg{constructor(e){const t=e?cg.trimArrayEntries([...e]):[],n=t?cg.removeEmptyStringsFromArray(t):[];if(!n||!n.length)throw ag(Hm);this.scopes=new Set,n.forEach((e=>this.scopes.add(e)))}static fromString(e){const t=(e||Qu.EMPTY_STRING).split(" ");return new lg(t)}static createSearchScopes(e){const t=new lg(e);return t.containsOnlyOIDCScopes()?t.removeScope(Qu.OFFLINE_ACCESS_SCOPE):t.removeOIDCScopes(),t}containsScope(e){const t=this.printScopesLowerCase().split(" "),n=new lg(t);return!!e&&n.scopes.has(e.toLowerCase())}containsScopeSet(e){return!(!e||e.scopes.size<=0)&&(this.scopes.size>=e.scopes.size&&e.asArray().every((e=>this.containsScope(e))))}containsOnlyOIDCScopes(){let e=0;return Zu.forEach((t=>{this.containsScope(t)&&(e+=1)})),this.scopes.size===e}appendScope(e){e&&this.scopes.add(e.trim())}appendScopes(e){try{e.forEach((e=>this.appendScope(e)))}catch(t){throw fm(Fp)}}removeScope(e){if(!e)throw fm(Up);this.scopes.delete(e.trim())}removeOIDCScopes(){Zu.forEach((e=>{this.scopes.delete(e)}))}unionScopeSets(e){if(!e)throw fm(Bp);const t=new Set;return e.scopes.forEach((e=>t.add(e.toLowerCase()))),this.scopes.forEach((e=>t.add(e.toLowerCase()))),t}intersectingScopeSets(e){if(!e)throw fm(Bp);e.containsOnlyOIDCScopes()||e.removeOIDCScopes();const t=this.unionScopeSets(e),n=e.getScopeCount(),r=this.getScopeCount();return t.size<r+n}getScopeCount(){return this.scopes.size}asArray(){const e=[];return this.scopes.forEach((t=>e.push(t))),e}printScopes(){if(this.scopes){return this.asArray().join(" ")}return Qu.EMPTY_STRING}printScopesLowerCase(){return this.printScopes().toLowerCase()}}function ug(e,t){if(!e)throw fm(xp);try{const n=t(e);return JSON.parse(n)}catch(n){throw fm(Cp)}}function dg(e){if(!e)throw fm(Cp);const t=e.split(Td,2);return{uid:t[0],utid:t.length<2?Qu.EMPTY_STRING:t[1]}}function hg(e,t){return!!e&&!!t&&e===t.split(".")[1]}function fg(e,t,n,r){if(r){const{oid:t,sub:n,tid:o,name:i,tfp:s,acr:a}=r,c=o||s||a||"";return{tenantId:c,localAccountId:t||n||"",name:i,isHomeTenant:hg(c,e)}}return{tenantId:n,localAccountId:t,isHomeTenant:hg(n,e)}}function pg(e,t,n,r){let o=e;if(t){const{isHomeTenant:n,...r}=t;o={...e,...r}}if(n){const{isHomeTenant:t,...i}=fg(e.homeAccountId,e.localAccountId,e.tenantId,n);return o={...o,...i,idTokenClaims:n,idToken:r},o}return o}const mg=0,gg=1,yg=2,vg=3;function wg(e){if(e){return e.tid||e.tfp||e.acr||null}return null}class bg{generateAccountId(){return[this.homeAccountId,this.environment].join(Sd).toLowerCase()}generateAccountKey(){return bg.generateAccountCacheKey({homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId})}getAccountInfo(){return{homeAccountId:this.homeAccountId,environment:this.environment,tenantId:this.realm,username:this.username,localAccountId:this.localAccountId,name:this.name,nativeAccountId:this.nativeAccountId,authorityType:this.authorityType,tenantProfiles:new Map((this.tenantProfiles||[]).map((e=>[e.tenantId,e])))}}isSingleTenant(){return!this.tenantProfiles}static generateAccountCacheKey(e){const t=e.homeAccountId.split(".")[1];return[e.homeAccountId,e.environment||"",t||e.tenantId||""].join(Sd).toLowerCase()}static createAccount(e,t,n){const r=new bg;let o;t.authorityType===gg?r.authorityType=xd:t.protocolMode===vp?r.authorityType=kd:r.authorityType=Cd,e.clientInfo&&n&&(o=ug(e.clientInfo,n)),r.clientInfo=e.clientInfo,r.homeAccountId=e.homeAccountId,r.nativeAccountId=e.nativeAccountId;const i=e.environment||t&&t.getPreferredCache();if(!i)throw fm(Qp);r.environment=i,r.realm=o?.utid||wg(e.idTokenClaims)||"",r.localAccountId=o?.uid||e.idTokenClaims?.oid||e.idTokenClaims?.sub||"";const s=e.idTokenClaims?.preferred_username||e.idTokenClaims?.upn,a=e.idTokenClaims?.emails?e.idTokenClaims.emails[0]:null;if(r.username=s||a||"",r.name=e.idTokenClaims?.name||"",r.cloudGraphHostName=e.cloudGraphHostName,r.msGraphHost=e.msGraphHost,e.tenantProfiles)r.tenantProfiles=e.tenantProfiles;else{const t=fg(e.homeAccountId,r.localAccountId,r.realm,e.idTokenClaims);r.tenantProfiles=[t]}return r}static createFromAccountInfo(e,t,n){const r=new bg;return r.authorityType=e.authorityType||kd,r.homeAccountId=e.homeAccountId,r.localAccountId=e.localAccountId,r.nativeAccountId=e.nativeAccountId,r.realm=e.tenantId,r.environment=e.environment,r.username=e.username,r.name=e.name,r.cloudGraphHostName=t,r.msGraphHost=n,r.tenantProfiles=Array.from(e.tenantProfiles?.values()||[]),r}static generateHomeAccountId(e,t,n,r,o){if(t!==gg&&t!==yg){if(e)try{const t=ug(e,r.base64Decode);if(t.uid&&t.utid)return`${t.uid}.${t.utid}`}catch(i){}n.warning("No client info in response")}return o?.sub||""}static isAccountEntity(e){return!!e&&(e.hasOwnProperty("homeAccountId")&&e.hasOwnProperty("environment")&&e.hasOwnProperty("realm")&&e.hasOwnProperty("localAccountId")&&e.hasOwnProperty("username")&&e.hasOwnProperty("authorityType"))}static accountInfoIsEqual(e,t,n){if(!e||!t)return!1;let r=!0;if(n){const n=e.idTokenClaims||{},o=t.idTokenClaims||{};r=n.iat===o.iat&&n.nonce===o.nonce}return e.homeAccountId===t.homeAccountId&&e.localAccountId===t.localAccountId&&e.username===t.username&&e.tenantId===t.tenantId&&e.environment===t.environment&&e.nativeAccountId===t.nativeAccountId&&r}}function Cg(e){return e.startsWith("#/")?e.substring(2):e.startsWith("#")||e.startsWith("?")?e.substring(1):e}function xg(e){if(!e||e.indexOf("=")<0)return null;try{const t=Cg(e),n=Object.fromEntries(new URLSearchParams(t));if(n.code||n.ear_jwe||n.error||n.error_description||n.state)return n}catch(t){throw fm(Ap)}return null}function kg(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;const r=new Array;return e.forEach(((e,o)=>{!t&&n&&o in n?r.push(`${o}=${e}`):r.push(`${o}=${encodeURIComponent(e)}`)})),r.join("&")}class Sg{get urlString(){return this._urlString}constructor(e){if(this._urlString=e,!this._urlString)throw ag(Bm);e.includes("#")||(this._urlString=Sg.canonicalizeUri(e))}static canonicalizeUri(e){if(e){let t=e.toLowerCase();return cg.endsWith(t,"?")?t=t.slice(0,-1):cg.endsWith(t,"?/")&&(t=t.slice(0,-2)),cg.endsWith(t,"/")||(t+="/"),t}return e}validateAsUri(){let e;try{e=this.getUrlComponents()}catch(t){throw ag(Fm)}if(!e.HostNameAndPort||!e.PathSegments)throw ag(Fm);if(!e.Protocol||"https:"!==e.Protocol.toLowerCase())throw ag(Um)}static appendQueryString(e,t){return t?e.indexOf("?")<0?`${e}?${t}`:`${e}&${t}`:e}static removeHashFromUrl(e){return Sg.canonicalizeUri(e.split("#")[0])}replaceTenantPath(e){const t=this.getUrlComponents(),n=t.PathSegments;return!e||0===n.length||n[0]!==ad&&n[0]!==cd||(n[0]=e),Sg.constructAuthorityUriFromObject(t)}getUrlComponents(){const e=RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?"),t=this.urlString.match(e);if(!t)throw ag(Fm);const n={Protocol:t[1],HostNameAndPort:t[4],AbsolutePath:t[5],QueryString:t[7]};let r=n.AbsolutePath.split("/");return r=r.filter((e=>e&&e.length>0)),n.PathSegments=r,n.QueryString&&n.QueryString.endsWith("/")&&(n.QueryString=n.QueryString.substring(0,n.QueryString.length-1)),n}static getDomainFromUrl(e){const t=RegExp("^([^:/?#]+://)?([^/?#]*)"),n=e.match(t);if(!n)throw ag(Fm);return n[2]}static getAbsoluteUrl(e,t){if(e[0]===Qu.FORWARD_SLASH){const n=new Sg(t).getUrlComponents();return n.Protocol+"//"+n.HostNameAndPort+e}return e}static constructAuthorityUriFromObject(e){return new Sg(e.Protocol+"//"+e.HostNameAndPort+"/"+e.PathSegments.join("/"))}static hashContainsKnownProperties(e){return!!xg(e)}}const Tg={"login.microsoftonline.com":{token_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.com/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.com/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.com/{tenantid}/oauth2/v2.0/logout"},"login.chinacloudapi.cn":{token_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.chinacloudapi.cn/{tenantid}/discovery/v2.0/keys",issuer:"https://login.partner.microsoftonline.cn/{tenantid}/v2.0",authorization_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.chinacloudapi.cn/{tenantid}/oauth2/v2.0/logout"},"login.microsoftonline.us":{token_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/token",jwks_uri:"https://login.microsoftonline.us/{tenantid}/discovery/v2.0/keys",issuer:"https://login.microsoftonline.us/{tenantid}/v2.0",authorization_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/authorize",end_session_endpoint:"https://login.microsoftonline.us/{tenantid}/oauth2/v2.0/logout"}},Ig={tenant_discovery_endpoint:"https://{canonicalAuthority}/v2.0/.well-known/openid-configuration",metadata:[{preferred_network:"login.microsoftonline.com",preferred_cache:"login.windows.net",aliases:["login.microsoftonline.com","login.windows.net","login.microsoft.com","sts.windows.net"]},{preferred_network:"login.partner.microsoftonline.cn",preferred_cache:"login.partner.microsoftonline.cn",aliases:["login.partner.microsoftonline.cn","login.chinacloudapi.cn"]},{preferred_network:"login.microsoftonline.de",preferred_cache:"login.microsoftonline.de",aliases:["login.microsoftonline.de"]},{preferred_network:"login.microsoftonline.us",preferred_cache:"login.microsoftonline.us",aliases:["login.microsoftonline.us","login.usgovcloudapi.net"]},{preferred_network:"login-us.microsoftonline.com",preferred_cache:"login-us.microsoftonline.com",aliases:["login-us.microsoftonline.com"]}]},Eg=new Set;function Ag(e,t,n,r){if(r?.trace(`getAliasesFromMetadata called with source: ${n}`),e&&t){const o=_g(t,e);if(o)return r?.trace(`getAliasesFromMetadata: found cloud discovery metadata in ${n}, returning aliases`),o.aliases;r?.trace(`getAliasesFromMetadata: did not find cloud discovery metadata in ${n}`)}return null}function _g(e,t){for(let n=0;n<e.length;n++){const r=e[n];if(r.aliases.includes(t))return r}return null}Ig.metadata.forEach((e=>{e.aliases.forEach((e=>{Eg.add(e)}))}));const Ng="cache_quota_exceeded",Pg="cache_error_unknown",Rg={[Ng]:"Exceeded cache storage capacity.",[Pg]:"Unexpected error occurred when using cache storage."};class Og extends Error{constructor(e,t){const n=t||(Rg[e]?Rg[e]:Rg[Pg]);super(`${e}: ${n}`),Object.setPrototypeOf(this,Og.prototype),this.name="CacheError",this.errorCode=e,this.errorMessage=n}}class Mg{constructor(e,t,n,r){this.clientId=e,this.cryptoImpl=t,this.commonLogger=n.clone(mm,gm),this.staticAuthorityOptions=r}getAllAccounts(e){return this.buildTenantProfiles(this.getAccountsFilteredBy(e||{}),e)}getAccountInfoFilteredBy(e){const t=this.getAllAccounts(e);if(t.length>1){return t.sort((e=>e.idTokenClaims?-1:1))[0]}return 1===t.length?t[0]:null}getBaseAccountInfo(e){const t=this.getAccountsFilteredBy(e);return t.length>0?t[0].getAccountInfo():null}buildTenantProfiles(e,t){return e.flatMap((e=>this.getTenantProfilesFromAccountEntity(e,t?.tenantId,t)))}getTenantedAccountInfoByFilter(e,t,n,r){let o,i=null;if(r&&!this.tenantProfileMatchesFilter(n,r))return null;const s=this.getIdToken(e,t,n.tenantId);return s&&(o=ym(s.secret,this.cryptoImpl.base64Decode),!this.idTokenClaimsMatchTenantProfileFilter(o,r))?null:(i=pg(e,n,o,s?.secret),i)}getTenantProfilesFromAccountEntity(e,t,n){const r=e.getAccountInfo();let o=r.tenantProfiles||new Map;const i=this.getTokenKeys();if(t){const e=o.get(t);if(!e)return[];o=new Map([[t,e]])}const s=[];return o.forEach((e=>{const t=this.getTenantedAccountInfoByFilter(r,i,e,n);t&&s.push(t)})),s}tenantProfileMatchesFilter(e,t){return!(t.localAccountId&&!this.matchLocalAccountIdFromTenantProfile(e,t.localAccountId))&&((!t.name||e.name===t.name)&&(void 0===t.isHomeTenant||e.isHomeTenant===t.isHomeTenant))}idTokenClaimsMatchTenantProfileFilter(e,t){if(t){if(t.localAccountId&&!this.matchLocalAccountIdFromTokenClaims(e,t.localAccountId))return!1;if(t.loginHint&&!this.matchLoginHintFromTokenClaims(e,t.loginHint))return!1;if(t.username&&!this.matchUsername(e.preferred_username,t.username))return!1;if(t.name&&!this.matchName(e,t.name))return!1;if(t.sid&&!this.matchSid(e,t.sid))return!1}return!0}async saveCacheRecord(e,t,n){if(!e)throw fm(Wp);try{e.account&&await this.setAccount(e.account,t),e.idToken&&!1!==n?.idToken&&await this.setIdTokenCredential(e.idToken,t),e.accessToken&&!1!==n?.accessToken&&await this.saveAccessToken(e.accessToken,t),e.refreshToken&&!1!==n?.refreshToken&&await this.setRefreshTokenCredential(e.refreshToken,t),e.appMetadata&&this.setAppMetadata(e.appMetadata)}catch(r){throw this.commonLogger?.error("CacheManager.saveCacheRecord: failed"),r instanceof Error?(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r.message}`,t),"QuotaExceededError"===r.name||"NS_ERROR_DOM_QUOTA_REACHED"===r.name||r.message.includes("exceeded the quota")?(this.commonLogger?.error("CacheManager.saveCacheRecord: exceeded storage quota",t),new Og(Ng)):new Og(r.name,r.message)):(this.commonLogger?.errorPii(`CacheManager.saveCacheRecord: ${r}`,t),new Og(Pg))}}async saveAccessToken(e,t){const n={clientId:e.clientId,credentialType:e.credentialType,environment:e.environment,homeAccountId:e.homeAccountId,realm:e.realm,tokenType:e.tokenType,requestedClaimsHash:e.requestedClaimsHash},r=this.getTokenKeys(),o=lg.fromString(e.target),i=[];r.accessToken.forEach((e=>{if(!this.accessTokenKeyMatchesFilter(e,n,!1))return;const t=this.getAccessTokenCredential(e);if(t&&this.credentialMatchesFilter(t,n)){lg.fromString(t.target).intersectingScopeSets(o)&&i.push(this.removeAccessToken(e))}})),await Promise.all(i),await this.setAccessTokenCredential(e,t)}getAccountsFilteredBy(e){const t=this.getAccountKeys(),n=[];return t.forEach((t=>{if(!this.isAccountKey(t,e.homeAccountId))return;const r=this.getAccount(t,this.commonLogger);if(!r)return;if(e.homeAccountId&&!this.matchHomeAccountId(r,e.homeAccountId))return;if(e.username&&!this.matchUsername(r.username,e.username))return;if(e.environment&&!this.matchEnvironment(r,e.environment))return;if(e.realm&&!this.matchRealm(r,e.realm))return;if(e.nativeAccountId&&!this.matchNativeAccountId(r,e.nativeAccountId))return;if(e.authorityType&&!this.matchAuthorityType(r,e.authorityType))return;const o={localAccountId:e?.localAccountId,name:e?.name},i=r.tenantProfiles?.filter((e=>this.tenantProfileMatchesFilter(e,o)));i&&0===i.length||n.push(r)})),n}isAccountKey(e,t,n){return!(e.split(Sd).length<3)&&(!(t&&!e.toLowerCase().includes(t.toLowerCase()))&&!(n&&!e.toLowerCase().includes(n.toLowerCase())))}isCredentialKey(e){if(e.split(Sd).length<6)return!1;const t=e.toLowerCase();if(-1===t.indexOf(Id.ID_TOKEN.toLowerCase())&&-1===t.indexOf(Id.ACCESS_TOKEN.toLowerCase())&&-1===t.indexOf(Id.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase())&&-1===t.indexOf(Id.REFRESH_TOKEN.toLowerCase()))return!1;if(t.indexOf(Id.REFRESH_TOKEN.toLowerCase())>-1){const e=`${Id.REFRESH_TOKEN}${Sd}${this.clientId}${Sd}`,n=`${Id.REFRESH_TOKEN}${Sd}${Ad}${Sd}`;if(-1===t.indexOf(e.toLowerCase())&&-1===t.indexOf(n.toLowerCase()))return!1}else if(-1===t.indexOf(this.clientId.toLowerCase()))return!1;return!0}credentialMatchesFilter(e,t){if(t.clientId&&!this.matchClientId(e,t.clientId))return!1;if(t.userAssertionHash&&!this.matchUserAssertionHash(e,t.userAssertionHash))return!1;if("string"===typeof t.homeAccountId&&!this.matchHomeAccountId(e,t.homeAccountId))return!1;if(t.environment&&!this.matchEnvironment(e,t.environment))return!1;if(t.realm&&!this.matchRealm(e,t.realm))return!1;if(t.credentialType&&!this.matchCredentialType(e,t.credentialType))return!1;if(t.familyId&&!this.matchFamilyId(e,t.familyId))return!1;if(t.target&&!this.matchTarget(e,t.target))return!1;if((t.requestedClaimsHash||e.requestedClaimsHash)&&e.requestedClaimsHash!==t.requestedClaimsHash)return!1;if(e.credentialType===Id.ACCESS_TOKEN_WITH_AUTH_SCHEME){if(t.tokenType&&!this.matchTokenType(e,t.tokenType))return!1;if(t.tokenType===Ld.SSH&&t.keyId&&!this.matchKeyId(e,t.keyId))return!1}return!0}getAppMetadataFilteredBy(e){const t=this.getKeys(),n={};return t.forEach((t=>{if(!this.isAppMetadata(t))return;const r=this.getAppMetadata(t);r&&(e.environment&&!this.matchEnvironment(r,e.environment)||e.clientId&&!this.matchClientId(r,e.clientId)||(n[t]=r))})),n}getAuthorityMetadataByAlias(e){const t=this.getAuthorityMetadataKeys();let n=null;return t.forEach((t=>{if(!this.isAuthorityMetadata(t)||-1===t.indexOf(this.clientId))return;const r=this.getAuthorityMetadata(t);r&&-1!==r.aliases.indexOf(e)&&(n=r)})),n}async removeAllAccounts(){const e=this.getAccountKeys(),t=[];e.forEach((e=>{t.push(this.removeAccount(e))})),await Promise.all(t)}async removeAccount(e){const t=this.getAccount(e,this.commonLogger);t&&(await this.removeAccountContext(t),this.removeItem(e))}async removeAccountContext(e){const t=this.getTokenKeys(),n=e.generateAccountId(),r=[];t.idToken.forEach((e=>{0===e.indexOf(n)&&this.removeIdToken(e)})),t.accessToken.forEach((e=>{0===e.indexOf(n)&&r.push(this.removeAccessToken(e))})),t.refreshToken.forEach((e=>{0===e.indexOf(n)&&this.removeRefreshToken(e)})),await Promise.all(r)}async removeAccessToken(e){const t=this.getAccessTokenCredential(e);if(t){if(t.credentialType.toLowerCase()===Id.ACCESS_TOKEN_WITH_AUTH_SCHEME.toLowerCase()&&t.tokenType===Ld.POP){const e=t.keyId;if(e)try{await this.cryptoImpl.removeTokenBindingKey(e)}catch(n){throw fm(rm)}}return this.removeItem(e)}}removeAppMetadata(){return this.getKeys().forEach((e=>{this.isAppMetadata(e)&&this.removeItem(e)})),!0}readAccountFromCache(e){const t=bg.generateAccountCacheKey(e);return this.getAccount(t,this.commonLogger)}getIdToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getIdToken called");const i={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Id.ID_TOKEN,clientId:this.clientId,realm:n},s=this.getIdTokensByFilter(i,t),a=s.size;if(a<1)return this.commonLogger.info("CacheManager:getIdToken - No token found"),null;if(a>1){let t=s;if(!n){const n=new Map;s.forEach(((t,r)=>{t.realm===e.tenantId&&n.set(r,t)}));const r=n.size;if(r<1)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account but none match account entity tenant id, returning first result"),s.values().next().value;if(1===r)return this.commonLogger.info("CacheManager:getIdToken - Multiple ID tokens found for account, defaulting to home tenant profile"),n.values().next().value;t=n}return this.commonLogger.info("CacheManager:getIdToken - Multiple matching ID tokens found, clearing them"),t.forEach(((e,t)=>{this.removeIdToken(t)})),r&&o&&r.addFields({multiMatchedID:s.size},o),null}return this.commonLogger.info("CacheManager:getIdToken - Returning ID token"),s.values().next().value}getIdTokensByFilter(e,t){const n=t&&t.idToken||this.getTokenKeys().idToken,r=new Map;return n.forEach((t=>{if(!this.idTokenKeyMatchesFilter(t,{clientId:this.clientId,...e}))return;const n=this.getIdTokenCredential(t);n&&this.credentialMatchesFilter(n,e)&&r.set(t,n)})),r}idTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.clientId||-1!==n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase()))}removeIdToken(e){this.removeItem(e)}removeRefreshToken(e){this.removeItem(e)}getAccessToken(e,t,n,r,o,i){this.commonLogger.trace("CacheManager - getAccessToken called");const s=lg.createSearchScopes(t.scopes),a=t.authenticationScheme||Ld.BEARER,c=a&&a.toLowerCase()!==Ld.BEARER.toLowerCase()?Id.ACCESS_TOKEN_WITH_AUTH_SCHEME:Id.ACCESS_TOKEN,l={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:c,clientId:this.clientId,realm:r||e.tenantId,target:s,tokenType:a,keyId:t.sshKid,requestedClaimsHash:t.requestedClaimsHash},u=n&&n.accessToken||this.getTokenKeys().accessToken,d=[];u.forEach((e=>{if(this.accessTokenKeyMatchesFilter(e,l,!0)){const t=this.getAccessTokenCredential(e);t&&this.credentialMatchesFilter(t,l)&&d.push(t)}}));const h=d.length;return h<1?(this.commonLogger.info("CacheManager:getAccessToken - No token found"),null):h>1?(this.commonLogger.info("CacheManager:getAccessToken - Multiple access tokens found, clearing them"),d.forEach((e=>{this.removeAccessToken(km(e))})),o&&i&&o.addFields({multiMatchedAT:d.length},i),null):(this.commonLogger.info("CacheManager:getAccessToken - Returning access token"),d[0])}accessTokenKeyMatchesFilter(e,t,n){const r=e.toLowerCase();if(t.clientId&&-1===r.indexOf(t.clientId.toLowerCase()))return!1;if(t.homeAccountId&&-1===r.indexOf(t.homeAccountId.toLowerCase()))return!1;if(t.realm&&-1===r.indexOf(t.realm.toLowerCase()))return!1;if(t.requestedClaimsHash&&-1===r.indexOf(t.requestedClaimsHash.toLowerCase()))return!1;if(t.target){const e=t.target.asArray();for(let t=0;t<e.length;t++){if(n&&!r.includes(e[t].toLowerCase()))return!1;if(!n&&r.includes(e[t].toLowerCase()))return!0}}return!0}getAccessTokensByFilter(e){const t=this.getTokenKeys(),n=[];return t.accessToken.forEach((t=>{if(!this.accessTokenKeyMatchesFilter(t,e,!0))return;const r=this.getAccessTokenCredential(t);r&&this.credentialMatchesFilter(r,e)&&n.push(r)})),n}getRefreshToken(e,t,n,r,o){this.commonLogger.trace("CacheManager - getRefreshToken called");const i=t?Ad:void 0,s={homeAccountId:e.homeAccountId,environment:e.environment,credentialType:Id.REFRESH_TOKEN,clientId:this.clientId,familyId:i},a=n&&n.refreshToken||this.getTokenKeys().refreshToken,c=[];a.forEach((e=>{if(this.refreshTokenKeyMatchesFilter(e,s)){const t=this.getRefreshTokenCredential(e);t&&this.credentialMatchesFilter(t,s)&&c.push(t)}}));const l=c.length;return l<1?(this.commonLogger.info("CacheManager:getRefreshToken - No refresh token found."),null):(l>1&&r&&o&&r.addFields({multiMatchedRT:l},o),this.commonLogger.info("CacheManager:getRefreshToken - returning refresh token"),c[0])}refreshTokenKeyMatchesFilter(e,t){const n=e.toLowerCase();return(!t.familyId||-1!==n.indexOf(t.familyId.toLowerCase()))&&(!(!t.familyId&&t.clientId&&-1===n.indexOf(t.clientId.toLowerCase()))&&(!t.homeAccountId||-1!==n.indexOf(t.homeAccountId.toLowerCase())))}readAppMetadataFromCache(e){const t={environment:e,clientId:this.clientId},n=this.getAppMetadataFilteredBy(t),r=Object.keys(n).map((e=>n[e])),o=r.length;if(o<1)return null;if(o>1)throw fm(Dp);return r[0]}isAppMetadataFOCI(e){const t=this.readAppMetadataFromCache(e);return!(!t||t.familyId!==Ad)}matchHomeAccountId(e,t){return!("string"!==typeof e.homeAccountId||t!==e.homeAccountId)}matchLocalAccountIdFromTokenClaims(e,t){return t===(e.oid||e.sub)}matchLocalAccountIdFromTenantProfile(e,t){return e.localAccountId===t}matchName(e,t){return!(t.toLowerCase()!==e.name?.toLowerCase())}matchUsername(e,t){return!(!e||"string"!==typeof e||t?.toLowerCase()!==e.toLowerCase())}matchUserAssertionHash(e,t){return!(!e.userAssertionHash||t!==e.userAssertionHash)}matchEnvironment(e,t){if(this.staticAuthorityOptions){const n=function(e,t){let n;const r=e.canonicalAuthority;if(r){const o=new Sg(r).getUrlComponents().HostNameAndPort;n=Ag(o,e.cloudDiscoveryMetadata?.metadata,Pd,t)||Ag(o,Ig.metadata,Md,t)||e.knownAuthorities}return n||[]}(this.staticAuthorityOptions,this.commonLogger);if(n.includes(t)&&n.includes(e.environment))return!0}const n=this.getAuthorityMetadataByAlias(t);return!!(n&&n.aliases.indexOf(e.environment)>-1)}matchCredentialType(e,t){return e.credentialType&&t.toLowerCase()===e.credentialType.toLowerCase()}matchClientId(e,t){return!(!e.clientId||t!==e.clientId)}matchFamilyId(e,t){return!(!e.familyId||t!==e.familyId)}matchRealm(e,t){return!(e.realm?.toLowerCase()!==t.toLowerCase())}matchNativeAccountId(e,t){return!(!e.nativeAccountId||t!==e.nativeAccountId)}matchLoginHintFromTokenClaims(e,t){return e.login_hint===t||(e.preferred_username===t||e.upn===t)}matchSid(e,t){return e.sid===t}matchAuthorityType(e,t){return!(!e.authorityType||t.toLowerCase()!==e.authorityType.toLowerCase())}matchTarget(e,t){if(e.credentialType!==Id.ACCESS_TOKEN&&e.credentialType!==Id.ACCESS_TOKEN_WITH_AUTH_SCHEME||!e.target)return!1;return lg.fromString(e.target).containsScopeSet(t)}matchTokenType(e,t){return!(!e.tokenType||e.tokenType!==t)}matchKeyId(e,t){return!(!e.keyId||e.keyId!==t)}isAppMetadata(e){return-1!==e.indexOf(Ed)}isAuthorityMetadata(e){return-1!==e.indexOf(_d)}generateAuthorityMetadataCacheKey(e){return`${_d}-${this.clientId}-${e}`}static toObject(e,t){for(const n in t)e[n]=t[n];return e}}class jg extends Mg{async setAccount(){throw fm(lm)}getAccount(){throw fm(lm)}async setIdTokenCredential(){throw fm(lm)}getIdTokenCredential(){throw fm(lm)}async setAccessTokenCredential(){throw fm(lm)}getAccessTokenCredential(){throw fm(lm)}async setRefreshTokenCredential(){throw fm(lm)}getRefreshTokenCredential(){throw fm(lm)}setAppMetadata(){throw fm(lm)}getAppMetadata(){throw fm(lm)}setServerTelemetry(){throw fm(lm)}getServerTelemetry(){throw fm(lm)}setAuthorityMetadata(){throw fm(lm)}getAuthorityMetadata(){throw fm(lm)}getAuthorityMetadataKeys(){throw fm(lm)}setThrottlingCache(){throw fm(lm)}getThrottlingCache(){throw fm(lm)}removeItem(){throw fm(lm)}getKeys(){throw fm(lm)}getAccountKeys(){throw fm(lm)}getTokenKeys(){throw fm(lm)}}const Lg={tokenRenewalOffsetSeconds:300,preventCorsPreflight:!1},Dg={loggerCallback:()=>{},piiLoggingEnabled:!1,logLevel:wf.Info,correlationId:Qu.EMPTY_STRING},qg={claimsBasedCachingEnabled:!1},Ug={async sendGetRequestAsync(){throw fm(lm)},async sendPostRequestAsync(){throw fm(lm)}},Fg={sku:Qu.SKU,version:gm,cpu:Qu.EMPTY_STRING,os:Qu.EMPTY_STRING},Bg={clientSecret:Qu.EMPTY_STRING,clientAssertion:void 0},Hg={azureCloudInstance:bp,tenant:`${Qu.DEFAULT_COMMON_TENANT}`},zg={application:{appName:"",appVersion:""}};function $g(e){return e.authOptions.authority.options.protocolMode===vp}const Kg={sendGetRequestAsync:()=>Promise.reject(fm(lm)),sendPostRequestAsync:()=>Promise.reject(fm(lm))},Wg="acquireTokenByCode",Qg="acquireTokenByRefreshToken",Vg="acquireTokenSilent",Gg="acquireTokenSilentAsync",Yg="acquireTokenPopup",Jg="acquireTokenPreRedirect",Xg="acquireTokenRedirect",Zg="cryptoOptsGetPublicKeyThumbprint",ey="cryptoOptsSignJwt",ty="silentCacheClientAcquireToken",ny="silentIframeClientAcquireToken",ry="awaitConcurrentIframe",oy="silentRefreshClientAcquireToken",iy="ssoSilent",sy="standardInteractionClientGetDiscoveredAuthority",ay="nativeInteractionClientAcquireToken",cy="networkClientSendPostRequestAsync",ly="refreshTokenClientExecutePostToTokenEndpoint",uy="authorizationCodeClientExecutePostToTokenEndpoint",dy="refreshTokenClientExecuteTokenRequest",hy="refreshTokenClientAcquireToken",fy="refreshTokenClientAcquireTokenWithCachedRefreshToken",py="refreshTokenClientAcquireTokenByRefreshToken",my="refreshTokenClientCreateTokenRequestBody",gy="acquireTokenFromCache",yy="silentFlowClientAcquireCachedToken",vy="silentFlowClientGenerateResultFromCacheRecord",wy="acquireTokenBySilentIframe",by="initializeBaseRequest",Cy="initializeSilentRequest",xy="initializeClientApplication",ky="initializeCache",Sy="silentIframeClientTokenHelper",Ty="silentHandlerInitiateAuthRequest",Iy="silentHandlerMonitorIframeForHash",Ey="silentHandlerLoadFrame",Ay="silentHandlerLoadFrameSync",_y="standardInteractionClientCreateAuthCodeClient",Ny="standardInteractionClientGetClientConfiguration",Py="standardInteractionClientInitializeAuthorizationRequest",Ry="getAuthCodeUrl",Oy="getStandardParams",My="handleCodeResponseFromServer",jy="handleCodeResponse",Ly="handleResponseEar",Dy="handleResponsePlatformBroker",qy="handleResponseCode",Uy="updateTokenEndpointAuthority",Fy="authClientAcquireToken",By="authClientExecuteTokenRequest",Hy="authClientCreateTokenRequestBody",zy="popTokenGenerateCnf",$y="popTokenGenerateKid",Ky="handleServerTokenResponse",Wy="deserializeResponse",Qy="authorityFactoryCreateDiscoveredInstance",Vy="authorityResolveEndpointsAsync",Gy="authorityGetCloudDiscoveryMetadataFromNetwork",Yy="authorityUpdateCloudDiscoveryMetadata",Jy="authorityGetEndpointMetadataFromNetwork",Xy="authorityUpdateEndpointMetadata",Zy="authorityUpdateMetadataWithRegionalInformation",ev="regionDiscoveryDetectRegion",tv="regionDiscoveryGetRegionFromIMDS",nv="regionDiscoveryGetCurrentVersion",rv="acquireTokenByCodeAsync",ov="handleRedirectPromise",iv="handleNativeRedirectPromise",sv="nativeMessageHandlerHandshake",av="removeHiddenIframe",cv="clearTokensAndKeysWithClaims",lv="cacheManagerGetRefreshToken",uv="importExistingCache",dv="setUserData",hv="localStorageUpdated",fv="generatePkceCodes",pv="generateCodeVerifier",mv="generateCodeChallengeFromVerifier",gv="sha256Digest",yv="getRandomValues",vv="generateHKDF",wv="generateBaseKey",bv="base64Decode",Cv="urlEncodeArr",xv="encrypt",kv="decrypt",Sv="generateEarKey",Tv="decryptEarResponse",Iv=(new Map([[Wg,"ATByCode"],[Qg,"ATByRT"],[Vg,"ATS"],[Gg,"ATSAsync"],[Yg,"ATPopup"],[Xg,"ATRedirect"],[Zg,"CryptoGetPKThumb"],[ey,"CryptoSignJwt"],[ty,"SltCacheClientAT"],[ny,"SltIframeClientAT"],[oy,"SltRClientAT"],[iy,"SsoSlt"],[sy,"StdIntClientGetDiscAuth"],["fetchAccountIdWithNativeBroker","FetchAccIdWithNtvBroker"],[ay,"NtvIntClientAT"],["baseClientCreateTokenRequestHeaders","BaseClientCreateTReqHead"],[cy,"NetClientSendPost"],[ly,"RTClientExecPost"],[uy,"AuthCodeClientExecPost"],["brokerHandshake","BrokerHandshake"],["acquireTokenByRefreshTokenInBroker","ATByRTInBroker"],["acquireTokenByBroker","ATByBroker"],[dy,"RTClientExecTReq"],[hy,"RTClientAT"],[fy,"RTClientATWithCachedRT"],[py,"RTClientATByRT"],[my,"RTClientCreateTReqBody"],[gy,"ATFromCache"],[yy,"SltFlowClientATCached"],[vy,"SltFlowClientGenResFromCache"],[wy,"ATBySltIframe"],[by,"InitBaseReq"],[Cy,"InitSltReq"],[xy,"InitClientApplication"],[ky,"InitCache"],[uv,"importCache"],[dv,"setUserData"],[hv,"localStorageUpdated"],[Sy,"SIClientTHelper"],[Ty,"SHandlerInitAuthReq"],[Iy,"SltHandlerMonitorIframeForHash"],[Ey,"SHandlerLoadFrame"],[Ay,"SHandlerLoadFrameSync"],[_y,"StdIntClientCreateAuthCodeClient"],[Ny,"StdIntClientGetClientConf"],[Py,"StdIntClientInitAuthReq"],[Ry,"GetAuthCodeUrl"],[My,"HandleCodeResFromServer"],[jy,"HandleCodeResp"],[Ly,"HandleRespEar"],[qy,"HandleRespCode"],[Dy,"HandleRespPlatBroker"],[Uy,"UpdTEndpointAuth"],[Fy,"AuthClientAT"],[By,"AuthClientExecTReq"],[Hy,"AuthClientCreateTReqBody"],[zy,"PopTGenCnf"],[$y,"PopTGenKid"],[Ky,"HandleServerTRes"],[Wy,"DeserializeRes"],[Qy,"AuthFactCreateDiscInst"],[Vy,"AuthResolveEndpointsAsync"],["authorityResolveEndpointsFromLocalSources","AuthResolveEndpointsFromLocal"],[Gy,"AuthGetCDMetaFromNet"],[Yy,"AuthUpdCDMeta"],[Jy,"AuthUpdCDMetaFromNet"],[Xy,"AuthUpdEndpointMeta"],[Zy,"AuthUpdMetaWithRegInfo"],[ev,"RegDiscDetectReg"],[tv,"RegDiscGetRegFromIMDS"],[nv,"RegDiscGetCurrentVer"],[rv,"ATByCodeAsync"],["getEndpointMetadataFromNetwork","GetEndpointMetaFromNet"],["getCloudDiscoveryMetadataFromNetworkMeasurement","GetCDMetaFromNet"],[ov,"HandleRedirectPromise"],[iv,"HandleNtvRedirectPromise"],["updateCloudDiscoveryMetadataMeasurement","UpdateCDMeta"],["usernamePasswordClientAcquireToken","UserPassClientAT"],[sv,"NtvMsgHandlerHandshake"],["nativeGenerateAuthResult","NtvGenAuthRes"],[av,"RemoveHiddenIframe"],[cv,"ClearTAndKeysWithClaims"],[lv,"CacheManagerGetRT"],[fv,"GenPkceCodes"],[pv,"GenCodeVerifier"],[mv,"GenCodeChallengeFromVerifier"],[gv,"Sha256Digest"],[yv,"GetRandomValues"],[vv,"genHKDF"],[wv,"genBaseKey"],[bv,"b64Decode"],[Cv,"urlEncArr"],[xv,"encrypt"],[kv,"decrypt"],[Sv,"genEarKey"],[Tv,"decryptEarResp"]]),1);new Set(["accessTokenSize","durationMs","idTokenSize","matsSilentStatus","matsHttpStatus","refreshTokenSize","queuedTimeMs","startTimeMs","status","multiMatchedAT","multiMatchedID","multiMatchedRT","unencryptedCacheCount","encryptedCacheExpiredCount"]);class Ev{startMeasurement(){}endMeasurement(){}flushMeasurement(){return null}}class Av{generateId(){return"callback-id"}startMeasurement(e,t){return{end:()=>null,discard:()=>{},add:()=>{},increment:()=>{},event:{eventId:this.generateId(),status:Iv,authority:"",libraryName:"",libraryVersion:"",clientId:"",name:e,startTimeMs:Date.now(),correlationId:t||""},measurement:new Ev}}startPerformanceMeasurement(){return new Ev}calculateQueuedTime(){return 0}addQueueMeasurement(){}setPreQueueTime(){}endMeasurement(){return null}discardMeasurements(){}removePerformanceCallback(){return!0}addPerformanceCallback(){return""}emitEvents(){}addFields(){}incrementFields(){}cacheEventByCorrelationId(){}}class _v{navigateInternal(e,t){return _v.defaultNavigateWindow(e,t)}navigateExternal(e,t){return _v.defaultNavigateWindow(e,t)}static defaultNavigateWindow(e,t){return t.noHistory?window.location.replace(e):window.location.assign(e),new Promise((e=>{setTimeout((()=>{e(!0)}),t.timeout)}))}}class Nv extends sh{constructor(e,t,n){super(e.errorCode,e.errorMessage,e.subError),Object.setPrototypeOf(this,Nv.prototype),this.name="NetworkError",this.error=e,this.httpStatus=t,this.responseHeaders=n}}function Pv(e,t,n,r){return e.errorMessage=`${e.errorMessage}, additionalErrorInfo: error.name:${r?.name}, error.message:${r?.message}`,new Nv(e,t,n)}const Rv="pkce_not_created",Ov="ear_jwk_empty",Mv="ear_jwe_empty",jv="crypto_nonexistent",Lv="empty_navigate_uri",Dv="hash_empty_error",qv="no_state_in_hash",Uv="hash_does_not_contain_known_properties",Fv="unable_to_parse_state",Bv="state_interaction_type_mismatch",Hv="interaction_in_progress",zv="popup_window_error",$v="empty_window_error",Kv="user_cancelled",Wv="monitor_popup_timeout",Qv="monitor_window_timeout",Vv="redirect_in_iframe",Gv="block_iframe_reload",Yv="block_nested_popups",Jv="iframe_closed_prematurely",Xv="silent_logout_unsupported",Zv="no_account_error",ew="silent_prompt_value_error",tw="no_token_request_cache_error",nw="unable_to_parse_token_request_cache_error",rw="auth_request_not_set_error",ow="invalid_cache_type",iw="non_browser_environment",sw="database_not_open",aw="no_network_connectivity",cw="post_request_failed",lw="get_request_failed",uw="failed_to_parse_response",dw="unable_to_load_token",hw="crypto_key_not_found",fw="auth_code_required",pw="auth_code_or_nativeAccountId_required",mw="spa_code_and_nativeAccountId_present",gw="database_unavailable",yw="unable_to_acquire_token_from_native_platform",vw="native_handshake_timeout",ww="native_extension_not_installed",bw="native_connection_not_established",Cw="uninitialized_public_client_application",xw="native_prompt_not_supported",kw="invalid_base64_string",Sw="invalid_pop_token_request",Tw="failed_to_build_headers",Iw="failed_to_parse_headers",Ew="failed_to_decrypt_ear_response",Aw="For more visit: aka.ms/msaljs/browser-errors",_w={[Rv]:"The PKCE code challenge and verifier could not be generated.",[Ov]:"No EAR encryption key provided. This is unexpected.",[Mv]:"Server response does not contain ear_jwe property. This is unexpected.",[jv]:"The crypto object or function is not available.",[Lv]:"Navigation URI is empty. Please check stack trace for more info.",[Dv]:`Hash value cannot be processed because it is empty. Please verify that your redirectUri is not clearing the hash. ${Aw}`,[qv]:"Hash does not contain state. Please verify that the request originated from msal.",[Uv]:`Hash does not contain known properites. Please verify that your redirectUri is not changing the hash.  ${Aw}`,[Fv]:"Unable to parse state. Please verify that the request originated from msal.",[Bv]:"Hash contains state but the interaction type does not match the caller.",[Hv]:`Interaction is currently in progress. Please ensure that this interaction has been completed before calling an interactive API.   ${Aw}`,[zv]:"Error opening popup window. This can happen if you are using IE or if popups are blocked in the browser.",[$v]:"window.open returned null or undefined window object.",[Kv]:"User cancelled the flow.",[Wv]:`Token acquisition in popup failed due to timeout.  ${Aw}`,[Qv]:`Token acquisition in iframe failed due to timeout.  ${Aw}`,[Vv]:"Redirects are not supported for iframed or brokered applications. Please ensure you are using MSAL.js in a top frame of the window if using the redirect APIs, or use the popup APIs.",[Gv]:`Request was blocked inside an iframe because MSAL detected an authentication response.  ${Aw}`,[Yv]:"Request was blocked inside a popup because MSAL detected it was running in a popup.",[Jv]:"The iframe being monitored was closed prematurely.",[Xv]:"Silent logout not supported. Please call logoutRedirect or logoutPopup instead.",[Zv]:"No account object provided to acquireTokenSilent and no active account has been set. Please call setActiveAccount or provide an account on the request.",[ew]:"The value given for the prompt value is not valid for silent requests - must be set to 'none' or 'no_session'.",[tw]:"No token request found in cache.",[nw]:"The cached token request could not be parsed.",[rw]:"Auth Request not set. Please ensure initiateAuthRequest was called from the InteractionHandler",[ow]:"Invalid cache type",[iw]:"Login and token requests are not supported in non-browser environments.",[sw]:"Database is not open!",[aw]:"No network connectivity. Check your internet connection.",[cw]:"Network request failed: If the browser threw a CORS error, check that the redirectUri is registered in the Azure App Portal as type 'SPA'",[lw]:"Network request failed. Please check the network trace to determine root cause.",[uw]:"Failed to parse network response. Check network trace.",[dw]:"Error loading token to cache.",[hw]:"Cryptographic Key or Keypair not found in browser storage.",[fw]:"An authorization code must be provided (as the `code` property on the request) to this flow.",[pw]:"An authorization code or nativeAccountId must be provided to this flow.",[mw]:"Request cannot contain both spa code and native account id.",[gw]:"IndexedDB, which is required for persistent cryptographic key storage, is unavailable. This may be caused by browser privacy features which block persistent storage in third-party contexts.",[yw]:`Unable to acquire token from native platform.  ${Aw}`,[vw]:"Timed out while attempting to establish connection to browser extension",[ww]:"Native extension is not installed. If you think this is a mistake call the initialize function.",[bw]:`Connection to native platform has not been established. Please install a compatible browser extension and run initialize().  ${Aw}`,[Cw]:`You must call and await the initialize function before attempting to call any other MSAL API.  ${Aw}`,[xw]:"The provided prompt is not supported by the native platform. This request should be routed to the web based flow.",[kw]:"Invalid base64 encoded string.",[Sw]:"Invalid PoP token request. The request should not have both a popKid value and signPopToken set to true.",[Tw]:"Failed to build request headers object.",[Iw]:"Failed to parse response headers",[Ew]:"Failed to decrypt ear response"};class Nw extends sh{constructor(e,t){super(e,_w[e],t),Object.setPrototypeOf(this,Nw.prototype),this.name="BrowserAuthError"}}function Pw(e,t){return new Nw(e,t)}class Rw{async sendGetRequestAsync(e,t){let n,r={},o=0;const i=Ow(t);try{n=await fetch(e,{method:Ph,headers:i})}catch(s){throw Pv(Pw(window.navigator.onLine?lw:aw),void 0,void 0,s)}r=Mw(n.headers);try{return o=n.status,{headers:r,body:await n.json(),status:o}}catch(s){throw Pv(Pw(uw),o,r,s)}}async sendPostRequestAsync(e,t){const n=t&&t.body||"",r=Ow(t);let o,i=0,s={};try{o=await fetch(e,{method:Rh,headers:r,body:n})}catch(a){throw Pv(Pw(window.navigator.onLine?cw:aw),void 0,void 0,a)}s=Mw(o.headers);try{return i=o.status,{headers:s,body:await o.json(),status:i}}catch(a){throw Pv(Pw(uw),i,s,a)}}}function Ow(e){try{const t=new Headers;if(!e||!e.headers)return t;const n=e.headers;return Object.entries(n).forEach((e=>{let[n,r]=e;t.append(n,r)})),t}catch(t){throw Pv(Pw(Tw),void 0,void 0,t)}}function Mw(e){try{const t={};return e.forEach(((e,n)=>{t[n]=e})),t}catch(t){throw Pw(Iw)}}function jw(e){return encodeURIComponent(Dw(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"))}function Lw(e){return qw(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Dw(e){return qw((new TextEncoder).encode(e))}function qw(e){const t=Array.from(e,(e=>String.fromCodePoint(e))).join("");return btoa(t)}function Uw(e){return(new TextDecoder).decode(Fw(e))}function Fw(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw Pw(kw)}const n=atob(t);return Uint8Array.from(n,(e=>e.codePointAt(0)||0))}const Bw="AES-GCM",Hw="HKDF",zw="SHA-256",$w=new Uint8Array([1,0,1]),Kw="0123456789abcdef",Ww=new Uint32Array(1),Qw="raw",Vw="encrypt",Gw="decrypt",Yw={name:"RSASSA-PKCS1-v1_5",hash:zw,modulusLength:2048,publicExponent:$w};async function Jw(e,t,n){t?.addQueueMeasurement(gv,n);const r=(new TextEncoder).encode(e);return window.crypto.subtle.digest(zw,r)}function Xw(e){return window.crypto.getRandomValues(e)}function Zw(){return window.crypto.getRandomValues(Ww),Ww[0]}function eb(){const e=Date.now(),t=1024*Zw()+(1023&Zw()),n=new Uint8Array(16),r=Math.trunc(t/2**30),o=t&2**30-1,i=Zw();n[0]=e/2**40,n[1]=e/2**32,n[2]=e/2**24,n[3]=e/65536,n[4]=e/256,n[5]=e,n[6]=112|r>>>8,n[7]=r,n[8]=128|o>>>24,n[9]=o>>>16,n[10]=o>>>8,n[11]=o,n[12]=i>>>24,n[13]=i>>>16,n[14]=i>>>8,n[15]=i;let s="";for(let a=0;a<n.length;a++)s+=Kw.charAt(n[a]>>>4),s+=Kw.charAt(15&n[a]),3!==a&&5!==a&&7!==a&&9!==a||(s+="-");return s}async function tb(e){return window.crypto.subtle.exportKey("jwk",e)}async function nb(){const e=await ob(),t={alg:"dir",kty:"oct",k:Lw(new Uint8Array(e))};return Dw(JSON.stringify(t))}async function rb(e,t){const n=t.split(".");if(5!==n.length)throw Pw(Ew,"jwe_length");const r=await async function(e){const t=Uw(e),n=Fw(JSON.parse(t).k);return window.crypto.subtle.importKey(Qw,n,Bw,!1,[Gw])}(e).catch((()=>{throw Pw(Ew,"import_key")}));try{const e=(new TextEncoder).encode(n[0]),t=Fw(n[2]),o=Fw(n[3]),i=Fw(n[4]),s=8*i.byteLength,a=new Uint8Array(o.length+i.length);a.set(o),a.set(i,o.length);const c=await window.crypto.subtle.decrypt({name:Bw,iv:t,tagLength:s,additionalData:e},r,a);return(new TextDecoder).decode(c)}catch(o){throw Pw(Ew,"decrypt")}}async function ob(){const e=await window.crypto.subtle.generateKey({name:Bw,length:256},!0,[Vw,Gw]);return window.crypto.subtle.exportKey(Qw,e)}async function ib(e){return window.crypto.subtle.importKey(Qw,e,Hw,!1,["deriveKey"])}async function sb(e,t,n){return window.crypto.subtle.deriveKey({name:Hw,salt:t,hash:zw,info:(new TextEncoder).encode(n)},e,{name:Bw,length:256},!1,[Vw,Gw])}async function ab(e,t,n){const r=(new TextEncoder).encode(t),o=window.crypto.getRandomValues(new Uint8Array(16)),i=await sb(e,o,n),s=await window.crypto.subtle.encrypt({name:Bw,iv:new Uint8Array(12)},i,r);return{data:Lw(new Uint8Array(s)),nonce:Lw(o)}}async function cb(e,t,n,r){const o=Fw(r),i=await sb(e,Fw(t),n),s=await window.crypto.subtle.decrypt({name:Bw,iv:new Uint8Array(12)},i,o);return(new TextDecoder).decode(s)}async function lb(e){const t=await Jw(e);return Lw(new Uint8Array(t))}function ub(e){e.location.hash="","function"===typeof e.history.replaceState&&e.history.replaceState(null,"",`${e.location.origin}${e.location.pathname}${e.location.search}`)}function db(){return window.parent!==window}function hb(){return"undefined"!==typeof window&&window.location?window.location.href.split("?")[0].split("#")[0]:""}function fb(){if("undefined"!==typeof window&&window.opener&&window.opener!==window&&"string"===typeof window.name&&0===window.name.indexOf(`${vh}.`))throw Pw(Yv)}function pb(){if("undefined"===typeof window)throw Pw(iw)}function mb(e){if(!e)throw Pw(Cw)}function gb(e){pb(),function(){if(Sg.hashContainsKnownProperties(window.location.hash)&&db())throw Pw(Gv)}(),fb(),mb(e)}function yb(e,t){if(gb(e),function(e){if(db()&&!e)throw Pw(Vv)}(t.system.allowRedirectInIframe),t.cache.cacheLocation===Nh&&!t.cache.storeAuthStateInCookie)throw fh(uh)}function vb(e){const t=document.createElement("link");t.rel="preconnect",t.href=new URL(e).origin,t.crossOrigin="anonymous",document.head.appendChild(t),window.setTimeout((()=>{try{document.head.removeChild(t)}catch{}}),1e4)}const wb=1e4;const bb="4.12.0";class Cb{static loggerCallback(e,t){switch(e){case wf.Error:return void console.error(t);case wf.Info:return void console.info(t);case wf.Verbose:return void console.debug(t);case wf.Warning:return void console.warn(t);default:return void console.log(t)}}constructor(e){let t;this.browserEnvironment="undefined"!==typeof window,this.config=function(e,t){let{auth:n,cache:r,system:o,telemetry:i}=e;const s={clientId:Qu.EMPTY_STRING,authority:`${Qu.DEFAULT_AUTHORITY}`,knownAuthorities:[],cloudDiscoveryMetadata:Qu.EMPTY_STRING,authorityMetadata:Qu.EMPTY_STRING,redirectUri:"undefined"!==typeof window?hb():"",postLogoutRedirectUri:Qu.EMPTY_STRING,navigateToLoginRequestUrl:!0,clientCapabilities:[],protocolMode:yp,OIDCOptions:{serverResponseType:yd,defaultScopes:[Qu.OPENID_SCOPE,Qu.PROFILE_SCOPE,Qu.OFFLINE_ACCESS_SCOPE]},azureCloudOptions:{azureCloudInstance:bp,tenant:Qu.EMPTY_STRING},skipAuthorityMetadataCache:!1,supportsNestedAppAuth:!1,instanceAware:!1,encodeExtraQueryParams:!1},a={cacheLocation:_h,temporaryCacheLocation:_h,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!(!r||r.cacheLocation!==Ah),claimsBasedCachingEnabled:!1},c={loggerCallback:()=>{},logLevel:wf.Info,piiLoggingEnabled:!1},l={...{...Lg,loggerOptions:c,networkClient:t?new Rw:Kg,navigationClient:new _v,loadFrameTimeout:0,windowHashTimeout:o?.loadFrameTimeout||6e4,iframeHashTimeout:o?.loadFrameTimeout||wb,navigateFrameWait:0,redirectNavigationTimeout:3e4,asyncPopups:!1,allowRedirectInIframe:!1,allowPlatformBroker:!1,nativeBrokerHandshakeTimeout:o?.nativeBrokerHandshakeTimeout||2e3,pollIntervalMilliseconds:wh},...o,loggerOptions:o?.loggerOptions||c},u={application:{appName:Qu.EMPTY_STRING,appVersion:Qu.EMPTY_STRING},client:new Av};n?.protocolMode!==vp&&n?.OIDCOptions&&new bf(l.loggerOptions).warning(JSON.stringify(ag(ng)));if(n?.protocolMode&&n.protocolMode===vp&&l?.allowPlatformBroker)throw ag(rg);return{auth:{...s,...n,OIDCOptions:{...s.OIDCOptions,...n?.OIDCOptions}},cache:{...a,...r},system:l,telemetry:{...u,...i}}}(e,this.browserEnvironment);try{t=window[_h]}catch(a){}const n=t?.getItem("msal.browser.log.level"),r=t?.getItem("msal.browser.log.pii")?.toLowerCase(),o="true"===r||"false"!==r&&void 0,i={...this.config.system.loggerOptions},s=n&&Object.keys(wf).includes(n)?wf[n]:void 0;s&&(i.loggerCallback=Cb.loggerCallback,i.logLevel=s),void 0!==o&&(i.piiLoggingEnabled=o),this.logger=new bf(i,"@azure/msal-browser",bb),this.available=!1}getConfig(){return this.config}getLogger(){return this.logger}isAvailable(){return this.available}isBrowserEnvironment(){return this.browserEnvironment}}class xb extends Cb{getModuleName(){return xb.MODULE_NAME}getId(){return xb.ID}async initialize(){return this.available="undefined"!==typeof window,this.available}}xb.MODULE_NAME="",xb.ID="StandardOperatingContext";const kb="missing_kid_error",Sb="missing_alg_error",Tb={[kb]:"The JOSE Header for the requested JWT, JWS or JWK object requires a keyId to be configured as the 'kid' header claim. No 'kid' value was provided.",[Sb]:"The JOSE Header for the requested JWT, JWS or JWK object requires an algorithm to be specified as the 'alg' header claim. No 'alg' value was provided."};class Ib extends sh{constructor(e,t){super(e,t),this.name="JoseHeaderError",Object.setPrototypeOf(this,Ib.prototype)}}function Eb(e){return new Ib(e,Tb[e])}class Ab{constructor(e){this.typ=e.typ,this.alg=e.alg,this.kid=e.kid}static getShrHeaderString(e){if(!e.kid)throw Eb(kb);if(!e.alg)throw Eb(Sb);const t=new Ab({typ:e.typ||nh,kid:e.kid,alg:e.alg});return JSON.stringify(t)}}class _b{constructor(){this.dbName=uf,this.version=1,this.tableName=df,this.dbOpen=!1}async open(){return new Promise(((e,t)=>{const n=window.indexedDB.open(this.dbName,this.version);n.addEventListener("upgradeneeded",(e=>{e.target.result.createObjectStore(this.tableName)})),n.addEventListener("success",(t=>{const n=t;this.db=n.target.result,this.dbOpen=!0,e()})),n.addEventListener("error",(()=>t(Pw(gw))))}))}closeConnection(){const e=this.db;e&&this.dbOpen&&(e.close(),this.dbOpen=!1)}async validateDbIsOpen(){if(!this.dbOpen)return this.open()}async getItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Pw(sw));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).get(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async setItem(e,t){return await this.validateDbIsOpen(),new Promise(((n,r)=>{if(!this.db)return r(Pw(sw));const o=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).put(t,e);o.addEventListener("success",(()=>{this.closeConnection(),n()})),o.addEventListener("error",(e=>{this.closeConnection(),r(e)}))}))}async removeItem(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Pw(sw));const r=this.db.transaction([this.tableName],"readwrite").objectStore(this.tableName).delete(e);r.addEventListener("success",(()=>{this.closeConnection(),t()})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async getKeys(){return await this.validateDbIsOpen(),new Promise(((e,t)=>{if(!this.db)return t(Pw(sw));const n=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).getAllKeys();n.addEventListener("success",(t=>{const n=t;this.closeConnection(),e(n.target.result)})),n.addEventListener("error",(e=>{this.closeConnection(),t(e)}))}))}async containsKey(e){return await this.validateDbIsOpen(),new Promise(((t,n)=>{if(!this.db)return n(Pw(sw));const r=this.db.transaction([this.tableName],"readonly").objectStore(this.tableName).count(e);r.addEventListener("success",(e=>{const n=e;this.closeConnection(),t(1===n.target.result)})),r.addEventListener("error",(e=>{this.closeConnection(),n(e)}))}))}async deleteDatabase(){return this.db&&this.dbOpen&&this.closeConnection(),new Promise(((e,t)=>{const n=window.indexedDB.deleteDatabase(uf),r=setTimeout((()=>t(!1)),200);n.addEventListener("success",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("blocked",(()=>(clearTimeout(r),e(!0)))),n.addEventListener("error",(()=>(clearTimeout(r),t(!1))))}))}}class Nb{constructor(){this.cache=new Map}async initialize(){}getItem(e){return this.cache.get(e)||null}getUserData(e){return this.getItem(e)}setItem(e,t){this.cache.set(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){this.cache.delete(e)}getKeys(){const e=[];return this.cache.forEach(((t,n)=>{e.push(n)})),e}containsKey(e){return this.cache.has(e)}clear(){this.cache.clear()}}class Pb{constructor(e){this.inMemoryCache=new Nb,this.indexedDBCache=new _b,this.logger=e}handleDatabaseAccessError(e){if(!(e instanceof Nw&&e.errorCode===gw))throw e;this.logger.error("Could not access persistent storage. This may be caused by browser privacy features which block persistent storage in third-party contexts.")}async getItem(e){const t=this.inMemoryCache.getItem(e);if(!t)try{return this.logger.verbose("Queried item not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.getItem(e)}catch(n){this.handleDatabaseAccessError(n)}return t}async setItem(e,t){this.inMemoryCache.setItem(e,t);try{await this.indexedDBCache.setItem(e,t)}catch(n){this.handleDatabaseAccessError(n)}}async removeItem(e){this.inMemoryCache.removeItem(e);try{await this.indexedDBCache.removeItem(e)}catch(t){this.handleDatabaseAccessError(t)}}async getKeys(){const e=this.inMemoryCache.getKeys();if(0===e.length)try{return this.logger.verbose("In-memory cache is empty, now querying persistent storage."),await this.indexedDBCache.getKeys()}catch(t){this.handleDatabaseAccessError(t)}return e}async containsKey(e){const t=this.inMemoryCache.containsKey(e);if(!t)try{return this.logger.verbose("Key not found in in-memory cache, now querying persistent storage."),await this.indexedDBCache.containsKey(e)}catch(n){this.handleDatabaseAccessError(n)}return t}clearInMemory(){this.logger.verbose("Deleting in-memory keystore"),this.inMemoryCache.clear(),this.logger.verbose("In-memory keystore deleted")}async clearPersistent(){try{this.logger.verbose("Deleting persistent keystore");const e=await this.indexedDBCache.deleteDatabase();return e&&this.logger.verbose("Persistent keystore deleted"),e}catch(e){return this.handleDatabaseAccessError(e),!1}}}class Rb{constructor(e,t,n){this.logger=e,function(e){if(!window)throw Pw(iw);if(!window.crypto)throw Pw(jv);if(!e&&!window.crypto.subtle)throw Pw(jv,"crypto_subtle_undefined")}(n??!1),this.cache=new Pb(this.logger),this.performanceClient=t}createNewGuid(){return eb()}base64Encode(e){return Dw(e)}base64Decode(e){return Uw(e)}base64UrlEncode(e){return jw(e)}encodeKid(e){return this.base64UrlEncode(JSON.stringify({kid:e}))}async getPublicKeyThumbprint(e){const t=this.performanceClient?.startMeasurement(Zg,e.correlationId),n=await async function(e,t){return window.crypto.subtle.generateKey(Yw,e,t)}(Rb.EXTRACTABLE,Rb.POP_KEY_USAGES),r=await tb(n.publicKey),o=Ob({e:r.e,kty:r.kty,n:r.n}),i=await this.hashString(o),s=await tb(n.privateKey),a=await async function(e,t,n){return window.crypto.subtle.importKey("jwk",e,Yw,t,n)}(s,!1,["sign"]);return await this.cache.setItem(i,{privateKey:a,publicKey:n.publicKey,requestMethod:e.resourceRequestMethod,requestUri:e.resourceRequestUri}),t&&t.end({success:!0}),i}async removeTokenBindingKey(e){await this.cache.removeItem(e);return!await this.cache.containsKey(e)}async clearKeystore(){this.cache.clearInMemory();try{return await this.cache.clearPersistent(),!0}catch(e){return e instanceof Error?this.logger.error(`Clearing keystore failed with error: ${e.message}`):this.logger.error("Clearing keystore failed with unknown error"),!1}}async signJwt(e,t,n,r){const o=this.performanceClient?.startMeasurement(ey,r),i=await this.cache.getItem(t);if(!i)throw Pw(hw);const s=await tb(i.publicKey),a=Ob(s),c=jw(JSON.stringify({kid:t})),l=jw(Ab.getShrHeaderString({...n?.header,alg:s.alg,kid:c}));e.cnf={jwk:JSON.parse(a)};const u=`${l}.${jw(JSON.stringify(e))}`,d=(new TextEncoder).encode(u),h=await async function(e,t){return window.crypto.subtle.sign(Yw,e,t)}(i.privateKey,d),f=`${u}.${Lw(new Uint8Array(h))}`;return o&&o.end({success:!0}),f}async hashString(e){return lb(e)}}function Ob(e){return JSON.stringify(e,Object.keys(e).sort())}Rb.POP_KEY_USAGES=["sign","verify"],Rb.EXTRACTABLE=!0;const Mb=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}try{const r=e(...arguments);return i?.end({success:!0}),n.trace(`Returning result from ${t}`),r}catch(s){n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(s))}catch(s){n.trace("Unable to print error message.")}throw i?.end({success:!1},s),s}},jb=(e,t,n,r,o)=>function(){n.trace(`Executing function ${t}`);const i=r?.startMeasurement(t,o);if(o){const e=t+"CallCount";r?.incrementFields({[e]:1},o)}return r?.setPreQueueTime(t,o),e(...arguments).then((e=>(n.trace(`Returning result from ${t}`),i?.end({success:!0}),e))).catch((e=>{n.trace(`Error occurred in ${t}`);try{n.trace(JSON.stringify(e))}catch(e){n.trace("Unable to print error message.")}throw i?.end({success:!1},e),e}))};class Lb{constructor(e,t,n,r){this.networkInterface=e,this.logger=t,this.performanceClient=n,this.correlationId=r}async detectRegion(e,t){this.performanceClient?.addQueueMeasurement(ev,this.correlationId);let n=e;if(n)t.region_source=Wd;else{const e=Lb.IMDS_OPTIONS;try{const r=await jb(this.getRegionFromIMDS.bind(this),tv,this.logger,this.performanceClient,this.correlationId)(Qu.IMDS_VERSION,e);if(r.status===zd&&(n=r.body,t.region_source=Qd),r.status===$d){const r=await jb(this.getCurrentVersion.bind(this),nv,this.logger,this.performanceClient,this.correlationId)(e);if(!r)return t.region_source=Kd,null;const o=await jb(this.getRegionFromIMDS.bind(this),tv,this.logger,this.performanceClient,this.correlationId)(r,e);o.status===zd&&(n=o.body,t.region_source=Qd)}}catch(r){return t.region_source=Kd,null}}return n||(t.region_source=Kd),n||null}async getRegionFromIMDS(e,t){return this.performanceClient?.addQueueMeasurement(tv,this.correlationId),this.networkInterface.sendGetRequestAsync(`${Qu.IMDS_ENDPOINT}?api-version=${e}&format=text`,t,Qu.IMDS_TIMEOUT)}async getCurrentVersion(e){this.performanceClient?.addQueueMeasurement(nv,this.correlationId);try{const t=await this.networkInterface.sendGetRequestAsync(`${Qu.IMDS_ENDPOINT}?format=json`,e);return t.status===$d&&t.body&&t.body["newest-versions"]&&t.body["newest-versions"].length>0?t.body["newest-versions"][0]:null}catch(t){return null}}}Lb.IMDS_OPTIONS={headers:{Metadata:"true"}};class Db{constructor(e,t,n,r,o,i,s,a){this.canonicalAuthority=e,this._canonicalAuthority.validateAsUri(),this.networkInterface=t,this.cacheManager=n,this.authorityOptions=r,this.regionDiscoveryMetadata={region_used:void 0,region_source:void 0,region_outcome:void 0},this.logger=o,this.performanceClient=s,this.correlationId=i,this.managedIdentity=a||!1,this.regionDiscovery=new Lb(t,this.logger,this.performanceClient,this.correlationId)}getAuthorityType(e){if(e.HostNameAndPort.endsWith(Qu.CIAM_AUTH_URL))return vg;const t=e.PathSegments;if(t.length)switch(t[0].toLowerCase()){case Qu.ADFS:return gg;case Qu.DSTS:return yg}return mg}get authorityType(){return this.getAuthorityType(this.canonicalAuthorityUrlComponents)}get protocolMode(){return this.authorityOptions.protocolMode}get options(){return this.authorityOptions}get canonicalAuthority(){return this._canonicalAuthority.urlString}set canonicalAuthority(e){this._canonicalAuthority=new Sg(e),this._canonicalAuthority.validateAsUri(),this._canonicalAuthorityUrlComponents=null}get canonicalAuthorityUrlComponents(){return this._canonicalAuthorityUrlComponents||(this._canonicalAuthorityUrlComponents=this._canonicalAuthority.getUrlComponents()),this._canonicalAuthorityUrlComponents}get hostnameAndPort(){return this.canonicalAuthorityUrlComponents.HostNameAndPort.toLowerCase()}get tenant(){return this.canonicalAuthorityUrlComponents.PathSegments[0]}get authorizationEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.authorization_endpoint);throw fm(Tp)}get tokenEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint);throw fm(Tp)}get deviceCodeEndpoint(){if(this.discoveryComplete())return this.replacePath(this.metadata.token_endpoint.replace("/token","/devicecode"));throw fm(Tp)}get endSessionEndpoint(){if(this.discoveryComplete()){if(!this.metadata.end_session_endpoint)throw fm(om);return this.replacePath(this.metadata.end_session_endpoint)}throw fm(Tp)}get selfSignedJwtAudience(){if(this.discoveryComplete())return this.replacePath(this.metadata.issuer);throw fm(Tp)}get jwksUri(){if(this.discoveryComplete())return this.replacePath(this.metadata.jwks_uri);throw fm(Tp)}canReplaceTenant(e){return 1===e.PathSegments.length&&!Db.reservedTenantDomains.has(e.PathSegments[0])&&this.getAuthorityType(e)===mg&&this.protocolMode!==vp}replaceTenant(e){return e.replace(/{tenant}|{tenantid}/g,this.tenant)}replacePath(e){let t=e;const n=new Sg(this.metadata.canonical_authority).getUrlComponents(),r=n.PathSegments;return this.canonicalAuthorityUrlComponents.PathSegments.forEach(((e,o)=>{let i=r[o];if(0===o&&this.canReplaceTenant(n)){const e=new Sg(this.metadata.authorization_endpoint).getUrlComponents().PathSegments[0];i!==e&&(this.logger.verbose(`Replacing tenant domain name ${i} with id ${e}`),i=e)}e!==i&&(t=t.replace(`/${i}/`,`/${e}/`))})),this.replaceTenant(t)}get defaultOpenIdConfigurationEndpoint(){const e=this.hostnameAndPort;return this.canonicalAuthority.endsWith("v2.0/")||this.authorityType===gg||this.protocolMode===vp&&!this.isAliasOfKnownMicrosoftAuthority(e)?`${this.canonicalAuthority}.well-known/openid-configuration`:`${this.canonicalAuthority}v2.0/.well-known/openid-configuration`}discoveryComplete(){return!!this.metadata}async resolveEndpointsAsync(){this.performanceClient?.addQueueMeasurement(Vy,this.correlationId);const e=this.getCurrentMetadataEntity(),t=await jb(this.updateCloudDiscoveryMetadata.bind(this),Yy,this.logger,this.performanceClient,this.correlationId)(e);this.canonicalAuthority=this.canonicalAuthority.replace(this.hostnameAndPort,e.preferred_network);const n=await jb(this.updateEndpointMetadata.bind(this),Xy,this.logger,this.performanceClient,this.correlationId)(e);this.updateCachedMetadata(e,t,{source:n}),this.performanceClient?.addFields({cloudDiscoverySource:t,authorityEndpointSource:n},this.correlationId)}getCurrentMetadataEntity(){let e=this.cacheManager.getAuthorityMetadataByAlias(this.hostnameAndPort);return e||(e={aliases:[],preferred_cache:this.hostnameAndPort,preferred_network:this.hostnameAndPort,canonical_authority:this.canonicalAuthority,authorization_endpoint:"",token_endpoint:"",end_session_endpoint:"",issuer:"",aliasesFromNetwork:!1,endpointsFromNetwork:!1,expiresAt:Om(),jwks_uri:""}),e}updateCachedMetadata(e,t,n){t!==Rd&&n?.source!==Rd&&(e.expiresAt=Om(),e.canonical_authority=this.canonicalAuthority);const r=this.cacheManager.generateAuthorityMetadataCacheKey(e.preferred_cache);this.cacheManager.setAuthorityMetadata(r,e),this.metadata=e}async updateEndpointMetadata(e){this.performanceClient?.addQueueMeasurement(Xy,this.correlationId);const t=this.updateEndpointMetadataFromLocalSources(e);if(t){if(t.source===Md&&this.authorityOptions.azureRegionConfiguration?.azureRegion&&t.metadata){Mm(e,await jb(this.updateMetadataWithRegionalInformation.bind(this),Zy,this.logger,this.performanceClient,this.correlationId)(t.metadata),!1),e.canonical_authority=this.canonicalAuthority}return t.source}let n=await jb(this.getEndpointMetadataFromNetwork.bind(this),Jy,this.logger,this.performanceClient,this.correlationId)();if(n)return this.authorityOptions.azureRegionConfiguration?.azureRegion&&(n=await jb(this.updateMetadataWithRegionalInformation.bind(this),Zy,this.logger,this.performanceClient,this.correlationId)(n)),Mm(e,n,!0),Od;throw fm(Ep,this.defaultOpenIdConfigurationEndpoint)}updateEndpointMetadataFromLocalSources(e){this.logger.verbose("Attempting to get endpoint metadata from authority configuration");const t=this.getEndpointMetadataFromConfig();if(t)return this.logger.verbose("Found endpoint metadata in authority configuration"),Mm(e,t,!1),{source:Pd};if(this.logger.verbose("Did not find endpoint metadata in the config... Attempting to get endpoint metadata from the hardcoded values."),this.authorityOptions.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get endpoint metadata from the network metadata cache.");else{const t=this.getEndpointMetadataFromHardcodedValues();if(t)return Mm(e,t,!1),{source:Md,metadata:t};this.logger.verbose("Did not find endpoint metadata in hardcoded values... Attempting to get endpoint metadata from the network metadata cache.")}const n=Lm(e);return this.isAuthoritySameType(e)&&e.endpointsFromNetwork&&!n?(this.logger.verbose("Found endpoint metadata in the cache."),{source:Rd}):(n&&this.logger.verbose("The metadata entity is expired."),null)}isAuthoritySameType(e){return new Sg(e.canonical_authority).getUrlComponents().PathSegments.length===this.canonicalAuthorityUrlComponents.PathSegments.length}getEndpointMetadataFromConfig(){if(this.authorityOptions.authorityMetadata)try{return JSON.parse(this.authorityOptions.authorityMetadata)}catch(e){throw ag(Ym)}return null}async getEndpointMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Jy,this.correlationId);const e={},t=this.defaultOpenIdConfigurationEndpoint;this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: attempting to retrieve OAuth endpoints from ${t}`);try{const n=await this.networkInterface.sendGetRequestAsync(t,e),r=function(e){return e.hasOwnProperty("authorization_endpoint")&&e.hasOwnProperty("token_endpoint")&&e.hasOwnProperty("issuer")&&e.hasOwnProperty("jwks_uri")}(n.body);return r?n.body:(this.logger.verbose("Authority.getEndpointMetadataFromNetwork: could not parse response as OpenID configuration"),null)}catch(n){return this.logger.verbose(`Authority.getEndpointMetadataFromNetwork: ${n}`),null}}getEndpointMetadataFromHardcodedValues(){return this.hostnameAndPort in Tg?Tg[this.hostnameAndPort]:null}async updateMetadataWithRegionalInformation(e){this.performanceClient?.addQueueMeasurement(Zy,this.correlationId);const t=this.authorityOptions.azureRegionConfiguration?.azureRegion;if(t){if(t!==Qu.AZURE_REGION_AUTO_DISCOVER_FLAG)return this.regionDiscoveryMetadata.region_outcome=Vd,this.regionDiscoveryMetadata.region_used=t,Db.replaceWithRegionalInformation(e,t);const n=await jb(this.regionDiscovery.detectRegion.bind(this.regionDiscovery),ev,this.logger,this.performanceClient,this.correlationId)(this.authorityOptions.azureRegionConfiguration?.environmentRegion,this.regionDiscoveryMetadata);if(n)return this.regionDiscoveryMetadata.region_outcome=Gd,this.regionDiscoveryMetadata.region_used=n,Db.replaceWithRegionalInformation(e,n);this.regionDiscoveryMetadata.region_outcome=Yd}return e}async updateCloudDiscoveryMetadata(e){this.performanceClient?.addQueueMeasurement(Yy,this.correlationId);const t=this.updateCloudDiscoveryMetadataFromLocalSources(e);if(t)return t;const n=await jb(this.getCloudDiscoveryMetadataFromNetwork.bind(this),Gy,this.logger,this.performanceClient,this.correlationId)();if(n)return jm(e,n,!0),Od;throw ag(Jm)}updateCloudDiscoveryMetadataFromLocalSources(e){this.logger.verbose("Attempting to get cloud discovery metadata  from authority configuration"),this.logger.verbosePii(`Known Authorities: ${this.authorityOptions.knownAuthorities||Qu.NOT_APPLICABLE}`),this.logger.verbosePii(`Authority Metadata: ${this.authorityOptions.authorityMetadata||Qu.NOT_APPLICABLE}`),this.logger.verbosePii(`Canonical Authority: ${e.canonical_authority||Qu.NOT_APPLICABLE}`);const t=this.getCloudDiscoveryMetadataFromConfig();if(t)return this.logger.verbose("Found cloud discovery metadata in authority configuration"),jm(e,t,!1),Pd;if(this.logger.verbose("Did not find cloud discovery metadata in the config... Attempting to get cloud discovery metadata from the hardcoded values."),this.options.skipAuthorityMetadataCache)this.logger.verbose("Skipping hardcoded cloud discovery metadata cache since skipAuthorityMetadataCache is set to true. Attempting to get cloud discovery metadata from the network metadata cache.");else{const t=(n=this.hostnameAndPort,_g(Ig.metadata,n));if(t)return this.logger.verbose("Found cloud discovery metadata from hardcoded values."),jm(e,t,!1),Md;this.logger.verbose("Did not find cloud discovery metadata in hardcoded values... Attempting to get cloud discovery metadata from the network metadata cache.")}var n;const r=Lm(e);return this.isAuthoritySameType(e)&&e.aliasesFromNetwork&&!r?(this.logger.verbose("Found cloud discovery metadata in the cache."),Rd):(r&&this.logger.verbose("The metadata entity is expired."),null)}getCloudDiscoveryMetadataFromConfig(){if(this.authorityType===vg)return this.logger.verbose("CIAM authorities do not support cloud discovery metadata, generate the aliases from authority host."),Db.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort);if(this.authorityOptions.cloudDiscoveryMetadata){this.logger.verbose("The cloud discovery metadata has been provided as a network response, in the config.");try{this.logger.verbose("Attempting to parse the cloud discovery metadata.");const e=_g(JSON.parse(this.authorityOptions.cloudDiscoveryMetadata).metadata,this.hostnameAndPort);if(this.logger.verbose("Parsed the cloud discovery metadata."),e)return this.logger.verbose("There is returnable metadata attached to the parsed cloud discovery metadata."),e;this.logger.verbose("There is no metadata attached to the parsed cloud discovery metadata.")}catch(e){throw this.logger.verbose("Unable to parse the cloud discovery metadata. Throwing Invalid Cloud Discovery Metadata Error."),ag(Gm)}}return this.isInKnownAuthorities()?(this.logger.verbose("The host is included in knownAuthorities. Creating new cloud discovery metadata from the host."),Db.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)):null}async getCloudDiscoveryMetadataFromNetwork(){this.performanceClient?.addQueueMeasurement(Gy,this.correlationId);const e=`${Qu.AAD_INSTANCE_DISCOVERY_ENDPT}${this.canonicalAuthority}oauth2/v2.0/authorize`,t={};let n=null;try{const r=await this.networkInterface.sendGetRequestAsync(e,t);let o,i;if(function(e){return e.hasOwnProperty("tenant_discovery_endpoint")&&e.hasOwnProperty("metadata")}(r.body))o=r.body,i=o.metadata,this.logger.verbosePii(`tenant_discovery_endpoint is: ${o.tenant_discovery_endpoint}`);else{if(!function(e){return e.hasOwnProperty("error")&&e.hasOwnProperty("error_description")}(r.body))return this.logger.error("AAD did not return a CloudInstanceDiscoveryResponse or CloudInstanceDiscoveryErrorResponse"),null;if(this.logger.warning(`A CloudInstanceDiscoveryErrorResponse was returned. The cloud instance discovery network request's status code is: ${r.status}`),o=r.body,o.error===Qu.INVALID_INSTANCE)return this.logger.error("The CloudInstanceDiscoveryErrorResponse error is invalid_instance."),null;this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error is ${o.error}`),this.logger.warning(`The CloudInstanceDiscoveryErrorResponse error description is ${o.error_description}`),this.logger.warning("Setting the value of the CloudInstanceDiscoveryMetadata (returned from the network) to []"),i=[]}this.logger.verbose("Attempting to find a match between the developer's authority and the CloudInstanceDiscoveryMetadata returned from the network request."),n=_g(i,this.hostnameAndPort)}catch(r){if(r instanceof sh)this.logger.error(`There was a network error while attempting to get the cloud discovery instance metadata.\nError: ${r.errorCode}\nError Description: ${r.errorMessage}`);else{const e=r;this.logger.error(`A non-MSALJS error was thrown while attempting to get the cloud instance discovery metadata.\nError: ${e.name}\nError Description: ${e.message}`)}return null}return n||(this.logger.warning("The developer's authority was not found within the CloudInstanceDiscoveryMetadata returned from the network request."),this.logger.verbose("Creating custom Authority for custom domain scenario."),n=Db.createCloudDiscoveryMetadataFromHost(this.hostnameAndPort)),n}isInKnownAuthorities(){return this.authorityOptions.knownAuthorities.filter((e=>e&&Sg.getDomainFromUrl(e).toLowerCase()===this.hostnameAndPort)).length>0}static generateAuthority(e,t){let n;if(t&&t.azureCloudInstance!==bp){const e=t.tenant?t.tenant:Qu.DEFAULT_COMMON_TENANT;n=`${t.azureCloudInstance}/${e}/`}return n||e}static createCloudDiscoveryMetadataFromHost(e){return{preferred_network:e,preferred_cache:e,aliases:[e]}}getPreferredCache(){if(this.managedIdentity)return Qu.DEFAULT_AUTHORITY_HOST;if(this.discoveryComplete())return this.metadata.preferred_cache;throw fm(Tp)}isAlias(e){return this.metadata.aliases.indexOf(e)>-1}isAliasOfKnownMicrosoftAuthority(e){return Eg.has(e)}static isPublicCloudAuthority(e){return Qu.KNOWN_PUBLIC_CLOUDS.indexOf(e)>=0}static buildRegionalAuthorityString(e,t,n){const r=new Sg(e);r.validateAsUri();const o=r.getUrlComponents();let i=`${t}.${o.HostNameAndPort}`;this.isPublicCloudAuthority(o.HostNameAndPort)&&(i=`${t}.${Qu.REGIONAL_AUTH_PUBLIC_CLOUD_SUFFIX}`);const s=Sg.constructAuthorityUriFromObject({...r.getUrlComponents(),HostNameAndPort:i}).urlString;return n?`${s}?${n}`:s}static replaceWithRegionalInformation(e,t){const n={...e};return n.authorization_endpoint=Db.buildRegionalAuthorityString(n.authorization_endpoint,t),n.token_endpoint=Db.buildRegionalAuthorityString(n.token_endpoint,t),n.end_session_endpoint&&(n.end_session_endpoint=Db.buildRegionalAuthorityString(n.end_session_endpoint,t)),n}static transformCIAMAuthority(e){let t=e;const n=new Sg(e).getUrlComponents();if(0===n.PathSegments.length&&n.HostNameAndPort.endsWith(Qu.CIAM_AUTH_URL)){t=`${t}${n.HostNameAndPort.split(".")[0]}${Qu.AAD_TENANT_DOMAIN_SUFFIX}`}return t}}function qb(e){return e.endsWith(Qu.FORWARD_SLASH)?e:`${e}${Qu.FORWARD_SLASH}`}Db.reservedTenantDomains=new Set(["{tenant}","{tenantid}",ad,ld,cd]);const Ub="no_tokens_found",Fb="native_account_unavailable",Bb="refresh_token_expired",Hb="bad_token",zb=["interaction_required","consent_required","login_required",Hb],$b=["message_only","additional_action","basic_action","user_password_expired","consent_required","bad_token"],Kb={[Ub]:"No refresh token found in the cache. Please sign-in.",[Fb]:"The requested account is not available in the native broker. It may have been deleted or logged out. Please sign-in again using an interactive API.",[Bb]:"Refresh token has expired.",[Hb]:"Identity provider returned bad_token due to an expired or invalid refresh token. Please invoke an interactive API to resolve."};class Wb extends sh{constructor(e,t,n,r,o,i,s,a){super(e,t,n),Object.setPrototypeOf(this,Wb.prototype),this.timestamp=r||Qu.EMPTY_STRING,this.traceId=o||Qu.EMPTY_STRING,this.correlationId=i||Qu.EMPTY_STRING,this.claims=s||Qu.EMPTY_STRING,this.name="InteractionRequiredAuthError",this.errorNo=a}}function Qb(e,t,n){const r=!!e&&zb.indexOf(e)>-1,o=!!n&&$b.indexOf(n)>-1,i=!!t&&zb.some((e=>t.indexOf(e)>-1));return r||i||o}function Vb(e){return new Wb(e,Kb[e])}function Gb(e,t,n){return{clientId:e,authority:t.authority,scopes:t.scopes,homeAccountIdentifier:n,claims:t.claims,authenticationScheme:t.authenticationScheme,resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,sshKid:t.sshKid,embeddedClientId:t.embeddedClientId||t.tokenBodyParameters?.clientId}}const Yb=864e5,Jb="Lax",Xb="None";class Zb{initialize(){return Promise.resolve()}getItem(e){const t=`${encodeURIComponent(e)}`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){const e=n[r],[o,...i]=decodeURIComponent(e).trim().split("="),s=i.join("=");if(o===t)return s}return""}getUserData(){throw fm(lm)}setItem(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jb,i=`${encodeURIComponent(e)}=${encodeURIComponent(t)};path=/;SameSite=${o};`;if(n){const e=function(e){const t=new Date,n=new Date(t.getTime()+e*Yb);return n.toUTCString()}(n);i+=`expires=${e};`}(r||o===Xb)&&(i+="Secure;"),document.cookie=i}async setUserData(){return Promise.reject(fm(lm))}removeItem(e){this.setItem(e,"",-1)}getKeys(){const e=document.cookie.split(";"),t=[];return e.forEach((e=>{const n=decodeURIComponent(e).trim().split("=");t.push(n[0])})),t}containsKey(e){return this.getKeys().includes(e)}}function eC(e){const t=e.getItem(Bh);return t?JSON.parse(t):[]}function tC(e,t){const n=t.getItem(`${Hh}.${e}`);if(n){const e=JSON.parse(n);if(e&&e.hasOwnProperty("idToken")&&e.hasOwnProperty("accessToken")&&e.hasOwnProperty("refreshToken"))return e}return{idToken:[],accessToken:[],refreshToken:[]}}const nC="msal.cache.encryption";class rC{constructor(e,t,n){if(!window.localStorage)throw fh(ch);this.memoryStorage=new Nb,this.initialized=!1,this.clientId=e,this.logger=t,this.performanceClient=n,this.broadcast=new BroadcastChannel("msal.broadcast.cache")}async initialize(e){const t=new Zb,n=t.getItem(nC);let r={key:"",id:""};if(n)try{r=JSON.parse(n)}catch(o){}if(r.key&&r.id){const t=Mb(Fw,bv,this.logger,this.performanceClient,e)(r.key);this.encryptionCookie={id:r.id,key:await jb(ib,vv,this.logger,this.performanceClient,e)(t)},await jb(this.importExistingCache.bind(this),uv,this.logger,this.performanceClient,e)(e)}else{this.clear();const n=eb(),r=await jb(ob,wv,this.logger,this.performanceClient,e)(),o=Mb(Lw,Cv,this.logger,this.performanceClient,e)(new Uint8Array(r));this.encryptionCookie={id:n,key:await jb(ib,vv,this.logger,this.performanceClient,e)(r)};const i={id:n,key:o};t.setItem(nC,JSON.stringify(i),0,!0,Xb)}this.broadcast.addEventListener("message",this.updateCache.bind(this)),this.initialized=!0}getItem(e){return window.localStorage.getItem(e)}getUserData(e){if(!this.initialized)throw Pw(Cw);return this.memoryStorage.getItem(e)}setItem(e,t){window.localStorage.setItem(e,t)}async setUserData(e,t,n){if(!this.initialized||!this.encryptionCookie)throw Pw(Cw);const{data:r,nonce:o}=await jb(ab,xv,this.logger,this.performanceClient,n)(this.encryptionCookie.key,t,this.getContext(e)),i={id:this.encryptionCookie.id,nonce:o,data:r};this.memoryStorage.setItem(e,t),this.setItem(e,JSON.stringify(i)),this.broadcast.postMessage({key:e,value:t,context:this.getContext(e)})}removeItem(e){this.memoryStorage.containsKey(e)&&(this.memoryStorage.removeItem(e),this.broadcast.postMessage({key:e,value:null,context:this.getContext(e)})),window.localStorage.removeItem(e)}getKeys(){return Object.keys(window.localStorage)}containsKey(e){return window.localStorage.hasOwnProperty(e)}clear(){this.memoryStorage.clear();eC(this).forEach((e=>this.removeItem(e)));const e=tC(this.clientId,this);e.idToken.forEach((e=>this.removeItem(e))),e.accessToken.forEach((e=>this.removeItem(e))),e.refreshToken.forEach((e=>this.removeItem(e))),this.getKeys().forEach((e=>{(e.startsWith(Qu.CACHE_PREFIX)||-1!==e.indexOf(this.clientId))&&this.removeItem(e)}))}async importExistingCache(e){if(!this.encryptionCookie)return;let t=eC(this);t=await this.importArray(t,e),this.setItem(Bh,JSON.stringify(t));const n=tC(this.clientId,this);n.idToken=await this.importArray(n.idToken,e),n.accessToken=await this.importArray(n.accessToken,e),n.refreshToken=await this.importArray(n.refreshToken,e),this.setItem(`${Hh}.${this.clientId}`,JSON.stringify(n))}async getItemFromEncryptedCache(e,t){if(!this.encryptionCookie)return null;const n=this.getItem(e);if(!n)return null;let r;try{r=JSON.parse(n)}catch(o){return null}return r.id&&r.nonce&&r.data?r.id!==this.encryptionCookie.id?(this.performanceClient.incrementFields({encryptedCacheExpiredCount:1},t),null):jb(cb,kv,this.logger,this.performanceClient,t)(this.encryptionCookie.key,r.nonce,this.getContext(e),r.data):(this.performanceClient.incrementFields({unencryptedCacheCount:1},t),null)}async importArray(e,t){const n=[],r=[];return e.forEach((e=>{const o=this.getItemFromEncryptedCache(e,t).then((t=>{t?(this.memoryStorage.setItem(e,t),n.push(e)):this.removeItem(e)}));r.push(o)})),await Promise.all(r),n}getContext(e){let t="";return e.includes(this.clientId)&&(t=this.clientId),t}updateCache(e){this.logger.trace("Updating internal cache from broadcast event");const t=this.performanceClient.startMeasurement(hv);t.add({isBackground:!0});const{key:n,value:r,context:o}=e.data;return n?o&&o!==this.clientId?(this.logger.trace(`Ignoring broadcast event from clientId: ${o}`),void t.end({success:!1,errorCode:"contextMismatch"})):(r?(this.memoryStorage.setItem(n,r),this.logger.verbose("Updated item in internal cache")):(this.memoryStorage.removeItem(n),this.logger.verbose("Removed item from internal cache")),void t.end({success:!0})):(this.logger.error("Broadcast event missing key"),void t.end({success:!1,errorCode:"noKey"}))}}class oC{constructor(){if(!window.sessionStorage)throw fh(ch)}async initialize(){}getItem(e){return window.sessionStorage.getItem(e)}getUserData(e){return this.getItem(e)}setItem(e,t){window.sessionStorage.setItem(e,t)}async setUserData(e,t){this.setItem(e,t)}removeItem(e){window.sessionStorage.removeItem(e)}getKeys(){return Object.keys(window.sessionStorage)}containsKey(e){return window.sessionStorage.hasOwnProperty(e)}}class iC extends Mg{constructor(e,t,n,r,o,i,s){super(e,n,r,s),this.cacheConfig=t,this.logger=r,this.internalStorage=new Nb,this.browserStorage=sC(e,t.cacheLocation,r,o),this.temporaryCacheStorage=sC(e,t.temporaryCacheLocation,r,o),this.cookieStorage=new Zb,this.performanceClient=o,this.eventHandler=i}async initialize(e){await this.browserStorage.initialize(e)}validateAndParseJson(e){try{const t=JSON.parse(e);return t&&"object"===typeof t?t:null}catch(t){return null}}getAccount(e){this.logger.trace("BrowserCacheManager.getAccount called");const t=this.browserStorage.getUserData(e);if(!t)return this.removeAccountKeyFromMap(e),null;const n=this.validateAndParseJson(t);return n&&bg.isAccountEntity(n)?Mg.toObject(new bg,n):(this.removeAccountKeyFromMap(e),null)}async setAccount(e,t){this.logger.trace("BrowserCacheManager.setAccount called");const n=e.generateAccountKey();await jb(this.browserStorage.setUserData.bind(this.browserStorage),dv,this.logger,this.performanceClient)(n,JSON.stringify(e),t);const r=this.addAccountKeyToMap(n);this.cacheConfig.cacheLocation===Ah&&r&&this.eventHandler.emitEvent(Tf,void 0,e.getAccountInfo())}getAccountKeys(){return eC(this.browserStorage)}addAccountKeyToMap(e){this.logger.trace("BrowserCacheManager.addAccountKeyToMap called"),this.logger.tracePii(`BrowserCacheManager.addAccountKeyToMap called with key: ${e}`);const t=this.getAccountKeys();return-1===t.indexOf(e)?(t.push(e),this.browserStorage.setItem(Bh,JSON.stringify(t)),this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key added"),!0):(this.logger.verbose("BrowserCacheManager.addAccountKeyToMap account key already exists in map"),!1)}removeAccountKeyFromMap(e){this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap called"),this.logger.tracePii(`BrowserCacheManager.removeAccountKeyFromMap called with key: ${e}`);const t=this.getAccountKeys(),n=t.indexOf(e);n>-1?(t.splice(n,1),this.browserStorage.setItem(Bh,JSON.stringify(t)),this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap account key removed")):this.logger.trace("BrowserCacheManager.removeAccountKeyFromMap key not found in existing map")}async removeAccount(e){super.removeAccount(e),this.removeAccountKeyFromMap(e)}async removeAccountContext(e){await super.removeAccountContext(e),this.cacheConfig.cacheLocation===Ah&&this.eventHandler.emitEvent(If,void 0,e.getAccountInfo())}removeIdToken(e){super.removeIdToken(e),this.removeTokenKey(e,Id.ID_TOKEN)}async removeAccessToken(e){super.removeAccessToken(e),this.removeTokenKey(e,Id.ACCESS_TOKEN)}removeRefreshToken(e){super.removeRefreshToken(e),this.removeTokenKey(e,Id.REFRESH_TOKEN)}getTokenKeys(){return tC(this.clientId,this.browserStorage)}addTokenKey(e,t){this.logger.trace("BrowserCacheManager addTokenKey called");const n=this.getTokenKeys();switch(t){case Id.ID_TOKEN:-1===n.idToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - idToken added to map"),n.idToken.push(e));break;case Id.ACCESS_TOKEN:-1===n.accessToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - accessToken added to map"),n.accessToken.push(e));break;case Id.REFRESH_TOKEN:-1===n.refreshToken.indexOf(e)&&(this.logger.info("BrowserCacheManager: addTokenKey - refreshToken added to map"),n.refreshToken.push(e));break;default:throw this.logger.error(`BrowserCacheManager:addTokenKey - CredentialType provided invalid. CredentialType: ${t}`),fm(Yp)}this.browserStorage.setItem(`${Hh}.${this.clientId}`,JSON.stringify(n))}removeTokenKey(e,t){this.logger.trace("BrowserCacheManager removeTokenKey called");const n=this.getTokenKeys();switch(t){case Id.ID_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove idToken with key: ${e} from map`);const r=n.idToken.indexOf(e);r>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - idToken removed from map"),n.idToken.splice(r,1)):this.logger.info("BrowserCacheManager: removeTokenKey - idToken does not exist in map. Either it was previously removed or it was never added.");break;case Id.ACCESS_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove accessToken with key: ${e} from map`);const o=n.accessToken.indexOf(e);o>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - accessToken removed from map"),n.accessToken.splice(o,1)):this.logger.info("BrowserCacheManager: removeTokenKey - accessToken does not exist in map. Either it was previously removed or it was never added.");break;case Id.REFRESH_TOKEN:this.logger.infoPii(`BrowserCacheManager: removeTokenKey - attempting to remove refreshToken with key: ${e} from map`);const i=n.refreshToken.indexOf(e);i>-1?(this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken removed from map"),n.refreshToken.splice(i,1)):this.logger.info("BrowserCacheManager: removeTokenKey - refreshToken does not exist in map. Either it was previously removed or it was never added.");break;default:throw this.logger.error(`BrowserCacheManager:removeTokenKey - CredentialType provided invalid. CredentialType: ${t}`),fm(Yp)}this.browserStorage.setItem(`${Hh}.${this.clientId}`,JSON.stringify(n))}getIdTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.ID_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Em(r)&&r.hasOwnProperty("realm")&&r.credentialType===Id.ID_TOKEN?(this.logger.trace("BrowserCacheManager.getIdTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getIdTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.ID_TOKEN),null);var r}async setIdTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setIdTokenCredential called");const n=km(e);await jb(this.browserStorage.setUserData.bind(this.browserStorage),dv,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Id.ID_TOKEN)}getAccessTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.ACCESS_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Em(r)&&r.hasOwnProperty("realm")&&r.hasOwnProperty("target")&&(r.credentialType===Id.ACCESS_TOKEN||r.credentialType===Id.ACCESS_TOKEN_WITH_AUTH_SCHEME)?(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAccessTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.ACCESS_TOKEN),null);var r}async setAccessTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setAccessTokenCredential called");const n=km(e);await jb(this.browserStorage.setUserData.bind(this.browserStorage),dv,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Id.ACCESS_TOKEN)}getRefreshTokenCredential(e){const t=this.browserStorage.getUserData(e);if(!t)return this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.REFRESH_TOKEN),null;const n=this.validateAndParseJson(t);return n&&(r=n)&&Em(r)&&r.credentialType===Id.REFRESH_TOKEN?(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: cache hit"),n):(this.logger.trace("BrowserCacheManager.getRefreshTokenCredential: called, no cache hit"),this.removeTokenKey(e,Id.REFRESH_TOKEN),null);var r}async setRefreshTokenCredential(e,t){this.logger.trace("BrowserCacheManager.setRefreshTokenCredential called");const n=km(e);await jb(this.browserStorage.setUserData.bind(this.browserStorage),dv,this.logger,this.performanceClient)(n,JSON.stringify(e),t),this.addTokenKey(n,Id.REFRESH_TOKEN)}getAppMetadata(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&(r=e,(o=n)&&0===r.indexOf(Ed)&&o.hasOwnProperty("clientId")&&o.hasOwnProperty("environment"))?(this.logger.trace("BrowserCacheManager.getAppMetadata: cache hit"),n):(this.logger.trace("BrowserCacheManager.getAppMetadata: called, no cache hit"),null);var r,o}setAppMetadata(e){this.logger.trace("BrowserCacheManager.setAppMetadata called");const t=function(e){let{environment:t,clientId:n}=e;return[Ed,t,n].join(Sd).toLowerCase()}(e);this.browserStorage.setItem(t,JSON.stringify(e))}getServerTelemetry(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){const n=0===e.indexOf(jd.CACHE_KEY);let r=!0;return t&&(r=t.hasOwnProperty("failedRequests")&&t.hasOwnProperty("errors")&&t.hasOwnProperty("cacheHits")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getServerTelemetry: cache hit"),n):(this.logger.trace("BrowserCacheManager.getServerTelemetry: called, no cache hit"),null)}setServerTelemetry(e,t){this.logger.trace("BrowserCacheManager.setServerTelemetry called"),this.browserStorage.setItem(e,JSON.stringify(t))}getAuthorityMetadata(e){const t=this.internalStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getAuthorityMetadata: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){return!!t&&0===e.indexOf(_d)&&t.hasOwnProperty("aliases")&&t.hasOwnProperty("preferred_cache")&&t.hasOwnProperty("preferred_network")&&t.hasOwnProperty("canonical_authority")&&t.hasOwnProperty("authorization_endpoint")&&t.hasOwnProperty("token_endpoint")&&t.hasOwnProperty("issuer")&&t.hasOwnProperty("aliasesFromNetwork")&&t.hasOwnProperty("endpointsFromNetwork")&&t.hasOwnProperty("expiresAt")&&t.hasOwnProperty("jwks_uri")}(e,n)?(this.logger.trace("BrowserCacheManager.getAuthorityMetadata: cache hit"),n):null}getAuthorityMetadataKeys(){return this.internalStorage.getKeys().filter((e=>this.isAuthorityMetadata(e)))}setWrapperMetadata(e,t){this.internalStorage.setItem(zh,e),this.internalStorage.setItem($h,t)}getWrapperMetadata(){return[this.internalStorage.getItem(zh)||Qu.EMPTY_STRING,this.internalStorage.getItem($h)||Qu.EMPTY_STRING]}setAuthorityMetadata(e,t){this.logger.trace("BrowserCacheManager.setAuthorityMetadata called"),this.internalStorage.setItem(e,JSON.stringify(t))}getActiveAccount(){const e=this.generateCacheKey(sd),t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getActiveAccount: No active account filters found"),null;const n=this.validateAndParseJson(t);return n?(this.logger.trace("BrowserCacheManager.getActiveAccount: Active account filters schema found"),this.getAccountInfoFilteredBy({homeAccountId:n.homeAccountId,localAccountId:n.localAccountId,tenantId:n.tenantId})):(this.logger.trace("BrowserCacheManager.getActiveAccount: No active account found"),null)}setActiveAccount(e){const t=this.generateCacheKey(sd);if(e){this.logger.verbose("setActiveAccount: Active account set");const n={homeAccountId:e.homeAccountId,localAccountId:e.localAccountId,tenantId:e.tenantId};this.browserStorage.setItem(t,JSON.stringify(n))}else this.logger.verbose("setActiveAccount: No account passed, active account not set"),this.browserStorage.removeItem(t);this.eventHandler.emitEvent(Ef)}getThrottlingCache(e){const t=this.browserStorage.getItem(e);if(!t)return this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null;const n=this.validateAndParseJson(t);return n&&function(e,t){let n=!1;e&&(n=0===e.indexOf(Ud));let r=!0;return t&&(r=t.hasOwnProperty("throttleTime")),n&&r}(e,n)?(this.logger.trace("BrowserCacheManager.getThrottlingCache: cache hit"),n):(this.logger.trace("BrowserCacheManager.getThrottlingCache: called, no cache hit"),null)}setThrottlingCache(e,t){this.logger.trace("BrowserCacheManager.setThrottlingCache called"),this.browserStorage.setItem(e,JSON.stringify(t))}getTemporaryCache(e,t){const n=t?this.generateCacheKey(e):e;if(this.cacheConfig.storeAuthStateInCookie){const e=this.cookieStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: storeAuthStateInCookies set to true, retrieving from cookies"),e}const r=this.temporaryCacheStorage.getItem(n);if(!r){if(this.cacheConfig.cacheLocation===Ah){const e=this.browserStorage.getItem(n);if(e)return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item found in local storage"),e}return this.logger.trace("BrowserCacheManager.getTemporaryCache: No cache item found in local storage"),null}return this.logger.trace("BrowserCacheManager.getTemporaryCache: Temporary cache item returned"),r}setTemporaryCache(e,t,n){const r=n?this.generateCacheKey(e):e;this.temporaryCacheStorage.setItem(r,t),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.setTemporaryCache: storeAuthStateInCookie set to true, setting item cookie"),this.cookieStorage.setItem(r,t,void 0,this.cacheConfig.secureCookies))}removeItem(e){this.browserStorage.removeItem(e)}removeTemporaryItem(e){this.temporaryCacheStorage.removeItem(e),this.cacheConfig.storeAuthStateInCookie&&(this.logger.trace("BrowserCacheManager.removeItem: storeAuthStateInCookie is true, clearing item cookie"),this.cookieStorage.removeItem(e))}getKeys(){return this.browserStorage.getKeys()}async clear(){await this.removeAllAccounts(),this.removeAppMetadata(),this.temporaryCacheStorage.getKeys().forEach((e=>{-1===e.indexOf(Qu.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.removeTemporaryItem(e)})),this.browserStorage.getKeys().forEach((e=>{-1===e.indexOf(Qu.CACHE_PREFIX)&&-1===e.indexOf(this.clientId)||this.browserStorage.removeItem(e)})),this.internalStorage.clear()}async clearTokensAndKeysWithClaims(e,t){e.addQueueMeasurement(cv,t);const n=this.getTokenKeys(),r=[];n.accessToken.forEach((e=>{const t=this.getAccessTokenCredential(e);t?.requestedClaimsHash&&e.includes(t.requestedClaimsHash.toLowerCase())&&r.push(this.removeAccessToken(e))})),await Promise.all(r),r.length>0&&this.logger.warning(`${r.length} access tokens with claims in the cache keys have been removed from the cache.`)}generateCacheKey(e){return this.validateAndParseJson(e)?JSON.stringify(e):cg.startsWith(e,Qu.CACHE_PREFIX)?e:`${Qu.CACHE_PREFIX}.${this.clientId}.${e}`}resetRequestCache(){this.logger.trace("BrowserCacheManager.resetRequestCache called"),this.removeTemporaryItem(this.generateCacheKey(Dh)),this.removeTemporaryItem(this.generateCacheKey(qh)),this.removeTemporaryItem(this.generateCacheKey(jh)),this.removeTemporaryItem(this.generateCacheKey(Lh)),this.removeTemporaryItem(this.generateCacheKey(Fh)),this.setInteractionInProgress(!1)}cacheAuthorizeRequest(e,t){this.logger.trace("BrowserCacheManager.cacheAuthorizeRequest called");const n=Dw(JSON.stringify(e));if(this.setTemporaryCache(Dh,n,!0),t){const e=Dw(t);this.setTemporaryCache(qh,e,!0)}}getCachedRequest(){this.logger.trace("BrowserCacheManager.getCachedRequest called");const e=this.getTemporaryCache(Dh,!0);if(!e)throw Pw(tw);const t=this.getTemporaryCache(qh,!0);let n,r="";try{n=JSON.parse(Uw(e)),t&&(r=Uw(t))}catch(o){throw this.logger.errorPii(`Attempted to parse: ${e}`),this.logger.error(`Parsing cached token request threw with error: ${o}`),Pw(nw)}return[n,r]}getCachedNativeRequest(){this.logger.trace("BrowserCacheManager.getCachedNativeRequest called");const e=this.getTemporaryCache(Fh,!0);if(!e)return this.logger.trace("BrowserCacheManager.getCachedNativeRequest: No cached native request found"),null;const t=this.validateAndParseJson(e);return t||(this.logger.error("BrowserCacheManager.getCachedNativeRequest: Unable to parse native request"),null)}isInteractionInProgress(e){const t=this.getInteractionInProgress()?.clientId;return e?t===this.clientId:!!t}getInteractionInProgress(){const e=`${Qu.CACHE_PREFIX}.${Uh}`,t=this.getTemporaryCache(e,!1);try{return t?JSON.parse(t):null}catch(n){return this.logger.error("Cannot parse interaction status. Removing temporary cache items and clearing url hash. Retrying interaction should fix the error"),this.removeTemporaryItem(e),this.resetRequestCache(),ub(window),null}}setInteractionInProgress(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Oh;const n=`${Qu.CACHE_PREFIX}.${Uh}`;if(e){if(this.getInteractionInProgress())throw Pw(Hv);this.setTemporaryCache(n,JSON.stringify({clientId:this.clientId,type:t}),!1)}else e||this.getInteractionInProgress()?.clientId!==this.clientId||this.removeTemporaryItem(n)}async hydrateCache(e,t){const n=Sm(e.account?.homeAccountId,e.account?.environment,e.idToken,this.clientId,e.tenantId);let r;t.claims&&(r=await this.cryptoImpl.hashString(t.claims));const o={idToken:n,accessToken:Tm(e.account?.homeAccountId,e.account.environment,e.accessToken,this.clientId,e.tenantId,e.scopes.join(" "),e.expiresOn?bm(e.expiresOn):0,e.extExpiresOn?bm(e.extExpiresOn):0,Uw,void 0,e.tokenType,void 0,t.sshKid,t.claims,r)};return this.saveCacheRecord(o,e.correlationId)}async saveCacheRecord(e,t,n){try{await super.saveCacheRecord(e,t,n)}catch(r){if(r instanceof Og&&this.performanceClient&&t)try{const e=this.getTokenKeys();this.performanceClient.addFields({cacheRtCount:e.refreshToken.length,cacheIdCount:e.idToken.length,cacheAtCount:e.accessToken.length},t)}catch(r){}throw r}}}function sC(e,t,n,r){try{switch(t){case Ah:return new rC(e,n,r);case _h:return new oC}}catch(o){n.error(o)}return new Nb}class aC{constructor(e){this.eventCallbacks=new Map,this.logger=e||new bf({}),"undefined"!==typeof BroadcastChannel&&(this.broadcastChannel=new BroadcastChannel("msal.broadcast.event")),this.invokeCrossTabCallbacks=this.invokeCrossTabCallbacks.bind(this)}addEventCallback(e,t,n){if("undefined"!==typeof window){const r=n||eb();return this.eventCallbacks.has(r)?(this.logger.error(`Event callback with id: ${r} is already registered. Please provide a unique id or remove the existing callback and try again.`),null):(this.eventCallbacks.set(r,[e,t||[]]),this.logger.verbose(`Event callback registered with id: ${r}`),r)}return null}removeEventCallback(e){this.eventCallbacks.delete(e),this.logger.verbose(`Event callback ${e} removed.`)}emitEvent(e,t,n,r){const o={eventType:e,interactionType:t||null,payload:n||null,error:r||null,timestamp:Date.now()};switch(e){case Tf:case If:case Ef:this.broadcastChannel?.postMessage(o);break;default:this.invokeCallbacks(o)}}invokeCallbacks(e){this.eventCallbacks.forEach(((t,n)=>{let[r,o]=t;(0===o.length||o.includes(e.eventType))&&(this.logger.verbose(`Emitting event to callback ${n}: ${e.eventType}`),r.apply(null,[e]))}))}invokeCrossTabCallbacks(e){const t=e.data;this.invokeCallbacks(t)}subscribeCrossTab(){this.broadcastChannel?.addEventListener("message",this.invokeCrossTabCallbacks)}unsubscribeCrossTab(){this.broadcastChannel?.removeEventListener("message",this.invokeCrossTabCallbacks)}}const cC="home_account_id",lC="UPN",uC="client_id",dC="redirect_uri",hC="token_type",fC="req_cnf",pC="return_spa_code",mC="x-client-xtra-sku",gC="brk_client_id",yC="brk_redirect_uri",vC="instance_aware";function wC(e,t,n){if(!t)return;const r=e.get(uC);r&&e.has(gC)&&n?.addFields({embeddedClientId:r,embeddedRedirectUri:e.get(dC)},t)}function bC(e,t){e.set("response_type",t)}function CC(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Xu;!n||r.includes("openid")||t.includes("openid")||r.push("openid");const o=n?[...t||[],...r]:t||[],i=new lg(o);e.set("scope",i.printScopes())}function xC(e,t){e.set(uC,t)}function kC(e,t){e.set(dC,t)}function SC(e,t){e.set("login_hint",t)}function TC(e,t){e.set(rd,`UPN:${t}`)}function IC(e,t){e.set(rd,`Oid:${t.uid}@${t.utid}`)}function EC(e,t){e.set("sid",t)}function AC(e,t,n){const r=function(e,t){let n;if(e)try{n=JSON.parse(e)}catch(r){throw ag($m)}else n={};t&&t.length>0&&(n.hasOwnProperty(ud)||(n[ud]={}),n[ud][dd]={values:t});return JSON.stringify(n)}(t,n);try{JSON.parse(r)}catch(o){throw ag($m)}e.set("claims",r)}function _C(e,t){e.set("client-request-id",t)}function NC(e,t){e.set("x-client-SKU",t.sku),e.set("x-client-VER",t.version),t.os&&e.set("x-client-OS",t.os),t.cpu&&e.set("x-client-CPU",t.cpu)}function PC(e,t){t?.appName&&e.set("x-app-name",t.appName),t?.appVersion&&e.set("x-app-ver",t.appVersion)}function RC(e,t){t&&e.set("state",t)}function OC(e,t){e.set("client_secret",t)}function MC(e,t){t&&e.set("client_assertion",t)}function jC(e,t){t&&e.set("client_assertion_type",t)}function LC(e,t){e.set("grant_type",t)}function DC(e){e.set("client_info","1")}function qC(e){e.has(vC)||e.set(vC,"true")}function UC(e,t){Object.entries(t).forEach((t=>{let[n,r]=t;!e.has(n)&&r&&e.set(n,r)}))}function FC(e,t){t&&(e.set(hC,Ld.POP),e.set(fC,t))}function BC(e,t){t&&(e.set(hC,Ld.SSH),e.set(fC,t))}function HC(e,t){e.set("x-client-current-telemetry",t.generateCurrentRequestHeaderValue()),e.set("x-client-last-telemetry",t.generateLastRequestHeaderValue())}function zC(e){e.set("x-ms-lib-capability",Fd)}function $C(e,t,n){e.has(gC)||e.set(gC,t),e.has(yC)||e.set(yC,n)}async function KC(e,t,n,r,o,i,s){s?.addQueueMeasurement(Qy,i);const a=Db.transformCIAMAuthority(qb(e)),c=new Db(a,t,n,r,o,i,s);try{return await jb(c.resolveEndpointsAsync.bind(c),Vy,o,s,i)(),c}catch(l){throw fm(Tp)}}class WC extends sh{constructor(e,t,n,r,o){super(e,t,n),this.name="ServerError",this.errorNo=r,this.status=o,Object.setPrototypeOf(this,WC.prototype)}}class QC{static generateThrottlingStorageKey(e){return`${Ud}.${JSON.stringify(e)}`}static preProcess(e,t){const n=QC.generateThrottlingStorageKey(t),r=e.getThrottlingCache(n);if(r){if(r.throttleTime<Date.now())return void e.removeItem(n);throw new WC(r.errorCodes?.join(" ")||Qu.EMPTY_STRING,r.errorMessage,r.subError)}}static postProcess(e,t,n){if(QC.checkResponseStatus(n)||QC.checkResponseForRetryAfter(n)){const r={throttleTime:QC.calculateThrottleTime(parseInt(n.headers[nd])),error:n.body.error,errorCodes:n.body.error_codes,errorMessage:n.body.error_description,subError:n.body.suberror};e.setThrottlingCache(QC.generateThrottlingStorageKey(t),r)}}static checkResponseStatus(e){return 429===e.status||e.status>=500&&e.status<600}static checkResponseForRetryAfter(e){return!!e.headers&&(e.headers.hasOwnProperty(nd)&&(e.status<200||e.status>=300))}static calculateThrottleTime(e){const t=e<=0?0:e,n=Date.now()/1e3;return Math.floor(1e3*Math.min(n+(t||Dd),n+qd))}static removeThrottle(e,t,n,r){const o=Gb(t,n,r),i=this.generateThrottlingStorageKey(o);e.removeItem(i)}}class VC{constructor(e,t){this.config=function(e){let{authOptions:t,systemOptions:n,loggerOptions:r,cacheOptions:o,storageInterface:i,networkInterface:s,cryptoInterface:a,clientCredentials:c,libraryInfo:l,telemetry:u,serverTelemetryManager:d,persistencePlugin:h,serializableCache:f}=e;const p={...Dg,...r};return{authOptions:(m=t,{clientCapabilities:[],azureCloudOptions:Hg,skipAuthorityMetadataCache:!1,instanceAware:!1,encodeExtraQueryParams:!1,...m}),systemOptions:{...Lg,...n},loggerOptions:p,cacheOptions:{...qg,...o},storageInterface:i||new jg(t.clientId,pm,new bf(p)),networkInterface:s||Ug,cryptoInterface:a||pm,clientCredentials:c||Bg,libraryInfo:{...Fg,...l},telemetry:{...zg,...u},serverTelemetryManager:d||null,persistencePlugin:h||null,serializableCache:f||null};var m}(e),this.logger=new bf(this.config.loggerOptions,mm,gm),this.cryptoUtils=this.config.cryptoInterface,this.cacheManager=this.config.storageInterface,this.networkClient=this.config.networkInterface,this.serverTelemetryManager=this.config.serverTelemetryManager,this.authority=this.config.authOptions.authority,this.performanceClient=t}createTokenRequestHeaders(e){const t={};if(t[ed]=Qu.URL_FORM_CONTENT_TYPE,!this.config.systemOptions.preventCorsPreflight&&e)switch(e.type){case cC:try{const n=dg(e.credential);t[rd]=`Oid:${n.uid}@${n.utid}`}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case lC:t[rd]=`UPN: ${e.credential}`}return t}async executePostToTokenEndpoint(e,t,n,r,o,i){i&&this.performanceClient?.addQueueMeasurement(i,o);const s=await this.sendPostRequest(r,e,{body:t,headers:n},o);return this.config.serverTelemetryManager&&s.status<500&&429!==s.status&&this.config.serverTelemetryManager.clearTelemetryCache(),s}async sendPostRequest(e,t,n,r){let o;QC.preProcess(this.cacheManager,e);try{o=await jb(this.networkClient.sendPostRequestAsync.bind(this.networkClient),cy,this.logger,this.performanceClient,r)(t,n);const e=o.headers||{};this.performanceClient?.addFields({refreshTokenSize:o.body.refresh_token?.length||0,httpVerToken:e[id]||"",requestId:e[od]||""},r)}catch(i){if(i instanceof Nv){const e=i.responseHeaders;throw e&&this.performanceClient?.addFields({httpVerToken:e[id]||"",requestId:e[od]||"",contentTypeHeader:e[ed]||void 0,contentLengthHeader:e[td]||void 0,httpStatus:i.httpStatus},r),i.error}throw i instanceof sh?i:fm(Ip)}return QC.postProcess(this.cacheManager,e,o),o}async updateAuthority(e,t){this.performanceClient?.addQueueMeasurement(Uy,t);const n=`https://${e}/${this.authority.tenant}/`,r=await KC(n,this.networkClient,this.cacheManager,this.authority.options,this.logger,t,this.performanceClient);this.authority=r}createTokenQueryParameters(e){const t=new Map;return e.embeddedClientId&&$C(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenQueryParameters&&UC(t,e.tokenQueryParameters),_C(t,e.correlationId),wC(t,e.correlationId,this.performanceClient),kg(t)}}class GC{static setRequestState(e,t,n){const r=GC.generateLibraryState(e,n);return t?`${r}${Qu.RESOURCE_DELIM}${t}`:r}static generateLibraryState(e,t){if(!e)throw fm(Gp);const n={id:e.createNewGuid()};t&&(n.meta=t);const r=JSON.stringify(n);return e.base64Encode(r)}static parseRequestState(e,t){if(!e)throw fm(Gp);if(!t)throw fm(_p);try{const n=t.split(Qu.RESOURCE_DELIM),r=n[0],o=n.length>1?n.slice(1).join(Qu.RESOURCE_DELIM):Qu.EMPTY_STRING,i=e.base64Decode(r),s=JSON.parse(i);return{userRequestState:o||Qu.EMPTY_STRING,libraryState:s}}catch(n){throw fm(_p)}}}const YC="sw";class JC{constructor(e,t){this.cryptoUtils=e,this.performanceClient=t}async generateCnf(e,t){this.performanceClient?.addQueueMeasurement(zy,e.correlationId);const n=await jb(this.generateKid.bind(this),zy,t,this.performanceClient,e.correlationId)(e),r=this.cryptoUtils.base64UrlEncode(JSON.stringify(n));return{kid:n.kid,reqCnfString:r}}async generateKid(e){this.performanceClient?.addQueueMeasurement($y,e.correlationId);return{kid:await this.cryptoUtils.getPublicKeyThumbprint(e),xms_ksl:YC}}async signPopToken(e,t,n){return this.signPayload(e,t,n)}async signPayload(e,t,n,r){const{resourceRequestMethod:o,resourceRequestUri:i,shrClaims:s,shrNonce:a,shrOptions:c}=n,l=i?new Sg(i):void 0,u=l?.getUrlComponents();return this.cryptoUtils.signJwt({at:e,ts:wm(),m:o?.toUpperCase(),u:u?.HostNameAndPort,nonce:a||this.cryptoUtils.createNewGuid(),p:u?.AbsolutePath,q:u?.QueryString?[[],u.QueryString]:void 0,client_claims:s||void 0,...r},t,c,n.correlationId)}}class XC{constructor(e,t){this.cache=e,this.hasChanged=t}get cacheHasChanged(){return this.hasChanged}get tokenCache(){return this.cache}}class ZC{constructor(e,t,n,r,o,i,s){this.clientId=e,this.cacheStorage=t,this.cryptoObj=n,this.logger=r,this.serializableCache=o,this.persistencePlugin=i,this.performanceClient=s}validateTokenResponse(e,t){if(e.error||e.error_description||e.suberror){const n=`Error(s): ${e.error_codes||Qu.NOT_AVAILABLE} - Timestamp: ${e.timestamp||Qu.NOT_AVAILABLE} - Description: ${e.error_description||Qu.NOT_AVAILABLE} - Correlation ID: ${e.correlation_id||Qu.NOT_AVAILABLE} - Trace ID: ${e.trace_id||Qu.NOT_AVAILABLE}`,r=e.error_codes?.length?e.error_codes[0]:void 0,o=new WC(e.error,n,e.suberror,r,e.status);if(t&&e.status&&e.status>=Yu&&e.status<=Ju)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently unavailable and the access token is unable to be refreshed.\n${o}`);if(t&&e.status&&e.status>=Vu&&e.status<=Gu)return void this.logger.warning(`executeTokenRequest:validateTokenResponse - AAD is currently available but is unable to refresh the access token.\n${o}`);if(Qb(e.error,e.error_description,e.suberror))throw new Wb(e.error,e.error_description,e.suberror,e.timestamp||Qu.EMPTY_STRING,e.trace_id||Qu.EMPTY_STRING,e.correlation_id||Qu.EMPTY_STRING,e.claims||Qu.EMPTY_STRING,r);throw o}}async handleServerTokenResponse(e,t,n,r,o,i,s,a,c){let l,u;if(this.performanceClient?.addQueueMeasurement(Ky,e.correlation_id),e.id_token){if(l=ym(e.id_token||Qu.EMPTY_STRING,this.cryptoObj.base64Decode),o&&o.nonce&&l.nonce!==o.nonce)throw fm(Rp);if(r.maxAge||0===r.maxAge){const e=l.auth_time;if(!e)throw fm(Op);vm(e,r.maxAge)}}this.homeAccountIdentifier=bg.generateHomeAccountId(e.client_info||Qu.EMPTY_STRING,t.authorityType,this.logger,this.cryptoObj,l),o&&o.state&&(u=GC.parseRequestState(this.cryptoObj,o.state)),e.key_id=e.key_id||r.sshKid||void 0;const d=this.generateCacheRecord(e,t,n,r,l,i,o);let h;try{if(this.persistencePlugin&&this.serializableCache&&(this.logger.verbose("Persistence enabled, calling beforeCacheAccess"),h=new XC(this.serializableCache,!0),await this.persistencePlugin.beforeCacheAccess(h)),s&&!a&&d.account){const e=d.account.generateAccountKey();if(!this.cacheStorage.getAccount(e))return this.logger.warning("Account used to refresh tokens not in persistence, refreshed tokens will not be stored in the cache"),await ZC.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,l,u,void 0,c)}await this.cacheStorage.saveCacheRecord(d,r.correlationId,r.storeInCache)}finally{this.persistencePlugin&&this.serializableCache&&h&&(this.logger.verbose("Persistence enabled, calling afterCacheAccess"),await this.persistencePlugin.afterCacheAccess(h))}return ZC.generateAuthenticationResult(this.cryptoObj,t,d,!1,r,l,u,e,c)}generateCacheRecord(e,t,n,r,o,i,s){const a=t.getPreferredCache();if(!a)throw fm(Qp);const c=wg(o);let l,u;e.id_token&&o&&(l=Sm(this.homeAccountIdentifier,a,e.id_token,this.clientId,c||""),u=ex(this.cacheStorage,t,this.homeAccountIdentifier,this.cryptoObj.base64Decode,o,e.client_info,a,c,s,void 0,this.logger));let d=null;if(e.access_token){const o=e.scope?lg.fromString(e.scope):new lg(r.scopes||[]),s=("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0,l=("string"===typeof e.ext_expires_in?parseInt(e.ext_expires_in,10):e.ext_expires_in)||0,u=("string"===typeof e.refresh_in?parseInt(e.refresh_in,10):e.refresh_in)||void 0,h=n+s,f=h+l,p=u&&u>0?n+u:void 0;d=Tm(this.homeAccountIdentifier,a,e.access_token,this.clientId,c||t.tenant||"",o.printScopes(),h,f,this.cryptoObj.base64Decode,p,e.token_type,i,e.key_id,r.claims,r.requestedClaimsHash)}let h=null;if(e.refresh_token){let t;if(e.refresh_token_expires_in){t=n+("string"===typeof e.refresh_token_expires_in?parseInt(e.refresh_token_expires_in,10):e.refresh_token_expires_in)}h=Im(this.homeAccountIdentifier,a,e.refresh_token,this.clientId,e.foci,i,t)}let f=null;return e.foci&&(f={clientId:this.clientId,environment:a,familyId:e.foci}),{account:u,idToken:l,accessToken:d,refreshToken:h,appMetadata:f}}static async generateAuthenticationResult(e,t,n,r,o,i,s,a,c){let l,u,d=Qu.EMPTY_STRING,h=[],f=null,p=Qu.EMPTY_STRING;if(n.accessToken){if(n.accessToken.tokenType!==Ld.POP||o.popKid)d=n.accessToken.secret;else{const t=new JC(e),{secret:r,keyId:i}=n.accessToken;if(!i)throw fm(im);d=await t.signPopToken(r,i,o)}h=lg.fromString(n.accessToken.target).asArray(),f=Cm(n.accessToken.expiresOn),l=Cm(n.accessToken.extendedExpiresOn),n.accessToken.refreshOn&&(u=Cm(n.accessToken.refreshOn))}n.appMetadata&&(p=n.appMetadata.familyId===Ad?Ad:"");const m=i?.oid||i?.sub||"",g=i?.tid||"";a?.spa_accountid&&n.account&&(n.account.nativeAccountId=a?.spa_accountid);const y=n.account?pg(n.account.getAccountInfo(),void 0,i,n.idToken?.secret):null;return{authority:t.canonicalAuthority,uniqueId:m,tenantId:g,scopes:h,account:y,idToken:n?.idToken?.secret||"",idTokenClaims:i||{},accessToken:d,fromCache:r,expiresOn:f,extExpiresOn:l,refreshOn:u,correlationId:o.correlationId,requestId:c||Qu.EMPTY_STRING,familyId:p,tokenType:n.accessToken?.tokenType||Qu.EMPTY_STRING,state:s?s.userRequestState:Qu.EMPTY_STRING,cloudGraphHostName:n.account?.cloudGraphHostName||Qu.EMPTY_STRING,msGraphHost:n.account?.msGraphHost||Qu.EMPTY_STRING,code:a?.spa_code,fromNativeBroker:!1}}}function ex(e,t,n,r,o,i,s,a,c,l,u){u?.verbose("setCachedAccount called");const d=e.getAccountKeys().find((e=>e.startsWith(n)));let h=null;d&&(h=e.getAccount(d));const f=h||bg.createAccount({homeAccountId:n,idTokenClaims:o,clientInfo:i,environment:s,cloudGraphHostName:c?.cloud_graph_host_name,msGraphHost:c?.msgraph_host,nativeAccountId:l},t,r),p=f.tenantProfiles||[],m=a||f.realm;if(m&&!p.find((e=>e.tenantId===m))){const e=fg(n,f.localAccountId,m,o);p.push(e)}return f.tenantProfiles=p,f}class tx{static validateRedirectUri(e){if(!e)throw ag(Dm)}static validatePrompt(e){const t=[];for(const n in hd)t.push(hd[n]);if(t.indexOf(e)<0)throw ag(zm)}static validateClaims(e){try{JSON.parse(e)}catch(t){throw ag($m)}}static validateCodeChallengeParams(e,t){if(!e||!t)throw ag(Vm);this.validateCodeChallengeMethod(t)}static validateCodeChallengeMethod(e){if([fd.PLAIN,fd.S256].indexOf(e)<0)throw ag(Qm)}}async function nx(e,t,n){if("string"===typeof e)return e;return e({clientId:t,tokenEndpoint:n})}class rx extends VC{constructor(e,t){super(e,t),this.includeRedirectUri=!0,this.oidcDefaultScopes=this.config.authOptions.authority.options.OIDCOptions?.defaultScopes}async acquireToken(e,t){if(this.performanceClient?.addQueueMeasurement(Fy,e.correlationId),!e.code)throw fm(qp);const n=wm(),r=await jb(this.executeTokenRequest.bind(this),By,this.logger,this.performanceClient,e.correlationId)(this.authority,e),o=r.headers?.[od],i=new ZC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin,this.performanceClient);return i.validateTokenResponse(r.body),jb(i.handleServerTokenResponse.bind(i),Ky,this.logger,this.performanceClient,e.correlationId)(r.body,this.authority,n,e,t,void 0,void 0,void 0,o)}getLogoutUri(e){if(!e)throw ag(Wm);const t=this.createLogoutUrlQueryString(e);return Sg.appendQueryString(this.authority.endSessionEndpoint,t)}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(By,t.correlationId);const n=this.createTokenQueryParameters(t),r=Sg.appendQueryString(e.tokenEndpoint,n),o=await jb(this.createTokenRequestBody.bind(this),Hy,this.logger,this.performanceClient,t.correlationId)(t);let i;if(t.clientInfo)try{const e=ug(t.clientInfo,this.cryptoUtils.base64Decode);i={credential:`${e.uid}${Td}${e.utid}`,type:cC}}catch(c){this.logger.verbose("Could not parse client info for CCS Header: "+c)}const s=this.createTokenRequestHeaders(i||t.ccsCredential),a=Gb(this.config.authOptions.clientId,t);return jb(this.executePostToTokenEndpoint.bind(this),uy,this.logger,this.performanceClient,t.correlationId)(r,o,s,a,t.correlationId,uy)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(Hy,e.correlationId);const t=new Map;if(xC(t,e.embeddedClientId||e.tokenBodyParameters?.[uC]||this.config.authOptions.clientId),this.includeRedirectUri?kC(t,e.redirectUri):tx.validateRedirectUri(e.redirectUri),CC(t,e.scopes,!0,this.oidcDefaultScopes),function(e,t){e.set("code",t)}(t,e.code),NC(t,this.config.libraryInfo),PC(t,this.config.telemetry.application),zC(t),this.serverTelemetryManager&&!$g(this.config)&&HC(t,this.serverTelemetryManager),e.codeVerifier&&function(e,t){e.set("code_verifier",t)}(t,e.codeVerifier),this.config.clientCredentials.clientSecret&&OC(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;MC(t,await nx(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),jC(t,n.assertionType)}if(LC(t,wd),DC(t),e.authenticationScheme===Ld.POP){const n=new JC(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await jb(n.generateCnf.bind(n),zy,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}FC(t,r)}else if(e.authenticationScheme===Ld.SSH){if(!e.sshJwk)throw ag(Xm);BC(t,e.sshJwk)}let n;if((!cg.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&AC(t,e.claims,this.config.authOptions.clientCapabilities),e.clientInfo)try{const t=ug(e.clientInfo,this.cryptoUtils.base64Decode);n={credential:`${t.uid}${Td}${t.utid}`,type:cC}}catch(r){this.logger.verbose("Could not parse client info for CCS Header: "+r)}else n=e.ccsCredential;if(this.config.systemOptions.preventCorsPreflight&&n)switch(n.type){case cC:try{IC(t,dg(n.credential))}catch(r){this.logger.verbose("Could not parse home account ID for CCS Header: "+r)}break;case lC:TC(t,n.credential)}return e.embeddedClientId&&$C(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&UC(t,e.tokenBodyParameters),!e.enableSpaAuthorizationCode||e.tokenBodyParameters&&e.tokenBodyParameters[pC]||UC(t,{[pC]:"1"}),wC(t,e.correlationId,this.performanceClient),kg(t)}createLogoutUrlQueryString(e){const t=new Map;return e.postLogoutRedirectUri&&function(e,t){e.set("post_logout_redirect_uri",t)}(t,e.postLogoutRedirectUri),e.correlationId&&_C(t,e.correlationId),e.idTokenHint&&function(e,t){e.set("id_token_hint",t)}(t,e.idTokenHint),e.state&&RC(t,e.state),e.logoutHint&&function(e,t){e.set("logout_hint",t)}(t,e.logoutHint),e.extraQueryParameters&&UC(t,e.extraQueryParameters),this.config.authOptions.instanceAware&&qC(t),kg(t,this.config.authOptions.encodeExtraQueryParams,e.extraQueryParameters)}}function ox(e){const{skus:t,libraryName:n,libraryVersion:r,extensionName:o,extensionVersion:i}=e,s=new Map([[0,[n,r]],[2,[o,i]]]);let a=[];if(t?.length){if(a=t.split(","),a.length<4)return t}else a=Array.from({length:4},(()=>"|"));return s.forEach(((e,t)=>{2===e.length&&e[0]?.length&&e[1]?.length&&function(e){const{skuArr:t,index:n,skuName:r,skuVersion:o}=e;if(n>=t.length)return;t[n]=[r,o].join("|")}({skuArr:a,index:t,skuName:e[0],skuVersion:e[1]})})),a.join(",")}class ix{constructor(e,t){this.cacheOutcome=Jd,this.cacheManager=t,this.apiId=e.apiId,this.correlationId=e.correlationId,this.wrapperSKU=e.wrapperSKU||Qu.EMPTY_STRING,this.wrapperVer=e.wrapperVer||Qu.EMPTY_STRING,this.telemetryCacheKey=jd.CACHE_KEY+Sd+e.clientId}generateCurrentRequestHeaderValue(){const e=`${this.apiId}${jd.VALUE_SEPARATOR}${this.cacheOutcome}`,t=[this.wrapperSKU,this.wrapperVer],n=this.getNativeBrokerErrorCode();n?.length&&t.push(`broker_error=${n}`);const r=t.join(jd.VALUE_SEPARATOR),o=[e,this.getRegionDiscoveryFields()].join(jd.VALUE_SEPARATOR);return[jd.SCHEMA_VERSION,o,r].join(jd.CATEGORY_SEPARATOR)}generateLastRequestHeaderValue(){const e=this.getLastRequests(),t=ix.maxErrorsToSend(e),n=e.failedRequests.slice(0,2*t).join(jd.VALUE_SEPARATOR),r=e.errors.slice(0,t).join(jd.VALUE_SEPARATOR),o=e.errors.length,i=[o,t<o?jd.OVERFLOW_TRUE:jd.OVERFLOW_FALSE].join(jd.VALUE_SEPARATOR);return[jd.SCHEMA_VERSION,e.cacheHits,n,r,i].join(jd.CATEGORY_SEPARATOR)}cacheFailedRequest(e){const t=this.getLastRequests();t.errors.length>=jd.MAX_CACHED_ERRORS&&(t.failedRequests.shift(),t.failedRequests.shift(),t.errors.shift()),t.failedRequests.push(this.apiId,this.correlationId),e instanceof Error&&e&&e.toString()?e instanceof sh?e.subError?t.errors.push(e.subError):e.errorCode?t.errors.push(e.errorCode):t.errors.push(e.toString()):t.errors.push(e.toString()):t.errors.push(jd.UNKNOWN_ERROR),this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}incrementCacheHits(){const e=this.getLastRequests();return e.cacheHits+=1,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e),e.cacheHits}getLastRequests(){return this.cacheManager.getServerTelemetry(this.telemetryCacheKey)||{failedRequests:[],errors:[],cacheHits:0}}clearTelemetryCache(){const e=this.getLastRequests(),t=ix.maxErrorsToSend(e);if(t===e.errors.length)this.cacheManager.removeItem(this.telemetryCacheKey);else{const n={failedRequests:e.failedRequests.slice(2*t),errors:e.errors.slice(t),cacheHits:0};this.cacheManager.setServerTelemetry(this.telemetryCacheKey,n)}}static maxErrorsToSend(e){let t,n=0,r=0;const o=e.errors.length;for(t=0;t<o;t++){const o=e.failedRequests[2*t]||Qu.EMPTY_STRING,i=e.failedRequests[2*t+1]||Qu.EMPTY_STRING,s=e.errors[t]||Qu.EMPTY_STRING;if(r+=o.toString().length+i.toString().length+s.length+3,!(r<jd.MAX_LAST_HEADER_BYTES))break;n+=1}return n}getRegionDiscoveryFields(){const e=[];return e.push(this.regionUsed||Qu.EMPTY_STRING),e.push(this.regionSource||Qu.EMPTY_STRING),e.push(this.regionOutcome||Qu.EMPTY_STRING),e.join(",")}updateRegionDiscoveryMetadata(e){this.regionUsed=e.region_used,this.regionSource=e.region_source,this.regionOutcome=e.region_outcome}setCacheOutcome(e){this.cacheOutcome=e}setNativeBrokerErrorCode(e){const t=this.getLastRequests();t.nativeBrokerErrorCode=e,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,t)}getNativeBrokerErrorCode(){return this.getLastRequests().nativeBrokerErrorCode}clearNativeBrokerErrorCode(){const e=this.getLastRequests();delete e.nativeBrokerErrorCode,this.cacheManager.setServerTelemetry(this.telemetryCacheKey,e)}static makeExtraSkuString(e){return ox(e)}}class sx{constructor(e,t,n,r,o,i,s,a,c){this.config=e,this.browserStorage=t,this.browserCrypto=n,this.networkClient=this.config.system.networkClient,this.eventHandler=o,this.navigationClient=i,this.nativeMessageHandler=a,this.correlationId=c||eb(),this.logger=r.clone(bh,bb,this.correlationId),this.performanceClient=s}async clearCacheOnLogout(e){if(e){bg.accountInfoIsEqual(e,this.browserStorage.getActiveAccount(),!1)&&(this.logger.verbose("Setting active account to null"),this.browserStorage.setActiveAccount(null));try{await this.browserStorage.removeAccount(bg.generateAccountCacheKey(e)),this.logger.verbose("Cleared cache items belonging to the account provided in the logout request.")}catch(t){this.logger.error("Account provided in logout request was not found. Local cache unchanged.")}}else try{this.logger.verbose("No account provided in logout request, clearing all cache items.",this.correlationId),await this.browserStorage.clear(),await this.browserCrypto.clearKeystore()}catch(n){this.logger.error("Attempted to clear all MSAL cache items and failed. Local cache unchanged.")}}getRedirectUri(e){this.logger.verbose("getRedirectUri called");const t=e||this.config.auth.redirectUri;return Sg.getAbsoluteUrl(t,hb())}initializeServerTelemetryManager(e,t){this.logger.verbose("initializeServerTelemetryManager called");const n={clientId:this.config.auth.clientId,correlationId:this.correlationId,apiId:e,forceRefresh:t||!1,wrapperSKU:this.browserStorage.getWrapperMetadata()[0],wrapperVer:this.browserStorage.getWrapperMetadata()[1]};return new ix(n,this.browserStorage)}async getDiscoveredAuthority(e){const{account:t}=e,n=e.requestExtraQueryParameters&&e.requestExtraQueryParameters.hasOwnProperty("instance_aware")?e.requestExtraQueryParameters.instance_aware:void 0;this.performanceClient.addQueueMeasurement(sy,this.correlationId);const r={protocolMode:this.config.auth.protocolMode,OIDCOptions:this.config.auth.OIDCOptions,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},o=e.requestAuthority||this.config.auth.authority,i=n?.length?"true"===n:this.config.auth.instanceAware,s=t&&i?this.config.auth.authority.replace(Sg.getDomainFromUrl(o),t.environment):o,a=Db.generateAuthority(s,e.requestAzureCloudOptions||this.config.auth.azureCloudOptions),c=await jb(KC,Qy,this.logger,this.performanceClient,this.correlationId)(a,this.config.system.networkClient,this.browserStorage,r,this.logger,this.correlationId,this.performanceClient);if(t&&!c.isAlias(t.environment))throw ag(og);return c}}async function ax(e,t,n,r){n.addQueueMeasurement(by,e.correlationId);const o=e.authority||t.auth.authority,i=[...e&&e.scopes||[]],s={...e,correlationId:e.correlationId,authority:o,scopes:i};if(s.authenticationScheme){if(s.authenticationScheme===Ld.SSH){if(!e.sshJwk)throw ag(Xm);if(!e.sshKid)throw ag(Zm)}r.verbose(`Authentication Scheme set to "${s.authenticationScheme}" as configured in Auth request`)}else s.authenticationScheme=Ld.BEARER,r.verbose('Authentication Scheme wasn\'t explicitly set in request, defaulting to "Bearer" request');return t.cache.claimsBasedCachingEnabled&&e.claims&&!cg.isEmptyObj(e.claims)&&(s.requestedClaimsHash=await lb(e.claims)),s}async function cx(e,t,n,r,o){r.addQueueMeasurement(Cy,e.correlationId);const i=await jb(ax,by,o,r,e.correlationId)(e,n,r,o);return{...e,...i,account:t,forceRefresh:e.forceRefresh||!1}}class lx extends sx{initializeLogoutRequest(e){this.logger.verbose("initializeLogoutRequest called",e?.correlationId);const t={correlationId:this.correlationId||eb(),...e};if(e)if(e.logoutHint)this.logger.verbose("logoutHint has already been set in logoutRequest");else if(e.account){const n=this.getLogoutHintFromIdTokenClaims(e.account);n&&(this.logger.verbose("Setting logoutHint to login_hint ID Token Claim value for the account provided"),t.logoutHint=n)}else this.logger.verbose("logoutHint was not set and account was not passed into logout request, logoutHint will not be set");else this.logger.verbose("logoutHint will not be set since no logout request was configured");return e&&null===e.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri passed as null, not setting post logout redirect uri",t.correlationId):e&&e.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to uri set on logout request",t.correlationId),t.postLogoutRedirectUri=Sg.getAbsoluteUrl(e.postLogoutRedirectUri,hb())):null===this.config.auth.postLogoutRedirectUri?this.logger.verbose("postLogoutRedirectUri configured as null and no uri set on request, not passing post logout redirect",t.correlationId):this.config.auth.postLogoutRedirectUri?(this.logger.verbose("Setting postLogoutRedirectUri to configured uri",t.correlationId),t.postLogoutRedirectUri=Sg.getAbsoluteUrl(this.config.auth.postLogoutRedirectUri,hb())):(this.logger.verbose("Setting postLogoutRedirectUri to current page",t.correlationId),t.postLogoutRedirectUri=Sg.getAbsoluteUrl(hb(),hb())),t}getLogoutHintFromIdTokenClaims(e){const t=e.idTokenClaims;if(t){if(t.login_hint)return t.login_hint;this.logger.verbose("The ID Token Claims tied to the provided account do not contain a login_hint claim, logoutHint will not be added to logout request")}else this.logger.verbose("The provided account does not contain ID Token Claims, logoutHint will not be added to logout request");return null}async createAuthCodeClient(e){this.performanceClient.addQueueMeasurement(_y,this.correlationId);const t=await jb(this.getClientConfiguration.bind(this),Ny,this.logger,this.performanceClient,this.correlationId)(e);return new rx(t,this.performanceClient)}async getClientConfiguration(e){const{serverTelemetryManager:t,requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}=e;this.performanceClient.addQueueMeasurement(Ny,this.correlationId);const s=await jb(this.getDiscoveredAuthority.bind(this),sy,this.logger,this.performanceClient,this.correlationId)({requestAuthority:n,requestAzureCloudOptions:r,requestExtraQueryParameters:o,account:i}),a=this.config.system.loggerOptions;return{authOptions:{clientId:this.config.auth.clientId,authority:s,clientCapabilities:this.config.auth.clientCapabilities,redirectUri:this.config.auth.redirectUri},systemOptions:{tokenRenewalOffsetSeconds:this.config.system.tokenRenewalOffsetSeconds,preventCorsPreflight:!0},loggerOptions:{loggerCallback:a.loggerCallback,piiLoggingEnabled:a.piiLoggingEnabled,logLevel:a.logLevel,correlationId:this.correlationId},cacheOptions:{claimsBasedCachingEnabled:this.config.cache.claimsBasedCachingEnabled},cryptoInterface:this.browserCrypto,networkInterface:this.networkClient,storageInterface:this.browserStorage,serverTelemetryManager:t,libraryInfo:{sku:bh,version:bb,cpu:Qu.EMPTY_STRING,os:Qu.EMPTY_STRING},telemetry:this.config.telemetry}}async initializeAuthorizationRequest(e,t){this.performanceClient.addQueueMeasurement(Py,this.correlationId);const n=this.getRedirectUri(e.redirectUri),r={interactionType:t},o=GC.setRequestState(this.browserCrypto,e&&e.state||Qu.EMPTY_STRING,r),i={...await jb(ax,by,this.logger,this.performanceClient,this.correlationId)({...e,correlationId:this.correlationId},this.config,this.performanceClient,this.logger),redirectUri:n,state:o,nonce:e.nonce||eb(),responseMode:this.config.auth.OIDCOptions.serverResponseType};if(e.loginHint||e.sid)return i;const s=e.account||this.browserStorage.getActiveAccount();return s&&(this.logger.verbose("Setting validated request account",this.correlationId),this.logger.verbosePii(`Setting validated request account: ${s.homeAccountId}`,this.correlationId),i.account=s),i}}const ux="user_switch",dx={[ux]:"User attempted to switch accounts in the native broker, which is not allowed. All new accounts must sign-in through the standard web flow first, please try again."};class hx extends sh{constructor(e,t,n){super(e,t),Object.setPrototypeOf(this,hx.prototype),this.name="NativeAuthError",this.ext=n}}function fx(e){return!(!e.ext||!e.ext.status||"PERSISTENT_ERROR"!==e.ext.status&&"DISABLED"!==e.ext.status)||(!(!e.ext||!e.ext.error||-2147186943!==e.ext.error)||"ContentError"===e.errorCode)}function px(e,t,n){if(n&&n.status)switch(n.status){case"ACCOUNT_UNAVAILABLE":return Vb(Fb);case"USER_INTERACTION_REQUIRED":return new Wb(e,t);case"USER_CANCEL":return Pw(Kv);case"NO_NETWORK":return Pw(aw)}return new hx(e,dx[e]||t,n)}class mx{constructor(e,t,n,r){this.logger=e,this.handshakeTimeoutMs=t,this.extensionId=r,this.resolvers=new Map,this.handshakeResolvers=new Map,this.messageChannel=new MessageChannel,this.windowListener=this.onWindowMessage.bind(this),this.performanceClient=n,this.handshakeEvent=n.startMeasurement(sv)}async sendMessage(e){this.logger.trace("NativeMessageHandler - sendMessage called.");const t={channel:Ch,extensionId:this.extensionId,responseId:eb(),body:e};return this.logger.trace("NativeMessageHandler - Sending request to browser extension"),this.logger.tracePii(`NativeMessageHandler - Sending request to browser extension: ${JSON.stringify(t)}`),this.messageChannel.port1.postMessage(t),new Promise(((e,n)=>{this.resolvers.set(t.responseId,{resolve:e,reject:n})}))}static async createProvider(e,t,n){e.trace("NativeMessageHandler - createProvider called.");try{const r=new mx(e,t,n,xh);return await r.sendHandshakeRequest(),r}catch(r){const o=new mx(e,t,n);return await o.sendHandshakeRequest(),o}}async sendHandshakeRequest(){this.logger.trace("NativeMessageHandler - sendHandshakeRequest called."),window.addEventListener("message",this.windowListener,!1);const e={channel:Ch,extensionId:this.extensionId,responseId:eb(),body:{method:Sh}};return this.handshakeEvent.add({extensionId:this.extensionId,extensionHandshakeTimeoutMs:this.handshakeTimeoutMs}),this.messageChannel.port1.onmessage=e=>{this.onChannelMessage(e)},window.postMessage(e,window.origin,[this.messageChannel.port2]),new Promise(((t,n)=>{this.handshakeResolvers.set(e.responseId,{resolve:t,reject:n}),this.timeoutId=window.setTimeout((()=>{window.removeEventListener("message",this.windowListener,!1),this.messageChannel.port1.close(),this.messageChannel.port2.close(),this.handshakeEvent.end({extensionHandshakeTimedOut:!0,success:!1}),n(Pw(vw)),this.handshakeResolvers.delete(e.responseId)}),this.handshakeTimeoutMs)}))}onWindowMessage(e){if(this.logger.trace("NativeMessageHandler - onWindowMessage called"),e.source!==window)return;const t=e.data;if(t.channel&&t.channel===Ch&&(!t.extensionId||t.extensionId===this.extensionId)&&t.body.method===Sh){const e=this.handshakeResolvers.get(t.responseId);if(!e)return void this.logger.trace(`NativeMessageHandler.onWindowMessage - resolver can't be found for request ${t.responseId}`);this.logger.verbose(t.extensionId?`Extension with id: ${t.extensionId} not installed`:"No extension installed"),clearTimeout(this.timeoutId),this.messageChannel.port1.close(),this.messageChannel.port2.close(),window.removeEventListener("message",this.windowListener,!1),this.handshakeEvent.end({success:!1,extensionInstalled:!1}),e.reject(Pw(ww))}}onChannelMessage(e){this.logger.trace("NativeMessageHandler - onChannelMessage called.");const t=e.data,n=this.resolvers.get(t.responseId),r=this.handshakeResolvers.get(t.responseId);try{const e=t.body.method;if(e===Eh){if(!n)return;const e=t.body.response;if(this.logger.trace("NativeMessageHandler - Received response from browser extension"),this.logger.tracePii(`NativeMessageHandler - Received response from browser extension: ${JSON.stringify(e)}`),"Success"!==e.status)n.reject(px(e.code,e.description,e.ext));else{if(!e.result)throw ah(rh,"Event does not contain result.");e.result.code&&e.result.description?n.reject(px(e.result.code,e.result.description,e.result.ext)):n.resolve(e.result)}this.resolvers.delete(t.responseId)}else if(e===Th){if(!r)return void this.logger.trace(`NativeMessageHandler.onChannelMessage - resolver can't be found for request ${t.responseId}`);clearTimeout(this.timeoutId),window.removeEventListener("message",this.windowListener,!1),this.extensionId=t.extensionId,this.extensionVersion=t.body.version,this.logger.verbose(`NativeMessageHandler - Received HandshakeResponse from extension: ${this.extensionId}`),this.handshakeEvent.end({extensionInstalled:!0,success:!0}),r.resolve(),this.handshakeResolvers.delete(t.responseId)}}catch(ek){this.logger.error("Error parsing response from WAM Extension"),this.logger.errorPii(`Error parsing response from WAM Extension: ${ek}`),this.logger.errorPii(`Unable to parse ${e}`),n?n.reject(ek):r&&r.reject(ek)}}getExtensionId(){return this.extensionId}getExtensionVersion(){return this.extensionVersion}static isPlatformBrokerAvailable(e,t,n,r){if(t.trace("isPlatformBrokerAvailable called"),!e.system.allowPlatformBroker)return t.trace("isPlatformBrokerAvailable: allowPlatformBroker is not enabled, returning false"),!1;if(!n)return t.trace("isPlatformBrokerAvailable: Platform extension provider is not initialized, returning false"),!1;if(r)switch(r){case Ld.BEARER:case Ld.POP:return t.trace("isPlatformBrokerAvailable: authenticationScheme is supported, returning true"),!0;default:return t.trace("isPlatformBrokerAvailable: authenticationScheme is not supported, returning false"),!1}return!0}}function gx(e,t,n){const r=xg(e);if(!r)throw Cg(e)?(n.error(`A ${t} is present in the iframe but it does not contain known properties. It's likely that the ${t} has been replaced by code running on the redirectUri page.`),n.errorPii(`The ${t} detected is: ${e}`),Pw(Uv)):(n.error(`The request has returned to the redirectUri but a ${t} is not present. It's likely that the ${t} has been removed or the page has been redirected by code running on the redirectUri page.`),Pw(Dv));return r}function yx(e,t,n){if(!e.state)throw Pw(qv);const r=function(e,t){if(!t)return null;try{return GC.parseRequestState(e,t).libraryState.meta}catch(n){throw fm(_p)}}(t,e.state);if(!r)throw Pw(Fv);if(r.interactionType!==n)throw Pw(Bv)}function vx(e,t,n,r){const o=t.correlationId,i=new Map;xC(i,t.embeddedClientId||t.extraQueryParameters?.[uC]||e.clientId);if(CC(i,[...t.scopes||[],...t.extraScopesToConsent||[]],!0,e.authority.options.OIDCOptions?.defaultScopes),kC(i,t.redirectUri),_C(i,o),function(e,t){e.set("response_mode",t||vd)}(i,t.responseMode),DC(i),t.prompt&&(!function(e,t){e.set("prompt",t)}(i,t.prompt),r?.addFields({prompt:t.prompt},o)),t.domainHint&&(!function(e,t){e.set("domain_hint",t)}(i,t.domainHint),r?.addFields({domainHintFromRequest:!0},o)),t.prompt!==hd.SELECT_ACCOUNT)if(t.sid&&t.prompt===hd.NONE)n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from request"),EC(i,t.sid),r?.addFields({sidFromRequest:!0},o);else if(t.account){const e=(s=t.account,s.idTokenClaims?.sid||null);let c=function(e){return e.idTokenClaims?.login_hint||null}(t.account);if(c&&t.domainHint&&(n.warning('AuthorizationCodeClient.createAuthCodeUrlQueryString: "domainHint" param is set, skipping opaque "login_hint" claim. Please consider not passing domainHint'),c=null),c){n.verbose("createAuthCodeUrlQueryString: login_hint claim present on account"),SC(i,c),r?.addFields({loginHintFromClaim:!0},o);try{IC(i,dg(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(e&&t.prompt===hd.NONE){n.verbose("createAuthCodeUrlQueryString: Prompt is none, adding sid from account"),EC(i,e),r?.addFields({sidFromClaim:!0},o);try{IC(i,dg(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}else if(t.loginHint)n.verbose("createAuthCodeUrlQueryString: Adding login_hint from request"),SC(i,t.loginHint),TC(i,t.loginHint),r?.addFields({loginHintFromRequest:!0},o);else if(t.account.username){n.verbose("createAuthCodeUrlQueryString: Adding login_hint from account"),SC(i,t.account.username),r?.addFields({loginHintFromUpn:!0},o);try{IC(i,dg(t.account.homeAccountId))}catch(a){n.verbose("createAuthCodeUrlQueryString: Could not parse home account ID for CCS Header")}}}else t.loginHint&&(n.verbose("createAuthCodeUrlQueryString: No account, adding login_hint from request"),SC(i,t.loginHint),TC(i,t.loginHint),r?.addFields({loginHintFromRequest:!0},o));else n.verbose("createAuthCodeUrlQueryString: Prompt is select_account, ignoring account hints");var s;return t.nonce&&function(e,t){e.set("nonce",t)}(i,t.nonce),t.state&&RC(i,t.state),(t.claims||e.clientCapabilities&&e.clientCapabilities.length>0)&&AC(i,t.claims,e.clientCapabilities),t.embeddedClientId&&$C(i,e.clientId,e.redirectUri),!e.instanceAware||t.extraQueryParameters&&Object.keys(t.extraQueryParameters).includes(vC)||qC(i),i}function wx(e,t,n,r){const o=kg(t,n,r);return Sg.appendQueryString(e.authorizationEndpoint,o)}function bx(e,t){if(!e.state||!t)throw e.state?fm(Pp,"Cached State"):fm(Pp,"Server State");let n,r;try{n=decodeURIComponent(e.state)}catch(o){throw fm(_p,e.state)}try{r=decodeURIComponent(t)}catch(o){throw fm(_p,e.state)}if(n!==r)throw fm(Np);if(e.error||e.error_description||e.suberror){const t=function(e){const t="code=",n=e.error_uri?.lastIndexOf(t);return n&&n>=0?e.error_uri?.substring(n+t.length):void 0}(e);if(Qb(e.error,e.error_description,e.suberror))throw new Wb(e.error||"",e.error_description,e.suberror,e.timestamp||"",e.trace_id||"",e.correlation_id||"",e.claims||"",t);throw new WC(e.error||"",e.error_description,e.suberror,t)}}class Cx{constructor(e,t,n,r,o){this.authModule=e,this.browserStorage=t,this.authCodeRequest=n,this.logger=r,this.performanceClient=o}async handleCodeResponse(e,t){let n;this.performanceClient.addQueueMeasurement(jy,t.correlationId);try{n=function(e,t){if(bx(e,t),!e.code)throw fm(nm);return e}(e,t.state)}catch(r){throw r instanceof WC&&r.subError===Kv?Pw(Kv):r}return jb(this.handleCodeResponseFromServer.bind(this),My,this.logger,this.performanceClient,t.correlationId)(n,t)}async handleCodeResponseFromServer(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(this.performanceClient.addQueueMeasurement(My,t.correlationId),this.logger.trace("InteractionHandler.handleCodeResponseFromServer called"),this.authCodeRequest.code=e.code,e.cloud_instance_host_name&&await jb(this.authModule.updateAuthority.bind(this.authModule),Uy,this.logger,this.performanceClient,t.correlationId)(e.cloud_instance_host_name,t.correlationId),n&&(e.nonce=t.nonce||void 0),e.state=t.state,e.client_info)this.authCodeRequest.clientInfo=e.client_info;else{const e=this.createCcsCredentials(t);e&&(this.authCodeRequest.ccsCredential=e)}return await jb(this.authModule.acquireToken.bind(this.authModule),Fy,this.logger,this.performanceClient,t.correlationId)(this.authCodeRequest,e)}createCcsCredentials(e){return e.account?{credential:e.account.homeAccountId,type:cC}:e.loginHint?{credential:e.loginHint,type:lC}:null}}class xx extends VC{constructor(e,t){super(e,t)}async acquireCachedToken(e){this.performanceClient?.addQueueMeasurement(yy,e.correlationId);let t=Jd;if(e.forceRefresh||!this.config.cacheOptions.claimsBasedCachingEnabled&&!cg.isEmptyObj(e.claims))throw this.setCacheOutcome(Xd,e.correlationId),fm(Zp);if(!e.account)throw fm(Kp);const n=e.account.tenantId||function(e){const t=new Sg(e).getUrlComponents(),n=t.PathSegments.slice(-1)[0]?.toLowerCase();switch(n){case ad:case cd:case ld:return;default:return n}}(e.authority),r=this.cacheManager.getTokenKeys(),o=this.cacheManager.getAccessToken(e.account,e,r,n,this.performanceClient,e.correlationId);if(!o)throw this.setCacheOutcome(Zd,e.correlationId),fm(Zp);if(i=o.cachedAt,Number(i)>wm()||xm(o.expiresOn,this.config.systemOptions.tokenRenewalOffsetSeconds))throw this.setCacheOutcome(eh,e.correlationId),fm(Zp);var i;o.refreshOn&&xm(o.refreshOn,0)&&(t=th);const s=e.authority||this.authority.getPreferredCache(),a={account:this.cacheManager.readAccountFromCache(e.account),accessToken:o,idToken:this.cacheManager.getIdToken(e.account,r,n,this.performanceClient,e.correlationId),refreshToken:null,appMetadata:this.cacheManager.readAppMetadataFromCache(s)};return this.setCacheOutcome(t,e.correlationId),this.config.serverTelemetryManager&&this.config.serverTelemetryManager.incrementCacheHits(),[await jb(this.generateResultFromCacheRecord.bind(this),vy,this.logger,this.performanceClient,e.correlationId)(a,e),t]}setCacheOutcome(e,t){this.serverTelemetryManager?.setCacheOutcome(e),this.performanceClient?.addFields({cacheOutcome:e},t),e!==Jd&&this.logger.info(`Token refresh is required due to cache outcome: ${e}`)}async generateResultFromCacheRecord(e,t){let n;if(this.performanceClient?.addQueueMeasurement(vy,t.correlationId),e.idToken&&(n=ym(e.idToken.secret,this.config.cryptoInterface.base64Decode)),t.maxAge||0===t.maxAge){const e=n?.auth_time;if(!e)throw fm(Op);vm(e,t.maxAge)}return ZC.generateAuthenticationResult(this.cryptoUtils,this.authority,e,!0,t,n)}}class kx extends lx{async acquireToken(e){this.performanceClient.addQueueMeasurement(ty,e.correlationId);const t=this.initializeServerTelemetryManager(Yh),n=await jb(this.getClientConfiguration.bind(this),Ny,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:t,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,account:e.account}),r=new xx(n,this.performanceClient);this.logger.verbose("Silent auth client created");try{const t=(await jb(r.acquireCachedToken.bind(r),yy,this.logger,this.performanceClient,e.correlationId)(e))[0];return this.performanceClient.addFields({fromCache:!0},e.correlationId),t}catch(o){throw o instanceof Nw&&o.errorCode===hw&&this.logger.verbose("Signing keypair for bound access token not found. Refreshing bound access token and generating a new crypto keypair."),o}}logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e);return this.clearCacheOnLogout(t?.account)}}class Sx extends sx{constructor(e,t,n,r,o,i,s,a,c,l,u,d){super(e,t,n,r,o,i,a,c,d),this.apiId=s,this.accountId=l,this.nativeMessageHandler=c,this.nativeStorageManager=u,this.silentCacheClient=new kx(e,this.nativeStorageManager,n,r,o,i,a,c,d);const h=this.nativeMessageHandler.getExtensionId()===xh?"chrome":this.nativeMessageHandler.getExtensionId()?.length?"unknown":void 0;this.skus=ix.makeExtraSkuString({libraryName:bh,libraryVersion:bb,extensionName:h,extensionVersion:this.nativeMessageHandler.getExtensionVersion()})}addRequestSKUs(e){e.extraParameters={...e.extraParameters,[mC]:this.skus}}async acquireToken(e,t){this.performanceClient.addQueueMeasurement(ay,e.correlationId),this.logger.trace("NativeInteractionClient - acquireToken called.");const n=this.performanceClient.startMeasurement(ay,e.correlationId),r=wm(),o=this.initializeServerTelemetryManager(this.apiId);try{const s=await this.initializeNativeRequest(e);try{const e=await this.acquireTokensFromCache(this.accountId,s);return n.end({success:!0,isNativeBroker:!1,fromCache:!0}),e}catch(i){if(t===ff)throw this.logger.info("MSAL internal Cache does not contain tokens, return error as per cache policy"),i;this.logger.info("MSAL internal Cache does not contain tokens, proceed to make a native call")}const{...a}=s,c={method:Ih,request:a},l=await this.nativeMessageHandler.sendMessage(c),u=this.validateNativeResponse(l);return await this.handleNativeResponse(u,s,r).then((e=>(n.end({success:!0,isNativeBroker:!0,requestId:e.requestId}),o.clearNativeBrokerErrorCode(),e))).catch((e=>{throw n.end({success:!1,errorCode:e.errorCode,subErrorCode:e.subError,isNativeBroker:!0}),e}))}catch(i){throw i instanceof hx&&o.setNativeBrokerErrorCode(i.errorCode),i}}createSilentCacheRequest(e,t){return{authority:e.authority,correlationId:this.correlationId,scopes:lg.fromString(e.scope).asArray(),account:t,forceRefresh:!1}}async acquireTokensFromCache(e,t){if(!e)throw this.logger.warning("NativeInteractionClient:acquireTokensFromCache - No nativeAccountId provided"),fm(Vp);const n=this.browserStorage.getBaseAccountInfo({nativeAccountId:e});if(!n)throw fm(Vp);try{const e=this.createSilentCacheRequest(t,n),r=await this.silentCacheClient.acquireToken(e),o={...n,idTokenClaims:r?.idTokenClaims,idToken:r?.idToken};return{...r,account:o}}catch(r){throw r}}async acquireTokenRedirect(e,t){this.logger.trace("NativeInteractionClient - acquireTokenRedirect called.");const{...n}=e;delete n.onRedirectNavigate;const r=await this.initializeNativeRequest(n),o={method:Ih,request:r};try{const e=await this.nativeMessageHandler.sendMessage(o);this.validateNativeResponse(e)}catch(a){if(a instanceof hx){if(this.initializeServerTelemetryManager(this.apiId).setNativeBrokerErrorCode(a.errorCode),fx(a))throw a}}this.browserStorage.setTemporaryCache(Fh,JSON.stringify(r),!0);const i={apiId:Kh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},s=this.config.auth.navigateToLoginRequestUrl?window.location.href:this.getRedirectUri(e.redirectUri);t.end({success:!0}),await this.navigationClient.navigateExternal(s,i)}async handleRedirectPromise(e,t){if(this.logger.trace("NativeInteractionClient - handleRedirectPromise called."),!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const n=this.browserStorage.getCachedNativeRequest();if(!n)return this.logger.verbose("NativeInteractionClient - handleRedirectPromise called but there is no cached request, returning null."),e&&t&&e?.addFields({errorCode:"no_cached_request"},t),null;const{prompt:r,...o}=n;r&&this.logger.verbose("NativeInteractionClient - handleRedirectPromise called and prompt was included in the original request, removing prompt from cached request to prevent second interaction with native broker window."),this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Fh));const i={method:Ih,request:o},s=wm();try{this.logger.verbose("NativeInteractionClient - handleRedirectPromise sending message to native broker.");const e=await this.nativeMessageHandler.sendMessage(i);this.validateNativeResponse(e);const t=this.handleNativeResponse(e,o,s),n=await t;return this.initializeServerTelemetryManager(this.apiId).clearNativeBrokerErrorCode(),n}catch(a){throw a}}logout(){return this.logger.trace("NativeInteractionClient - logout called."),Promise.reject("Logout not implemented yet")}async handleNativeResponse(e,t,n){this.logger.trace("NativeInteractionClient - handleNativeResponse called.");const r=ym(e.id_token,Uw),o=this.createHomeAccountIdentifier(e,r),i=this.browserStorage.getAccountInfoFilteredBy({nativeAccountId:t.accountId})?.homeAccountId;if(t.extraParameters?.child_client_id&&e.account.id!==t.accountId)this.logger.info("handleNativeServerResponse: Double broker flow detected, ignoring accountId mismatch");else if(o!==i&&e.account.id!==t.accountId)throw px(ux);const s=await this.getDiscoveredAuthority({requestAuthority:t.authority}),a=ex(this.browserStorage,s,o,Uw,r,e.client_info,void 0,r.tid,void 0,e.account.id,this.logger);e.expires_in=Number(e.expires_in);const c=await this.generateAuthenticationResult(e,t,r,a,s.canonicalAuthority,n);return await this.cacheAccount(a),await this.cacheNativeTokens(e,t,o,r,e.access_token,c.tenantId,n),c}createHomeAccountIdentifier(e,t){return bg.generateHomeAccountId(e.client_info||Qu.EMPTY_STRING,mg,this.logger,this.browserCrypto,t)}generateScopes(e,t){return e.scope?lg.fromString(e.scope):lg.fromString(t.scope)}async generatePopAccessToken(e,t){if(t.tokenType===Ld.POP&&t.signPopToken){if(e.shr)return this.logger.trace("handleNativeServerResponse: SHR is enabled in native layer"),e.shr;const n=new JC(this.browserCrypto),r={resourceRequestMethod:t.resourceRequestMethod,resourceRequestUri:t.resourceRequestUri,shrClaims:t.shrClaims,shrNonce:t.shrNonce};if(!t.keyId)throw fm(im);return n.signPopToken(e.access_token,t.keyId,r)}return e.access_token}async generateAuthenticationResult(e,t,n,r,o,i){const s=this.addTelemetryFromNativeResponse(e),a=e.scope?lg.fromString(e.scope):lg.fromString(t.scope),c=e.account.properties||{},l=c.UID||n.oid||n.sub||Qu.EMPTY_STRING,u=c.TenantId||n.tid||Qu.EMPTY_STRING,d=pg(r.getAccountInfo(),void 0,n,e.id_token);d.nativeAccountId!==e.account.id&&(d.nativeAccountId=e.account.id);const h=await this.generatePopAccessToken(e,t),f=t.tokenType===Ld.POP?Ld.POP:Ld.BEARER;return{authority:o,uniqueId:l,tenantId:u,scopes:a.asArray(),account:d,idToken:e.id_token,idTokenClaims:n,accessToken:h,fromCache:!!s&&this.isResponseFromCache(s),expiresOn:Cm(i+e.expires_in),tokenType:f,correlationId:this.correlationId,state:e.state,fromNativeBroker:!0}}async cacheAccount(e){await this.browserStorage.setAccount(e,this.correlationId),this.browserStorage.removeAccountContext(e).catch((e=>{this.logger.error(`Error occurred while removing account context from browser storage. ${e}`)}))}cacheNativeTokens(e,t,n,r,o,i,s){const a=Sm(n,t.authority,e.id_token||"",t.clientId,r.tid||""),c=s+(t.tokenType===Ld.POP?Qu.SHR_NONCE_VALIDITY:("string"===typeof e.expires_in?parseInt(e.expires_in,10):e.expires_in)||0),l=this.generateScopes(e,t),u={idToken:a,accessToken:Tm(n,t.authority,o,t.clientId,r.tid||i,l.printScopes(),c,0,Uw,void 0,t.tokenType,void 0,t.keyId)};return this.nativeStorageManager.saveCacheRecord(u,this.correlationId,t.storeInCache)}addTelemetryFromNativeResponse(e){const t=this.getMATSFromResponse(e);return t?(this.performanceClient.addFields({extensionId:this.nativeMessageHandler.getExtensionId(),extensionVersion:this.nativeMessageHandler.getExtensionVersion(),matsBrokerVersion:t.broker_version,matsAccountJoinOnStart:t.account_join_on_start,matsAccountJoinOnEnd:t.account_join_on_end,matsDeviceJoin:t.device_join,matsPromptBehavior:t.prompt_behavior,matsApiErrorCode:t.api_error_code,matsUiVisible:t.ui_visible,matsSilentCode:t.silent_code,matsSilentBiSubCode:t.silent_bi_sub_code,matsSilentMessage:t.silent_message,matsSilentStatus:t.silent_status,matsHttpStatus:t.http_status,matsHttpEventCount:t.http_event_count},this.correlationId),t):null}validateNativeResponse(e){if(e.hasOwnProperty("access_token")&&e.hasOwnProperty("id_token")&&e.hasOwnProperty("client_info")&&e.hasOwnProperty("account")&&e.hasOwnProperty("scope")&&e.hasOwnProperty("expires_in"))return e;throw ah(rh,"Response missing expected properties.")}getMATSFromResponse(e){if(e.properties.MATS)try{return JSON.parse(e.properties.MATS)}catch(t){this.logger.error("NativeInteractionClient - Error parsing MATS telemetry, returning null instead")}return null}isResponseFromCache(e){return"undefined"===typeof e.is_cached?(this.logger.verbose("NativeInteractionClient - MATS telemetry does not contain field indicating if response was served from cache. Returning false."),!1):!!e.is_cached}async initializeNativeRequest(e){this.logger.trace("NativeInteractionClient - initializeNativeRequest called");const t=e.authority||this.config.auth.authority;e.account&&await this.getDiscoveredAuthority({requestAuthority:t,requestAzureCloudOptions:e.azureCloudOptions,account:e.account});const n=new Sg(t);n.validateAsUri();const{scopes:r,...o}=e,i=new lg(r||[]);i.appendScopes(Xu);const s={...o,accountId:this.accountId,clientId:this.config.auth.clientId,authority:n.urlString,scope:i.printScopes(),redirectUri:this.getRedirectUri(e.redirectUri),prompt:(()=>{switch(this.apiId){case Qh:case Yh:return this.logger.trace("initializeNativeRequest: silent request sets prompt to none"),hd.NONE}if(e.prompt)switch(e.prompt){case hd.NONE:case hd.CONSENT:case hd.LOGIN:return this.logger.trace("initializeNativeRequest: prompt is compatible with native flow"),e.prompt;default:throw this.logger.trace(`initializeNativeRequest: prompt = ${e.prompt} is not compatible with native flow`),Pw(xw)}else this.logger.trace("initializeNativeRequest: prompt was not provided")})(),correlationId:this.correlationId,tokenType:e.authenticationScheme,windowTitleSubstring:document.title,extraParameters:{...e.extraQueryParameters,...e.tokenQueryParameters},extendedExpiryToken:!1,keyId:e.popKid};if(s.signPopToken&&e.popKid)throw Pw(Sw);if(this.handleExtraBrokerParams(s),s.extraParameters=s.extraParameters||{},s.extraParameters.telemetry=kh,e.authenticationScheme===Ld.POP){const t={resourceRequestUri:e.resourceRequestUri,resourceRequestMethod:e.resourceRequestMethod,shrClaims:e.shrClaims,shrNonce:e.shrNonce},n=new JC(this.browserCrypto);let r;if(s.keyId)r=this.browserCrypto.base64UrlEncode(JSON.stringify({kid:s.keyId})),s.signPopToken=!1;else{const o=await jb(n.generateCnf.bind(n),zy,this.logger,this.performanceClient,e.correlationId)(t,this.logger);r=o.reqCnfString,s.keyId=o.kid,s.signPopToken=!0}s.reqCnf=r}return this.addRequestSKUs(s),s}handleExtraBrokerParams(e){const t=e.extraParameters&&e.extraParameters.hasOwnProperty(gC)&&e.extraParameters.hasOwnProperty(yC)&&e.extraParameters.hasOwnProperty(uC);if(!e.embeddedClientId&&!t)return;let n="";const r=e.redirectUri;e.embeddedClientId?(e.redirectUri=this.config.auth.redirectUri,n=e.embeddedClientId):e.extraParameters&&(e.redirectUri=e.extraParameters[yC],n=e.extraParameters[uC]),e.extraParameters={child_client_id:n,child_redirect_uri:r},this.performanceClient?.addFields({embeddedClientId:n,embeddedRedirectUri:r},e.correlationId)}}async function Tx(e,t,n,r,o){const i=vx({...e.auth,authority:t},n,r,o);if(NC(i,{sku:bh,version:bb,os:"",cpu:""}),e.auth.protocolMode!==vp&&PC(i,e.telemetry.application),n.platformBroker&&(function(e){e.set("nativebroker","1")}(i),n.authenticationScheme===Ld.POP)){const e=new Rb(r,o),t=new JC(e);let s;if(n.popKid)s=e.encodeKid(n.popKid);else{s=(await jb(t.generateCnf.bind(t),zy,r,o,n.correlationId)(n,r)).reqCnfString}FC(i,s)}return wC(i,n.correlationId,o),i}async function Ix(e,t,n,r,o){if(!n.codeChallenge)throw ag(Vm);const i=await jb(Tx,Oy,r,o,n.correlationId)(e,t,n,r,o);return bC(i,pd),function(e,t,n){if(!t||!n)throw ag(Vm);e.set("code_challenge",t),e.set("code_challenge_method",n)}(i,n.codeChallenge,Qu.S256_CODE_CHALLENGE_METHOD),UC(i,n.extraQueryParameters||{}),wx(t,i,e.auth.encodeExtraQueryParams,n.extraQueryParameters)}async function Ex(e,t,n,r,o,i){if(!r.earJwk)throw Pw(Ov);const s=await Tx(t,n,r,o,i);bC(s,md),function(e,t){e.set("ear_jwk",encodeURIComponent(t)),e.set("ear_jwe_crypto","eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0")}(s,r.earJwk);const a=new Map;UC(a,r.extraQueryParameters||{});return function(e,t,n){const r=e.createElement("form");return r.method="post",r.action=t,n.forEach(((t,n)=>{const o=e.createElement("input");o.hidden=!0,o.name=n,o.value=t,r.appendChild(o)})),e.body.appendChild(r),r}(e,wx(n,a,t.auth.encodeExtraQueryParams,r.extraQueryParameters),s)}async function Ax(e,t,n,r,o,i,s,a,c,l){if(!l)throw Pw(bw);const u=new Rb(a,c),d=new Sx(r,o,u,a,s,r.system.navigationClient,n,c,l,t,i,e.correlationId),{userRequestState:h}=GC.parseRequestState(u,e.state);return jb(d.acquireToken.bind(d),ay,a,c,e.correlationId)({...e,state:h,prompt:void 0})}async function _x(e,t,n,r,o,i,s,a,c,l,u,d){if(QC.removeThrottle(s,o.auth.clientId,e),t.accountId)return jb(Ax,Dy,l,u,e.correlationId)(e,t.accountId,r,o,s,a,c,l,u,d);const h={...e,code:t.code||"",codeVerifier:n},f=new Cx(i,s,h,l,u);return await jb(f.handleCodeResponse.bind(f),jy,l,u,e.correlationId)(t,e)}async function Nx(e,t,n,r,o,i,s,a,c,l,u){if(QC.removeThrottle(i,r.auth.clientId,e),bx(t,e.state),!t.ear_jwe)throw Pw(Mv);if(!e.earJwk)throw Pw(Ov);const d=JSON.parse(await jb(rb,Tv,c,l,e.correlationId)(e.earJwk,t.ear_jwe));if(d.accountId)return jb(Ax,Dy,c,l,e.correlationId)(e,d.accountId,n,r,i,s,a,c,l,u);const h=new ZC(r.auth.clientId,i,new Rb(c,l),c,null,null,l);h.validateTokenResponse(d);const f={code:"",state:e.state,nonce:e.nonce,client_info:d.client_info,cloud_graph_host_name:d.cloud_graph_host_name,cloud_instance_host_name:d.cloud_instance_host_name,cloud_instance_name:d.cloud_instance_name,msgraph_host:d.msgraph_host};return await jb(h.handleServerTokenResponse.bind(h),Ky,c,l,e.correlationId)(d,o,wm(),e,f,void 0,void 0,void 0,void 0)}async function Px(e,t,n){e.addQueueMeasurement(fv,n);const r=Mb(Rx,pv,t,e,n)(e,t,n);return{verifier:r,challenge:await jb(Ox,mv,t,e,n)(r,e,t,n)}}function Rx(e,t,n){try{const r=new Uint8Array(32);Mb(Xw,yv,t,e,n)(r);return Lw(r)}catch(r){throw Pw(Rv)}}async function Ox(e,t,n,r){t.addQueueMeasurement(mv,r);try{const o=await jb(Jw,gv,n,t,r)(e,t,r);return Lw(new Uint8Array(o))}catch(o){throw Pw(Rv)}}class Mx extends lx{constructor(e,t,n,r,o,i,s,a,c,l){super(e,t,n,r,o,i,s,c,l),this.unloadWindow=this.unloadWindow.bind(this),this.nativeStorage=a,this.eventHandler=o}acquireToken(e,t){try{const n={popupName:this.generatePopupName(e.scopes||Xu,e.authority||this.config.auth.authority),popupWindowAttributes:e.popupWindowAttributes||{},popupWindowParent:e.popupWindowParent??window};return this.performanceClient.addFields({isAsyncPopup:this.config.system.asyncPopups},this.correlationId),this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true, acquiring token"),this.acquireTokenPopupAsync(e,n,t)):(this.logger.verbose("asyncPopup set to false, opening popup before acquiring token"),n.popup=this.openSizedPopup("about:blank",n),this.acquireTokenPopupAsync(e,n,t))}catch(n){return Promise.reject(n)}}logout(e){try{this.logger.verbose("logoutPopup called");const t=this.initializeLogoutRequest(e),n={popupName:this.generateLogoutPopupName(t),popupWindowAttributes:e?.popupWindowAttributes||{},popupWindowParent:e?.popupWindowParent??window},r=e&&e.authority,o=e&&e.mainWindowRedirectUri;return this.config.system.asyncPopups?(this.logger.verbose("asyncPopups set to true"),this.logoutPopupAsync(t,n,r,o)):(this.logger.verbose("asyncPopup set to false, opening popup"),n.popup=this.openSizedPopup("about:blank",n),this.logoutPopupAsync(t,n,r,o))}catch(t){return Promise.reject(t)}}async acquireTokenPopupAsync(e,t,n){this.logger.verbose("acquireTokenPopupAsync called");const r=await jb(this.initializeAuthorizationRequest.bind(this),Py,this.logger,this.performanceClient,this.correlationId)(e,Zh.Popup);t.popup&&vb(r.authority);const o=mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);return r.platformBroker=o,this.config.auth.protocolMode===wp?this.executeEarFlow(r,t):this.executeCodeFlow(r,t,n)}async executeCodeFlow(e,t,n){const r=e.correlationId,o=this.initializeServerTelemetryManager(Wh),i=n||await jb(Px,fv,this.logger,this.performanceClient,r)(this.performanceClient,this.logger,r),s={...e,codeChallenge:i.challenge};try{const n=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,r)({serverTelemetryManager:o,requestAuthority:s.authority,requestAzureCloudOptions:s.azureCloudOptions,requestExtraQueryParameters:s.extraQueryParameters,account:s.account}),a=await jb(Ix,Ry,this.logger,this.performanceClient,r)(this.config,n.authority,s,this.logger,this.performanceClient),c=this.initiateAuthRequest(a,t);this.eventHandler.emitEvent(zf,Zh.Popup,{popupWindow:c},null);const l=await this.monitorPopupForHash(c,t.popupWindowParent),u=Mb(gx,Wy,this.logger,this.performanceClient,this.correlationId)(l,this.config.auth.OIDCOptions.serverResponseType,this.logger);return await jb(_x,qy,this.logger,this.performanceClient,r)(e,u,i.verifier,Wh,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}catch(a){throw t.popup?.close(),a instanceof sh&&(a.setCorrelationId(this.correlationId),o.cacheFailedRequest(a)),a}}async executeEarFlow(e,t){const n=e.correlationId,r=await jb(this.getDiscoveredAuthority.bind(this),sy,this.logger,this.performanceClient,n)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),o=await jb(nb,Sv,this.logger,this.performanceClient,n)(),i={...e,earJwk:o},s=t.popup||this.openPopup("about:blank",t);(await Ex(s.document,this.config,r,i,this.logger,this.performanceClient)).submit();const a=await jb(this.monitorPopupForHash.bind(this),Iy,this.logger,this.performanceClient,n)(s,t.popupWindowParent),c=Mb(gx,Wy,this.logger,this.performanceClient,this.correlationId)(a,this.config.auth.OIDCOptions.serverResponseType,this.logger);return jb(Nx,Ly,this.logger,this.performanceClient,n)(i,c,Wh,this.config,r,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async logoutPopupAsync(e,t,n,r){this.logger.verbose("logoutPopupAsync called"),this.eventHandler.emitEvent($f,Zh.Popup,e);const o=this.initializeServerTelemetryManager(Xh);try{await this.clearCacheOnLogout(e.account);const i=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:o,requestAuthority:n,account:e.account||void 0});try{i.authority.endSessionEndpoint}catch{if(e.account?.homeAccountId&&e.postLogoutRedirectUri&&i.authority.protocolMode===vp){if(this.browserStorage.removeAccount(e.account?.homeAccountId),this.eventHandler.emitEvent(Kf,Zh.Popup,e),r){const e={apiId:Xh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Sg.getAbsoluteUrl(r,hb());await this.navigationClient.navigateInternal(t,e)}return void t.popup?.close()}}const s=i.getLogoutUri(e);this.eventHandler.emitEvent(Kf,Zh.Popup,e);const a=this.openPopup(s,t);if(this.eventHandler.emitEvent(zf,Zh.Popup,{popupWindow:a},null),await this.monitorPopupForHash(a,t.popupWindowParent).catch((()=>{})),r){const e={apiId:Xh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},t=Sg.getAbsoluteUrl(r,hb());this.logger.verbose("Redirecting main window to url specified in the request"),this.logger.verbosePii(`Redirecting main window to: ${t}`),await this.navigationClient.navigateInternal(t,e)}else this.logger.verbose("No main window navigation requested")}catch(i){throw t.popup?.close(),i instanceof sh&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),this.eventHandler.emitEvent(Wf,Zh.Popup,null,i),this.eventHandler.emitEvent(Qf,Zh.Popup),i}this.eventHandler.emitEvent(Qf,Zh.Popup)}initiateAuthRequest(e,t){if(e)return this.logger.infoPii(`Navigate to: ${e}`),this.openPopup(e,t);throw this.logger.error("Navigate url is empty"),Pw(Lv)}monitorPopupForHash(e,t){return new Promise(((t,n)=>{this.logger.verbose("PopupHandler.monitorPopupForHash - polling started");const r=setInterval((()=>{if(e.closed)return this.logger.error("PopupHandler.monitorPopupForHash - window closed"),clearInterval(r),void n(Pw(Kv));let o="";try{o=e.location.href}catch(a){}if(!o||"about:blank"===o)return;clearInterval(r);let i="";const s=this.config.auth.OIDCOptions.serverResponseType;e&&(i=s===gd?e.location.search:e.location.hash),this.logger.verbose("PopupHandler.monitorPopupForHash - popup window is on same origin as caller"),t(i)}),this.config.system.pollIntervalMilliseconds)})).finally((()=>{this.cleanPopup(e,t)}))}openPopup(e,t){try{let n;if(t.popup?(n=t.popup,this.logger.verbosePii(`Navigating popup window to: ${e}`),n.location.assign(e)):"undefined"===typeof t.popup&&(this.logger.verbosePii(`Opening popup window to: ${e}`),n=this.openSizedPopup(e,t)),!n)throw Pw($v);return n.focus&&n.focus(),this.currentWindow=n,t.popupWindowParent.addEventListener("beforeunload",this.unloadWindow),n}catch(n){throw this.logger.error("error opening popup "+n.message),Pw(zv)}}openSizedPopup(e,t){let{popupName:n,popupWindowAttributes:r,popupWindowParent:o}=t;const i=o.screenLeft?o.screenLeft:o.screenX,s=o.screenTop?o.screenTop:o.screenY,a=o.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,c=o.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;let l=r.popupSize?.width,u=r.popupSize?.height,d=r.popupPosition?.top,h=r.popupPosition?.left;return(!l||l<0||l>a)&&(this.logger.verbose("Default popup window width used. Window width not configured or invalid."),l=gh),(!u||u<0||u>c)&&(this.logger.verbose("Default popup window height used. Window height not configured or invalid."),u=yh),(!d||d<0||d>c)&&(this.logger.verbose("Default popup window top position used. Window top not configured or invalid."),d=Math.max(0,c/2-yh/2+s)),(!h||h<0||h>a)&&(this.logger.verbose("Default popup window left position used. Window left not configured or invalid."),h=Math.max(0,a/2-gh/2+i)),o.open(e,n,`width=${l}, height=${u}, top=${d}, left=${h}, scrollbars=yes`)}unloadWindow(e){this.currentWindow&&this.currentWindow.close(),e.preventDefault()}cleanPopup(e,t){e.close(),t.removeEventListener("beforeunload",this.unloadWindow)}generatePopupName(e,t){return`${vh}.${this.config.auth.clientId}.${e.join("-")}.${t}.${this.correlationId}`}generateLogoutPopupName(e){const t=e.account&&e.account.homeAccountId;return`${vh}.${this.config.auth.clientId}.${t}.${this.correlationId}`}}class jx extends lx{constructor(e,t,n,r,o,i,s,a,c,l){super(e,t,n,r,o,i,s,c,l),this.nativeStorage=a}async acquireToken(e){const t=await jb(this.initializeAuthorizationRequest.bind(this),Py,this.logger,this.performanceClient,this.correlationId)(e,Zh.Redirect);t.platformBroker=mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,e.authenticationScheme);const n=e=>{e.persisted&&(this.logger.verbose("Page was restored from back/forward cache. Clearing temporary cache."),this.browserStorage.resetRequestCache(),this.eventHandler.emitEvent(Vf,Zh.Redirect))},r=this.getRedirectStartPage(e.redirectStartPage);this.logger.verbosePii(`Redirect start page: ${r}`),this.browserStorage.setTemporaryCache(jh,r,!0),window.addEventListener("pageshow",n);try{this.config.auth.protocolMode===wp?await this.executeEarFlow(t):await this.executeCodeFlow(t,e.onRedirectNavigate)}catch(o){throw o instanceof sh&&o.setCorrelationId(this.correlationId),window.removeEventListener("pageshow",n),o}}async executeCodeFlow(e,t){const n=e.correlationId,r=this.initializeServerTelemetryManager(Kh),o=await jb(Px,fv,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),i={...e,codeChallenge:o.challenge};this.browserStorage.cacheAuthorizeRequest(i,o.verifier);try{const n=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:i.authority,requestAzureCloudOptions:i.azureCloudOptions,requestExtraQueryParameters:i.extraQueryParameters,account:i.account}),o=await jb(Ix,Ry,this.logger,this.performanceClient,e.correlationId)(this.config,n.authority,i,this.logger,this.performanceClient);return await this.initiateAuthRequest(o,t)}catch(s){throw s instanceof sh&&(s.setCorrelationId(this.correlationId),r.cacheFailedRequest(s)),s}}async executeEarFlow(e){const t=e.correlationId,n=await jb(this.getDiscoveredAuthority.bind(this),sy,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await jb(nb,Sv,this.logger,this.performanceClient,t)(),o={...e,earJwk:r};this.browserStorage.cacheAuthorizeRequest(o);(await Ex(document,this.config,n,o,this.logger,this.performanceClient)).submit()}async handleRedirectPromise(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;const o=this.initializeServerTelemetryManager(Vh);try{const[i,s]=this.getRedirectResponse(e||"");if(!i)return this.logger.info("handleRedirectPromise did not detect a response as a result of a redirect. Cleaning temporary cache."),this.browserStorage.resetRequestCache(),"back_forward"!==function(){if("undefined"===typeof window||"undefined"===typeof window.performance||"function"!==typeof window.performance.getEntriesByType)return;const e=window.performance.getEntriesByType("navigation"),t=e.length?e[0]:void 0;return t?.type}()?r.event.errorCode="no_server_response":this.logger.verbose("Back navigation event detected. Muting no_server_response error"),null;const a=this.browserStorage.getTemporaryCache(jh,!0)||Qu.EMPTY_STRING,c=Sg.removeHashFromUrl(a);if(c===Sg.removeHashFromUrl(window.location.href)&&this.config.auth.navigateToLoginRequestUrl){this.logger.verbose("Current page is loginRequestUrl, handling response"),a.indexOf("#")>-1&&function(e){const t=e.split("#");t.shift(),window.location.hash=t.length>0?t.join("#"):""}(a);return await this.handleResponse(i,t,n,o)}if(!this.config.auth.navigateToLoginRequestUrl)return this.logger.verbose("NavigateToLoginRequestUrl set to false, handling response"),await this.handleResponse(i,t,n,o);if(!db()||this.config.system.allowRedirectInIframe){this.browserStorage.setTemporaryCache(Lh,s,!0);const e={apiId:Vh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!0};let r=!0;if(a&&"null"!==a)this.logger.verbose(`Navigating to loginRequestUrl: ${a}`),r=await this.navigationClient.navigateInternal(a,e);else{const t=function(){const e=new Sg(window.location.href).getUrlComponents();return`${e.Protocol}//${e.HostNameAndPort}/`}();this.browserStorage.setTemporaryCache(jh,t,!0),this.logger.warning("Unable to get valid login request url from cache, redirecting to home page"),r=await this.navigationClient.navigateInternal(t,e)}if(!r)return await this.handleResponse(i,t,n,o)}return null}catch(i){throw i instanceof sh&&(i.setCorrelationId(this.correlationId),o.cacheFailedRequest(i)),i}}getRedirectResponse(e){this.logger.verbose("getRedirectResponseHash called");let t=e;t||(t=this.config.auth.OIDCOptions.serverResponseType===gd?window.location.search:window.location.hash);let n=xg(t);if(n){try{yx(n,this.browserCrypto,Zh.Redirect)}catch(o){return o instanceof sh&&this.logger.error(`Interaction type validation failed due to ${o.errorCode}: ${o.errorMessage}`),[null,""]}return ub(window),this.logger.verbose("Hash contains known properties, returning response hash"),[n,t]}const r=this.browserStorage.getTemporaryCache(Lh,!0);return this.browserStorage.removeItem(this.browserStorage.generateCacheKey(Lh)),r&&(n=xg(r),n)?(this.logger.verbose("Hash does not contain known properties, returning cached hash"),[n,r]):[null,""]}async handleResponse(e,t,n,r){if(!e.state)throw Pw(qv);if(e.ear_jwe){const n=await jb(this.getDiscoveredAuthority.bind(this),sy,this.logger,this.performanceClient,t.correlationId)({requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account});return jb(Nx,Ly,this.logger,this.performanceClient,t.correlationId)(t,e,Kh,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}const o=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:r,requestAuthority:t.authority});return jb(_x,qy,this.logger,this.performanceClient,t.correlationId)(t,e,n,Kh,this.config,o,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}async initiateAuthRequest(e,t){if(this.logger.verbose("RedirectHandler.initiateAuthRequest called"),e){this.logger.infoPii(`RedirectHandler.initiateAuthRequest: Navigate to: ${e}`);const n={apiId:Kh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},r=t||this.config.auth.onRedirectNavigate;if("function"===typeof r){this.logger.verbose("RedirectHandler.initiateAuthRequest: Invoking onRedirectNavigate callback");return!1!==r(e)?(this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate did not return false, navigating"),void await this.navigationClient.navigateExternal(e,n)):void this.logger.verbose("RedirectHandler.initiateAuthRequest: onRedirectNavigate returned false, stopping navigation")}return this.logger.verbose("RedirectHandler.initiateAuthRequest: Navigating window to navigate url"),void await this.navigationClient.navigateExternal(e,n)}throw this.logger.info("RedirectHandler.initiateAuthRequest: Navigate url is empty"),Pw(Lv)}async logout(e){this.logger.verbose("logoutRedirect called");const t=this.initializeLogoutRequest(e),n=this.initializeServerTelemetryManager(Jh);try{this.eventHandler.emitEvent($f,Zh.Redirect,e),await this.clearCacheOnLogout(t.account);const r={apiId:Jh,timeout:this.config.system.redirectNavigationTimeout,noHistory:!1},o=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:n,requestAuthority:e&&e.authority,requestExtraQueryParameters:e?.extraQueryParameters,account:e&&e.account||void 0});if(o.authority.protocolMode===vp)try{o.authority.endSessionEndpoint}catch{if(t.account?.homeAccountId)return this.browserStorage.removeAccount(t.account?.homeAccountId),void this.eventHandler.emitEvent(Kf,Zh.Redirect,t)}const i=o.getLogoutUri(t);if(this.eventHandler.emitEvent(Kf,Zh.Redirect,t),!e||"function"!==typeof e.onRedirectNavigate)return this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mh),void await this.navigationClient.navigateExternal(i,r);if(!1!==e.onRedirectNavigate(i))return this.logger.verbose("Logout onRedirectNavigate did not return false, navigating"),this.browserStorage.getInteractionInProgress()||this.browserStorage.setInteractionInProgress(!0,Mh),void await this.navigationClient.navigateExternal(i,r);this.browserStorage.setInteractionInProgress(!1),this.logger.verbose("Logout onRedirectNavigate returned false, stopping navigation")}catch(r){throw r instanceof sh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),this.eventHandler.emitEvent(Wf,Zh.Redirect,null,r),this.eventHandler.emitEvent(Qf,Zh.Redirect),r}this.eventHandler.emitEvent(Qf,Zh.Redirect)}getRedirectStartPage(e){const t=e||window.location.href;return Sg.getAbsoluteUrl(t,hb())}}async function Lx(e,t,n,r,o){if(t.addQueueMeasurement(Ty,r),!e)throw n.info("Navigate url is empty"),Pw(Lv);return o?jb(Ux,Ey,n,t,r)(e,o,t,r):Mb(Fx,Ay,n,t,r)(e)}async function Dx(e,t,n,r,o){const i=Bx();if(!i.contentDocument)throw"No document associated with iframe!";return(await Ex(i.contentDocument,e,t,n,r,o)).submit(),i}async function qx(e,t,n,r,o,i,s){return r.addQueueMeasurement(Iy,i),new Promise(((r,i)=>{t<wb&&o.warning(`system.loadFrameTimeout or system.iframeHashTimeout set to lower (${t}ms) than the default (10000ms). This may result in timeouts.`);const a=window.setTimeout((()=>{window.clearInterval(c),i(Pw(Qv))}),t),c=window.setInterval((()=>{let t="";const n=e.contentWindow;try{t=n?n.location.href:""}catch(i){}if(!t||"about:blank"===t)return;let o="";n&&(o=s===gd?n.location.search:n.location.hash),window.clearTimeout(a),window.clearInterval(c),r(o)}),n)})).finally((()=>{Mb(Hx,av,o,r,i)(e)}))}function Ux(e,t,n,r){return n.addQueueMeasurement(Ey,r),new Promise(((n,r)=>{const o=Bx();window.setTimeout((()=>{o?(o.src=e,n(o)):r("Unable to load iframe")}),t)}))}function Fx(e){const t=Bx();return t.src=e,t}function Bx(){const e=document.createElement("iframe");return e.className="msalSilentIframe",e.style.visibility="hidden",e.style.position="absolute",e.style.width=e.style.height="0",e.style.border="0",e.setAttribute("sandbox","allow-scripts allow-same-origin allow-forms"),document.body.appendChild(e),e}function Hx(e){document.body===e.parentNode&&document.body.removeChild(e)}class zx extends lx{constructor(e,t,n,r,o,i,s,a,c,l,u){super(e,t,n,r,o,i,a,l,u),this.apiId=s,this.nativeStorage=c}async acquireToken(e){this.performanceClient.addQueueMeasurement(ny,e.correlationId),e.loginHint||e.sid||e.account&&e.account.username||this.logger.warning("No user hint provided. The authorization server may need more information to complete this request.");const t={...e};t.prompt?t.prompt!==hd.NONE&&t.prompt!==hd.NO_SESSION&&(this.logger.warning(`SilentIframeClient. Replacing invalid prompt ${t.prompt} with ${hd.NONE}`),t.prompt=hd.NONE):t.prompt=hd.NONE;const n=await jb(this.initializeAuthorizationRequest.bind(this),Py,this.logger,this.performanceClient,e.correlationId)(t,Zh.Silent);return n.platformBroker=mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeMessageHandler,n.authenticationScheme),vb(n.authority),this.config.auth.protocolMode===wp?this.executeEarFlow(n):this.executeCodeFlow(n)}async executeCodeFlow(e){let t;const n=this.initializeServerTelemetryManager(this.apiId);try{return t=await jb(this.createAuthCodeClient.bind(this),_y,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),await jb(this.silentTokenHelper.bind(this),Sy,this.logger,this.performanceClient,e.correlationId)(t,e)}catch(r){if(r instanceof sh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),!t||!(r instanceof sh)||r.errorCode!==mh)throw r;return this.performanceClient.addFields({retryError:r.errorCode},this.correlationId),await jb(this.silentTokenHelper.bind(this),Sy,this.logger,this.performanceClient,this.correlationId)(t,e)}}async executeEarFlow(e){const t=e.correlationId,n=await jb(this.getDiscoveredAuthority.bind(this),sy,this.logger,this.performanceClient,t)({requestAuthority:e.authority,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account}),r=await jb(nb,Sv,this.logger,this.performanceClient,t)(),o={...e,earJwk:r},i=await jb(Dx,Ty,this.logger,this.performanceClient,t)(this.config,n,o,this.logger,this.performanceClient),s=this.config.auth.OIDCOptions.serverResponseType,a=await jb(qx,Iy,this.logger,this.performanceClient,t)(i,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,t,s),c=Mb(gx,Wy,this.logger,this.performanceClient,t)(a,s,this.logger);return jb(Nx,Ly,this.logger,this.performanceClient,t)(o,c,this.apiId,this.config,n,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}logout(){return Promise.reject(Pw(Xv))}async silentTokenHelper(e,t){const n=t.correlationId;this.performanceClient.addQueueMeasurement(Sy,n);const r=await jb(Px,fv,this.logger,this.performanceClient,n)(this.performanceClient,this.logger,n),o={...t,codeChallenge:r.challenge},i=await jb(Ix,Ry,this.logger,this.performanceClient,n)(this.config,e.authority,o,this.logger,this.performanceClient),s=await jb(Lx,Ty,this.logger,this.performanceClient,n)(i,this.performanceClient,this.logger,n,this.config.system.navigateFrameWait),a=this.config.auth.OIDCOptions.serverResponseType,c=await jb(qx,Iy,this.logger,this.performanceClient,n)(s,this.config.system.iframeHashTimeout,this.config.system.pollIntervalMilliseconds,this.performanceClient,this.logger,n,a),l=Mb(gx,Wy,this.logger,this.performanceClient,n)(c,a,this.logger);return jb(_x,qy,this.logger,this.performanceClient,n)(t,l,r.verifier,this.apiId,this.config,e,this.browserStorage,this.nativeStorage,this.eventHandler,this.logger,this.performanceClient,this.nativeMessageHandler)}}class $x extends VC{constructor(e,t){super(e,t)}async acquireToken(e){this.performanceClient?.addQueueMeasurement(hy,e.correlationId);const t=wm(),n=await jb(this.executeTokenRequest.bind(this),dy,this.logger,this.performanceClient,e.correlationId)(e,this.authority),r=n.headers?.[od],o=new ZC(this.config.authOptions.clientId,this.cacheManager,this.cryptoUtils,this.logger,this.config.serializableCache,this.config.persistencePlugin);return o.validateTokenResponse(n.body),jb(o.handleServerTokenResponse.bind(o),Ky,this.logger,this.performanceClient,e.correlationId)(n.body,this.authority,t,e,void 0,void 0,!0,e.forceCache,r)}async acquireTokenByRefreshToken(e){if(!e)throw ag(Km);if(this.performanceClient?.addQueueMeasurement(py,e.correlationId),!e.account)throw fm(Kp);if(this.cacheManager.isAppMetadataFOCI(e.account.environment))try{return await jb(this.acquireTokenWithCachedRefreshToken.bind(this),fy,this.logger,this.performanceClient,e.correlationId)(e,!0)}catch(t){const n=t instanceof Wb&&t.errorCode===Ub,r=t instanceof WC&&t.errorCode===Bd&&t.subError===Hd;if(n||r)return jb(this.acquireTokenWithCachedRefreshToken.bind(this),fy,this.logger,this.performanceClient,e.correlationId)(e,!1);throw t}return jb(this.acquireTokenWithCachedRefreshToken.bind(this),fy,this.logger,this.performanceClient,e.correlationId)(e,!1)}async acquireTokenWithCachedRefreshToken(e,t){this.performanceClient?.addQueueMeasurement(fy,e.correlationId);const n=Mb(this.cacheManager.getRefreshToken.bind(this.cacheManager),lv,this.logger,this.performanceClient,e.correlationId)(e.account,t,void 0,this.performanceClient,e.correlationId);if(!n)throw Vb(Ub);if(n.expiresOn&&xm(n.expiresOn,e.refreshTokenExpirationOffsetSeconds||300))throw this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),Vb(Bb);const r={...e,refreshToken:n.secret,authenticationScheme:e.authenticationScheme||Ld.BEARER,ccsCredential:{credential:e.account.homeAccountId,type:cC}};try{return await jb(this.acquireToken.bind(this),hy,this.logger,this.performanceClient,e.correlationId)(r)}catch(o){if(o instanceof Wb&&(this.performanceClient?.addFields({rtExpiresOnMs:Number(n.expiresOn)},e.correlationId),o.subError===Hb)){this.logger.verbose("acquireTokenWithRefreshToken: bad refresh token, removing from cache");const e=km(n);this.cacheManager.removeRefreshToken(e)}throw o}}async executeTokenRequest(e,t){this.performanceClient?.addQueueMeasurement(dy,e.correlationId);const n=this.createTokenQueryParameters(e),r=Sg.appendQueryString(t.tokenEndpoint,n),o=await jb(this.createTokenRequestBody.bind(this),my,this.logger,this.performanceClient,e.correlationId)(e),i=this.createTokenRequestHeaders(e.ccsCredential),s=Gb(this.config.authOptions.clientId,e);return jb(this.executePostToTokenEndpoint.bind(this),ly,this.logger,this.performanceClient,e.correlationId)(r,o,i,s,e.correlationId,ly)}async createTokenRequestBody(e){this.performanceClient?.addQueueMeasurement(my,e.correlationId);const t=new Map;if(xC(t,e.embeddedClientId||e.tokenBodyParameters?.[uC]||this.config.authOptions.clientId),e.redirectUri&&kC(t,e.redirectUri),CC(t,e.scopes,!0,this.config.authOptions.authority.options.OIDCOptions?.defaultScopes),LC(t,bd),DC(t),NC(t,this.config.libraryInfo),PC(t,this.config.telemetry.application),zC(t),this.serverTelemetryManager&&!$g(this.config)&&HC(t,this.serverTelemetryManager),function(e,t){e.set("refresh_token",t)}(t,e.refreshToken),this.config.clientCredentials.clientSecret&&OC(t,this.config.clientCredentials.clientSecret),this.config.clientCredentials.clientAssertion){const n=this.config.clientCredentials.clientAssertion;MC(t,await nx(n.assertion,this.config.authOptions.clientId,e.resourceRequestUri)),jC(t,n.assertionType)}if(e.authenticationScheme===Ld.POP){const n=new JC(this.cryptoUtils,this.performanceClient);let r;if(e.popKid)r=this.cryptoUtils.encodeKid(e.popKid);else{r=(await jb(n.generateCnf.bind(n),zy,this.logger,this.performanceClient,e.correlationId)(e,this.logger)).reqCnfString}FC(t,r)}else if(e.authenticationScheme===Ld.SSH){if(!e.sshJwk)throw ag(Xm);BC(t,e.sshJwk)}if((!cg.isEmptyObj(e.claims)||this.config.authOptions.clientCapabilities&&this.config.authOptions.clientCapabilities.length>0)&&AC(t,e.claims,this.config.authOptions.clientCapabilities),this.config.systemOptions.preventCorsPreflight&&e.ccsCredential)switch(e.ccsCredential.type){case cC:try{IC(t,dg(e.ccsCredential.credential))}catch(n){this.logger.verbose("Could not parse home account ID for CCS Header: "+n)}break;case lC:TC(t,e.ccsCredential.credential)}return e.embeddedClientId&&$C(t,this.config.authOptions.clientId,this.config.authOptions.redirectUri),e.tokenBodyParameters&&UC(t,e.tokenBodyParameters),wC(t,e.correlationId,this.performanceClient),kg(t)}}class Kx extends lx{async acquireToken(e){this.performanceClient.addQueueMeasurement(oy,e.correlationId);const t=await jb(ax,by,this.logger,this.performanceClient,e.correlationId)(e,this.config,this.performanceClient,this.logger),n={...e,...t};e.redirectUri&&(n.redirectUri=this.getRedirectUri(e.redirectUri));const r=this.initializeServerTelemetryManager(Yh),o=await this.createRefreshTokenClient({serverTelemetryManager:r,authorityUrl:n.authority,azureCloudOptions:n.azureCloudOptions,account:n.account});return jb(o.acquireTokenByRefreshToken.bind(o),py,this.logger,this.performanceClient,e.correlationId)(n).catch((e=>{throw e.setCorrelationId(this.correlationId),r.cacheFailedRequest(e),e}))}logout(){return Promise.reject(Pw(Xv))}async createRefreshTokenClient(e){const t=await jb(this.getClientConfiguration.bind(this),Ny,this.logger,this.performanceClient,this.correlationId)({serverTelemetryManager:e.serverTelemetryManager,requestAuthority:e.authorityUrl,requestAzureCloudOptions:e.azureCloudOptions,requestExtraQueryParameters:e.extraQueryParameters,account:e.account});return new $x(t,this.performanceClient)}}class Wx{constructor(e,t,n,r){this.isBrowserEnvironment="undefined"!==typeof window,this.config=e,this.storage=t,this.logger=n,this.cryptoObj=r}async loadExternalTokens(e,t,n){if(!this.isBrowserEnvironment)throw Pw(iw);const r=e.correlationId||eb(),o=t.id_token?ym(t.id_token,Uw):void 0,i={protocolMode:this.config.auth.protocolMode,knownAuthorities:this.config.auth.knownAuthorities,cloudDiscoveryMetadata:this.config.auth.cloudDiscoveryMetadata,authorityMetadata:this.config.auth.authorityMetadata,skipAuthorityMetadataCache:this.config.auth.skipAuthorityMetadataCache},s=e.authority?new Db(Db.generateAuthority(e.authority,e.azureCloudOptions),this.config.system.networkClient,this.storage,i,this.logger,e.correlationId||eb()):void 0,a=await this.loadAccount(e,n.clientInfo||t.client_info||"",r,o,s),c=await this.loadIdToken(t,a.homeAccountId,a.environment,a.realm,r),l=await this.loadAccessToken(e,t,a.homeAccountId,a.environment,a.realm,n,r),u=await this.loadRefreshToken(t,a.homeAccountId,a.environment,r);return this.generateAuthenticationResult(e,{account:a,idToken:c,accessToken:l,refreshToken:u},o,s)}async loadAccount(e,t,n,r,o){if(this.logger.verbose("TokenCache - loading account"),e.account){const t=bg.createFromAccountInfo(e.account);return await this.storage.setAccount(t,n),t}if(!o||!t&&!r)throw this.logger.error("TokenCache - if an account is not provided on the request, authority and either clientInfo or idToken must be provided instead."),Pw(dw);const i=bg.generateHomeAccountId(t,o.authorityType,this.logger,this.cryptoObj,r),s=r?.tid,a=ex(this.storage,o,i,Uw,r,t,o.hostnameAndPort,s,void 0,void 0,this.logger);return await this.storage.setAccount(a,n),a}async loadIdToken(e,t,n,r,o){if(!e.id_token)return this.logger.verbose("TokenCache - no id token found in response"),null;this.logger.verbose("TokenCache - loading id token");const i=Sm(t,n,e.id_token,this.config.auth.clientId,r);return await this.storage.setIdTokenCredential(i,o),i}async loadAccessToken(e,t,n,r,o,i,s){if(!t.access_token)return this.logger.verbose("TokenCache - no access token found in response"),null;if(!t.expires_in)return this.logger.error("TokenCache - no expiration set on the access token. Cannot add it to the cache."),null;if(!t.scope&&(!e.scopes||!e.scopes.length))return this.logger.error("TokenCache - scopes not specified in the request or response. Cannot add token to the cache."),null;this.logger.verbose("TokenCache - loading access token");const a=t.scope?lg.fromString(t.scope):new lg(e.scopes),c=i.expiresOn||t.expires_in+wm(),l=i.extendedExpiresOn||(t.ext_expires_in||t.expires_in)+wm(),u=Tm(n,r,t.access_token,this.config.auth.clientId,o,a.printScopes(),c,l,Uw);return await this.storage.setAccessTokenCredential(u,s),u}async loadRefreshToken(e,t,n,r){if(!e.refresh_token)return this.logger.verbose("TokenCache - no refresh token found in response"),null;this.logger.verbose("TokenCache - loading refresh token");const o=Im(t,n,e.refresh_token,this.config.auth.clientId,e.foci,void 0,e.refresh_token_expires_in);return await this.storage.setRefreshTokenCredential(o,r),o}generateAuthenticationResult(e,t,n,r){let o,i="",s=[],a=null;t?.accessToken&&(i=t.accessToken.secret,s=lg.fromString(t.accessToken.target).asArray(),a=Cm(t.accessToken.expiresOn),o=Cm(t.accessToken.extendedExpiresOn));const c=t.account;return{authority:r?r.canonicalAuthority:"",uniqueId:t.account.localAccountId,tenantId:t.account.realm,scopes:s,account:c.getAccountInfo(),idToken:t.idToken?.secret||"",idTokenClaims:n||{},accessToken:i,fromCache:!0,expiresOn:a,correlationId:e.correlationId||"",requestId:"",extExpiresOn:o,familyId:t.refreshToken?.familyId||"",tokenType:t?.accessToken?.tokenType||"",state:e.state||"",cloudGraphHostName:c.cloudGraphHostName||"",msGraphHost:c.msGraphHost||"",fromNativeBroker:!1}}}class Qx extends rx{constructor(e){super(e),this.includeRedirectUri=!1}}class Vx extends lx{constructor(e,t,n,r,o,i,s,a,c,l){super(e,t,n,r,o,i,a,c,l),this.apiId=s}async acquireToken(e){if(!e.code)throw Pw(fw);const t=await jb(this.initializeAuthorizationRequest.bind(this),Py,this.logger,this.performanceClient,e.correlationId)(e,Zh.Silent),n=this.initializeServerTelemetryManager(this.apiId);try{const r={...t,code:e.code},o=await jb(this.getClientConfiguration.bind(this),Ny,this.logger,this.performanceClient,e.correlationId)({serverTelemetryManager:n,requestAuthority:t.authority,requestAzureCloudOptions:t.azureCloudOptions,requestExtraQueryParameters:t.extraQueryParameters,account:t.account}),i=new Qx(o);this.logger.verbose("Auth code client created");const s=new Cx(i,this.browserStorage,r,this.logger,this.performanceClient);return await jb(s.handleCodeResponseFromServer.bind(s),My,this.logger,this.performanceClient,e.correlationId)({code:e.code,msgraph_host:e.msGraphHost,cloud_graph_host_name:e.cloudGraphHostName,cloud_instance_host_name:e.cloudInstanceHostName},t,!1)}catch(r){throw r instanceof sh&&(r.setCorrelationId(this.correlationId),n.cacheFailedRequest(r)),r}}logout(){return Promise.reject(Pw(Xv))}}function Gx(e){const t=e?.idTokenClaims;return t?.tfp||t?.acr?"B2C":t?.tid?"9188040d-6c67-4c5b-b112-36a304b66dad"===t?.tid?"MSA":"AAD":void 0}function Yx(e,t){try{gb(e)}catch(n){throw t.end({success:!1},n),n}}class Jx{constructor(e){var t,n,r,o;this.operatingContext=e,this.isBrowserEnvironment=this.operatingContext.isBrowserEnvironment(),this.config=e.getConfig(),this.initialized=!1,this.logger=this.operatingContext.getLogger(),this.networkClient=this.config.system.networkClient,this.navigationClient=this.config.system.navigationClient,this.redirectResponse=new Map,this.hybridAuthCodeResponses=new Map,this.performanceClient=this.config.telemetry.client,this.browserCrypto=this.isBrowserEnvironment?new Rb(this.logger,this.performanceClient):pm,this.eventHandler=new aC(this.logger),this.browserStorage=this.isBrowserEnvironment?new iC(this.config.auth.clientId,this.config.cache,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler,function(e){const t=e.cloudDiscoveryMetadata;let n;if(t)try{n=JSON.parse(t)}catch(r){throw ag(Gm)}return{canonicalAuthority:e.authority?qb(e.authority):void 0,knownAuthorities:e.knownAuthorities,cloudDiscoveryMetadata:n}}(this.config.auth)):(t=this.config.auth.clientId,n=this.logger,r=this.performanceClient,o=this.eventHandler,new iC(t,{cacheLocation:Nh,temporaryCacheLocation:Nh,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1},pm,n,r,o));const i={cacheLocation:Nh,temporaryCacheLocation:Nh,storeAuthStateInCookie:!1,secureCookies:!1,cacheMigrationEnabled:!1,claimsBasedCachingEnabled:!1};this.nativeInternalStorage=new iC(this.config.auth.clientId,i,this.browserCrypto,this.logger,this.performanceClient,this.eventHandler),this.tokenCache=new Wx(this.config,this.browserStorage,this.logger,this.browserCrypto),this.activeSilentTokenRequests=new Map,this.trackPageVisibility=this.trackPageVisibility.bind(this),this.trackPageVisibilityWithMeasurement=this.trackPageVisibilityWithMeasurement.bind(this)}static async createController(e,t){const n=new Jx(e);return await n.initialize(t),n}trackPageVisibility(e){e&&(this.logger.info("Perf: Visibility change detected"),this.performanceClient.incrementFields({visibilityChangeCount:1},e))}async initialize(e,t){if(this.logger.trace("initialize called"),this.initialized)return void this.logger.info("initialize has already been called, exiting early.");if(!this.isBrowserEnvironment)return this.logger.info("in non-browser environment, exiting early."),this.initialized=!0,void this.eventHandler.emitEvent(Sf);const n=e?.correlationId||this.getRequestCorrelationId(),r=this.config.system.allowPlatformBroker,o=this.performanceClient.startMeasurement(xy,n);if(this.eventHandler.emitEvent(kf),!t)try{this.logMultipleInstances(o)}catch{}if(await jb(this.browserStorage.initialize.bind(this.browserStorage),ky,this.logger,this.performanceClient,n)(n),r)try{this.nativeExtensionProvider=await mx.createProvider(this.logger,this.config.system.nativeBrokerHandshakeTimeout,this.performanceClient)}catch(i){this.logger.verbose(i)}this.config.cache.claimsBasedCachingEnabled||(this.logger.verbose("Claims-based caching is disabled. Clearing the previous cache with claims"),await jb(this.browserStorage.clearTokensAndKeysWithClaims.bind(this.browserStorage),cv,this.logger,this.performanceClient,n)(this.performanceClient,n)),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(n),this.initialized=!0,this.eventHandler.emitEvent(Sf),o.end({allowPlatformBroker:r,success:!0})}async handleRedirectPromise(e){if(this.logger.verbose("handleRedirectPromise called"),mb(this.initialized),this.isBrowserEnvironment){const t=e||"";let n=this.redirectResponse.get(t);return"undefined"===typeof n?(n=this.handleRedirectPromiseInternal(e),this.redirectResponse.set(t,n),this.logger.verbose("handleRedirectPromise has been called for the first time, storing the promise")):this.logger.verbose("handleRedirectPromise has been called previously, returning the result from the first call"),n}return this.logger.verbose("handleRedirectPromise returns null, not browser environment"),null}async handleRedirectPromiseInternal(e){if(!this.browserStorage.isInteractionInProgress(!0))return this.logger.info("handleRedirectPromise called but there is no interaction in progress, returning null."),null;const t=this.browserStorage.getInteractionInProgress()?.type;if(t===Mh)return this.logger.verbose("handleRedirectPromise removing interaction_in_progress flag and returning null after sign-out"),this.browserStorage.setInteractionInProgress(!1),Promise.resolve(null);const n=this.getAllAccounts(),r=this.browserStorage.getCachedNativeRequest(),o=r&&mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider)&&this.nativeExtensionProvider&&!e;let i,s;this.eventHandler.emitEvent(Bf,Zh.Redirect);try{if(o&&this.nativeExtensionProvider){i=this.performanceClient.startMeasurement(Xg,r?.correlationId||""),this.logger.trace("handleRedirectPromise - acquiring token from native platform");const e=new Sx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Vh,this.performanceClient,this.nativeExtensionProvider,r.accountId,this.nativeInternalStorage,r.correlationId);s=jb(e.handleRedirectPromise.bind(e),iv,this.logger,this.performanceClient,i.event.correlationId)(this.performanceClient,i.event.correlationId)}else{const[t,n]=this.browserStorage.getCachedRequest(),r=t.correlationId;i=this.performanceClient.startMeasurement(Xg,r),this.logger.trace("handleRedirectPromise - acquiring token from web flow");const o=this.createRedirectClient(r);s=jb(o.handleRedirectPromise.bind(o),ov,this.logger,this.performanceClient,i.event.correlationId)(e,t,n,i)}}catch(a){throw this.browserStorage.resetRequestCache(),a}return s.then((e=>{if(e){this.browserStorage.resetRequestCache();n.length<this.getAllAccounts().length?(this.eventHandler.emitEvent(_f,Zh.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, login success")):(this.eventHandler.emitEvent(Rf,Zh.Redirect,e),this.logger.verbose("handleRedirectResponse returned result, acquire token success")),i.end({success:!0,accountType:Gx(e.account)})}else i.event.errorCode?i.end({success:!1}):i.discard();return this.eventHandler.emitEvent(Hf,Zh.Redirect),e})).catch((e=>{this.browserStorage.resetRequestCache();const t=e;throw n.length>0?this.eventHandler.emitEvent(Of,Zh.Redirect,null,t):this.eventHandler.emitEvent(Nf,Zh.Redirect,null,t),this.eventHandler.emitEvent(Hf,Zh.Redirect),i.end({success:!1},t),e}))}async acquireTokenRedirect(e){const t=this.getRequestCorrelationId(e);this.logger.verbose("acquireTokenRedirect called",t);const n=this.performanceClient.startMeasurement(Jg,t);n.add({accountType:Gx(e.account),scenarioId:e.scenarioId});const r=e.onRedirectNavigate;if(r)e.onRedirectNavigate=e=>{const t="function"===typeof r?r(e):void 0;return!1!==t?n.end({success:!0}):n.discard(),t};else{const e=this.config.auth.onRedirectNavigate;this.config.auth.onRedirectNavigate=t=>{const r="function"===typeof e?e(t):void 0;return!1!==r?n.end({success:!0}):n.discard(),r}}const o=this.getAllAccounts().length>0;try{let r;if(yb(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Oh),o?this.eventHandler.emitEvent(Pf,Zh.Redirect,e):this.eventHandler.emitEvent(Af,Zh.Redirect,e),this.nativeExtensionProvider&&this.canUsePlatformBroker(e)){r=new Sx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Kh,this.performanceClient,this.nativeExtensionProvider,this.getNativeAccountId(e),this.nativeInternalStorage,t).acquireTokenRedirect(e,n).catch((n=>{if(n instanceof hx&&fx(n)){this.nativeExtensionProvider=void 0;return this.createRedirectClient(t).acquireToken(e)}if(n instanceof Wb){this.logger.verbose("acquireTokenRedirect - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createRedirectClient(t).acquireToken(e)}throw n}))}else{r=this.createRedirectClient(t).acquireToken(e)}return await r}catch(i){throw this.browserStorage.resetRequestCache(),n.end({success:!1},i),o?this.eventHandler.emitEvent(Of,Zh.Redirect,null,i):this.eventHandler.emitEvent(Nf,Zh.Redirect,null,i),i}}acquireTokenPopup(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Yg,t);n.add({scenarioId:e.scenarioId,accountType:Gx(e.account)});try{this.logger.verbose("acquireTokenPopup called",t),Yx(this.initialized,n),this.browserStorage.setInteractionInProgress(!0,Oh)}catch(s){return Promise.reject(s)}const r=this.getAllAccounts();let o;r.length>0?this.eventHandler.emitEvent(Pf,Zh.Popup,e):this.eventHandler.emitEvent(Af,Zh.Popup,e);const i=this.getPreGeneratedPkceCodes(t);if(this.canUsePlatformBroker(e))o=this.acquireTokenNative({...e,correlationId:t},Wh).then((e=>(n.end({success:!0,isNativeBroker:!0,accountType:Gx(e.account)}),e))).catch((n=>{if(n instanceof hx&&fx(n)){this.nativeExtensionProvider=void 0;return this.createPopupClient(t).acquireToken(e,i)}if(n instanceof Wb){this.logger.verbose("acquireTokenPopup - Resolving interaction required error thrown by native broker by falling back to web flow");return this.createPopupClient(t).acquireToken(e,i)}throw n}));else{o=this.createPopupClient(t).acquireToken(e,i)}return o.then((e=>(r.length<this.getAllAccounts().length?this.eventHandler.emitEvent(_f,Zh.Popup,e):this.eventHandler.emitEvent(Rf,Zh.Popup,e),n.end({success:!0,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Gx(e.account)}),e))).catch((e=>(r.length>0?this.eventHandler.emitEvent(Of,Zh.Popup,null,e):this.eventHandler.emitEvent(Nf,Zh.Popup,null,e),n.end({success:!1},e),Promise.reject(e)))).finally((async()=>{this.browserStorage.setInteractionInProgress(!1),this.config.system.asyncPopups&&await this.preGeneratePkceCodes(t)}))}trackPageVisibilityWithMeasurement(){const e=this.ssoSilentMeasurement||this.acquireTokenByCodeAsyncMeasurement;e&&(this.logger.info("Perf: Visibility change detected in ",e.event.name),e.increment({visibilityChangeCount:1}))}async ssoSilent(e){const t=this.getRequestCorrelationId(e),n={...e,prompt:e.prompt,correlationId:t};let r;if(this.ssoSilentMeasurement=this.performanceClient.startMeasurement(iy,t),this.ssoSilentMeasurement?.add({scenarioId:e.scenarioId,accountType:Gx(e.account)}),Yx(this.initialized,this.ssoSilentMeasurement),this.ssoSilentMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement),this.logger.verbose("ssoSilent called",t),this.eventHandler.emitEvent(jf,Zh.Silent,n),this.canUsePlatformBroker(n))r=this.acquireTokenNative(n,Qh).catch((e=>{if(e instanceof hx&&fx(e)){this.nativeExtensionProvider=void 0;return this.createSilentIframeClient(n.correlationId).acquireToken(n)}throw e}));else{r=this.createSilentIframeClient(n.correlationId).acquireToken(n)}return r.then((e=>(this.eventHandler.emitEvent(Lf,Zh.Silent,e),this.ssoSilentMeasurement?.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Gx(e.account)}),e))).catch((e=>{throw this.eventHandler.emitEvent(Df,Zh.Silent,null,e),this.ssoSilentMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenByCode(e){const t=this.getRequestCorrelationId(e);this.logger.trace("acquireTokenByCode called",t);const n=this.performanceClient.startMeasurement(Wg,t);Yx(this.initialized,n),this.eventHandler.emitEvent(qf,Zh.Silent,e),n.add({scenarioId:e.scenarioId});try{if(e.code&&e.nativeAccountId)throw Pw(mw);if(e.code){const r=e.code;let o=this.hybridAuthCodeResponses.get(r);return o?(this.logger.verbose("Existing acquireTokenByCode request found",t),n.discard()):(this.logger.verbose("Initiating new acquireTokenByCode request",t),o=this.acquireTokenByCodeAsync({...e,correlationId:t}).then((e=>(this.eventHandler.emitEvent(Uf,Zh.Silent,e),this.hybridAuthCodeResponses.delete(r),n.end({success:!0,isNativeBroker:e.fromNativeBroker,accessTokenSize:e.accessToken.length,idTokenSize:e.idToken.length,accountType:Gx(e.account)}),e))).catch((e=>{throw this.hybridAuthCodeResponses.delete(r),this.eventHandler.emitEvent(Ff,Zh.Silent,null,e),n.end({success:!1},e),e})),this.hybridAuthCodeResponses.set(r,o)),await o}if(e.nativeAccountId){if(this.canUsePlatformBroker(e,e.nativeAccountId)){const r=await this.acquireTokenNative({...e,correlationId:t},Gh,e.nativeAccountId).catch((e=>{throw e instanceof hx&&fx(e)&&(this.nativeExtensionProvider=void 0),e}));return n.end({accountType:Gx(r.account),success:!0}),r}throw Pw(yw)}throw Pw(pw)}catch(r){throw this.eventHandler.emitEvent(Ff,Zh.Silent,null,r),n.end({success:!1},r),r}}async acquireTokenByCodeAsync(e){this.logger.trace("acquireTokenByCodeAsync called",e.correlationId),this.acquireTokenByCodeAsyncMeasurement=this.performanceClient.startMeasurement(rv,e.correlationId),this.acquireTokenByCodeAsyncMeasurement?.increment({visibilityChangeCount:0}),document.addEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement);const t=this.createSilentAuthCodeClient(e.correlationId);return await t.acquireToken(e).then((e=>(this.acquireTokenByCodeAsyncMeasurement?.end({success:!0,fromCache:e.fromCache,isNativeBroker:e.fromNativeBroker}),e))).catch((e=>{throw this.acquireTokenByCodeAsyncMeasurement?.end({success:!1},e),e})).finally((()=>{document.removeEventListener("visibilitychange",this.trackPageVisibilityWithMeasurement)}))}async acquireTokenFromCache(e,t){switch(this.performanceClient.addQueueMeasurement(gy,e.correlationId),t){case hf:case ff:case pf:const t=this.createSilentCacheClient(e.correlationId);return jb(t.acquireToken.bind(t),ty,this.logger,this.performanceClient,e.correlationId)(e);default:throw fm(Zp)}}async acquireTokenByRefreshToken(e,t){switch(this.performanceClient.addQueueMeasurement(Qg,e.correlationId),t){case hf:case pf:case mf:case gf:const t=this.createSilentRefreshClient(e.correlationId);return jb(t.acquireToken.bind(t),oy,this.logger,this.performanceClient,e.correlationId)(e);default:throw fm(Zp)}}async acquireTokenBySilentIframe(e){this.performanceClient.addQueueMeasurement(wy,e.correlationId);const t=this.createSilentIframeClient(e.correlationId);return jb(t.acquireToken.bind(t),ny,this.logger,this.performanceClient,e.correlationId)(e)}async logout(e){const t=this.getRequestCorrelationId(e);return this.logger.warning("logout API is deprecated and will be removed in msal-browser v3.0.0. Use logoutRedirect instead.",t),this.logoutRedirect({correlationId:t,...e})}async logoutRedirect(e){const t=this.getRequestCorrelationId(e);yb(this.initialized,this.config),this.browserStorage.setInteractionInProgress(!0,Mh);return this.createRedirectClient(t).logout(e)}logoutPopup(e){try{const t=this.getRequestCorrelationId(e);gb(this.initialized),this.browserStorage.setInteractionInProgress(!0,Mh);return this.createPopupClient(t).logout(e).finally((()=>{this.browserStorage.setInteractionInProgress(!1)}))}catch(t){return Promise.reject(t)}}async clearCache(e){if(!this.isBrowserEnvironment)return void this.logger.info("in non-browser environment, returning early.");const t=this.getRequestCorrelationId(e);return this.createSilentCacheClient(t).logout(e)}getAllAccounts(e){return function(e,t,n,r){return e.verbose("getAllAccounts called"),n?t.getAllAccounts(r):[]}(this.logger,this.browserStorage,this.isBrowserEnvironment,e)}getAccount(e){return function(e,t,n){if(t.trace("getAccount called"),0===Object.keys(e).length)return t.warning("getAccount: No accountFilter provided"),null;const r=n.getAccountInfoFilteredBy(e);return r?(t.verbose("getAccount: Account matching provided filter found, returning"),r):(t.verbose("getAccount: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByUsername(e){return function(e,t,n){if(t.trace("getAccountByUsername called"),!e)return t.warning("getAccountByUsername: No username provided"),null;const r=n.getAccountInfoFilteredBy({username:e});return r?(t.verbose("getAccountByUsername: Account matching username found, returning"),t.verbosePii(`getAccountByUsername: Returning signed-in accounts matching username: ${e}`),r):(t.verbose("getAccountByUsername: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByHomeId(e){return function(e,t,n){if(t.trace("getAccountByHomeId called"),!e)return t.warning("getAccountByHomeId: No homeAccountId provided"),null;const r=n.getAccountInfoFilteredBy({homeAccountId:e});return r?(t.verbose("getAccountByHomeId: Account matching homeAccountId found, returning"),t.verbosePii(`getAccountByHomeId: Returning signed-in accounts matching homeAccountId: ${e}`),r):(t.verbose("getAccountByHomeId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}getAccountByLocalId(e){return function(e,t,n){if(t.trace("getAccountByLocalId called"),!e)return t.warning("getAccountByLocalId: No localAccountId provided"),null;const r=n.getAccountInfoFilteredBy({localAccountId:e});return r?(t.verbose("getAccountByLocalId: Account matching localAccountId found, returning"),t.verbosePii(`getAccountByLocalId: Returning signed-in accounts matching localAccountId: ${e}`),r):(t.verbose("getAccountByLocalId: No matching account found, returning null"),null)}(e,this.logger,this.browserStorage)}setActiveAccount(e){!function(e,t){t.setActiveAccount(e)}(e,this.browserStorage)}getActiveAccount(){return this.browserStorage.getActiveAccount()}async hydrateCache(e,t){this.logger.verbose("hydrateCache called");const n=bg.createFromAccountInfo(e.account,e.cloudGraphHostName,e.msGraphHost);return await this.browserStorage.setAccount(n,e.correlationId),e.fromNativeBroker?(this.logger.verbose("Response was from native broker, storing in-memory"),this.nativeInternalStorage.hydrateCache(e,t)):this.browserStorage.hydrateCache(e,t)}async acquireTokenNative(e,t,n,r){if(this.logger.trace("acquireTokenNative called"),!this.nativeExtensionProvider)throw Pw(bw);return new Sx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,t,this.performanceClient,this.nativeExtensionProvider,n||this.getNativeAccountId(e),this.nativeInternalStorage,e.correlationId).acquireToken(e,r)}canUsePlatformBroker(e,t){if(this.logger.trace("canUsePlatformBroker called"),!mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme))return this.logger.trace("canUsePlatformBroker: isPlatformBrokerAvailable returned false, returning false"),!1;if(e.prompt)switch(e.prompt){case hd.NONE:case hd.CONSENT:case hd.LOGIN:this.logger.trace("canUsePlatformBroker: prompt is compatible with platform broker flow");break;default:return this.logger.trace(`canUsePlatformBroker: prompt = ${e.prompt} is not compatible with platform broker flow, returning false`),!1}return!(!t&&!this.getNativeAccountId(e))||(this.logger.trace("canUsePlatformBroker: nativeAccountId is not available, returning false"),!1)}getNativeAccountId(e){const t=e.account||this.getAccount({loginHint:e.loginHint,sid:e.sid})||this.getActiveAccount();return t&&t.nativeAccountId||""}createPopupClient(e){return new Mx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createRedirectClient(e){return new jx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentIframeClient(e){return new zx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Qh,this.performanceClient,this.nativeInternalStorage,this.nativeExtensionProvider,e)}createSilentCacheClient(e){return new kx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentRefreshClient(e){return new Kx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,this.performanceClient,this.nativeExtensionProvider,e)}createSilentAuthCodeClient(e){return new Vx(this.config,this.browserStorage,this.browserCrypto,this.logger,this.eventHandler,this.navigationClient,Gh,this.performanceClient,this.nativeExtensionProvider,e)}addEventCallback(e,t){return this.eventHandler.addEventCallback(e,t)}removeEventCallback(e){this.eventHandler.removeEventCallback(e)}addPerformanceCallback(e){return pb(),this.performanceClient.addPerformanceCallback(e)}removePerformanceCallback(e){return this.performanceClient.removePerformanceCallback(e)}enableAccountStorageEvents(){this.config.cache.cacheLocation===Ah?this.eventHandler.subscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}disableAccountStorageEvents(){this.config.cache.cacheLocation===Ah?this.eventHandler.unsubscribeCrossTab():this.logger.info("Account storage events are only available when cacheLocation is set to localStorage")}getTokenCache(){return this.tokenCache}getLogger(){return this.logger}setLogger(e){this.logger=e}initializeWrapperLibrary(e,t){this.browserStorage.setWrapperMetadata(e,t)}setNavigationClient(e){this.navigationClient=e}getConfiguration(){return this.config}getPerformanceClient(){return this.performanceClient}isBrowserEnv(){return this.isBrowserEnvironment}getRequestCorrelationId(e){return e?.correlationId?e.correlationId:this.isBrowserEnvironment?eb():Qu.EMPTY_STRING}async loginRedirect(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginRedirect called",t),this.acquireTokenRedirect({correlationId:t,...e||cf})}loginPopup(e){const t=this.getRequestCorrelationId(e);return this.logger.verbose("loginPopup called",t),this.acquireTokenPopup({correlationId:t,...e||cf})}async acquireTokenSilent(e){const t=this.getRequestCorrelationId(e),n=this.performanceClient.startMeasurement(Vg,t);n.add({cacheLookupPolicy:e.cacheLookupPolicy,scenarioId:e.scenarioId}),Yx(this.initialized,n),this.logger.verbose("acquireTokenSilent called",t);const r=e.account||this.getActiveAccount();if(!r)throw Pw(Zv);return n.add({accountType:Gx(r)}),this.acquireTokenSilentDeduped(e,r,t).then((r=>(n.end({success:!0,fromCache:r.fromCache,isNativeBroker:r.fromNativeBroker,accessTokenSize:r.accessToken.length,idTokenSize:r.idToken.length}),{...r,state:e.state,correlationId:t}))).catch((e=>{throw e instanceof sh&&e.setCorrelationId(t),n.end({success:!1},e),e}))}async acquireTokenSilentDeduped(e,t,n){const r=Gb(this.config.auth.clientId,{...e,authority:e.authority||this.config.auth.authority,correlationId:n},t.homeAccountId),o=JSON.stringify(r),i=this.activeSilentTokenRequests.get(o);if("undefined"===typeof i){this.logger.verbose("acquireTokenSilent called for the first time, storing active request",n),this.performanceClient.addFields({deduped:!1},n);const r=jb(this.acquireTokenSilentAsync.bind(this),Gg,this.logger,this.performanceClient,n)({...e,correlationId:n},t);return this.activeSilentTokenRequests.set(o,r),r.finally((()=>{this.activeSilentTokenRequests.delete(o)}))}return this.logger.verbose("acquireTokenSilent has been called previously, returning the result from the first call",n),this.performanceClient.addFields({deduped:!0},n),i}async acquireTokenSilentAsync(e,t){const n=()=>this.trackPageVisibility(e.correlationId);this.performanceClient.addQueueMeasurement(Gg,e.correlationId),this.eventHandler.emitEvent(Pf,Zh.Silent,e),e.correlationId&&this.performanceClient.incrementFields({visibilityChangeCount:0},e.correlationId),document.addEventListener("visibilitychange",n);const r=await jb(cx,Cy,this.logger,this.performanceClient,e.correlationId)(e,t,this.config,this.performanceClient,this.logger),o=e.cacheLookupPolicy||hf;return this.acquireTokenSilentNoIframe(r,o).catch((async e=>{const t=function(e,t){const n=!(e instanceof Wb&&e.subError!==Hb),r=e.errorCode===mh||e.errorCode===Zp,o=n&&r||e.errorCode===Ub||e.errorCode===Bb,i=vf.includes(t);return o&&i}(e,o);if(t){if(this.activeIframeRequest){if(o!==yf){const[t,n]=this.activeIframeRequest;this.logger.verbose(`Iframe request is already in progress, awaiting resolution for request with correlationId: ${n}`,r.correlationId);const i=this.performanceClient.startMeasurement(ry,r.correlationId);i.add({awaitIframeCorrelationId:n});const s=await t;if(i.end({success:s}),s)return this.logger.verbose(`Parallel iframe request with correlationId: ${n} succeeded. Retrying cache and/or RT redemption`,r.correlationId),this.acquireTokenSilentNoIframe(r,o);throw this.logger.info(`Iframe request with correlationId: ${n} failed. Interaction is required.`),e}return this.logger.warning("Another iframe request is currently in progress and CacheLookupPolicy is set to Skip. This may result in degraded performance and/or reliability for both calls. Please consider changing the CacheLookupPolicy to take advantage of request queuing and token cache.",r.correlationId),jb(this.acquireTokenBySilentIframe.bind(this),wy,this.logger,this.performanceClient,r.correlationId)(r)}{let e;return this.activeIframeRequest=[new Promise((t=>{e=t})),r.correlationId],this.logger.verbose("Refresh token expired/invalid or CacheLookupPolicy is set to Skip, attempting acquire token by iframe.",r.correlationId),jb(this.acquireTokenBySilentIframe.bind(this),wy,this.logger,this.performanceClient,r.correlationId)(r).then((t=>(e(!0),t))).catch((t=>{throw e(!1),t})).finally((()=>{this.activeIframeRequest=void 0}))}}throw e})).then((t=>(this.eventHandler.emitEvent(Rf,Zh.Silent,t),e.correlationId&&this.performanceClient.addFields({fromCache:t.fromCache,isNativeBroker:t.fromNativeBroker},e.correlationId),t))).catch((e=>{throw this.eventHandler.emitEvent(Of,Zh.Silent,null,e),e})).finally((()=>{document.removeEventListener("visibilitychange",n)}))}async acquireTokenSilentNoIframe(e,t){return mx.isPlatformBrokerAvailable(this.config,this.logger,this.nativeExtensionProvider,e.authenticationScheme)&&e.account.nativeAccountId?(this.logger.verbose("acquireTokenSilent - attempting to acquire token from native platform"),this.acquireTokenNative(e,Yh,e.account.nativeAccountId,t).catch((async e=>{if(e instanceof hx&&fx(e))throw this.logger.verbose("acquireTokenSilent - native platform unavailable, falling back to web flow"),this.nativeExtensionProvider=void 0,fm(Zp);throw e}))):(this.logger.verbose("acquireTokenSilent - attempting to acquire token from web flow"),t===ff&&this.logger.verbose("acquireTokenSilent - cache lookup policy set to AccessToken, attempting to acquire token from local cache"),jb(this.acquireTokenFromCache.bind(this),gy,this.logger,this.performanceClient,e.correlationId)(e,t).catch((n=>{if(t===ff)throw n;return this.eventHandler.emitEvent(Mf,Zh.Silent,e),jb(this.acquireTokenByRefreshToken.bind(this),Qg,this.logger,this.performanceClient,e.correlationId)(e,t)})))}async preGeneratePkceCodes(e){return this.logger.verbose("Generating new PKCE codes"),this.pkceCode=await jb(Px,fv,this.logger,this.performanceClient,e)(this.performanceClient,this.logger,e),Promise.resolve()}getPreGeneratedPkceCodes(e){this.logger.verbose("Attempting to pick up pre-generated PKCE codes");const t=this.pkceCode?{...this.pkceCode}:void 0;return this.pkceCode=void 0,this.logger.verbose((t?"Found":"Did not find")+" pre-generated PKCE codes"),this.performanceClient.addFields({usePreGeneratedPkce:!!t},e),t}logMultipleInstances(e){const t=this.config.auth.clientId;if(!window)return;window.msal=window.msal||{},window.msal.clientIds=window.msal.clientIds||[];window.msal.clientIds.length>0&&this.logger.verbose("There is already an instance of MSAL.js in the window."),window.msal.clientIds.push(t),function(e,t,n){const r=window.msal?.clientIds||[],o=r.length,i=r.filter((t=>t===e)).length;i>1&&n.warning("There is already an instance of MSAL.js in the window with the same client id."),t.add({msalInstanceCount:o,sameClientIdInstanceCount:i})}(t,e,this.logger)}}class Xx{static async createPublicClientApplication(e){const t=await async function(e,t){const n=new xb(e);return await n.initialize(),Jx.createController(n,t)}(e);return new Xx(e,t)}constructor(e,t){this.isBroker=!1,this.controller=t||new Jx(new xb(e))}async initialize(e){return this.controller.initialize(e,this.isBroker)}async acquireTokenPopup(e){return this.controller.acquireTokenPopup(e)}acquireTokenRedirect(e){return this.controller.acquireTokenRedirect(e)}acquireTokenSilent(e){return this.controller.acquireTokenSilent(e)}acquireTokenByCode(e){return this.controller.acquireTokenByCode(e)}addEventCallback(e,t){return this.controller.addEventCallback(e,t)}removeEventCallback(e){return this.controller.removeEventCallback(e)}addPerformanceCallback(e){return this.controller.addPerformanceCallback(e)}removePerformanceCallback(e){return this.controller.removePerformanceCallback(e)}enableAccountStorageEvents(){this.controller.enableAccountStorageEvents()}disableAccountStorageEvents(){this.controller.disableAccountStorageEvents()}getAccount(e){return this.controller.getAccount(e)}getAccountByHomeId(e){return this.controller.getAccountByHomeId(e)}getAccountByLocalId(e){return this.controller.getAccountByLocalId(e)}getAccountByUsername(e){return this.controller.getAccountByUsername(e)}getAllAccounts(e){return this.controller.getAllAccounts(e)}handleRedirectPromise(e){return this.controller.handleRedirectPromise(e)}loginPopup(e){return this.controller.loginPopup(e)}loginRedirect(e){return this.controller.loginRedirect(e)}logout(e){return this.controller.logout(e)}logoutRedirect(e){return this.controller.logoutRedirect(e)}logoutPopup(e){return this.controller.logoutPopup(e)}ssoSilent(e){return this.controller.ssoSilent(e)}getTokenCache(){return this.controller.getTokenCache()}getLogger(){return this.controller.getLogger()}setLogger(e){this.controller.setLogger(e)}setActiveAccount(e){this.controller.setActiveAccount(e)}getActiveAccount(){return this.controller.getActiveAccount()}initializeWrapperLibrary(e,t){return this.controller.initializeWrapperLibrary(e,t)}setNavigationClient(e){this.controller.setNavigationClient(e)}getConfiguration(){return this.controller.getConfiguration()}async hydrateCache(e,t){return this.controller.hydrateCache(e,t)}clearCache(e){return this.controller.clearCache(e)}}window.process=mp(),window.Buffer=window.Buffer||gp.hp;const Zx=new Xx(ap);o.createRoot(document.getElementById("root")).render((0,Ae.jsx)(t.StrictMode,{children:(0,Ae.jsx)(np,{instance:Zx,children:(0,Ae.jsx)(fp,{})})}))})()})();
//# sourceMappingURL=main.e86ccb34.js.map